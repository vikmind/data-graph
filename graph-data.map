{"version":3,"sources":["node_modules/heap/lib/heap.js","node_modules/heap/index.js","node_modules/lodash.debounce/index.js","node_modules/process/browser.js","node_modules/cytoscape/dist/cytoscape.cjs.js","script.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","require","define","amd","__WEBPACK_EXTERNAL_MODULE_140__","__WEBPACK_EXTERNAL_MODULE_141__","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","_typeof","Symbol","iterator","obj","constructor","window","navigator","document","typeofstr","typeofobj","typeoffn","typeofhtmlele","HTMLElement","instanceStr","instanceString","is","fn","defined","string","array","Array","isArray","plainObject","number","isNaN","integer","Math","floor","bool","htmlElement","undefined","elementOrCollection","element","collection","_private","single","core","style","stylesheet","event","thread","fabric","emptyString","match","nonemptyString","domElement","boundingBox","x1","x2","y1","y2","promise","then","touch","DocumentTouch","gecko","InstallTrigger","documentElement","webkit","webkitURL","chromium","chrome","khtml","vendor","khtmlEtc","ms","userAgent","windows","appVersion","mac","linux","unix","math","util","MAX_INT","Number","MAX_SAFE_INTEGER","trueify","falsify","zeroify","noop","error","msg","console","apply","arguments","trace","log","clone","extend","copy","slice","copyArray","arr","clonePosition","pos","x","y","uuid","a","b","random","toString","makeBoundingBox","bind","_staticEmptyObject","staticEmptyObject","assign","tgt","args","length","keys","j","k","default","val","def","removeFromArray","ele","manyCopies","splice","clearArray","push","otherArr","el","getPrefixedProperty","propName","prefix","prependCamel","setPrefixedProperty","memoize","forEach","req","arePositionsSame","p1","p2","copyPosition","modelToRenderedPosition","zoom","pan","renderedToModelPosition","array2point","deg2rad","deg","PI","getAngleFromDisp","dispX","dispY","atan2","log2","signum","dist","sqrt","sqdist","dx","dy","qbezierAt","p0","t","qbezierPtAt","lineAt","vec","vecDist","normVec","lineAtDist","triangleAngle","A","B","C","acos","bound","min","max","bb","Infinity","w","h","updateBoundingBox","bb1","bb2","expandBoundingBoxByPoint","expandBoundingBox","padding","boundingBoxesIntersect","inBoundingBox","pointInBoundingBox","pt","boundingBoxInBoundingBox","roundRectangleIntersectLine","nodeX","nodeY","width","height","cornerRadius","getRoundRectangleRadius","halfWidth","halfHeight","straightLineIntersections","topStartX","topStartY","topEndX","topEndY","finiteLinesIntersect","rightStartX","rightStartY","rightEndX","rightEndY","bottomStartX","bottomStartY","bottomEndX","bottomEndY","leftStartX","leftStartY","leftEndX","leftEndY","arcIntersections","topLeftCenterX","topLeftCenterY","intersectLineCircle","topRightCenterX","topRightCenterY","bottomRightCenterX","bottomRightCenterY","bottomLeftCenterX","bottomLeftCenterY","inLineVicinity","lx1","ly1","lx2","ly2","tolerance","inBezierVicinity","x3","y3","solveQuadratic","r","sqrtR","denom","root1","root2","solveCubic","result","discriminant","q","dum1","term1","r13","pow","cos","sqdistToQuadraticBezier","roots","zeroThreshold","params","index","abs","minDistanceSquared","curX","curY","distSquared","sqdistToFiniteLine","offset","line","lineSq","hypSq","dotProduct","adjSq","pointInsidePolygonPoints","points","up","pointInsidePolygon","basePoints","centerX","centerY","direction","transformedPoints","angle","atan","sin","expandedLineSet","expandPolygon","joinLines","lineSet","vertices","currentLineStartX","currentLineStartY","currentLineEndX","currentLineEndY","nextLineStartX","nextLineStartY","nextLineEndX","nextLineEndY","intersection","pad","currentPointX","currentPointY","nextPointX","nextPointY","offsetX","offsetY","offsetLength","normalizedOffsetX","normalizedOffsetY","intersectLineEllipse","ellipseWradius","ellipseHradius","len","newLength","lenProportion","checkInEllipse","radius","f","t1","t2","tMin","tMax","inRangeParams","nearIntersectionX","nearIntersectionY","farIntersectionX","farIntersectionY","findCircleNearPoint","farX","farY","displacementX","displacementY","distance","unitDisplacementX","unitDisplacementY","findMaxSqDistanceToOrigin","maxSqDistance","sqDistance","midOfThree","x4","y4","infiniteLines","dx13","dx21","dx43","dy13","dy21","dy43","ua_t","ub_t","u_b","ua","ub","flptThreshold","polygonIntersectLine","intersections","doTransform","currentX","currentY","nextX","nextY","_i","shortenIntersection","amount","disp","lenRatio","generateUnitNgonPointsFitToSquare","sides","rotationRadians","generateUnitNgonPoints","fitPolygonToSquare","minX","minY","maxX","maxY","sx","sy","_i2","_i3","increment","startAngle","currentAngle","getCutRectangleCornerLength","bezierPtsToQuadCoeff","getBarrelCurveConstants","heightOffset","widthOffset","ctrlPtOffsetPct","setImmediate","STATE_PENDING","STATE_FULFILLED","STATE_REJECTED","api","executor","id","state","fulfillValue","rejectReason","onFulfilled","onRejected","proxy","fulfill","reject","deliver","curr","next","resolver","execute","execute_handlers","handlers","func","setTimeout","cb","method","e","resolve","TypeError","resolved","all","ps","resolveAll","rejectAll","vals","doneCount","isPromise","err","Promise","newQuery","Selector","selector","self","selectorText","invalid","group","groupOnly","filter","parse","selfn","valid","text","size","eq","sameText","otherSel","toStringCache","str","clean","cleanVal","space","queryToString","query","sel","subject","substring","data","field","operator","meta","colonSelectors","ids","classes","source","target","connectedNodes","parent","ancestor","child","descendant","Map","Set","Element","idFactory","generate","cy","tryThisId","hasElementWithId","Collection","elements","options","map","createdElements","eles","elesIds","json","has","add","_l","unique","set","restore","elesfn","spawn","opts","spawnSelf","renderer","getElementById","entry","$id","poolIndex","startBatch","position","checkSwitch","trueFnName","falseFnName","obj_k","endBatch","removed","selected","selectable","locked","grabbable","cls","jsons","elesArr","notifyRenderer","cy_p","nodes","edges","isNode","concat","removeFromElements","_ele","clearTraversalCache","isEdge","edge","fields","fieldsLength","badSourceOrTarget","src","addToPool","node","_data","parentId","specifiedParent","empty","selfAsParent","same","children","hasCompoundNodes","restored","_i4","_ele2","parallelEdges","toUpdateStyle","merge","dirtyCompoundBoundsCache","updateStyle","emitAndNotify","emit","inside","remove","elesToRemove","elesToRemoveIds","addConnectedEdges","addChildren","alreadyAdded","unshift","removeEdgeRef","connectedEdges","removeParallelRefs","alteredParents","removeChildRef","pid","removeFromPool","_i5","_ele3","elesStillInside","_i6","_ele4","isParent","removedElements","notify","type","_i7","_ele5","move","struct","srcId","tgtId","srcExists","tgtExists","scratch","parentExists","_jsons","descs","descendants","descsEtcJsons","union","_i8","_json","_ele6","props","_createClass","defineProperties","descriptor","writable","key","Constructor","protoProps","staticProps","_classCallCheck","instance","undef","ObjectSet","arrayOrObjectSet","_obj","create","toArray","_delete","clear","_this","callback","thisArg","Event","eventRegex","universalNamespace","defaults","qualifierCompare","q1","q2","eventMatches","eventFields","callbackContext","context","beforeEmit","afterEmit","bubble","Emitter","listeners","emitting","forEachEvent","handler","events","qualifier","conf","confOverrides","eventList","split","evt","namespace","ret","makeEventObj","forEachEventObj","eventObj","on","addListener","one","removeListener","off","_loop","listener","trigger","extraParams","manualCallback","numListenersBeforeEmit","_loop2","stopPropagation","preventDefault","isPropagationStopped","Core","container","reg","_cyreg","destroy","readies","head","headless","layout","defVal","altVal","_p","ready","aniEles","destroyed","notificationsEnabled","minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autolockNodes","autoungrabify","autoungrabifyNodes","autounselectify","styleEnabled","animation","current","queue","createEmitter","selType","selectionType","loadExtData","extData","anyIsPromise","some","setStyle","initRenderer","hideEdgesOnViewport","textureOnViewport","wheelSensitivity","motionBlur","motionBlurOpacity","pixelRatio","desktopTapThreshold","touchTapThreshold","setElesAndLayout","onload","ondone","notifications","oldEles","mutableElements","layoutOpts","run","thens","initStyle","initEles","append","startAnimationLoop","done","corefn","isReady","isDestroyed","emitter","stopAnimationLoop","destroyRenderer","unmerge","idInJson","updateEles","gr","grs","stdFilter","bindingEvent","allowBinding","allowSetting","settingEvent","settingTriggersEvent","triggerFnName","allowGetting","removeScratch","removeData","triggerEvent","autoWidth","autoHeight","autoPadding","compoundBoundsClean","rstyle","styleCxts","grabbed","active","rscratch","traversalCache","backgrounding","renderedPosition","rpos","css","applyBypass","zIndexSort","getDepth","pstyle","zDepth","depthDiff","getEleDepth","eleDiff","zDiff","recycle","returnFalse","returnTrue","isImmediatePropagationStopped","isDefaultPrevented","defaultPrevented","originalEvent","timeStamp","Date","now","stopImmediatePropagation","fullFpsTime","setupDequeueing","setupDequeueingImpl","dequeueingSetup","queueRedraw","debounce","redrawHint","redraw","deqRedrawThreshold","dequeue","willDraw","frameStartTime","startTime","performanceNow","avgRenderTime","averageRedrawTime","renderTime","lastRedrawTime","deqd","extent","getPixelRatio","duration","frameDuration","timeAvailable","deqFastCost","deqCost","deqAvgCost","deqNoDrawCost","thisDeqd","deq","onDeqd","shouldRedraw","priority","beforeRender","stateSelectors","matches","visible","transparent","animated","isChildless","isChild","isOrphan","isLoop","isSimple","sort","descending","stateSelectorMatches","lookup","selToFn","stateSelectorRegex","join","Style","coreStyle","resetToDefault","styfn","newStyle","addDefaultStylesheet","selectorStr","properties","mappedProperties","prop","mapVal","dash2camel","cssRule","hasPie","mapped","currentSelectorIsCore","appendToStyle","appendFromJson","appendFromString","fromJson","fromString","types","keyFn","memoizedFn","cache","incExts","extensions","setExtension","registrant","ext","overrideErr","Layout","layoutProto","optLayoutFns","fnName","start","regStop","stop","animate","anis","animations","getCy","once","eventAliasesOn","BaseRenderer","getExtension","bProto","RegistrantRenderer","rProto","Renderer","proto","pName","pVal","existsInR","_pName","clientFunctions","setMap","getMap","setModule","moduleType","moduleName","getModule","extension","impl","Stylesheet","sheetfn","_name","_value","generateStyle","Animation","opts2","started","playing","hooked","applying","progress","completes","frames","complete","anifn","hook","tAni","addToAnimationPool","play","stopped","pause","rewind","fastforward","time","wasPlaying","completed","reverse","swap","_pa","startStyleProp","startStyle","aStar","reconstructPath","end","cameFromMap","pathAcum","previous","previousEdge","cameFromEdge","findMin","openSet","fScore","minPos","tempScore","goal","heuristic","weight","weightFn","directed","sid","tid","closedSet","cameFrom","gScore","steps","cMin","cMinId","rPath","found","path","vwEdges","wSrc","wTgt","wid","indexOf","bellmanFord","numNodes","id2position","cost","predecessor","predEdge","flag","sourceIndex","targetIndex","temp","pathTo","distanceTo","hasNegativeWeightCycle","position2id","res","to","toId","reconstructPathAux","fromPos","toPos","acumPath","predPos","Heap","betweennessCentrality","weighted","V","_C","v","vid","outgoers","openNeighborhood","S","P","g","Q","pop","vEle","edgesTo","edgeWeight","updateItem","betweenness","betweennessNormalized","betweennessNormalised","bc","defineSearch","bfs","dfs","searchFn","visit","connectedBy","id2depth","shift","depth","prevEdge","prevNode","not","intersect","connectedEles","breadthFirstSearch","depthFirstSearch","closenessCentralityNormalized","harmonic","closenesses","maxCloseness","fw","floydWarshall","currCloseness","closeness","closenessCentrality","dijkstra","totalDistance","cc","ccn","closenessCentralityNormalised","degreeCentralityNormalized","degrees","maxDegree","currDegree","degreeCentrality","degree","indegrees","outdegrees","maxIndegree","maxOutdegree","indegree","outdegree","callingEles","alpha","connEdges","incoming","outgoing","k_in","k_out","s_in","s_out","dc","dcn","degreeCentralityNormalised","prev","knownDist","getDist","setDist","distBetween","u","uvs","edgesWith","smallestDistance","smallestEdge","smalletsDist","uid","neighbors","neighborhood","vDist","alt","newRow","edgeNext","initMatrix","from","fromId","pathArr","kargerStein","colapse","edgeIndex","nodeMap","remainingEdges","edgeInfo","sourceIn","targetIn","partition1","partition2","newEdges","contractUntil","metaNodeMap","sizeLimit","numEdges","numIter","ceil","LN2","stopSize","edgeIndexes","minCutSize","minCut","originalMetaNode","iter","edgesState","metaNodeMap2","res1","res2","resEdges","witnessNodePartition","partitionId","cut","kruskal","findSet","forest","anySame","weightA","weightB","setU","setV","pageRank","normalizeVector","vector","total","dampingFactor","precision","epsilon","iterations","matrix","columnSum","additionalProb","eigenvector","nullVector","diff","rank","nodeId","clearQueue","delay","delayAnimation","_classes","changed","classesMap","eleClasses","changedEle","eleHasClass","eleCls","specdClass","addClass","toggleClass","hasClass","className","classesStr","toggle","il","_changedEle","_eleClasses","shouldAdd","delete","removeClass","flashClass","allAre","selObj","every","allAreNeighbors","nhood","contains","allAreNeighbours","parents","_parent","nonempty","commonAncestors","ancestors","orphans","nonorphans","siblings","forEachCompound","includeSelf","recursiveStep","did","hasCompounds","forEachDown","addParent","forEachUp","addParentAndChildren","forEachUpAndDown","immutableKeys","removeRscratch","attr","removeAttr","defineDegreeFunction","includeLoops","defineDegreeBoundsFunction","degreeFn","minDegree","minIndegree","minOutdegree","totalDegree","renderedBoundingBox","updateCompoundBounds","batching","updated","update","includeLabels","pfValue","left","right","top","bottom","includeOverlays","useCache","computeBiasValues","propDiff","propBias","propBiasComplement","biasDiff","biasComplementDiff","biasTotal","computePaddingValues","paddingObject","relativeTo","units","leftVal","rightVal","topVal","bottomVal","widthBiasDiffs","diffLeft","diffRight","heightBiasDiffs","diffTop","diffBottom","batchingStyle","noninf","updateBounds","updateBoundsFromBox","b2","prefixedProperty","updateBoundsFromArrow","bounds","halfArW","arrowWidth","arrowType","srcX","srcY","tgtX","tgtY","midX","midY","updateBoundsFromLabel","prefixDash","label","strValue","halign","valign","labelWidth","labelHeight","labelX","labelY","marginX","marginY","rotation","outlineWidth","borderWidth","halfBorderWidth","lh","lw","lw_2","lh_2","isAutorotate","isPfValue","theta","rotate","px1y1","px1y2","px2y1","px2y2","boundingBoxImpl","display","ex1","ex2","ey1","ey2","displayed","overlayOpacity","overlayPadding","wHalf","includeNodes","_w","outerWidth","halfW","outerHeight","halfH","includeEdges","hpts","haystackPts","_temp","pts","bezierPts","linePts","n1","n1pos","n2","n2pos","_temp2","_temp3","ghost","gx","gy","tf","getKey","incudeNodes","cachedBoundingBoxImpl","defBbOpts","defBbOptsKey","bbCache","filledBbOpts","recalculateRenderedStyle","updatedEdge","boundingBoxAt","newPos","bbAtOldPos","_n","_p2","_pos","old","boundingbox","renderedBoundingbox","ifEdge","controlPoints","getControlPoints","segmentPoints","_this2","getSegmentPoints","sourceEndpoint","_this3","getSourceEndpoint","targetEndpoint","_this4","getTargetEndpoint","midpoint","_this5","getEdgeMidpoint","widthHeight","edgePoints","beforePositionSet","oldPos","delta","validKeys","beforeGet","beforeSet","onSet","canSet","silentPosition","positions","silent","_fn","silentPositions","dim","setting","relativePosition","ppos","hasParent","relativeToParent","origin","_hasParent","_relativeToParent","_origin","modelPosition","point","modelPositions","renderedPoint","relativePoint","defineDimFns","uppercaseName","capitalize","autoName","labelName","outerName","uppercaseOuterName","dimImpl","outerDimImpl","border","renderedDimImpl","renderedOuterDimImpl","od","emitterOptions","selector1","selector2","onceCollection","argSelector","arg","_filter","filterEles","include","toRemove","rMap","absoluteComplement","other","col1","col2","col1Smaller","map2","col","xor","$","inOther","both","retEles","toAdd","toAddEle","_index","unmergeOne","unmergedLastEle","lastEleI","lastEle","lastEleId","mapFn","reduce","initialValue","valFn","maxEle","minEle","or","difference","relativeComplement","subtract","and","symmetricDifference","symdiff","fnFilter","filterFn","complement","abscomp","thisSize","first","last","sortFn","sorted","sortByZIndex","srcDepth","tgtDepth","each","layoutDimensions","nodeDimensionsIncludeLabels","bbDim","layoutPositions","layoutEles","getMemoizeKey","fnMem","calculateSpacing","spacing","nodesBb","center","spacingVector","useSpacingFactor","spacingFactor","spacingBb","getFinalPos","transform","animateNode","animateFilter","ani","animationDuration","easing","animationEasing","fit","fitAni","zoomPanAni","makeLayout","createLayout","styleCache","cacheStyleFunction","cachedStyleFunction","cachePrototypeStyleFunction","selfFn","cachedPrototypeStyleFunction","dirtyStyleCache","dirty","bEles","batchStyleEles","updatedEles","changedEles","updateMappers","parsedStyle","getDefaultProperty","numericStyle","numericStyleUnits","renderedStyle","getRenderedStyle","updateTransitions","getStylePropertyValue","getRawStyle","removeStyle","names","removeAllBypasses","removeBypasses","show","hide","effectiveOpacity","parentOpacity","opacity","checkCompound","parentOk","defineDerivedStateFunction","specs","ok","edgeOkViaNode","eleTakesUpSpace","takesUpSpace","eleInteractive","parentInteractive","interactive","noninteractive","eleVisible","edgeVisibleViaNode","hidden","bypass","renderedCss","removeBypass","removeCss","defineSwitchFunction","_handler","able","ableField","overrideAble","changedColl","defineSwitchSet","overrideField","deselect","unselect","inactive","arg1","arg2","arg3","arg4","selectorOrEles","tch","ch","cacheHit","defineDagExtremity","dagExtremityImpl","disqualified","noIncomingEdges","noOutgoingEdges","defineDagOneHop","oEles","defineDagAllHops","sEles","sElesIds","incomers","newNext","nid","leaves","successors","predecessors","otherNode","closedNeighborhood","neighbourhood","closedNeighbourhood","openNeighbourhood","sourceImpl","targetImpl","sources","defineSourceFunction","targets","defineEdgesWithFunction","thisIsSrc","edgesWithImpl","otherNodes","edgeData","thisToOther","otherToThis","edgeConnectsThisAndOther","thisIsTgt","defineParallelEdgesFunction","codirectedEdges","codirected","parallelEdgesImpl","edge1","edge1_p","src1","srcid1","tgtid1","srcEdges1","edge2","edge2data","tgtid2","srcid2","oppdirected","components","visited","unvisited","visitInComponent","component","elesByGroup","_jsons2","elesArray","jl","generateCubicBezier","mX1","mY1","mX2","mY2","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","Float32Array","isFinite","mSampleValues","aA1","aA2","calcBezier","aT","getSlope","newtonRaphsonIterate","aX","aGuessT","currentSlope","calcSampleValues","binarySubdivide","aA","aB","currentT","getTForX","intervalStart","currentSample","lastSample","guessForT","initialSlope","_precomputed","precompute","getEasedValue","percent","easingFn","roundValue","color","round","ease","startProp","endProp","propSpec","easedArr","si","ei","generateSpringRK4","cubicBezier","bezier","easings","linear","spring","tension","friction","stepAll","animationsRunning","headlessStep","requestAnimationFrame","animationStep","rendererAnimationStep","beforeRenderPriorities","springAccelerationForState","springEvaluateStateWithDerivative","initialState","dt","derivative","dv","springIntegrateState","dxdt","dvdt","springRK4Factory","initState","time_lapsed","DT","have_duration","last_state","parseFloat","percentComplete","startAnimation","isCore","isEles","ani_p","startPosition","getAnimationStartStyle","startPan","startZoom","step","doneEles","stepOne","ranAnis","callbacks","_callbacks","ranEleAni","handledThisEle","ranCoreAni","pEasing","easingImpl","easingVals","easingProp","startPos","endPos","endPan","animatingPan","endZoom","animatingZoom","easedVal","overrideBypass","png","jpg","bg","jpeg","batchingNotify","batchNotifyEles","bTypes","batchNotifyTypes","noNotifications","batchCount","batch","batchData","renderTo","pxRatio","forceRender","resize","invalidateSize","RendererProto","domEle","childNodes","removeChild","onRender","offRender","invalidateDimensions","dims","panBy","arg0","viewportState","getFitViewport","bbe","getZoomedViewport","currentPan","currentZoom","bail","level","pan1","zoom1","zoom2","pan2","zoomed","panned","vp","viewport","zoomDefd","panDefd","zoomFailed","panFailed","z","cancelOnFailedZoom","getCenterPan","reset","sizeCache","getComputedStyle","getPropertyValue","clientWidth","clientHeight","rb","renderedExtent","centre","animatedImpl","selfIsArrayLike","clearQueueImpl","delayImpl","delayAnimationImpl","animationImpl","propertiesEmpty","getPropsList","cyPan","centerPan","fitVp","animateImpl","stopImpl","jumpToEnd","_defineProperty","dataImpl","change","_valid","_ret","removeDataImpl","i_a","l_a","_i_a","_l_a","_privateFields","_keys","_key","validKeyToDelete","listen","unlisten","unbind","pon","promiseOn","offArgs","onArgs","circle","avoidOverlap","maximalAdjustments","BreadthFirstLayout","graph","rootsArray","unhandledNodes","currComp","pNode","comp","compRoots","depths","foundByBfs","prevId","succ","orphanNodes","maxChecks","checks","assignedDepth","_node","_assignedDepth","assignDepthsToEles","_eles","breadthfirst","intersectsDepth","thisInfo","highestDepthOfOther","highestOther","otherInfo","adj","nDepths","elesToMove","_depth","nDepth","info","intEle","_info","_intEle","intInfo","newDepth","minDistance","nbb","cachedWeightedPercent","getWeightedPercent","eleDepth","samples","_i9","neighbor","bf","_depth2","_nDepth","apct","bpct","times","_i10","biggestDepthSize","_i11","getPosition","isBottomDepth","depthSize","distanceX","distanceY","radiusStepSize","epos","_i12","_depth3","_j","_node2","sweep","clockwise","CircleLayout","counterclockwise","dTheta","dcos","dsin","rMin","getPos","rx","ry","equidistant","minNodeSpacing","concentric","levelWidth","ConcentricLayout","nodeValues","maxNodeSize","levels","currentLevel","minDist","firstLvlHasMulti","maxR","rStep","rDeltaMax","_r","_level","rDelta","_level2","_level3","_dTheta","_r2","_val","_theta","DEBUG","animationThreshold","refresh","randomize","componentSpacing","nodeRepulsion","nodeOverlap","idealEdgeLength","edgeElasticity","nestingFactor","gravity","initialTemp","coolingFactor","minTemp","weaver","CoseLayout","Thread","falseThread","matchesEvent","pass","broadcast","message","debug","layoutInfo","createLayoutInfo","printLayoutInfo","randomizePositions","refreshRequested","rOpts","force","refreshPositions","layoutNodes","_step","calculateNodeForces","calculateEdgeForces","calculateGravityForces","propagateForces","updatePositions","graphSet","node1","idToIndex","node2","randomDistance","cmptId1","cmptId","cmptId2","isCompound","directionX","positionX","directionY","positionY","maxRandDist","overlap","nodesOverlap","forceX","forceY","point1","findClippingPoint","point2","distanceSqr","isLocked","dX","dY","overlapX","overlapY","X","Y","H","W","dirSlope","nodeSlope","edgeSize","layoutEdges","sourceIx","sourceId","targetIx","targetId","lx","ly","idealLength","elasticity","distThreshold","fx","fy","nodeIndex","offX","offY","childNode","nodeSize","tempForce","limitForce","temperature","updateAncestryBoundaries","padRight","padLeft","padBottom","padTop","separateComponents","layutInfo","cid","totalA","c1","c2","usedW","rowH","maxRowW","mainLoop","loopRet","layoutInfoUpdated","lnode","indexToGraph","id2cmptId","tempNode","tempGraph","p_id","node_id","node_ix","tempEdge","sourceGraph","targetGraph","lca","findLCA","lcaGraph","findLCA_aux","count","graphIx","nodeIx","childGraphIx","coseBB","pctX","pctY","avoidOverlapPadding","condense","rows","cols","GridLayout","cells","splits","small","large","oRows","oCols","columns","sm","lg","_sm","_lg","cellWidth","cellHeight","cellUsed","used","row","use","moveToNextCell","id2manPos","rcPos","NullLayout","PresetLayout","posIsFn","RandomLayout","BRp","arrowShapeWidth","registerArrowShapes","arrowShapes","bbCollide","translation","edgeWidth","xRotated","yRotated","xScaled","yScaled","xTranslated","yTranslated","transformPoints","retPts","pointsToArr","standardGap","defineArrowShape","defn","collide","roughCollide","draw","arrowShapeImpl","gap","controlPoint","ptsTrans","ctrlPt","ctrlPtTrans","pointsTee","triPts","teePts","baseCrossLinePts","crossLinePts","shiftFactor","y0","getArrowWidth","projectIntoViewport","clientX","clientY","offsets","findContainerClientCoords","offsetLeft","offsetTop","scale","containerBB","rect","getBoundingClientRect","styleValue","paddingHor","paddingVer","borderHor","borderVer","unscaledW","unscaledH","scaledW","scaledH","invalidateContainerClientCoordsCache","findNearestElement","interactiveElementsOnly","isTouch","findNearestElements","getCachedZSortedEles","near","edgeThreshold","nodeThreshold","labelThreshold","minSqDist","nearEdge","nearNode","addEle","sqDist","checkNode","hw","hh","shape","nodeShapes","getNodeShape","checkPoint","checkEdge","rs","styleWidth","widthSq","width2","inEdgeBB","edgeType","allpts","arSize","arrows","arrowStartX","arrowStartY","srcArrowAngle","arrowEndX","arrowEndY","tgtArrowAngle","midsrcArrowAngle","midtgtArrowAngle","ar","preprop","pre","checkLabel","th","eventsEnabled","bw","pw","getAllInBox","box","x1c","x2c","y1c","y2c","boxBb","nodeBb","startX","startY","endX","endY","allInside","calculateArrowAngles","isHaystack","isBezier","isMultibezier","isSegments","isSelf","segpts","bX","bY","i2","i1","i3","cpts","ctrlpts","bp0x","bp0y","bp1x","bp1y","ic","midDispX","midDispY","getArrowHeight","arrowWidthCache","cachedVal","findEdgeControlPoints","hashTable","pairIds","haystackEdges","pairId","curveStyle","edgeIsUnbundled","edgeIsBezier","tableEntry","hasUnbundled","hasBezier","srcPos","tgtPos","srcW","srcH","tgtW","tgtH","srcShape","tgtShape","vectorNormInverse","badBezier","pairEdges","edge_p","dirCounts","srcX2","srcY2","srcW2","srcH2","tgtX2","tgtY2","tgtW2","tgtH2","numEdges2","edgeIndex1","lastEdgeIndex","edgeIndex2","numEdges1","lastNumEdges","edgeIsSwapped","ctrlptDists","loopDir","loopSwp","ctrlptWs","bezierN","stepSize","ctrlptDist","ctrlptWeight","edgeDistances","segmentWs","segmentDs","segmentsN","srcEndpt","tgtEndpt","srcArrShape","tgtArrShape","arrowScale","lineWidth","srcX1","lastSrcCtlPtX","srcY1","lastSrcCtlPtY","srcW1","lastSrcCtlPtW","srcH1","lastSrcCtlPtH","tgtX1","lastTgtCtlPtX","tgtY1","lastTgtCtlPtY","tgtW1","lastTgtCtlPtW","tgtH1","lastTgtCtlPtH","curveStyle1","lastCurveStyle","curveStyle2","ctrlptDists1","lastCtrlptDists","ctrlptDists2","ctrlptWs1","lastCtrlptWs","ctrlptWs2","segmentWs1","lastSegmentWs","segmentWs2","segmentDs1","lastSegmentDs","segmentDs2","stepSize1","lastStepSize","stepSize2","loopDir1","lastLoopDir","loopDir2","loopSwp1","lastLoopSwp","loopSwp2","edgeDistances1","lastEdgeDistances","edgeDistances2","srcEndpt1","lastSrcEndpt","srcEndpt2","tgtEndpt1","lastTgtEndpt","tgtEndpt2","srcArr1","lastSrcArr","srcArr2","tgtArr1","lastTgtArr","tgtArr2","lineW1","lastLineW","lineW2","arrScl1","lastArrScl","arrScl2","ptCacheHit","calculatedIntersection","srcOutside","intersectLine","srcIntn","tgtOutside","tgtIntn","midptSrcPts","posPts","vectorNorm","loopDist","loopAngle","outAngle","inAngle","String","loopW","loopaPos","loopbPos","loopPos","minCompoundStretch","compoundStretchA","compoundStretchB","w1","w2","midptPts","adjustedMidpt","multi","normctrlptDist","manctrlptDist","sign","distanceFromMidpoint","findEndpoints","badStart","badAStart","badEnd","badAEnd","minCpADistFactor","arrowW","minCpADist","startACpDist","closeStartACp","endACpDist","closeEndACp","overlapping","cpD","cpL","cpM","cpProj","srcCtrlPtIntn","tgtCtrlPtIntn","mt","storeEdgeProjections","recalculateEdgeLabelProjections","calculateLabelAngles","haystack","halfRadius","getPts","manualEndptToPx","npos","tgtArShape","srcArShape","tgtDist","srcDist","et","lines","segments","hasEndpts","srcManEndpt","srcManEndptVal","tgtManEndpt","tgtManEndptVal","p1_i","p2_i","cpStart","cpEnd","srcArrowFromPt","tgtArrowFromPt","arrowEnd","edgeEnd","arrowStart","edgeStart","badLine","pushBezierPts","p3","bpts","bezierProjPcts","lpts","recalculateEdgeProjections","recalculateNodeLabelProjection","content","textX","textY","nodeWidth","nodeHeight","nodePos","textHalign","textValign","applyLabelDimensions","mid","setRs","createControlPointInfo","startDist","nProjs","addSegment","cp","t0","prevSegment","segment","prevCp","calculateEndProjection","isSrc","lineAngle","bezierAngle","lp0","lp1","cps","totalDist","seg","lastSeg","tSegment","segDt","di","d0","pD","applyPrefixedLabelDimensions","getLabelText","labelDims","calculateLabelDimensions","pfd","textTransform","toUpperCase","toLowerCase","wrapStyle","labelKey","maxW","wrappedLines","lineDims","lineW","words","subline","word","testLine","testDims","testW","ellipsized","ellipsis","incLastCh","widthWithNextCh","extraKey","cacheKey","labelStyleKey","labelDimCache","sizeMult","fStyle","family","div","labelCalcDiv","createElement","body","appendChild","ds","fontFamily","fontStyle","fontSize","fontWeight","zIndex","visibility","pointerEvents","lineHeight","whiteSpace","textContent","rot","rotStr","labelAngle","sourceLabelAngle","targetLabelAngle","sourceLabelAutoAngle","targetLabelAutoAngle","makePolygon","registerCalculationListeners","elesToUpdate","enqueue","dirtyStyleCaches","evts","dirtyEvents","binder","onDirtyModNode","onDirtyAddNode","onDirtyBgNode","onDirtyEdge","onDirtyRemoveEdge","pEdges","pEdge","onDirtyEle","updateEleCalcs","fns","onUpdateEleCalcsFns","eleCalcs","onUpdateEleCalcs","nodeW","nodeH","updateCachedGrabbedEles","cachedZSortedEles","drag","nondrag","grabTargets","inDragLayer","invalidateCachedZSortedEles","forceRecalc","getCachedImage","url","crossOrigin","onLoad","imageCache","image","addEventListener","Image","dataUriPrefix","isDataUri","init","BR","ctr","stylesheetId","stylesheetAlreadyExists","innerHTML","insertBefore","computedStyle","selection","hoverData","down","downTime","triggerMode","dragging","initialPan","capture","dragData","possibleDragElements","touchData","singleTouchStartTime","singleTouchMoved","earlier","redraws","showFps","hideLabelsOnViewport","motionBlurEnabled","forcedPixelRatio","motionBlurTransparency","motionBlurPxRatio","mbPxRBlurry","minMbLowQualFrames","fullQualityMb","clearedForMotionBlur","desktopTapThreshold2","touchTapThreshold2","tapholdDuration","bindings","beforeRenderCallbacks","eleTxrDeq","lyrTxrDeq","registerNodeShapes","load","matchCanvasSize","startRenderLoop","binding","removeEventListener","removeObserver","disconnect","styleObserver","registerBinding","useCapture","tgtIsDom","supportsPassiveEvents","supportsPassive","passive","nodeIsDraggable","nodeIsGrabbable","triggerEvents","isMultSelKeyDown","shiftKey","metaKey","ctrlKey","allowPanningPassthrough","downs","allowPassthrough","getDragListIds","listHasId","addToList","hasId","setGrabbed","setFreed","setInDragLayer","setOutDragLayer","setGrabTarget","isGrabTarget","removeGrabTarget","addToDragList","addDescendantsToDrag","innerNodes","addNodesToDrag","updateAncestorsInDragLayer","addNodeToDrag","freeDraggedElements","grabbedEles","haveMutationsApi","MutationObserver","mutns","mutn","rNodes","removedNodes","rNode","parentNode","observe","childList","onResize","attributes","invalidateCoords","inBoxSelection","eventInContainer","containerPageCoords","touches","atLeastOnePosInside","tParent","containerIsTarget","mousedownHandler","which","gpos","select","nears","draggedElements","mdownPos","mdownGPos","checkForTaphold","tapholdCancelled","clearTimeout","tapholdTimeout","cxtStarted","cxtEvt","activate","getTime","cxtDragged","makeEvent","triggerGrab","selectedNodes","bgActivePosistion","mousemoveHandler","draggingEles","selecting","isOverThresholdDrag","dx2","dy2","dist2","multSelKeyDown","updateDragDelta","dragDelta","goIntoBoxMode","cxtOver","deltaP","justStartedPan","mdPos","dragged","unactivate","justStartedDrag","didDrag","toTrigger","dEle","dPos","tcol","mouseupHandler","cxtTap","eleWouldBeSelected","downWasGrabbed","wheelHandler","scrollingPage","wheelZooming","wheelTimeout","deltaY","wheelDeltaY","wheelDelta","needsWheelFix","deltaMode","scrollHandler","scrollingPageTimeout","mouseOutHandler","mouseOverHandler","f1x1","f1y1","f2x1","f2y1","distance1","distance1Sq","center1","modelCenter1","containerWidth","containerHeight","twoFingersStartInside","distanceSq","touchstartHandler","touchDragEles","cxtDistThreshold","cxtDistThresholdSq","near1","near2","cxt","starts","draggedEles","pinching","sPos","touch0","startGPosition","touchmoveHandler","startGPos","f1x2","f1y2","f2x2","f2y2","distance2Sq","factorSq","distThresholdSq","factorThreshold","factorThresholdSq","lastThreeTouch","de_p","distance2","factor","df1x","df1y","df2x","df2y","tx","ty","ctrx","ctry","swipePanning","draggedEle","touchcancelHandler","touchendHandler","ctxTapend","ctxTap","startWasGrabbed","rdist2","TouchEvent","pointers","makeTouch","identifier","pointerId","pageX","pageY","radiusX","radiusY","screenX","screenY","makePointer","addPointer","removePointer","updatePointer","addTouchesToEvent","pointerIsMouse","pointerType","generatePolygon","nodeShapeImpl","generateEllipse","generateRoundRectangle","diam","generateCutRectangle","cornerLength","generateCutTrianglePts","cl","xBegin","xEnd","yBegin","yEnd","topLeft","topRight","bottomRight","bottomLeft","cPts","cutTrianglePts","generateBarrel","bPts","generateBarrelBezierPts","curveConstants","hOffset","wOffset","ctrlPtXOffset","isTop","isBottom","barrelCurvePts","getCurveT","curvePts","x0","xMin","xMax","yMin","yMax","coeff","validRoots","curveRegions","corner","cornerPts","bezY","generateBottomRoundrectangle","topIntersections","star5Points","outerPoints","innerPoints","innerRadius","timeToRender","redrawTotalTime","redrawCount","lastDrawTime","requestedFrame","renderOptions","cbs","renderLoopStarted","renderFn","requestTime","skipFrame","render","endTime","CRp","polygon","lineTo","triangleBackcurve","firstPt","quadraticCurveTo","triangleTee","trianglePoints","teePoints","beginPath","closePath","firstTeePt","moveTo","triangleCross","crossLinePoints","arc","drawEdge","shiftToOriginWithBb","drawLabel","usePaths","translate","overlayWidth","overlayColor","lineColor","lineStyle","drawLine","strokeOpacity","lineCap","strokeStyle","drawEdgePath","drawOverlay","drawArrows","arrowOpacity","drawArrowheads","drawText","drawElementText","lineJoin","ghostOpacity","effectiveGhostOpacity","canvasCxt","pathCacheHit","pathCacheKey","keyMatches","pathCache","Path2D","setLineDash","stroke","drawArrowhead","arrowShape","arrowClearFill","arrowFill","edgeOpacity","gco","globalCompositeOperation","fillStyle","drawArrowShape","fill","canvasContext","shapeImpl","arrowPathCacheKey","arrowPathCache","alreadyCached","leavePathOpen","matchEdgeWidth","drawElement","showLabel","drawNode","drawCachedElement","eleTxrCache","getElement","drawImage","texture","canvas","drawElements","drawCachedElements","drawCachedNodes","drawLayeredElements","layers","lyrTxrCache","getLayers","layer","drawDebugPoints","fillRect","safeDrawImage","img","ix","iy","iw","ih","drawInscribedImage","nodeOpacity","styleObj","getIndexedStyle","repeat","paddingX2","nodeTW","nodeTH","clip","shouldClip","imgOpacity","imgW","cachedW","imgH","cachedH","offsetWidth","offsetHeight","gAlpha","globalAlpha","save","pattern","createPattern","eleTextBiggerThanMin","lvl","computedSize","minSize","textAlign","textBaseline","srcLabel","tgtLabel","drawNodeText","drawEdgeText","getFontCache","fontCaches","setupTextStyle","labelStyle","labelSize","labelFamily","labelWeight","outlineOpacity","outlineColor","fontCacheKey","fontKey","font","roundRect","ctx","pdash","textW","textH","textAngle","orgTextX","orgTextY","backgroundOpacity","borderOpacity","textBorderWidth","backgroundPadding","bgX","bgY","bgW","bgH","textFill","textBackgroundColor","styleShape","textStroke","textLineWidth","textBorderColor","textBorderStyle","strokeRect","whiteWidth","strokeText","fillText","bgImgProp","urls","urlDefined","numImages","defd","bgImgCrossOrigin","darkness","bgColor","bgOpacity","borderColor","borderStyle","setupShapeColor","bgOpy","setupBorderColor","bdrOpy","shapePts","drawShape","drawImages","prevBging","totalCompleted","drawPie","redrawShape","pieOpacity","darken","darkenOpacity","drawBorder","effGhostOpacity","cyStyle","pieSize","lastPercent","pieBackgroundN","angleStart","angleDelta","angleEnd","motionBlurDelay","contexts","backingStore","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","devicePixelRatio","paintCache","caches","paintCaches","needToCreateCache","mbPxRatio","bufferCanvases","MOTIONBLUR_BUFFER_NODE","MOTIONBLUR_BUFFER_DRAG","canvasWidth","canvasHeight","canvasContainer","CANVAS_LAYERS","canvases","BUFFER_COUNT","textureMult","TEXTURE_BUFFER","forcedContext","forcedZoom","forcedPan","drawAllLayers","forcedPxRatio","drawOnlyNodeLayer","needDraw","canvasNeedsRedraw","textureDraw","inNodeDragGesture","motionBlurFadeEffect","prevPxRatio","motionBlurTimeout","mbFrames","clearingMotionBlur","textureDrawLastFrame","NODE","SELECT_BOX","effectiveZoom","effectivePan","prevVp","prevViewport","viewportIsDiff","mbclear","setContextTransform","ePan","eZoom","bufferContexts","setTransform","clearRect","textureCache","mpan","DRAG","outsideBgColor","outsideBgOpacity","vpManip","hideEdges","needMbClear","useBuffer","fps","maxFps","cxtNode","txtNode","cxtDrag","txtDrag","drawMotionBlur","txt","needClear","pxr","motionBlurCleared","drawPolygonPath","drawRoundRectanglePath","arcTo","drawBottomRoundRectanglePath","drawCutRectanglePath","drawBarrelPath","barrelCurveConstants","sin0","cos0","ellipseStepSize","drawEllipsePath","ellipse","xPos","yPos","rw","rh","defs","minTxrH","txrStepH","minLvl","maxLvl","eleTxrSpacing","defTxrWidth","maxTxrW","maxTxrH","minUtility","maxFullness","maxFullnessChecks","allowEdgeTxrCaching","allowParentTxrCaching","maxDeqSize","getTxrReasons","downscale","highQuality","ElementTextureCache","onDequeues","ETCp","reasons","getTextureQueue","txrH","eleImgCaches","getRetiredTextureQueue","rtxtrQs","retired","rtxtrQ","getElementQueue","eleCacheQueue","reqs","getElementIdToQueue","id2q","eleIdToCacheQueue","reason","eleScaledH","eleScaledW","imgCaches","eleCache","txrQ","txr","addNewTxr","recycleTexture","addTexture","usedWidth","scaledLabelShown","scalableFrom","otherCache","deqing","highQualityReq","downscaleReq","higherCache","oneUpCache","queueElement","lowerCache","eleCaches","checkTextureFullness","invalidateElement","invalidatedWidth","removeFromQueue","checkTextureUtility","retireTexture","fullnessChecks","minW","getContext","existingReq","dequeued","onDequeue","offDequeue","createBuffer","buffer","bufferCanvasImage","ctrRect","full","specdMaxDims","maxWidth","maxHeight","maxScaleW","maxScaleH","buffCanvas","buffCxt","zsortedEles","b64ToBlob","b64","mimeType","bytes","atob","buff","ArrayBuffer","buffUint8","Uint8Array","charCodeAt","Blob","b64UriToB64","b64uri","substr","output","b64Uri","toDataURL","quality","LayeredTextureCache","CR","CanvasRenderer","tapHlOff","containerStyle","setAttribute","overflow","getAttribute","topCanvas","pathsEnabled","invalidateTextureCaches","de","invalidateElements","pathsImpld","path2dEnabled","defNumLayers","refineEleDebounceTime","disableEleImgSmoothing","invalidThreshold","maxLayerArea","alwaysQueue","useHighQualityEleTxrReqs","useEleTxrCaching","layersByLevel","firstGet","lastInvalidationTime","skipping","qSort","layersQueue","setupEleCacheInvalidation","LTCp","layerIdPool","makeLayer","elesQueue","validateLayersElesOrdering","layersByLvl","lvlComplete","levelIsComplete","tmpLayers","checkTempLevels","canUseAsTmpLvl","checkLvls","dir","getBb","after","area","insert","maxElesPerLayer","allowLazyQueueing","imgLayerCaches","existingLayer","queueLayer","drawEleInLayer","getEleLevelForLayerLevel","imgSmoothing","imageSmoothingEnabled","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","msImageSmoothingEnabled","numElesInLayers","invalidateLayer","updateElementsInLayers","haveLayers","invalAssocLayers","replacement","refineElementTextures","refineEachEle","rLyr","replaces","eleDeqs","updatedElesInLayers","elesQ","peek","applyLayerReplacement","requestRedraw","layersInLevel","replaced","NullRenderer","cytoscape","version","ObjectMap","_slicedToArray","sliceIterator","_arr","_d","_e","_s","_require","tokens","cleanMetaChars","replace","RegExp","metaChar","$1","replaceLastQuery","examiningQuery","replacementQuery","exprs","regex","populate","_ref","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","variable","_ref9","_ref10","comparatorOp","_ref11","_ref12","valueIsString","exec","boolOp","_ref13","_ref14","_ref15","_ref16","separator","nextQuery","currentSubject","directedEdge","edgeQuery","undirectedEdge","childQuery","descendantQuery","modifier","regexObj","operandsMatch","allDataMatches","_matches","fieldVal","fieldValue","fieldStr","valStr","caseInsensitive","notExpr","isIneqCmp","confirmRelations","isNecessary","_matches2","queryMatches","allColonSelectorsMatch","allIdsMatch","actualId","allClassesMatch","allMetaMatches","matchesAny","getSource","getTarget","q0","selectorFunction","filteredCollection","consumeExpr","remaining","expr","consumed","consumeWhitespace","currentQuery","check","ops","op","contextStyles","propDiffs","cleanElements","ie","cxtMeta","getContextMeta","cxtStyle","getContextStyle","app","applyContextStyle","diffProps","updateStyleHints","getPropertiesDiff","oldCxtKey","newCxtKey","dualCxtKey","addedProp","oldHasCxt","newHasCxt","cxtHasDiffed","cxtHasMappedProps","laterCxtOverrides","laterCxt","hasLaterCxt","cxtKey","prevKey","styleCxtKey","contextSelectorMatches","diffPropNames","cxtStyles","hasCxt","retDiffProps","diffPropName","cxtProp","eleProp","deleteBypassed","retDiffProp","applyParsedProperty","bypassed","_size","srcContent","tgtContent","oWidth","wrap","wrapW","sourceLabelKey","targetLabelKey","styleKey","parsedProp","flatProp","propIsBypass","origProp","origPropIsBypass","flatPropMapping","checkZOrder","checkZOrderTrigger","deleteBypass","printMappingErr","mapData","_fieldVal","fieldMin","fieldMax","r1","valueMin","r2","valueMax","g1","g2","b1","a1","a2","clr","calcValue","mapping","_fields","_fieldVal2","_field","flatPropVal","fnRetVal","keepBypasses","updatedEle","propInStyle","isBypass","anyPrev","styProp","diffProp","prevProp","fromProp","toProp","initVal","initDt","transitioning","fromValue","toValue","triggersZOrder","_parsedProp","specifiedProps","_name2","_prop","_parsedProp2","_prop2","camel2dash","isColor","isMulti","mutiple","oldValue","propertyNames","getEmSizeInPixels","px","containerCss","isRenderedVal","subproperty","alias","pointsTo","styleProp","implicitUnits","aniProps","aniProp","propsObj","defaultLength","propIsFlat","parseImplWarn","flatKey","argHash","propCache","parseImpl","passedValue","trim","multiple","_mapped","evenMultiple","valArr","unitsArr","pfValArr","hasEnum","validate","singleEnum","checkEnums","enums","en","unitless","unitsRegex","allowPercent","strictMin","strictMax","propList","propsStr","propsSplit","tuple","color2tuple","regexes","enumProp","singleRegexMatchValue","rgba","rgbaNoBackRefs","hsla","hslaNoBackRefs","hex3","hex6","mapArg","urlRegexes","zeroOneNumber","zeroOneNumbers","nOneOneNumber","nonNegativeInt","numbers","positiveNumber","bidirectionalSize","bidirectionalSizes","sizeMaybePercent","paddingRelativeTo","bgWH","bgPos","bgRelativeTo","bgRepeat","bgFit","bgCrossOrigin","bgClip","fontletiant","textDecoration","textWrap","textBackgroundShape","nodeShape","compoundIncludeLabels","zCompoundDepth","zIndexCompare","layoutData","mapLayoutData","mapScratch","textRotation","polygonPointList","edgeEndpoint","zOrderDiff","zeroNonZero","val1","val2","anyDiff","zd","aliases","arrowPrefixes","pointsToProp","aliasProp","getDefaultProperties","rawProps","parsedProps","selAndBlockStr","blockRem","propAndValStr","removeSelAndBlockFromRemaining","removePropAndValFromRem","nothingLeftToParse","selAndBlock","blockStr","invalidBlock","_nothingLeftToParse","propAndVal","propStr","hex2tuple","hex","shortHex","base","parseInt","hsl2tuple","hsl","hue2rgb","rgb2tuple","rgb","isPct","channel","atLeastOneIsPct","allArePct","colorname2tuple","colors","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","mapEmpty","pushMap","deleteMap","keepChildren","lastKey","ascending","charAt","performance","pnow","raf","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","process","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","nextTick","Item","title","browser","env","argv","versions","removeAllListeners","prependListener","prependOnceListener","cwd","chdir","umask","global","nextHandle","tasksByHandle","currentlyRunningATask","doc","registerImmediate","Function","task","clearImmediate","handle","runIfPresent","installNextTickImplementation","canUsePostMessage","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","installPostMessageImplementation","messagePrefix","onGlobalMessage","attachEvent","installMessageChannelImplementation","MessageChannel","port1","port2","installReadyStateChangeImplementation","html","script","onreadystatechange","installSetTimeoutImplementation","attachTo","getPrototypeOf","Timeout","setInterval","clearInterval","close","clearFn","_id","_clearFn","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","onTimeout","_onTimeout","eval","includes","connections","assoc","find","con"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AJpCA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxLA,CAAC,SAAS1yD,gCAAT,CAA0CC,IAA1C,EAAgDC,OAAhD,EAAyD;AACzD,MAAG,QAAOC,OAAP,0CAAOA,OAAP,OAAmB,QAAnB,IAA+B,QAAOC,MAAP,0CAAOA,MAAP,OAAkB,QAApD,EACCA,OAAOD,OAAP,GAAiBD,QAAQG,QAAQ,MAAR,CAAR,EAAyBA,QAAQ,iBAAR,CAAzB,CAAjB,CADD,KAEK,IAAG,OAAOC,MAAP,KAAkB,UAAlB,IAAgCA,OAAOC,GAA1C,EACJD,OAAO,CAAC,MAAD,EAAS,iBAAT,CAAP,EAAoCJ,OAApC,EADI,KAEA,IAAG,QAAOC,OAAP,0CAAOA,OAAP,OAAmB,QAAtB,EACJA,QAAQ,WAAR,IAAuBD,QAAQG,QAAQ,MAAR,CAAR,EAAyBA,QAAQ,iBAAR,CAAzB,CAAvB,CADI,KAGJJ,KAAK,WAAL,IAAoBC,QAAQD,KAAK,MAAL,CAAR,EAAsBA,KAAK,iBAAL,CAAtB,CAApB;AACD,CATD,aASS,UAASO,+BAAT,EAA0CC,+BAA1C,EAA2E;AACpF,SAAO,SAAU,UAASC,OAAT,EAAkB;AAAE;AACrC,cADmC,CACzB;AACV,cAAU,IAAIC,mBAAmB,EAAvB;AACV;AACA,cAJmC,CAIzB;AACV,cAAU,SAASC,mBAAT,CAA6BC,QAA7B,EAAuC;AACjD;AACA,gBAFiD,CAEtC;AACX,gBAAW,IAAGF,iBAAiBE,QAAjB,CAAH,EAA+B;AAC1C,kBAAY,OAAOF,iBAAiBE,QAAjB,EAA2BV,OAAlC;AACZ;AAAY;AACZ,gBANiD,CAMtC;AACX,gBAAW,IAAIC,SAASO,iBAAiBE,QAAjB,IAA6B;AACrD,kBAAYC,GAAGD,QADsC;AAErD,kBAAYE,GAAG,KAFsC;AAGrD,kBAAYZ,SAAS;AACrB,kBAJqD,EAA1C;AAKX;AACA,gBAbiD,CAatC;AACX,gBAAWO,QAAQG,QAAR,EAAkBG,IAAlB,CAAuBZ,OAAOD,OAA9B,EAAuCC,MAAvC,EAA+CA,OAAOD,OAAtD,EAA+DS,mBAA/D;AACX;AACA,gBAhBiD,CAgBtC;AACX,gBAAWR,OAAOW,CAAP,GAAW,IAAX;AACX;AACA,gBAnBiD,CAmBtC;AACX,gBAAW,OAAOX,OAAOD,OAAd;AACX;AAAW;AACX;AACA;AACA,cA7BmC,CA6BzB;AACV,cAAUS,oBAAoBK,CAApB,GAAwBP,OAAxB;AACV;AACA,cAhCmC,CAgCzB;AACV,cAAUE,oBAAoBM,CAApB,GAAwBP,gBAAxB;AACV;AACA,cAnCmC,CAmCzB;AACV,cAAUC,oBAAoBE,CAApB,GAAwB,UAASK,KAAT,EAAgB;AAAE,eAAOA,KAAP;AAAe,OAAzD;AACV;AACA,cAtCmC,CAsCzB;AACV,cAAUP,oBAAoBQ,CAApB,GAAwB,UAASjB,OAAT,EAAkBkB,IAAlB,EAAwBC,MAAxB,EAAgC;AAClE,gBAAW,IAAG,CAACV,oBAAoBW,CAApB,CAAsBpB,OAAtB,EAA+BkB,IAA/B,CAAJ,EAA0C;AACrD,kBAAYG,OAAOC,cAAP,CAAsBtB,OAAtB,EAA+BkB,IAA/B,EAAqC;AACjD,oBAAaK,cAAc,KADsB;AAEjD,oBAAaC,YAAY,IAFwB;AAGjD,oBAAaC,KAAKN;AAClB,oBAJiD,EAArC;AAKZ;AAAY;AACZ;AAAW,OARD;AASV;AACA,cAjDmC,CAiDzB;AACV,cAAUV,oBAAoBiB,CAApB,GAAwB,UAASzB,MAAT,EAAiB;AACnD,gBAAW,IAAIkB,SAASlB,UAAUA,OAAO0B,UAAjB;AACxB,gBAAY,SAASC,UAAT,GAAsB;AAAE,iBAAO3B,OAAO,SAAP,CAAP;AAA2B,SADvC;AAExB,gBAAY,SAAS4B,gBAAT,GAA4B;AAAE,iBAAO5B,MAAP;AAAgB,SAF/C;AAGX,gBAAWQ,oBAAoBQ,CAApB,CAAsBE,MAAtB,EAA8B,GAA9B,EAAmCA,MAAnC;AACX,gBAAW,OAAOA,MAAP;AACX;AAAW,OAND;AAOV;AACA,cA1DmC,CA0DzB;AACV,cAAUV,oBAAoBW,CAApB,GAAwB,UAASU,MAAT,EAAiBC,QAAjB,EAA2B;AAAE,eAAOV,OAAOW,SAAP,CAAiBC,cAAjB,CAAgCpB,IAAhC,CAAqCiB,MAArC,EAA6CC,QAA7C,CAAP;AAAgE,OAArH;AACV;AACA,cA7DmC,CA6DzB;AACV,cAAUtB,oBAAoByB,CAApB,GAAwB,EAAxB;AACV;AACA,cAhEmC,CAgEzB;AACV,cAAU,OAAOzB,oBAAoBA,oBAAoB0B,CAApB,GAAwB,GAA5C,CAAP;AACV;AAAU,KAlEM;AAmEhB;AACA,YAAU;AACV;AACA,SAAO,UAASlC,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI2B,UAAU,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,SAAOA,OAAOC,QAAd,MAA2B,QAA3D,GAAsE,UAAUC,GAAV,EAAe;AAAE,sBAAcA,GAAd,0CAAcA,GAAd;AAAoB,OAA3G,GAA8G,UAAUA,GAAV,EAAe;AAAE,eAAOA,OAAO,OAAOF,MAAP,KAAkB,UAAzB,IAAuCE,IAAIC,WAAJ,KAAoBH,MAA3D,IAAqEE,QAAQF,OAAOL,SAApF,GAAgG,QAAhG,UAAkHO,GAAlH,0CAAkHA,GAAlH,CAAP;AAA+H,OAA5Q;;AAEA;;AAEA,UAAIE,SAAShC,oBAAoB,CAApB,CAAb;AACA,UAAIiC,YAAYD,SAASA,OAAOC,SAAhB,GAA4B,IAA5C;AACA,UAAIC,WAAWF,SAASA,OAAOE,QAAhB,GAA2B,IAA1C;;AAEA,UAAIC,YAAYR,QAAQ,EAAR,CAAhB;AACA,UAAIS,YAAYT,QAAQ,EAAR,CAAhB;AACA,UAAIU,WAAWV,QAAQ,YAAY,CAAE,CAAtB,CAAf;AACA,UAAIW,gBAAgB,OAAOC,WAAP,KAAuB,WAAvB,GAAqC,WAArC,GAAmDZ,QAAQY,WAAR,CAAvE;;AAEA,UAAIC,cAAc,SAASA,WAAT,CAAqBV,GAArB,EAA0B;AAC1C,eAAOA,OAAOA,IAAIW,cAAX,IAA6BC,GAAGC,EAAH,CAAMb,IAAIW,cAAV,CAA7B,GAAyDX,IAAIW,cAAJ,EAAzD,GAAgF,IAAvF;AACD,OAFD;;AAIA,UAAIC,KAAK;AACPE,iBAAS,SAASA,OAAT,CAAiBd,GAAjB,EAAsB;AAC7B,iBAAOA,OAAO,IAAd,CAD6B,CACT;AACrB,SAHM;;AAKPe,gBAAQ,SAASA,MAAT,CAAgBf,GAAhB,EAAqB;AAC3B,iBAAOA,OAAO,IAAP,IAAe,CAAC,OAAOA,GAAP,KAAe,WAAf,GAA6B,WAA7B,GAA2CH,QAAQG,GAAR,CAA5C,KAA6DK,SAAnF;AACD,SAPM;;AASPQ,YAAI,SAASA,EAAT,CAAYb,GAAZ,EAAiB;AACnB,iBAAOA,OAAO,IAAP,IAAe,CAAC,OAAOA,GAAP,KAAe,WAAf,GAA6B,WAA7B,GAA2CH,QAAQG,GAAR,CAA5C,MAA8DO,QAApF;AACD,SAXM;;AAaPS,eAAO,SAASA,KAAT,CAAehB,GAAf,EAAoB;AACzB,iBAAOiB,MAAMC,OAAN,GAAgBD,MAAMC,OAAN,CAAclB,GAAd,CAAhB,GAAqCA,OAAO,IAAP,IAAeA,eAAeiB,KAA1E;AACD,SAfM;;AAiBPE,qBAAa,SAASA,WAAT,CAAqBnB,GAArB,EAA0B;AACrC,iBAAOA,OAAO,IAAP,IAAe,CAAC,OAAOA,GAAP,KAAe,WAAf,GAA6B,WAA7B,GAA2CH,QAAQG,GAAR,CAA5C,MAA8DM,SAA7E,IAA0F,CAACM,GAAGI,KAAH,CAAShB,GAAT,CAA3F,IAA4GA,IAAIC,WAAJ,KAAoBnB,MAAvI;AACD,SAnBM;;AAqBPS,gBAAQ,SAASA,MAAT,CAAgBS,GAAhB,EAAqB;AAC3B,iBAAOA,OAAO,IAAP,IAAe,CAAC,OAAOA,GAAP,KAAe,WAAf,GAA6B,WAA7B,GAA2CH,QAAQG,GAAR,CAA5C,MAA8DM,SAApF;AACD,SAvBM;;AAyBPc,gBAAQ,SAASA,MAAT,CAAgBpB,GAAhB,EAAqB;AAC3B,iBAAOA,OAAO,IAAP,IAAe,CAAC,OAAOA,GAAP,KAAe,WAAf,GAA6B,WAA7B,GAA2CH,QAAQG,GAAR,CAA5C,MAA8DH,QAAQ,CAAR,CAA7E,IAA2F,CAACwB,MAAMrB,GAAN,CAAnG;AACD,SA3BM;;AA6BPsB,iBAAS,SAASA,OAAT,CAAiBtB,GAAjB,EAAsB;AAC7B,iBAAOY,GAAGQ,MAAH,CAAUpB,GAAV,KAAkBuB,KAAKC,KAAL,CAAWxB,GAAX,MAAoBA,GAA7C;AACD,SA/BM;;AAiCPyB,cAAM,SAASA,IAAT,CAAczB,GAAd,EAAmB;AACvB,iBAAOA,OAAO,IAAP,IAAe,CAAC,OAAOA,GAAP,KAAe,WAAf,GAA6B,WAA7B,GAA2CH,QAAQG,GAAR,CAA5C,MAA8DH,QAAQ,IAAR,CAApF;AACD,SAnCM;;AAqCP6B,qBAAa,SAASA,WAAT,CAAqB1B,GAArB,EAA0B;AACrC,cAAI,gBAAgBQ,aAApB,EAAmC;AACjC,mBAAOmB,SAAP;AACD,WAFD,MAEO;AACL,mBAAO,QAAQ3B,GAAR,IAAeA,eAAeS,WAArC;AACD;AACF,SA3CM;;AA6CPmB,6BAAqB,SAASA,mBAAT,CAA6B5B,GAA7B,EAAkC;AACrD,iBAAOY,GAAGiB,OAAH,CAAW7B,GAAX,KAAmBY,GAAGkB,UAAH,CAAc9B,GAAd,CAA1B;AACD,SA/CM;;AAiDP6B,iBAAS,SAASA,OAAT,CAAiB7B,GAAjB,EAAsB;AAC7B,iBAAOU,YAAYV,GAAZ,MAAqB,YAArB,IAAqCA,IAAI+B,QAAJ,CAAaC,MAAzD;AACD,SAnDM;;AAqDPF,oBAAY,SAASA,UAAT,CAAoB9B,GAApB,EAAyB;AACnC,iBAAOU,YAAYV,GAAZ,MAAqB,YAArB,IAAqC,CAACA,IAAI+B,QAAJ,CAAaC,MAA1D;AACD,SAvDM;;AAyDPC,cAAM,SAASA,IAAT,CAAcjC,GAAd,EAAmB;AACvB,iBAAOU,YAAYV,GAAZ,MAAqB,MAA5B;AACD,SA3DM;;AA6DPkC,eAAO,SAASA,KAAT,CAAelC,GAAf,EAAoB;AACzB,iBAAOU,YAAYV,GAAZ,MAAqB,OAA5B;AACD,SA/DM;;AAiEPmC,oBAAY,SAASA,UAAT,CAAoBnC,GAApB,EAAyB;AACnC,iBAAOU,YAAYV,GAAZ,MAAqB,YAA5B;AACD,SAnEM;;AAqEPoC,eAAO,SAASA,KAAT,CAAepC,GAAf,EAAoB;AACzB,iBAAOU,YAAYV,GAAZ,MAAqB,OAA5B;AACD,SAvEM;;AAyEPqC,gBAAQ,SAASA,MAAT,CAAgBrC,GAAhB,EAAqB;AAC3B,iBAAOU,YAAYV,GAAZ,MAAqB,QAA5B;AACD,SA3EM;;AA6EPsC,gBAAQ,SAASA,MAAT,CAAgBtC,GAAhB,EAAqB;AAC3B,iBAAOU,YAAYV,GAAZ,MAAqB,QAA5B;AACD,SA/EM;;AAiFPuC,qBAAa,SAASA,WAAT,CAAqBvC,GAArB,EAA0B;AACrC,cAAIA,QAAQ2B,SAAR,IAAqB3B,QAAQ,IAAjC,EAAuC;AACrC;AACA,mBAAO,IAAP;AACD,WAHD,MAGO,IAAIA,QAAQ,EAAR,IAAcA,IAAIwC,KAAJ,CAAU,OAAV,CAAlB,EAAsC;AAC3C,mBAAO,IAAP,CAD2C,CAC9B;AACd;;AAED,iBAAO,KAAP,CARqC,CAQvB;AACf,SA1FM;;AA4FPC,wBAAgB,SAASA,cAAT,CAAwBzC,GAAxB,EAA6B;AAC3C,cAAIA,OAAOY,GAAGG,MAAH,CAAUf,GAAV,CAAP,IAAyBA,QAAQ,EAAjC,IAAuC,CAACA,IAAIwC,KAAJ,CAAU,OAAV,CAA5C,EAAgE;AAC9D,mBAAO,IAAP;AACD;;AAED,iBAAO,KAAP;AACD,SAlGM;;AAoGPE,oBAAY,SAASA,UAAT,CAAoB1C,GAApB,EAAyB;AACnC,cAAI,OAAOS,WAAP,KAAuB,WAA3B,EAAwC;AACtC,mBAAO,KAAP,CADsC,CACxB;AACf,WAFD,MAEO;AACL,mBAAOT,eAAeS,WAAtB;AACD;AACF,SA1GM;;AA4GPkC,qBAAa,SAASA,WAAT,CAAqB3C,GAArB,EAA0B;AACrC,iBAAOY,GAAGO,WAAH,CAAenB,GAAf,KAAuBY,GAAGQ,MAAH,CAAUpB,IAAI4C,EAAd,CAAvB,IAA4ChC,GAAGQ,MAAH,CAAUpB,IAAI6C,EAAd,CAA5C,IAAiEjC,GAAGQ,MAAH,CAAUpB,IAAI8C,EAAd,CAAjE,IAAsFlC,GAAGQ,MAAH,CAAUpB,IAAI+C,EAAd,CAA7F;AACD,SA9GM;;AAgHPC,iBAAS,SAASA,OAAT,CAAiBhD,GAAjB,EAAsB;AAC7B,iBAAOY,GAAGrB,MAAH,CAAUS,GAAV,KAAkBY,GAAGC,EAAH,CAAMb,IAAIiD,IAAV,CAAzB;AACD,SAlHM;;AAoHPC,eAAO,SAASA,KAAT,GAAiB;AACtB,iBAAOhD,WAAW,kBAAkBA,MAAlB,IAA4BA,OAAOiD,aAAP,IAAwB/C,oBAAoB+C,aAAnF,CAAP;AACD,SAtHM;;AAwHPC,eAAO,SAASA,KAAT,GAAiB;AACtB,iBAAOlD,WAAW,OAAOmD,cAAP,KAA0B,WAA1B,IAAyC,mBAAmBjD,SAASkD,eAAT,CAAyBpB,KAAhG,CAAP;AACD,SA1HM;;AA4HPqB,gBAAQ,SAASA,MAAT,GAAkB;AACxB,iBAAOrD,WAAW,OAAOsD,SAAP,KAAqB,WAArB,IAAoC,sBAAsBpD,SAASkD,eAAT,CAAyBpB,KAA9F,CAAP;AACD,SA9HM;;AAgIPuB,kBAAU,SAASA,QAAT,GAAoB;AAC5B,iBAAOvD,UAAU,OAAOwD,MAAP,KAAkB,WAAnC;AACD,SAlIM;;AAoIPC,eAAO,SAASA,KAAT,GAAiB;AACtB,iBAAOxD,aAAaA,UAAUyD,MAAV,CAAiBpB,KAAjB,CAAuB,MAAvB,CAApB,CADsB,CAC8B;AACrD,SAtIM;;AAwIPqB,kBAAU,SAASA,QAAT,GAAoB;AAC5B,iBAAOjD,GAAG+C,KAAH,MAAc/C,GAAG2C,MAAH,EAAd,IAA6B3C,GAAG6C,QAAH,EAApC;AACD,SA1IM;;AA4IPK,YAAI,SAASA,EAAT,GAAc;AAChB,iBAAO3D,aAAaA,UAAU4D,SAAV,CAAoBvB,KAApB,CAA0B,oBAA1B,CAApB,CADgB,CACqD;AACtE,SA9IM;;AAgJPwB,iBAAS,SAASA,OAAT,GAAmB;AAC1B,iBAAO7D,aAAaA,UAAU8D,UAAV,CAAqBzB,KAArB,CAA2B,MAA3B,CAApB;AACD,SAlJM;;AAoJP0B,aAAK,SAASA,GAAT,GAAe;AAClB,iBAAO/D,aAAaA,UAAU8D,UAAV,CAAqBzB,KAArB,CAA2B,MAA3B,CAApB;AACD,SAtJM;;AAwJP2B,eAAO,SAASA,KAAT,GAAiB;AACtB,iBAAOhE,aAAaA,UAAU8D,UAAV,CAAqBzB,KAArB,CAA2B,QAA3B,CAApB;AACD,SA1JM;;AA4JP4B,cAAM,SAASA,IAAT,GAAgB;AACpB,iBAAOjE,aAAaA,UAAU8D,UAAV,CAAqBzB,KAArB,CAA2B,MAA3B,CAApB;AACD;AA9JM,OAAT;;AAiKA9E,aAAOD,OAAP,GAAiBmD,EAAjB;;AAEA;AAAO,KA3LG;AA4LV;AACA,SAAO,UAASlD,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA;;AAEA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;;AAEA,UAAIoG,OAAO;;AAETC,iBAASC,OAAOC,gBAAP,IAA2B,gBAF3B;;AAITC,iBAAS,SAASA,OAAT,GAAmB;AAC1B,iBAAO,IAAP;AACD,SANQ;;AAQTC,iBAAS,SAASA,OAAT,GAAmB;AAC1B,iBAAO,KAAP;AACD,SAVQ;;AAYTC,iBAAS,SAASA,OAAT,GAAmB;AAC1B,iBAAO,CAAP;AACD,SAdQ;;AAgBTC,cAAM,SAASA,IAAT,GAAgB,CAAE,CAhBf;;AAkBTC,eAAO,SAASA,KAAT,CAAeC,GAAf,EAAoB;AACzB;AACA,cAAIC,QAAQF,KAAZ,EAAmB;AACjBE,oBAAQF,KAAR,CAAcG,KAAd,CAAoBD,OAApB,EAA6BE,SAA7B;;AAEA,gBAAIF,QAAQG,KAAZ,EAAmB;AACjBH,sBAAQG,KAAR;AACD;AACF,WAND,MAMO;AACLH,oBAAQI,GAAR,CAAYH,KAAZ,CAAkBD,OAAlB,EAA2BE,SAA3B;;AAEA,gBAAIF,QAAQG,KAAZ,EAAmB;AACjBH,sBAAQG,KAAR;AACD;AACF;AACD;AACD,SAlCQ;;AAoCTE,eAAO,SAASA,KAAT,CAAerF,GAAf,EAAoB;AACzB,iBAAO,KAAKsF,MAAL,CAAY,EAAZ,EAAgBtF,GAAhB,CAAP;AACD,SAtCQ;;AAwCT;AACAuF,cAAM,SAASA,IAAT,CAAcvF,GAAd,EAAmB;AACvB,cAAIA,OAAO,IAAX,EAAiB;AACf,mBAAOA,GAAP;AACD,eAAIY,GAAGI,KAAH,CAAShB,GAAT,CAAJ,EAAmB;AAClB,mBAAOA,IAAIwF,KAAJ,EAAP;AACD,WAFA,MAEM,IAAI5E,GAAGO,WAAH,CAAenB,GAAf,CAAJ,EAAyB;AAC9B,mBAAO,KAAKqF,KAAL,CAAWrF,GAAX,CAAP;AACD,WAFM,MAEA;AACL,mBAAOA,GAAP;AACD;AACF,SAnDQ;;AAqDTyF,mBAAW,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AACjC,iBAAOA,IAAIF,KAAJ,EAAP;AACD,SAvDQ;;AAyDTG,uBAAe,SAASA,aAAT,CAAuBC,GAAvB,EAA4B;AACzC,iBAAO,EAAEC,GAAGD,IAAIC,CAAT,EAAYC,GAAGF,IAAIE,CAAnB,EAAP;AACD,SA3DQ;;AA6DTC,cAAM,SAASA,IAAT,CAAcC,CAAd,EAAiBC,CAAjB,CAAmB;AAAnB,UACJ;AACA,gBAAM;AACNA,cAAID,IAAI,EADR,EACY;AACZA,gBAAM,EAFN,EAEU;AACVC,eAAKD,IAAI,EAAJ,GAAS,EAAT,CAAY;AAAZ,YACH;AACF,WAACA,IAAI,EAAJ,CAAO;AAAP,YACC;AACF,cAAIzE,KAAK2E,MAAL,MAAiBF,IAAI,EAAJ,GAAS,EAAT,GAAc,CAA/B,CAFH,CAEqC;AAFrC,YAGC,CAHF,CAGI;AAHJ,YAIEG,QAJF,CAIW,EAJX,CAFK,GAMY,GATjB,CASqB;AATrB,YAUE,CAAE;AACJ,iBAAOF,CAAP;AACD;;AA3EQ,OAAX;;AA+EA3B,WAAK8B,eAAL,GAAuB/B,KAAK+B,eAAL,CAAqBC,IAArB,CAA0BhC,IAA1B,CAAvB;;AAEAC,WAAKgC,kBAAL,GAA0B,EAA1B;;AAEAhC,WAAKiC,iBAAL,GAAyB,YAAY;AACnC,eAAOjC,KAAKgC,kBAAZ;AACD,OAFD;;AAIAhC,WAAKgB,MAAL,GAAcxG,OAAO0H,MAAP,IAAiB,IAAjB,GAAwB1H,OAAO0H,MAAP,CAAcH,IAAd,CAAmBvH,MAAnB,CAAxB,GAAqD,UAAU2H,GAAV,EAAe;AAChF,YAAIC,OAAOxB,SAAX;;AAEA,aAAK,IAAI9G,IAAI,CAAb,EAAgBA,IAAIsI,KAAKC,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI4B,MAAM0G,KAAKtI,CAAL,CAAV;;AAEA,cAAI4B,OAAO,IAAX,EAAiB;AACf;AACD;;AAED,cAAI4G,OAAO9H,OAAO8H,IAAP,CAAY5G,GAAZ,CAAX;;AAEA,eAAK,IAAI6G,IAAI,CAAb,EAAgBA,IAAID,KAAKD,MAAzB,EAAiCE,GAAjC,EAAsC;AACpC,gBAAIC,IAAIF,KAAKC,CAAL,CAAR;;AAEAJ,gBAAIK,CAAJ,IAAS9G,IAAI8G,CAAJ,CAAT;AACD;AACF;;AAED,eAAOL,GAAP;AACD,OApBD;;AAsBAnC,WAAKkC,MAAL,GAAclC,KAAKgB,MAAnB;;AAEAhB,WAAKyC,OAAL,GAAe,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACjC,YAAID,QAAQrF,SAAZ,EAAuB;AACrB,iBAAOsF,GAAP;AACD,SAFD,MAEO;AACL,iBAAOD,GAAP;AACD;AACF,OAND;;AAQA1C,WAAK4C,eAAL,GAAuB,UAAUxB,GAAV,EAAeyB,GAAf,EAAoBC,UAApB,EAAgC;AACrD,aAAK,IAAIhJ,IAAIsH,IAAIiB,MAAjB,EAAyBvI,KAAK,CAA9B,EAAiCA,GAAjC,EAAsC;AACpC,cAAIsH,IAAItH,CAAJ,MAAW+I,GAAf,EAAoB;AAClBzB,gBAAI2B,MAAJ,CAAWjJ,CAAX,EAAc,CAAd;;AAEA,gBAAI,CAACgJ,UAAL,EAAiB;AACf;AACD;AACF;AACF;AACF,OAVD;;AAYA9C,WAAKgD,UAAL,GAAkB,UAAU5B,GAAV,EAAe;AAC/BA,YAAI2B,MAAJ,CAAW,CAAX,EAAc3B,IAAIiB,MAAlB;AACD,OAFD;;AAIArC,WAAKiD,IAAL,GAAY,UAAU7B,GAAV,EAAe8B,QAAf,EAAyB;AACnC,aAAK,IAAIpJ,IAAI,CAAb,EAAgBA,IAAIoJ,SAASb,MAA7B,EAAqCvI,GAArC,EAA0C;AACxC,cAAIqJ,KAAKD,SAASpJ,CAAT,CAAT;;AAEAsH,cAAI6B,IAAJ,CAASE,EAAT;AACD;AACF,OAND;;AAQAnD,WAAKoD,mBAAL,GAA2B,UAAU1H,GAAV,EAAe2H,QAAf,EAAyBC,MAAzB,EAAiC;AAC1D,YAAIA,MAAJ,EAAY;AACVD,qBAAW,KAAKE,YAAL,CAAkBD,MAAlB,EAA0BD,QAA1B,CAAX,CADU,CACsC;AACjD;;AAED,eAAO3H,IAAI2H,QAAJ,CAAP;AACD,OAND;;AAQArD,WAAKwD,mBAAL,GAA2B,UAAU9H,GAAV,EAAe2H,QAAf,EAAyBC,MAAzB,EAAiCnJ,KAAjC,EAAwC;AACjE,YAAImJ,MAAJ,EAAY;AACVD,qBAAW,KAAKE,YAAL,CAAkBD,MAAlB,EAA0BD,QAA1B,CAAX,CADU,CACsC;AACjD;;AAED3H,YAAI2H,QAAJ,IAAgBlJ,KAAhB;AACD,OAND;;AAQA,OAACP,oBAAoB,GAApB,CAAD,EAA2BA,oBAAoB,GAApB,CAA3B,EAAqD,EAAE6J,SAAS7J,oBAAoB,EAApB,CAAX,EAArD,EAA2FA,oBAAoB,GAApB,CAA3F,EAAqHA,oBAAoB,GAApB,CAArH,EAA+IA,oBAAoB,GAApB,CAA/I,EAAyKA,oBAAoB,GAApB,CAAzK,EAAmM8J,OAAnM,CAA2M,UAAUC,GAAV,EAAe;AACxN3D,aAAKgB,MAAL,CAAYhB,IAAZ,EAAkB2D,GAAlB;AACD,OAFD;;AAIAvK,aAAOD,OAAP,GAAiB6G,IAAjB;;AAEA;AAAO,KA5WG;AA6WV;AACA,SAAO,UAAS5G,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAImG,OAAO,EAAX;;AAEAA,WAAK6D,gBAAL,GAAwB,UAAUC,EAAV,EAAcC,EAAd,EAAkB;AACxC,eAAOD,GAAGtC,CAAH,KAASuC,GAAGvC,CAAZ,IAAiBsC,GAAGrC,CAAH,KAASsC,GAAGtC,CAApC;AACD,OAFD;;AAIAzB,WAAKgE,YAAL,GAAoB,UAAU1I,CAAV,EAAa;AAC/B,eAAO,EAAEkG,GAAGlG,EAAEkG,CAAP,EAAUC,GAAGnG,EAAEmG,CAAf,EAAP;AACD,OAFD;;AAIAzB,WAAKiE,uBAAL,GAA+B,UAAU3I,CAAV,EAAa4I,IAAb,EAAmBC,GAAnB,EAAwB;AACrD,eAAO;AACL3C,aAAGlG,EAAEkG,CAAF,GAAM0C,IAAN,GAAaC,IAAI3C,CADf;AAELC,aAAGnG,EAAEmG,CAAF,GAAMyC,IAAN,GAAaC,IAAI1C;AAFf,SAAP;AAID,OALD;;AAOAzB,WAAKoE,uBAAL,GAA+B,UAAU9I,CAAV,EAAa4I,IAAb,EAAmBC,GAAnB,EAAwB;AACrD,eAAO;AACL3C,aAAG,CAAClG,EAAEkG,CAAF,GAAM2C,IAAI3C,CAAX,IAAgB0C,IADd;AAELzC,aAAG,CAACnG,EAAEmG,CAAF,GAAM0C,IAAI1C,CAAX,IAAgByC;AAFd,SAAP;AAID,OALD;;AAOAlE,WAAKqE,WAAL,GAAmB,UAAUhD,GAAV,EAAe;AAChC,eAAO;AACLG,aAAGH,IAAI,CAAJ,CADE;AAELI,aAAGJ,IAAI,CAAJ;AAFE,SAAP;AAID,OALD;;AAOArB,WAAKsE,OAAL,GAAe,UAAUC,GAAV,EAAe;AAC5B,eAAOrH,KAAKsH,EAAL,GAAUD,GAAV,GAAgB,GAAvB;AACD,OAFD;;AAIAvE,WAAKyE,gBAAL,GAAwB,UAAUC,KAAV,EAAiBC,KAAjB,EAAwB;AAC9C,eAAOzH,KAAK0H,KAAL,CAAWD,KAAX,EAAkBD,KAAlB,IAA2BxH,KAAKsH,EAAL,GAAU,CAA5C;AACD,OAFD;;AAIAxE,WAAK6E,IAAL,GAAY3H,KAAK2H,IAAL,IAAa,UAAU/J,CAAV,EAAa;AACpC,eAAOoC,KAAK6D,GAAL,CAASjG,CAAT,IAAcoC,KAAK6D,GAAL,CAAS,CAAT,CAArB;AACD,OAFD;;AAIAf,WAAK8E,MAAL,GAAc,UAAUtD,CAAV,EAAa;AACzB,YAAIA,IAAI,CAAR,EAAW;AACT,iBAAO,CAAP;AACD,SAFD,MAEO,IAAIA,IAAI,CAAR,EAAW;AAChB,iBAAO,CAAC,CAAR;AACD,SAFM,MAEA;AACL,iBAAO,CAAP;AACD;AACF,OARD;;AAUAxB,WAAK+E,IAAL,GAAY,UAAUjB,EAAV,EAAcC,EAAd,EAAkB;AAC5B,eAAO7G,KAAK8H,IAAL,CAAUhF,KAAKiF,MAAL,CAAYnB,EAAZ,EAAgBC,EAAhB,CAAV,CAAP;AACD,OAFD;;AAIA/D,WAAKiF,MAAL,GAAc,UAAUnB,EAAV,EAAcC,EAAd,EAAkB;AAC9B,YAAImB,KAAKnB,GAAGvC,CAAH,GAAOsC,GAAGtC,CAAnB;AACA,YAAI2D,KAAKpB,GAAGtC,CAAH,GAAOqC,GAAGrC,CAAnB;;AAEA,eAAOyD,KAAKA,EAAL,GAAUC,KAAKA,EAAtB;AACD,OALD;;AAOA;AACAnF,WAAKoF,SAAL,GAAiB,UAAUC,EAAV,EAAcvB,EAAd,EAAkBC,EAAlB,EAAsBuB,CAAtB,EAAyB;AACxC,eAAO,CAAC,IAAIA,CAAL,KAAW,IAAIA,CAAf,IAAoBD,EAApB,GAAyB,KAAK,IAAIC,CAAT,IAAcA,CAAd,GAAkBxB,EAA3C,GAAgDwB,IAAIA,CAAJ,GAAQvB,EAA/D;AACD,OAFD;;AAIA/D,WAAKuF,WAAL,GAAmB,UAAUF,EAAV,EAAcvB,EAAd,EAAkBC,EAAlB,EAAsBuB,CAAtB,EAAyB;AAC1C,eAAO;AACL9D,aAAGxB,KAAKoF,SAAL,CAAeC,GAAG7D,CAAlB,EAAqBsC,GAAGtC,CAAxB,EAA2BuC,GAAGvC,CAA9B,EAAiC8D,CAAjC,CADE;AAEL7D,aAAGzB,KAAKoF,SAAL,CAAeC,GAAG5D,CAAlB,EAAqBqC,GAAGrC,CAAxB,EAA2BsC,GAAGtC,CAA9B,EAAiC6D,CAAjC;AAFE,SAAP;AAID,OALD;;AAOAtF,WAAKwF,MAAL,GAAc,UAAUH,EAAV,EAAcvB,EAAd,EAAkBwB,CAAlB,EAAqBjL,CAArB,EAAwB;AACpC,YAAIoL,MAAM;AACRjE,aAAGsC,GAAGtC,CAAH,GAAO6D,GAAG7D,CADL;AAERC,aAAGqC,GAAGrC,CAAH,GAAO4D,GAAG5D;AAFL,SAAV;;AAKA,YAAIiE,UAAU1F,KAAK+E,IAAL,CAAUM,EAAV,EAAcvB,EAAd,CAAd;;AAEA,YAAI6B,UAAU;AACZnE,aAAGiE,IAAIjE,CAAJ,GAAQkE,OADC;AAEZjE,aAAGgE,IAAIhE,CAAJ,GAAQiE;AAFC,SAAd;;AAKAJ,YAAIA,KAAK,IAAL,GAAY,CAAZ,GAAgBA,CAApB;;AAEAjL,YAAIA,KAAK,IAAL,GAAYA,CAAZ,GAAgBiL,IAAII,OAAxB;;AAEA,eAAO;AACLlE,aAAG6D,GAAG7D,CAAH,GAAOmE,QAAQnE,CAAR,GAAYnH,CADjB;AAELoH,aAAG4D,GAAG5D,CAAH,GAAOkE,QAAQlE,CAAR,GAAYpH;AAFjB,SAAP;AAID,OArBD;;AAuBA2F,WAAK4F,UAAL,GAAkB,UAAUP,EAAV,EAAcvB,EAAd,EAAkBzJ,CAAlB,EAAqB;AACrC,eAAO2F,KAAKwF,MAAL,CAAYH,EAAZ,EAAgBvB,EAAhB,EAAoBxG,SAApB,EAA+BjD,CAA/B,CAAP;AACD,OAFD;;AAIA;AACA2F,WAAK6F,aAAL,GAAqB,UAAUC,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmB;AACtC,YAAIrE,IAAI3B,KAAK+E,IAAL,CAAUgB,CAAV,EAAaC,CAAb,CAAR;AACA,YAAIpE,IAAI5B,KAAK+E,IAAL,CAAUe,CAAV,EAAaE,CAAb,CAAR;AACA,YAAI7L,IAAI6F,KAAK+E,IAAL,CAAUe,CAAV,EAAaC,CAAb,CAAR;;AAEA,eAAO7I,KAAK+I,IAAL,CAAU,CAACtE,IAAIA,CAAJ,GAAQC,IAAIA,CAAZ,GAAgBzH,IAAIA,CAArB,KAA2B,IAAIwH,CAAJ,GAAQC,CAAnC,CAAV,CAAP;AACD,OAND;;AAQA5B,WAAKkG,KAAL,GAAa,UAAUC,GAAV,EAAexD,GAAf,EAAoByD,GAApB,EAAyB;AACpC,eAAOlJ,KAAKkJ,GAAL,CAASD,GAAT,EAAcjJ,KAAKiJ,GAAL,CAASC,GAAT,EAAczD,GAAd,CAAd,CAAP;AACD,OAFD;;AAIA;AACA3C,WAAK+B,eAAL,GAAuB,UAAUsE,EAAV,EAAc;AACnC,YAAIA,MAAM,IAAV,EAAgB;AACd,iBAAO;AACL9H,gBAAI+H,QADC;AAEL7H,gBAAI6H,QAFC;AAGL9H,gBAAI,CAAC8H,QAHA;AAIL5H,gBAAI,CAAC4H,QAJA;AAKLC,eAAG,CALE;AAMLC,eAAG;AANE,WAAP;AAQD,SATD,MASO,IAAIH,GAAG9H,EAAH,IAAS,IAAT,IAAiB8H,GAAG5H,EAAH,IAAS,IAA9B,EAAoC;AACzC,cAAI4H,GAAG7H,EAAH,IAAS,IAAT,IAAiB6H,GAAG3H,EAAH,IAAS,IAA1B,IAAkC2H,GAAG7H,EAAH,IAAS6H,GAAG9H,EAA9C,IAAoD8H,GAAG3H,EAAH,IAAS2H,GAAG5H,EAApE,EAAwE;AACtE,mBAAO;AACLF,kBAAI8H,GAAG9H,EADF;AAELE,kBAAI4H,GAAG5H,EAFF;AAGLD,kBAAI6H,GAAG7H,EAHF;AAILE,kBAAI2H,GAAG3H,EAJF;AAKL6H,iBAAGF,GAAG7H,EAAH,GAAQ6H,GAAG9H,EALT;AAMLiI,iBAAGH,GAAG3H,EAAH,GAAQ2H,GAAG5H;AANT,aAAP;AAQD,WATD,MASO,IAAI4H,GAAGE,CAAH,IAAQ,IAAR,IAAgBF,GAAGG,CAAH,IAAQ,IAAxB,IAAgCH,GAAGE,CAAH,IAAQ,CAAxC,IAA6CF,GAAGG,CAAH,IAAQ,CAAzD,EAA4D;AACjE,mBAAO;AACLjI,kBAAI8H,GAAG9H,EADF;AAELE,kBAAI4H,GAAG5H,EAFF;AAGLD,kBAAI6H,GAAG9H,EAAH,GAAQ8H,GAAGE,CAHV;AAIL7H,kBAAI2H,GAAG5H,EAAH,GAAQ4H,GAAGG,CAJV;AAKLD,iBAAGF,GAAGE,CALD;AAMLC,iBAAGH,GAAGG;AAND,aAAP;AAQD;AACF;AACF,OA/BD;;AAiCAxG,WAAKyG,iBAAL,GAAyB,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC3C;;AAEAD,YAAInI,EAAJ,GAASrB,KAAKiJ,GAAL,CAASO,IAAInI,EAAb,EAAiBoI,IAAIpI,EAArB,CAAT;AACAmI,YAAIlI,EAAJ,GAAStB,KAAKkJ,GAAL,CAASM,IAAIlI,EAAb,EAAiBmI,IAAInI,EAArB,CAAT;AACAkI,YAAIH,CAAJ,GAAQG,IAAIlI,EAAJ,GAASkI,IAAInI,EAArB;;AAEAmI,YAAIjI,EAAJ,GAASvB,KAAKiJ,GAAL,CAASO,IAAIjI,EAAb,EAAiBkI,IAAIlI,EAArB,CAAT;AACAiI,YAAIhI,EAAJ,GAASxB,KAAKkJ,GAAL,CAASM,IAAIhI,EAAb,EAAiBiI,IAAIjI,EAArB,CAAT;AACAgI,YAAIF,CAAJ,GAAQE,IAAIhI,EAAJ,GAASgI,IAAIjI,EAArB;AACD,OAVD;;AAYAuB,WAAK4G,wBAAL,GAAgC,UAAUP,EAAV,EAAc7E,CAAd,EAAiBC,CAAjB,EAAoB;AAClD4E,WAAG9H,EAAH,GAAQrB,KAAKiJ,GAAL,CAASE,GAAG9H,EAAZ,EAAgBiD,CAAhB,CAAR;AACA6E,WAAG7H,EAAH,GAAQtB,KAAKkJ,GAAL,CAASC,GAAG7H,EAAZ,EAAgBgD,CAAhB,CAAR;AACA6E,WAAGE,CAAH,GAAOF,GAAG7H,EAAH,GAAQ6H,GAAG9H,EAAlB;;AAEA8H,WAAG5H,EAAH,GAAQvB,KAAKiJ,GAAL,CAASE,GAAG5H,EAAZ,EAAgBgD,CAAhB,CAAR;AACA4E,WAAG3H,EAAH,GAAQxB,KAAKkJ,GAAL,CAASC,GAAG3H,EAAZ,EAAgB+C,CAAhB,CAAR;AACA4E,WAAGG,CAAH,GAAOH,GAAG3H,EAAH,GAAQ2H,GAAG5H,EAAlB;AACD,OARD;;AAUAuB,WAAK6G,iBAAL,GAAyB,UAAUR,EAAV,EAAcS,OAAd,EAAuB;AAC9CT,WAAG9H,EAAH,IAASuI,OAAT;AACAT,WAAG7H,EAAH,IAASsI,OAAT;AACAT,WAAG5H,EAAH,IAASqI,OAAT;AACAT,WAAG3H,EAAH,IAASoI,OAAT;AACAT,WAAGE,CAAH,GAAOF,GAAG7H,EAAH,GAAQ6H,GAAG9H,EAAlB;AACA8H,WAAGG,CAAH,GAAOH,GAAG3H,EAAH,GAAQ2H,GAAG5H,EAAlB;;AAEA,eAAO4H,EAAP;AACD,OATD;;AAWArG,WAAK+G,sBAAL,GAA8B,UAAUL,GAAV,EAAeC,GAAf,EAAoB;AAChD;AACA,YAAID,IAAInI,EAAJ,GAASoI,IAAInI,EAAjB,EAAqB;AACnB,iBAAO,KAAP;AACD;AACD,YAAImI,IAAIpI,EAAJ,GAASmI,IAAIlI,EAAjB,EAAqB;AACnB,iBAAO,KAAP;AACD;;AAED;AACA,YAAIkI,IAAIlI,EAAJ,GAASmI,IAAIpI,EAAjB,EAAqB;AACnB,iBAAO,KAAP;AACD;AACD,YAAIoI,IAAInI,EAAJ,GAASkI,IAAInI,EAAjB,EAAqB;AACnB,iBAAO,KAAP;AACD;;AAED;AACA,YAAImI,IAAIhI,EAAJ,GAASiI,IAAIlI,EAAjB,EAAqB;AACnB,iBAAO,KAAP;AACD;AACD,YAAIkI,IAAIjI,EAAJ,GAASgI,IAAIjI,EAAjB,EAAqB;AACnB,iBAAO,KAAP;AACD;;AAED;AACA,YAAIiI,IAAIjI,EAAJ,GAASkI,IAAIjI,EAAjB,EAAqB;AACnB,iBAAO,KAAP;AACD;AACD,YAAIiI,IAAIlI,EAAJ,GAASiI,IAAIhI,EAAjB,EAAqB;AACnB,iBAAO,KAAP;AACD;;AAED;AACA,eAAO,IAAP;AACD,OAnCD;;AAqCAsB,WAAKgH,aAAL,GAAqB,UAAUX,EAAV,EAAc7E,CAAd,EAAiBC,CAAjB,EAAoB;AACvC,eAAO4E,GAAG9H,EAAH,IAASiD,CAAT,IAAcA,KAAK6E,GAAG7H,EAAtB,IAA4B6H,GAAG5H,EAAH,IAASgD,CAArC,IAA0CA,KAAK4E,GAAG3H,EAAzD;AACD,OAFD;;AAIAsB,WAAKiH,kBAAL,GAA0B,UAAUZ,EAAV,EAAca,EAAd,EAAkB;AAC1C,eAAO,KAAKF,aAAL,CAAmBX,EAAnB,EAAuBa,GAAG1F,CAA1B,EAA6B0F,GAAGzF,CAAhC,CAAP;AACD,OAFD;;AAIAzB,WAAKmH,wBAAL,GAAgC,UAAUT,GAAV,EAAeC,GAAf,EAAoB;AAClD,eAAO3G,KAAKgH,aAAL,CAAmBN,GAAnB,EAAwBC,IAAIpI,EAA5B,EAAgCoI,IAAIlI,EAApC,KAA2CuB,KAAKgH,aAAL,CAAmBN,GAAnB,EAAwBC,IAAInI,EAA5B,EAAgCmI,IAAIjI,EAApC,CAAlD;AACD,OAFD;;AAIAsB,WAAKoH,2BAAL,GAAmC,UAAU5F,CAAV,EAAaC,CAAb,EAAgB4F,KAAhB,EAAuBC,KAAvB,EAA8BC,KAA9B,EAAqCC,MAArC,EAA6CV,OAA7C,EAAsD;;AAEvF,YAAIW,eAAe,KAAKC,uBAAL,CAA6BH,KAA7B,EAAoCC,MAApC,CAAnB;;AAEA,YAAIG,YAAYJ,QAAQ,CAAxB;AACA,YAAIK,aAAaJ,SAAS,CAA1B;;AAEA;AACA,YAAIK,4BAA4B,KAAK,CAArC;;AAEA;AACA;AACE,cAAIC,YAAYT,QAAQM,SAAR,GAAoBF,YAApB,GAAmCX,OAAnD;AACA,cAAIiB,YAAYT,QAAQM,UAAR,GAAqBd,OAArC;AACA,cAAIkB,UAAUX,QAAQM,SAAR,GAAoBF,YAApB,GAAmCX,OAAjD;AACA,cAAImB,UAAUF,SAAd;;AAEAF,sCAA4B,KAAKK,oBAAL,CAA0B1G,CAA1B,EAA6BC,CAA7B,EAAgC4F,KAAhC,EAAuCC,KAAvC,EAA8CQ,SAA9C,EAAyDC,SAAzD,EAAoEC,OAApE,EAA6EC,OAA7E,EAAsF,KAAtF,CAA5B;;AAEA,cAAIJ,0BAA0BvF,MAA1B,GAAmC,CAAvC,EAA0C;AACxC,mBAAOuF,yBAAP;AACD;AACF;;AAED;AACA;AACE,cAAIM,cAAcd,QAAQM,SAAR,GAAoBb,OAAtC;AACA,cAAIsB,cAAcd,QAAQM,UAAR,GAAqBH,YAArB,GAAoCX,OAAtD;AACA,cAAIuB,YAAYF,WAAhB;AACA,cAAIG,YAAYhB,QAAQM,UAAR,GAAqBH,YAArB,GAAoCX,OAApD;;AAEAe,sCAA4B,KAAKK,oBAAL,CAA0B1G,CAA1B,EAA6BC,CAA7B,EAAgC4F,KAAhC,EAAuCC,KAAvC,EAA8Ca,WAA9C,EAA2DC,WAA3D,EAAwEC,SAAxE,EAAmFC,SAAnF,EAA8F,KAA9F,CAA5B;;AAEA,cAAIT,0BAA0BvF,MAA1B,GAAmC,CAAvC,EAA0C;AACxC,mBAAOuF,yBAAP;AACD;AACF;;AAED;AACA;AACE,cAAIU,eAAelB,QAAQM,SAAR,GAAoBF,YAApB,GAAmCX,OAAtD;AACA,cAAI0B,eAAelB,QAAQM,UAAR,GAAqBd,OAAxC;AACA,cAAI2B,aAAapB,QAAQM,SAAR,GAAoBF,YAApB,GAAmCX,OAApD;AACA,cAAI4B,aAAaF,YAAjB;;AAEAX,sCAA4B,KAAKK,oBAAL,CAA0B1G,CAA1B,EAA6BC,CAA7B,EAAgC4F,KAAhC,EAAuCC,KAAvC,EAA8CiB,YAA9C,EAA4DC,YAA5D,EAA0EC,UAA1E,EAAsFC,UAAtF,EAAkG,KAAlG,CAA5B;;AAEA,cAAIb,0BAA0BvF,MAA1B,GAAmC,CAAvC,EAA0C;AACxC,mBAAOuF,yBAAP;AACD;AACF;;AAED;AACA;AACE,cAAIc,aAAatB,QAAQM,SAAR,GAAoBb,OAArC;AACA,cAAI8B,aAAatB,QAAQM,UAAR,GAAqBH,YAArB,GAAoCX,OAArD;AACA,cAAI+B,WAAWF,UAAf;AACA,cAAIG,WAAWxB,QAAQM,UAAR,GAAqBH,YAArB,GAAoCX,OAAnD;;AAEAe,sCAA4B,KAAKK,oBAAL,CAA0B1G,CAA1B,EAA6BC,CAA7B,EAAgC4F,KAAhC,EAAuCC,KAAvC,EAA8CqB,UAA9C,EAA0DC,UAA1D,EAAsEC,QAAtE,EAAgFC,QAAhF,EAA0F,KAA1F,CAA5B;;AAEA,cAAIjB,0BAA0BvF,MAA1B,GAAmC,CAAvC,EAA0C;AACxC,mBAAOuF,yBAAP;AACD;AACF;;AAED;AACA,YAAIkB,mBAAmB,KAAK,CAA5B;;AAEA;AACA;AACE,cAAIC,iBAAiB3B,QAAQM,SAAR,GAAoBF,YAAzC;AACA,cAAIwB,iBAAiB3B,QAAQM,UAAR,GAAqBH,YAA1C;AACAsB,6BAAmB,KAAKG,mBAAL,CAAyB1H,CAAzB,EAA4BC,CAA5B,EAA+B4F,KAA/B,EAAsCC,KAAtC,EAA6C0B,cAA7C,EAA6DC,cAA7D,EAA6ExB,eAAeX,OAA5F,CAAnB;;AAEA;AACA,cAAIiC,iBAAiBzG,MAAjB,GAA0B,CAA1B,IAA+ByG,iBAAiB,CAAjB,KAAuBC,cAAtD,IAAwED,iBAAiB,CAAjB,KAAuBE,cAAnG,EAAmH;AACjH,mBAAO,CAACF,iBAAiB,CAAjB,CAAD,EAAsBA,iBAAiB,CAAjB,CAAtB,CAAP;AACD;AACF;;AAED;AACA;AACE,cAAII,kBAAkB9B,QAAQM,SAAR,GAAoBF,YAA1C;AACA,cAAI2B,kBAAkB9B,QAAQM,UAAR,GAAqBH,YAA3C;AACAsB,6BAAmB,KAAKG,mBAAL,CAAyB1H,CAAzB,EAA4BC,CAA5B,EAA+B4F,KAA/B,EAAsCC,KAAtC,EAA6C6B,eAA7C,EAA8DC,eAA9D,EAA+E3B,eAAeX,OAA9F,CAAnB;;AAEA;AACA,cAAIiC,iBAAiBzG,MAAjB,GAA0B,CAA1B,IAA+ByG,iBAAiB,CAAjB,KAAuBI,eAAtD,IAAyEJ,iBAAiB,CAAjB,KAAuBK,eAApG,EAAqH;AACnH,mBAAO,CAACL,iBAAiB,CAAjB,CAAD,EAAsBA,iBAAiB,CAAjB,CAAtB,CAAP;AACD;AACF;;AAED;AACA;AACE,cAAIM,qBAAqBhC,QAAQM,SAAR,GAAoBF,YAA7C;AACA,cAAI6B,qBAAqBhC,QAAQM,UAAR,GAAqBH,YAA9C;AACAsB,6BAAmB,KAAKG,mBAAL,CAAyB1H,CAAzB,EAA4BC,CAA5B,EAA+B4F,KAA/B,EAAsCC,KAAtC,EAA6C+B,kBAA7C,EAAiEC,kBAAjE,EAAqF7B,eAAeX,OAApG,CAAnB;;AAEA;AACA,cAAIiC,iBAAiBzG,MAAjB,GAA0B,CAA1B,IAA+ByG,iBAAiB,CAAjB,KAAuBM,kBAAtD,IAA4EN,iBAAiB,CAAjB,KAAuBO,kBAAvG,EAA2H;AACzH,mBAAO,CAACP,iBAAiB,CAAjB,CAAD,EAAsBA,iBAAiB,CAAjB,CAAtB,CAAP;AACD;AACF;;AAED;AACA;AACE,cAAIQ,oBAAoBlC,QAAQM,SAAR,GAAoBF,YAA5C;AACA,cAAI+B,oBAAoBlC,QAAQM,UAAR,GAAqBH,YAA7C;AACAsB,6BAAmB,KAAKG,mBAAL,CAAyB1H,CAAzB,EAA4BC,CAA5B,EAA+B4F,KAA/B,EAAsCC,KAAtC,EAA6CiC,iBAA7C,EAAgEC,iBAAhE,EAAmF/B,eAAeX,OAAlG,CAAnB;;AAEA;AACA,cAAIiC,iBAAiBzG,MAAjB,GAA0B,CAA1B,IAA+ByG,iBAAiB,CAAjB,KAAuBQ,iBAAtD,IAA2ER,iBAAiB,CAAjB,KAAuBS,iBAAtG,EAAyH;AACvH,mBAAO,CAACT,iBAAiB,CAAjB,CAAD,EAAsBA,iBAAiB,CAAjB,CAAtB,CAAP;AACD;AACF;;AAED,eAAO,EAAP,CArHuF,CAqH5E;AACZ,OAtHD;;AAwHA/I,WAAKyJ,cAAL,GAAsB,UAAUjI,CAAV,EAAaC,CAAb,EAAgBiI,GAAhB,EAAqBC,GAArB,EAA0BC,GAA1B,EAA+BC,GAA/B,EAAoCC,SAApC,EAA+C;AACnE,YAAIxE,IAAIwE,SAAR;;AAEA,YAAIvL,KAAKrB,KAAKiJ,GAAL,CAASuD,GAAT,EAAcE,GAAd,CAAT;AACA,YAAIpL,KAAKtB,KAAKkJ,GAAL,CAASsD,GAAT,EAAcE,GAAd,CAAT;AACA,YAAInL,KAAKvB,KAAKiJ,GAAL,CAASwD,GAAT,EAAcE,GAAd,CAAT;AACA,YAAInL,KAAKxB,KAAKkJ,GAAL,CAASuD,GAAT,EAAcE,GAAd,CAAT;;AAEA,eAAOtL,KAAK+G,CAAL,IAAU9D,CAAV,IAAeA,KAAKhD,KAAK8G,CAAzB,IAA8B7G,KAAK6G,CAAL,IAAU7D,CAAxC,IAA6CA,KAAK/C,KAAK4G,CAA9D;AACD,OATD;;AAWAtF,WAAK+J,gBAAL,GAAwB,UAAUvI,CAAV,EAAaC,CAAb,EAAgBlD,EAAhB,EAAoBE,EAApB,EAAwBD,EAAxB,EAA4BE,EAA5B,EAAgCsL,EAAhC,EAAoCC,EAApC,EAAwCH,SAAxC,EAAmD;;AAEzE,YAAIzD,KAAK;AACP9H,cAAIrB,KAAKiJ,GAAL,CAAS5H,EAAT,EAAayL,EAAb,EAAiBxL,EAAjB,IAAuBsL,SADpB;AAEPtL,cAAItB,KAAKkJ,GAAL,CAAS7H,EAAT,EAAayL,EAAb,EAAiBxL,EAAjB,IAAuBsL,SAFpB;AAGPrL,cAAIvB,KAAKiJ,GAAL,CAAS1H,EAAT,EAAawL,EAAb,EAAiBvL,EAAjB,IAAuBoL,SAHpB;AAIPpL,cAAIxB,KAAKkJ,GAAL,CAAS3H,EAAT,EAAawL,EAAb,EAAiBvL,EAAjB,IAAuBoL;AAJpB,SAAT;;AAOA;AACA,YAAItI,IAAI6E,GAAG9H,EAAP,IAAaiD,IAAI6E,GAAG7H,EAApB,IAA0BiD,IAAI4E,GAAG5H,EAAjC,IAAuCgD,IAAI4E,GAAG3H,EAAlD,EAAsD;AACpD;AACA,iBAAO,KAAP;AACD,SAHD,MAGO;AACL;AACA,iBAAO,IAAP;AACD;AACF,OAjBD;AAkBAsB,WAAKkK,cAAL,GAAsB,UAAUvI,CAAV,EAAaC,CAAb,EAAgBzH,CAAhB,EAAmBwI,GAAnB,EAAwB;AAC5CxI,aAAKwI,GAAL;;AAEA,YAAIwH,IAAIvI,IAAIA,CAAJ,GAAQ,IAAID,CAAJ,GAAQxH,CAAxB;;AAEA,YAAIgQ,IAAI,CAAR,EAAW;AACT,iBAAO,EAAP;AACD;;AAED,YAAIC,QAAQlN,KAAK8H,IAAL,CAAUmF,CAAV,CAAZ;AACA,YAAIE,QAAQ,IAAI1I,CAAhB;AACA,YAAI2I,QAAQ,CAAC,CAAC1I,CAAD,GAAKwI,KAAN,IAAeC,KAA3B;AACA,YAAIE,QAAQ,CAAC,CAAC3I,CAAD,GAAKwI,KAAN,IAAeC,KAA3B;;AAEA,eAAO,CAACC,KAAD,EAAQC,KAAR,CAAP;AACD,OAfD;;AAiBAvK,WAAKwK,UAAL,GAAkB,UAAU7I,CAAV,EAAaC,CAAb,EAAgBzH,CAAhB,EAAmBE,CAAnB,EAAsBoQ,MAAtB,EAA8B;;AAE9C;AACA;;AAEA;AACA;;AAEA7I,aAAKD,CAAL;AACAxH,aAAKwH,CAAL;AACAtH,aAAKsH,CAAL;;AAEA,YAAI+I,eAAe,KAAK,CAAxB;AAAA,YACIC,IAAI,KAAK,CADb;AAAA,YAEIR,IAAI,KAAK,CAFb;AAAA,YAGIS,OAAO,KAAK,CAHhB;AAAA,YAIIrP,IAAI,KAAK,CAJb;AAAA,YAKI+J,IAAI,KAAK,CALb;AAAA,YAMIuF,QAAQ,KAAK,CANjB;AAAA,YAOIC,MAAM,KAAK,CAPf;;AASAH,YAAI,CAAC,MAAMxQ,CAAN,GAAUyH,IAAIA,CAAf,IAAoB,GAAxB;AACAuI,YAAI,EAAE,OAAO9P,CAAT,IAAcuH,KAAK,MAAMzH,CAAN,GAAU,OAAOyH,IAAIA,CAAX,CAAf,CAAlB;AACAuI,aAAK,IAAL;;AAEAO,uBAAeC,IAAIA,CAAJ,GAAQA,CAAR,GAAYR,IAAIA,CAA/B;AACAM,eAAO,CAAP,IAAY,CAAZ;AACAI,gBAAQjJ,IAAI,GAAZ;;AAEA,YAAI8I,eAAe,CAAnB,EAAsB;AACpBnP,cAAI4O,IAAIjN,KAAK8H,IAAL,CAAU0F,YAAV,CAAR;AACAnP,cAAIA,IAAI,CAAJ,GAAQ,CAAC2B,KAAK6N,GAAL,CAAS,CAACxP,CAAV,EAAa,MAAM,GAAnB,CAAT,GAAmC2B,KAAK6N,GAAL,CAASxP,CAAT,EAAY,MAAM,GAAlB,CAAvC;AACA+J,cAAI6E,IAAIjN,KAAK8H,IAAL,CAAU0F,YAAV,CAAR;AACApF,cAAIA,IAAI,CAAJ,GAAQ,CAACpI,KAAK6N,GAAL,CAAS,CAACzF,CAAV,EAAa,MAAM,GAAnB,CAAT,GAAmCpI,KAAK6N,GAAL,CAASzF,CAAT,EAAY,MAAM,GAAlB,CAAvC;AACAmF,iBAAO,CAAP,IAAY,CAACI,KAAD,GAAStP,CAAT,GAAa+J,CAAzB;AACAuF,mBAAS,CAACtP,IAAI+J,CAAL,IAAU,GAAnB;AACAmF,iBAAO,CAAP,IAAYA,OAAO,CAAP,IAAY,CAACI,KAAzB;AACAA,kBAAQ3N,KAAK8H,IAAL,CAAU,GAAV,KAAkB,CAACM,CAAD,GAAK/J,CAAvB,IAA4B,CAApC;AACAkP,iBAAO,CAAP,IAAYI,KAAZ;AACAJ,iBAAO,CAAP,IAAY,CAACI,KAAb;AACA;AACD;;AAEDJ,eAAO,CAAP,IAAYA,OAAO,CAAP,IAAY,CAAxB;;AAEA,YAAIC,iBAAiB,CAArB,EAAwB;AACtBI,gBAAMX,IAAI,CAAJ,GAAQ,CAACjN,KAAK6N,GAAL,CAAS,CAACZ,CAAV,EAAa,MAAM,GAAnB,CAAT,GAAmCjN,KAAK6N,GAAL,CAASZ,CAAT,EAAY,MAAM,GAAlB,CAAzC;AACAM,iBAAO,CAAP,IAAY,CAACI,KAAD,GAAS,MAAMC,GAA3B;AACAL,iBAAO,CAAP,IAAYA,OAAO,CAAP,IAAY,EAAEK,MAAMD,KAAR,CAAxB;AACA;AACD;;AAEDF,YAAI,CAACA,CAAL;AACAC,eAAOD,IAAIA,CAAJ,GAAQA,CAAf;AACAC,eAAO1N,KAAK+I,IAAL,CAAUkE,IAAIjN,KAAK8H,IAAL,CAAU4F,IAAV,CAAd,CAAP;AACAE,cAAM,MAAM5N,KAAK8H,IAAL,CAAU2F,CAAV,CAAZ;AACAF,eAAO,CAAP,IAAY,CAACI,KAAD,GAASC,MAAM5N,KAAK8N,GAAL,CAASJ,OAAO,GAAhB,CAA3B;AACAH,eAAO,CAAP,IAAY,CAACI,KAAD,GAASC,MAAM5N,KAAK8N,GAAL,CAAS,CAACJ,OAAO,MAAM1N,KAAKsH,EAAnB,IAAyB,GAAlC,CAA3B;AACAiG,eAAO,CAAP,IAAY,CAACI,KAAD,GAASC,MAAM5N,KAAK8N,GAAL,CAAS,CAACJ,OAAO,MAAM1N,KAAKsH,EAAnB,IAAyB,GAAlC,CAA3B;;AAEA;AACD,OA7DD;;AA+DAxE,WAAKiL,uBAAL,GAA+B,UAAUzJ,CAAV,EAAaC,CAAb,EAAgBlD,EAAhB,EAAoBE,EAApB,EAAwBD,EAAxB,EAA4BE,EAA5B,EAAgCsL,EAAhC,EAAoCC,EAApC,EAAwC;;AAErE;AACA;;AAEA;AACA;AACA;;AAEA,YAAItI,IAAI,MAAMpD,EAAN,GAAWA,EAAX,GAAgB,IAAIA,EAAJ,GAASC,EAAzB,GAA8B,IAAID,EAAJ,GAASyL,EAAvC,GAA4C,IAAIxL,EAAJ,GAASA,EAArD,GAA0D,IAAIA,EAAJ,GAASwL,EAAnE,GAAwEA,KAAKA,EAA7E,GAAkFvL,KAAKA,EAAvF,GAA4F,IAAIA,EAAJ,GAASC,EAArG,GAA0G,IAAID,EAAJ,GAASwL,EAAnH,GAAwH,IAAIvL,EAAJ,GAASA,EAAjI,GAAsI,IAAIA,EAAJ,GAASuL,EAA/I,GAAoJA,KAAKA,EAAjK;;AAEA,YAAIrI,IAAI,MAAM,CAAN,GAAUrD,EAAV,GAAeC,EAAf,GAAoB,IAAID,EAAJ,GAASA,EAA7B,GAAkC,IAAIA,EAAJ,GAASyL,EAA3C,GAAgD,IAAIxL,EAAJ,GAASA,EAAzD,GAA8D,IAAIA,EAAJ,GAASwL,EAAvE,GAA4E,IAAIvL,EAAJ,GAASC,EAArF,GAA0F,IAAID,EAAJ,GAASA,EAAnG,GAAwG,IAAIA,EAAJ,GAASwL,EAAjH,GAAsH,IAAIvL,EAAJ,GAASA,EAA/H,GAAoI,IAAIA,EAAJ,GAASuL,EAArJ;;AAEA,YAAI9P,IAAI,MAAM,CAAN,GAAUoE,EAAV,GAAeA,EAAf,GAAoB,IAAIA,EAAJ,GAASC,EAA7B,GAAkCD,KAAKyL,EAAvC,GAA4CzL,KAAKiD,CAAjD,GAAqD,IAAIhD,EAAJ,GAASA,EAA9D,GAAmE,IAAIA,EAAJ,GAASgD,CAA5E,GAAgFwI,KAAKxI,CAArF,GAAyF,IAAI/C,EAAJ,GAASA,EAAlG,GAAuG,IAAIA,EAAJ,GAASC,EAAhH,GAAqHD,KAAKwL,EAA1H,GAA+HxL,KAAKgD,CAApI,GAAwI,IAAI/C,EAAJ,GAASA,EAAjJ,GAAsJ,IAAIA,EAAJ,GAAS+C,CAA/J,GAAmKwI,KAAKxI,CAAhL;;AAEA,YAAIpH,IAAI,MAAMkE,EAAN,GAAWC,EAAX,GAAgBD,KAAKA,EAArB,GAA0BA,KAAKiD,CAA/B,GAAmChD,KAAKgD,CAAxC,GAA4C/C,KAAKC,EAAjD,GAAsDD,KAAKA,EAA3D,GAAgEA,KAAKgD,CAArE,GAAyE/C,KAAK+C,CAAtF;;AAEA;;AAEA,YAAIyJ,QAAQ,EAAZ;;AAEA;AACA,aAAKV,UAAL,CAAgB7I,CAAhB,EAAmBC,CAAnB,EAAsBzH,CAAtB,EAAyBE,CAAzB,EAA4B6Q,KAA5B;;AAEA,YAAIC,gBAAgB,SAApB;;AAEA,YAAIC,SAAS,EAAb;;AAEA,aAAK,IAAIC,QAAQ,CAAjB,EAAoBA,QAAQ,CAA5B,EAA+BA,SAAS,CAAxC,EAA2C;AACzC,cAAInO,KAAKoO,GAAL,CAASJ,MAAMG,QAAQ,CAAd,CAAT,IAA6BF,aAA7B,IAA8CD,MAAMG,KAAN,KAAgB,CAA9D,IAAmEH,MAAMG,KAAN,KAAgB,GAAvF,EAA4F;AAC1FD,mBAAOlI,IAAP,CAAYgI,MAAMG,KAAN,CAAZ;AACD;AACF;;AAEDD,eAAOlI,IAAP,CAAY,GAAZ;AACAkI,eAAOlI,IAAP,CAAY,GAAZ;;AAEA,YAAIqI,qBAAqB,CAAC,CAA1B;;AAEA,YAAIC,OAAO,KAAK,CAAhB;AAAA,YACIC,OAAO,KAAK,CADhB;AAAA,YAEIC,cAAc,KAAK,CAFvB;AAGA,aAAK,IAAI3R,IAAI,CAAb,EAAgBA,IAAIqR,OAAO9I,MAA3B,EAAmCvI,GAAnC,EAAwC;AACtCyR,iBAAOtO,KAAK6N,GAAL,CAAS,MAAMK,OAAOrR,CAAP,CAAf,EAA0B,GAA1B,IAAiCwE,EAAjC,GAAsC,OAAO,IAAI6M,OAAOrR,CAAP,CAAX,IAAwBqR,OAAOrR,CAAP,CAAxB,GAAoCyE,EAA1E,GAA+E4M,OAAOrR,CAAP,IAAYqR,OAAOrR,CAAP,CAAZ,GAAwBiQ,EAA9G;;AAEAyB,iBAAOvO,KAAK6N,GAAL,CAAS,IAAIK,OAAOrR,CAAP,CAAb,EAAwB,GAAxB,IAA+B0E,EAA/B,GAAoC,KAAK,MAAM2M,OAAOrR,CAAP,CAAX,IAAwBqR,OAAOrR,CAAP,CAAxB,GAAoC2E,EAAxE,GAA6E0M,OAAOrR,CAAP,IAAYqR,OAAOrR,CAAP,CAAZ,GAAwBkQ,EAA5G;;AAEAyB,wBAAcxO,KAAK6N,GAAL,CAASS,OAAOhK,CAAhB,EAAmB,CAAnB,IAAwBtE,KAAK6N,GAAL,CAASU,OAAOhK,CAAhB,EAAmB,CAAnB,CAAtC;AACA;AACA,cAAI8J,sBAAsB,CAA1B,EAA6B;AAC3B,gBAAIG,cAAcH,kBAAlB,EAAsC;AACpCA,mCAAqBG,WAArB;AACD;AACF,WAJD,MAIO;AACLH,iCAAqBG,WAArB;AACD;AACF;;AAED,eAAOH,kBAAP;AACD,OA3DD;;AA6DAvL,WAAK2L,kBAAL,GAA0B,UAAUnK,CAAV,EAAaC,CAAb,EAAgBlD,EAAhB,EAAoBE,EAApB,EAAwBD,EAAxB,EAA4BE,EAA5B,EAAgC;AACxD,YAAIkN,SAAS,CAACpK,IAAIjD,EAAL,EAASkD,IAAIhD,EAAb,CAAb;AACA,YAAIoN,OAAO,CAACrN,KAAKD,EAAN,EAAUG,KAAKD,EAAf,CAAX;;AAEA,YAAIqN,SAASD,KAAK,CAAL,IAAUA,KAAK,CAAL,CAAV,GAAoBA,KAAK,CAAL,IAAUA,KAAK,CAAL,CAA3C;AACA,YAAIE,QAAQH,OAAO,CAAP,IAAYA,OAAO,CAAP,CAAZ,GAAwBA,OAAO,CAAP,IAAYA,OAAO,CAAP,CAAhD;;AAEA,YAAII,aAAaJ,OAAO,CAAP,IAAYC,KAAK,CAAL,CAAZ,GAAsBD,OAAO,CAAP,IAAYC,KAAK,CAAL,CAAnD;AACA,YAAII,QAAQD,aAAaA,UAAb,GAA0BF,MAAtC;;AAEA,YAAIE,aAAa,CAAjB,EAAoB;AAClB,iBAAOD,KAAP;AACD;;AAED,YAAIE,QAAQH,MAAZ,EAAoB;AAClB,iBAAO,CAACtK,IAAIhD,EAAL,KAAYgD,IAAIhD,EAAhB,IAAsB,CAACiD,IAAI/C,EAAL,KAAY+C,IAAI/C,EAAhB,CAA7B;AACD;;AAED,eAAOqN,QAAQE,KAAf;AACD,OAnBD;;AAqBAjM,WAAKkM,wBAAL,GAAgC,UAAU1K,CAAV,EAAaC,CAAb,EAAgB0K,MAAhB,EAAwB;AACtD,YAAI5N,KAAK,KAAK,CAAd;AAAA,YACIE,KAAK,KAAK,CADd;AAAA,YAEID,KAAK,KAAK,CAFd;AAAA,YAGIE,KAAK,KAAK,CAHd;AAIA,YAAIuL,KAAK,KAAK,CAAd;;AAEA;AACA,YAAImC,KAAK,CAAT;AACA;AACA,aAAK,IAAIrS,IAAI,CAAb,EAAgBA,IAAIoS,OAAO7J,MAAP,GAAgB,CAApC,EAAuCvI,GAAvC,EAA4C;AAC1CwE,eAAK4N,OAAOpS,IAAI,CAAX,CAAL;AACA0E,eAAK0N,OAAOpS,IAAI,CAAJ,GAAQ,CAAf,CAAL;;AAEA,cAAIA,IAAI,CAAJ,GAAQoS,OAAO7J,MAAP,GAAgB,CAA5B,EAA+B;AAC7B9D,iBAAK2N,OAAO,CAACpS,IAAI,CAAL,IAAU,CAAjB,CAAL;AACA2E,iBAAKyN,OAAO,CAACpS,IAAI,CAAL,IAAU,CAAV,GAAc,CAArB,CAAL;AACD,WAHD,MAGO;AACLyE,iBAAK2N,OAAO,CAACpS,IAAI,CAAJ,GAAQoS,OAAO7J,MAAP,GAAgB,CAAzB,IAA8B,CAArC,CAAL;AACA5D,iBAAKyN,OAAO,CAACpS,IAAI,CAAJ,GAAQoS,OAAO7J,MAAP,GAAgB,CAAzB,IAA8B,CAA9B,GAAkC,CAAzC,CAAL;AACD;;AAED,cAAI/D,MAAMiD,CAAN,IAAWhD,MAAMgD,CAArB,EAAwB;AACtB;AACD,WAFD,MAEO,IAAIjD,MAAMiD,CAAN,IAAWA,KAAKhD,EAAhB,IAAsBD,MAAMiD,CAAN,IAAWA,KAAKhD,EAA1C,EAA8C;;AAEnDyL,iBAAK,CAACzI,IAAIjD,EAAL,KAAYC,KAAKD,EAAjB,KAAwBG,KAAKD,EAA7B,IAAmCA,EAAxC;;AAEA,gBAAIwL,KAAKxI,CAAT,EAAY;AACV2K;AACD;;AAED;AACA;AACA;AACD,WAXM,MAWA;AACL;AACD;AACF;;AAED,YAAIA,KAAK,CAAL,KAAW,CAAf,EAAkB;AAChB,iBAAO,KAAP;AACD,SAFD,MAEO;AACL,iBAAO,IAAP;AACD;AACF,OA7CD;;AA+CApM,WAAKqM,kBAAL,GAA0B,UAAU7K,CAAV,EAAaC,CAAb,EAAgB6K,UAAhB,EAA4BC,OAA5B,EAAqCC,OAArC,EAA8CjF,KAA9C,EAAqDC,MAArD,EAA6DiF,SAA7D,EAAwE3F,OAAxE,EAAiF;;AAEzG;AACA,YAAI4F,oBAAoB,IAAI9P,KAAJ,CAAU0P,WAAWhK,MAArB,CAAxB;;AAEA;AACA,YAAIqK,QAAQ,KAAK,CAAjB;;AAEA,YAAIF,UAAU,CAAV,KAAgB,IAApB,EAA0B;AACxBE,kBAAQzP,KAAK0P,IAAL,CAAUH,UAAU,CAAV,IAAeA,UAAU,CAAV,CAAzB,CAAR;;AAEA,cAAIA,UAAU,CAAV,IAAe,CAAnB,EAAsB;AACpBE,oBAAQA,QAAQzP,KAAKsH,EAAL,GAAU,CAA1B;AACD,WAFD,MAEO;AACLmI,oBAAQ,CAACA,KAAD,GAASzP,KAAKsH,EAAL,GAAU,CAA3B;AACD;AACF,SARD,MAQO;AACLmI,kBAAQF,SAAR;AACD;;AAED,YAAIzB,MAAM9N,KAAK8N,GAAL,CAAS,CAAC2B,KAAV,CAAV;AACA,YAAIE,MAAM3P,KAAK2P,GAAL,CAAS,CAACF,KAAV,CAAV;;AAEA;AACA,aAAK,IAAI5S,IAAI,CAAb,EAAgBA,IAAI2S,kBAAkBpK,MAAlB,GAA2B,CAA/C,EAAkDvI,GAAlD,EAAuD;AACrD2S,4BAAkB3S,IAAI,CAAtB,IAA2BwN,QAAQ,CAAR,IAAa+E,WAAWvS,IAAI,CAAf,IAAoBiR,GAApB,GAA0BsB,WAAWvS,IAAI,CAAJ,GAAQ,CAAnB,IAAwB8S,GAA/D,CAA3B;;AAEAH,4BAAkB3S,IAAI,CAAJ,GAAQ,CAA1B,IAA+ByN,SAAS,CAAT,IAAc8E,WAAWvS,IAAI,CAAJ,GAAQ,CAAnB,IAAwBiR,GAAxB,GAA8BsB,WAAWvS,IAAI,CAAf,IAAoB8S,GAAhE,CAA/B;;AAEAH,4BAAkB3S,IAAI,CAAtB,KAA4BwS,OAA5B;AACAG,4BAAkB3S,IAAI,CAAJ,GAAQ,CAA1B,KAAgCyS,OAAhC;AACD;;AAED,YAAIL,SAAS,KAAK,CAAlB;;AAEA,YAAIrF,UAAU,CAAd,EAAiB;AACf,cAAIgG,kBAAkB,KAAKC,aAAL,CAAmBL,iBAAnB,EAAsC,CAAC5F,OAAvC,CAAtB;;AAEAqF,mBAAS,KAAKa,SAAL,CAAeF,eAAf,CAAT;AACD,SAJD,MAIO;AACLX,mBAASO,iBAAT;AACD;;AAED,eAAO1M,KAAKkM,wBAAL,CAA8B1K,CAA9B,EAAiCC,CAAjC,EAAoC0K,MAApC,CAAP;AACD,OA5CD;;AA8CAnM,WAAKgN,SAAL,GAAiB,UAAUC,OAAV,EAAmB;;AAElC,YAAIC,WAAW,IAAItQ,KAAJ,CAAUqQ,QAAQ3K,MAAR,GAAiB,CAA3B,CAAf;;AAEA,YAAI6K,oBAAoB,KAAK,CAA7B;AAAA,YACIC,oBAAoB,KAAK,CAD7B;AAAA,YAEIC,kBAAkB,KAAK,CAF3B;AAAA,YAGIC,kBAAkB,KAAK,CAH3B;AAIA,YAAIC,iBAAiB,KAAK,CAA1B;AAAA,YACIC,iBAAiB,KAAK,CAD1B;AAAA,YAEIC,eAAe,KAAK,CAFxB;AAAA,YAGIC,eAAe,KAAK,CAHxB;;AAKA,aAAK,IAAI3T,IAAI,CAAb,EAAgBA,IAAIkT,QAAQ3K,MAAR,GAAiB,CAArC,EAAwCvI,GAAxC,EAA6C;AAC3CoT,8BAAoBF,QAAQlT,IAAI,CAAZ,CAApB;AACAqT,8BAAoBH,QAAQlT,IAAI,CAAJ,GAAQ,CAAhB,CAApB;AACAsT,4BAAkBJ,QAAQlT,IAAI,CAAJ,GAAQ,CAAhB,CAAlB;AACAuT,4BAAkBL,QAAQlT,IAAI,CAAJ,GAAQ,CAAhB,CAAlB;;AAEA,cAAIA,IAAIkT,QAAQ3K,MAAR,GAAiB,CAAjB,GAAqB,CAA7B,EAAgC;AAC9BiL,6BAAiBN,QAAQ,CAAClT,IAAI,CAAL,IAAU,CAAlB,CAAjB;AACAyT,6BAAiBP,QAAQ,CAAClT,IAAI,CAAL,IAAU,CAAV,GAAc,CAAtB,CAAjB;AACA0T,2BAAeR,QAAQ,CAAClT,IAAI,CAAL,IAAU,CAAV,GAAc,CAAtB,CAAf;AACA2T,2BAAeT,QAAQ,CAAClT,IAAI,CAAL,IAAU,CAAV,GAAc,CAAtB,CAAf;AACD,WALD,MAKO;AACLwT,6BAAiBN,QAAQ,CAAR,CAAjB;AACAO,6BAAiBP,QAAQ,CAAR,CAAjB;AACAQ,2BAAeR,QAAQ,CAAR,CAAf;AACAS,2BAAeT,QAAQ,CAAR,CAAf;AACD;;AAED,cAAIU,eAAe,KAAKzF,oBAAL,CAA0BiF,iBAA1B,EAA6CC,iBAA7C,EAAgEC,eAAhE,EAAiFC,eAAjF,EAAkGC,cAAlG,EAAkHC,cAAlH,EAAkIC,YAAlI,EAAgJC,YAAhJ,EAA8J,IAA9J,CAAnB;;AAEAR,mBAASnT,IAAI,CAAb,IAAkB4T,aAAa,CAAb,CAAlB;AACAT,mBAASnT,IAAI,CAAJ,GAAQ,CAAjB,IAAsB4T,aAAa,CAAb,CAAtB;AACD;;AAED,eAAOT,QAAP;AACD,OAtCD;;AAwCAlN,WAAK+M,aAAL,GAAqB,UAAUZ,MAAV,EAAkByB,GAAlB,EAAuB;;AAE1C,YAAId,kBAAkB,IAAIlQ,KAAJ,CAAUuP,OAAO7J,MAAP,GAAgB,CAA1B,CAAtB;;AAEA,YAAIuL,gBAAgB,KAAK,CAAzB;AAAA,YACIC,gBAAgB,KAAK,CADzB;AAAA,YAEIC,aAAa,KAAK,CAFtB;AAAA,YAGIC,aAAa,KAAK,CAHtB;;AAKA,aAAK,IAAIjU,IAAI,CAAb,EAAgBA,IAAIoS,OAAO7J,MAAP,GAAgB,CAApC,EAAuCvI,GAAvC,EAA4C;AAC1C8T,0BAAgB1B,OAAOpS,IAAI,CAAX,CAAhB;AACA+T,0BAAgB3B,OAAOpS,IAAI,CAAJ,GAAQ,CAAf,CAAhB;;AAEA,cAAIA,IAAIoS,OAAO7J,MAAP,GAAgB,CAAhB,GAAoB,CAA5B,EAA+B;AAC7ByL,yBAAa5B,OAAO,CAACpS,IAAI,CAAL,IAAU,CAAjB,CAAb;AACAiU,yBAAa7B,OAAO,CAACpS,IAAI,CAAL,IAAU,CAAV,GAAc,CAArB,CAAb;AACD,WAHD,MAGO;AACLgU,yBAAa5B,OAAO,CAAP,CAAb;AACA6B,yBAAa7B,OAAO,CAAP,CAAb;AACD;;AAED;;AAEA;;AAEA,cAAI8B,UAAUD,aAAaF,aAA3B;AACA,cAAII,UAAU,EAAEH,aAAaF,aAAf,CAAd;;AAEA;AACA,cAAIM,eAAejR,KAAK8H,IAAL,CAAUiJ,UAAUA,OAAV,GAAoBC,UAAUA,OAAxC,CAAnB;AACA,cAAIE,oBAAoBH,UAAUE,YAAlC;AACA,cAAIE,oBAAoBH,UAAUC,YAAlC;;AAEArB,0BAAgB/S,IAAI,CAApB,IAAyB8T,gBAAgBO,oBAAoBR,GAA7D;AACAd,0BAAgB/S,IAAI,CAAJ,GAAQ,CAAxB,IAA6B+T,gBAAgBO,oBAAoBT,GAAjE;AACAd,0BAAgB/S,IAAI,CAAJ,GAAQ,CAAxB,IAA6BgU,aAAaK,oBAAoBR,GAA9D;AACAd,0BAAgB/S,IAAI,CAAJ,GAAQ,CAAxB,IAA6BiU,aAAaK,oBAAoBT,GAA9D;AACD;;AAED,eAAOd,eAAP;AACD,OAxCD;;AA0CA9M,WAAKsO,oBAAL,GAA4B,UAAU9M,CAAV,EAAaC,CAAb,EAAgB8K,OAAhB,EAAyBC,OAAzB,EAAkC+B,cAAlC,EAAkDC,cAAlD,EAAkE;;AAE5F,YAAI9J,QAAQ6H,UAAU/K,CAAtB;AACA,YAAImD,QAAQ6H,UAAU/K,CAAtB;;AAEAiD,iBAAS6J,cAAT;AACA5J,iBAAS6J,cAAT;;AAEA,YAAIC,MAAMvR,KAAK8H,IAAL,CAAUN,QAAQA,KAAR,GAAgBC,QAAQA,KAAlC,CAAV;;AAEA,YAAI+J,YAAYD,MAAM,CAAtB;;AAEA,YAAIC,YAAY,CAAhB,EAAmB;AACjB,iBAAO,EAAP;AACD;;AAED,YAAIC,gBAAgBD,YAAYD,GAAhC;;AAEA,eAAO,CAAC,CAAClC,UAAU/K,CAAX,IAAgBmN,aAAhB,GAAgCnN,CAAjC,EAAoC,CAACgL,UAAU/K,CAAX,IAAgBkN,aAAhB,GAAgClN,CAApE,CAAP;AACD,OAnBD;;AAqBAzB,WAAK4O,cAAL,GAAsB,UAAUpN,CAAV,EAAaC,CAAb,EAAgB8F,KAAhB,EAAuBC,MAAvB,EAA+B+E,OAA/B,EAAwCC,OAAxC,EAAiD1F,OAAjD,EAA0D;AAC9EtF,aAAK+K,OAAL;AACA9K,aAAK+K,OAAL;;AAEAhL,aAAK+F,QAAQ,CAAR,GAAYT,OAAjB;AACArF,aAAK+F,SAAS,CAAT,GAAaV,OAAlB;;AAEA,eAAOtF,IAAIA,CAAJ,GAAQC,IAAIA,CAAZ,IAAiB,CAAxB;AACD,OARD;;AAUA;AACAzB,WAAKkJ,mBAAL,GAA2B,UAAU3K,EAAV,EAAcE,EAAd,EAAkBD,EAAlB,EAAsBE,EAAtB,EAA0B6N,OAA1B,EAAmCC,OAAnC,EAA4CqC,MAA5C,EAAoD;;AAE7E;AACA,YAAIxU,IAAI,CAACmE,KAAKD,EAAN,EAAUG,KAAKD,EAAf,CAAR,CAH6E,CAGjD;AAC5B,YAAIqQ,IAAI,CAACvQ,KAAKgO,OAAN,EAAe9N,KAAK+N,OAApB,CAAR;;AAEA,YAAI7K,IAAItH,EAAE,CAAF,IAAOA,EAAE,CAAF,CAAP,GAAcA,EAAE,CAAF,IAAOA,EAAE,CAAF,CAA7B;AACA,YAAIuH,IAAI,KAAKkN,EAAE,CAAF,IAAOzU,EAAE,CAAF,CAAP,GAAcyU,EAAE,CAAF,IAAOzU,EAAE,CAAF,CAA1B,CAAR;AACA,YAAIF,IAAI2U,EAAE,CAAF,IAAOA,EAAE,CAAF,CAAP,GAAcA,EAAE,CAAF,IAAOA,EAAE,CAAF,CAArB,GAA4BD,SAASA,MAA7C;;AAEA,YAAInE,eAAe9I,IAAIA,CAAJ,GAAQ,IAAID,CAAJ,GAAQxH,CAAnC;;AAEA,YAAIuQ,eAAe,CAAnB,EAAsB;AACpB,iBAAO,EAAP;AACD;;AAED,YAAIqE,KAAK,CAAC,CAACnN,CAAD,GAAK1E,KAAK8H,IAAL,CAAU0F,YAAV,CAAN,KAAkC,IAAI/I,CAAtC,CAAT;AACA,YAAIqN,KAAK,CAAC,CAACpN,CAAD,GAAK1E,KAAK8H,IAAL,CAAU0F,YAAV,CAAN,KAAkC,IAAI/I,CAAtC,CAAT;;AAEA,YAAIsN,OAAO/R,KAAKiJ,GAAL,CAAS4I,EAAT,EAAaC,EAAb,CAAX;AACA,YAAIE,OAAOhS,KAAKkJ,GAAL,CAAS2I,EAAT,EAAaC,EAAb,CAAX;AACA,YAAIG,gBAAgB,EAApB;;AAEA,YAAIF,QAAQ,CAAR,IAAaA,QAAQ,CAAzB,EAA4B;AAC1BE,wBAAcjM,IAAd,CAAmB+L,IAAnB;AACD;;AAED,YAAIC,QAAQ,CAAR,IAAaA,QAAQ,CAAzB,EAA4B;AAC1BC,wBAAcjM,IAAd,CAAmBgM,IAAnB;AACD;;AAED,YAAIC,cAAc7M,MAAd,KAAyB,CAA7B,EAAgC;AAC9B,iBAAO,EAAP;AACD;;AAED,YAAI8M,oBAAoBD,cAAc,CAAd,IAAmB9U,EAAE,CAAF,CAAnB,GAA0BkE,EAAlD;AACA,YAAI8Q,oBAAoBF,cAAc,CAAd,IAAmB9U,EAAE,CAAF,CAAnB,GAA0BoE,EAAlD;;AAEA,YAAI0Q,cAAc7M,MAAd,GAAuB,CAA3B,EAA8B;;AAE5B,cAAI6M,cAAc,CAAd,KAAoBA,cAAc,CAAd,CAAxB,EAA0C;AACxC,mBAAO,CAACC,iBAAD,EAAoBC,iBAApB,CAAP;AACD,WAFD,MAEO;;AAEL,gBAAIC,mBAAmBH,cAAc,CAAd,IAAmB9U,EAAE,CAAF,CAAnB,GAA0BkE,EAAjD;AACA,gBAAIgR,mBAAmBJ,cAAc,CAAd,IAAmB9U,EAAE,CAAF,CAAnB,GAA0BoE,EAAjD;;AAEA,mBAAO,CAAC2Q,iBAAD,EAAoBC,iBAApB,EAAuCC,gBAAvC,EAAyDC,gBAAzD,CAAP;AACD;AACF,SAXD,MAWO;AACL,iBAAO,CAACH,iBAAD,EAAoBC,iBAApB,CAAP;AACD;AACF,OApDD;;AAsDArP,WAAKwP,mBAAL,GAA2B,UAAUjD,OAAV,EAAmBC,OAAnB,EAA4BqC,MAA5B,EAAoCY,IAApC,EAA0CC,IAA1C,EAAgD;;AAEzE,YAAIC,gBAAgBF,OAAOlD,OAA3B;AACA,YAAIqD,gBAAgBF,OAAOlD,OAA3B;AACA,YAAIqD,WAAW3S,KAAK8H,IAAL,CAAU2K,gBAAgBA,aAAhB,GAAgCC,gBAAgBA,aAA1D,CAAf;;AAEA,YAAIE,oBAAoBH,gBAAgBE,QAAxC;AACA,YAAIE,oBAAoBH,gBAAgBC,QAAxC;;AAEA,eAAO,CAACtD,UAAUuD,oBAAoBjB,MAA/B,EAAuCrC,UAAUuD,oBAAoBlB,MAArE,CAAP;AACD,OAVD;;AAYA7O,WAAKgQ,yBAAL,GAAiC,UAAU7D,MAAV,EAAkB;AACjD,YAAI8D,gBAAgB,QAApB;AACA,YAAIC,aAAa,KAAK,CAAtB;;AAEA,aAAK,IAAInW,IAAI,CAAb,EAAgBA,IAAIoS,OAAO7J,MAAP,GAAgB,CAApC,EAAuCvI,GAAvC,EAA4C;;AAE1CmW,uBAAa/D,OAAOpS,IAAI,CAAX,IAAgBoS,OAAOpS,IAAI,CAAX,CAAhB,GAAgCoS,OAAOpS,IAAI,CAAJ,GAAQ,CAAf,IAAoBoS,OAAOpS,IAAI,CAAJ,GAAQ,CAAf,CAAjE;;AAEA,cAAImW,aAAaD,aAAjB,EAAgC;AAC9BA,4BAAgBC,UAAhB;AACD;AACF;;AAED,eAAOD,aAAP;AACD,OAdD;;AAgBAjQ,WAAKmQ,UAAL,GAAkB,UAAUxO,CAAV,EAAaC,CAAb,EAAgBzH,CAAhB,EAAmB;AACnC,YAAIyH,KAAKD,CAAL,IAAUA,KAAKxH,CAAf,IAAoBA,KAAKwH,CAAL,IAAUA,KAAKC,CAAvC,EAA0C;AACxC,iBAAOD,CAAP;AACD,SAFD,MAEO,IAAIA,KAAKC,CAAL,IAAUA,KAAKzH,CAAf,IAAoBA,KAAKyH,CAAL,IAAUA,KAAKD,CAAvC,EAA0C;AAC/C,iBAAOC,CAAP;AACD,SAFM,MAEA;AACL,iBAAOzH,CAAP;AACD;AACF,OARD;;AAUA;AACA6F,WAAKkI,oBAAL,GAA4B,UAAU3J,EAAV,EAAcE,EAAd,EAAkBD,EAAlB,EAAsBE,EAAtB,EAA0BsL,EAA1B,EAA8BC,EAA9B,EAAkCmG,EAAlC,EAAsCC,EAAtC,EAA0CC,aAA1C,EAAyD;;AAEnF,YAAIC,OAAOhS,KAAKyL,EAAhB;AACA,YAAIwG,OAAOhS,KAAKD,EAAhB;AACA,YAAIkS,OAAOL,KAAKpG,EAAhB;;AAEA,YAAI0G,OAAOjS,KAAKwL,EAAhB;AACA,YAAI0G,OAAOjS,KAAKD,EAAhB;AACA,YAAImS,OAAOP,KAAKpG,EAAhB;;AAEA,YAAI4G,OAAOJ,OAAOC,IAAP,GAAcE,OAAOL,IAAhC;AACA,YAAIO,OAAON,OAAOE,IAAP,GAAcC,OAAOJ,IAAhC;AACA,YAAIQ,MAAMH,OAAOJ,IAAP,GAAcC,OAAOE,IAA/B;;AAEA,YAAII,QAAQ,CAAZ,EAAe;AACb,cAAIC,KAAKH,OAAOE,GAAhB;AACA,cAAIE,KAAKH,OAAOC,GAAhB;;AAEA,cAAIG,gBAAgB,KAApB;AACA,cAAI/K,MAAM,IAAI+K,aAAd;AACA,cAAI9K,MAAM,IAAI8K,aAAd;;AAEA,cAAI/K,OAAO6K,EAAP,IAAaA,MAAM5K,GAAnB,IAA0BD,OAAO8K,EAAjC,IAAuCA,MAAM7K,GAAjD,EAAsD;AACpD,mBAAO,CAAC7H,KAAKyS,KAAKR,IAAX,EAAiB/R,KAAKuS,KAAKL,IAA3B,CAAP;AACD,WAFD,MAEO;AACL,gBAAI,CAACL,aAAL,EAAoB;AAClB,qBAAO,EAAP;AACD,aAFD,MAEO;AACL,qBAAO,CAAC/R,KAAKyS,KAAKR,IAAX,EAAiB/R,KAAKuS,KAAKL,IAA3B,CAAP;AACD;AACF;AACF,SAjBD,MAiBO;AACL,cAAIE,SAAS,CAAT,IAAcC,SAAS,CAA3B,EAA8B;;AAE5B;;AAEA;AACA,gBAAI,KAAKX,UAAL,CAAgB5R,EAAhB,EAAoBC,EAApB,EAAwB4R,EAAxB,MAAgCA,EAApC,EAAwC;AACtC,qBAAO,CAACA,EAAD,EAAKC,EAAL,CAAP;AACD;;AAED;AACA,gBAAI,KAAKF,UAAL,CAAgB5R,EAAhB,EAAoBC,EAApB,EAAwBwL,EAAxB,MAAgCA,EAApC,EAAwC;AACtC,qBAAO,CAACA,EAAD,EAAKC,EAAL,CAAP;AACD;;AAED;AACA,gBAAI,KAAKkG,UAAL,CAAgBnG,EAAhB,EAAoBoG,EAApB,EAAwB5R,EAAxB,MAAgCA,EAApC,EAAwC;AACtC,qBAAO,CAACA,EAAD,EAAKE,EAAL,CAAP;AACD;;AAED,mBAAO,EAAP;AACD,WApBD,MAoBO;;AAEL;AACA,mBAAO,EAAP;AACD;AACF;AACF,OA1DD;;AA4DA;AACA;AACA;AACA;AACA;AACAsB,WAAKmR,oBAAL,GAA4B,UAAU3P,CAAV,EAAaC,CAAb,EAAgB6K,UAAhB,EAA4BC,OAA5B,EAAqCC,OAArC,EAA8CjF,KAA9C,EAAqDC,MAArD,EAA6DV,OAA7D,EAAsE;;AAEhG,YAAIsK,gBAAgB,EAApB;AACA,YAAIzD,eAAe,KAAK,CAAxB;;AAEA,YAAIjB,oBAAoB,IAAI9P,KAAJ,CAAU0P,WAAWhK,MAArB,CAAxB;;AAEA,YAAI+O,cAAc,IAAlB;AACA,YAAIxQ,UAAUyB,MAAV,KAAqB,CAAzB,EAA4B;AAC1B+O,wBAAc,KAAd;AACD;;AAED,YAAIlF,SAAS,KAAK,CAAlB;;AAEA,YAAIkF,WAAJ,EAAiB;AACf,eAAK,IAAItX,IAAI,CAAb,EAAgBA,IAAI2S,kBAAkBpK,MAAlB,GAA2B,CAA/C,EAAkDvI,GAAlD,EAAuD;AACrD2S,8BAAkB3S,IAAI,CAAtB,IAA2BuS,WAAWvS,IAAI,CAAf,IAAoBwN,KAApB,GAA4BgF,OAAvD;AACAG,8BAAkB3S,IAAI,CAAJ,GAAQ,CAA1B,IAA+BuS,WAAWvS,IAAI,CAAJ,GAAQ,CAAnB,IAAwByN,MAAxB,GAAiCgF,OAAhE;AACD;;AAED,cAAI1F,UAAU,CAAd,EAAiB;AACf,gBAAIgG,kBAAkB9M,KAAK+M,aAAL,CAAmBL,iBAAnB,EAAsC,CAAC5F,OAAvC,CAAtB;;AAEAqF,qBAASnM,KAAKgN,SAAL,CAAeF,eAAf,CAAT;AACD,WAJD,MAIO;AACLX,qBAASO,iBAAT;AACD;AACF,SAbD,MAaO;AACLP,mBAASG,UAAT;AACD;;AAED,YAAIgF,WAAW,KAAK,CAApB;AAAA,YACIC,WAAW,KAAK,CADpB;AAAA,YAEIC,QAAQ,KAAK,CAFjB;AAAA,YAGIC,QAAQ,KAAK,CAHjB;;AAKA,aAAK,IAAIC,KAAK,CAAd,EAAiBA,KAAKvF,OAAO7J,MAAP,GAAgB,CAAtC,EAAyCoP,IAAzC,EAA+C;;AAE7CJ,qBAAWnF,OAAOuF,KAAK,CAAZ,CAAX;AACAH,qBAAWpF,OAAOuF,KAAK,CAAL,GAAS,CAAhB,CAAX;;AAEA,cAAIA,KAAKvF,OAAO7J,MAAP,GAAgB,CAAhB,GAAoB,CAA7B,EAAgC;AAC9BkP,oBAAQrF,OAAO,CAACuF,KAAK,CAAN,IAAW,CAAlB,CAAR;AACAD,oBAAQtF,OAAO,CAACuF,KAAK,CAAN,IAAW,CAAX,GAAe,CAAtB,CAAR;AACD,WAHD,MAGO;AACLF,oBAAQrF,OAAO,CAAP,CAAR;AACAsF,oBAAQtF,OAAO,CAAP,CAAR;AACD;;AAEDwB,yBAAe,KAAKzF,oBAAL,CAA0B1G,CAA1B,EAA6BC,CAA7B,EAAgC8K,OAAhC,EAAyCC,OAAzC,EAAkD8E,QAAlD,EAA4DC,QAA5D,EAAsEC,KAAtE,EAA6EC,KAA7E,CAAf;;AAEA,cAAI9D,aAAarL,MAAb,KAAwB,CAA5B,EAA+B;AAC7B8O,0BAAclO,IAAd,CAAmByK,aAAa,CAAb,CAAnB,EAAoCA,aAAa,CAAb,CAApC;AACD;AACF;;AAED,eAAOyD,aAAP;AACD,OAzDD;;AA2DApR,WAAK2R,mBAAL,GAA2B,UAAUhE,YAAV,EAAwB/B,MAAxB,EAAgCgG,MAAhC,EAAwC;;AAEjE,YAAIC,OAAO,CAAClE,aAAa,CAAb,IAAkB/B,OAAO,CAAP,CAAnB,EAA8B+B,aAAa,CAAb,IAAkB/B,OAAO,CAAP,CAAhD,CAAX;;AAEA,YAAItJ,SAASpF,KAAK8H,IAAL,CAAU6M,KAAK,CAAL,IAAUA,KAAK,CAAL,CAAV,GAAoBA,KAAK,CAAL,IAAUA,KAAK,CAAL,CAAxC,CAAb;;AAEA,YAAIC,WAAW,CAACxP,SAASsP,MAAV,IAAoBtP,MAAnC;;AAEA,YAAIwP,WAAW,CAAf,EAAkB;AAChBA,qBAAW,OAAX;AACD;;AAED,eAAO,CAAClG,OAAO,CAAP,IAAYkG,WAAWD,KAAK,CAAL,CAAxB,EAAiCjG,OAAO,CAAP,IAAYkG,WAAWD,KAAK,CAAL,CAAxD,CAAP;AACD,OAbD;;AAeA7R,WAAK+R,iCAAL,GAAyC,UAAUC,KAAV,EAAiBC,eAAjB,EAAkC;AACzE,YAAI9F,SAASnM,KAAKkS,sBAAL,CAA4BF,KAA5B,EAAmCC,eAAnC,CAAb;AACA9F,iBAASnM,KAAKmS,kBAAL,CAAwBhG,MAAxB,CAAT;;AAEA,eAAOA,MAAP;AACD,OALD;;AAOAnM,WAAKmS,kBAAL,GAA0B,UAAUhG,MAAV,EAAkB;AAC1C,YAAI3K,IAAI,KAAK,CAAb;AAAA,YACIC,IAAI,KAAK,CADb;AAEA,YAAIuQ,QAAQ7F,OAAO7J,MAAP,GAAgB,CAA5B;AACA,YAAI8P,OAAO9L,QAAX;AAAA,YACI+L,OAAO/L,QADX;AAAA,YAEIgM,OAAO,CAAChM,QAFZ;AAAA,YAGIiM,OAAO,CAACjM,QAHZ;;AAKA,aAAK,IAAIvM,IAAI,CAAb,EAAgBA,IAAIiY,KAApB,EAA2BjY,GAA3B,EAAgC;AAC9ByH,cAAI2K,OAAO,IAAIpS,CAAX,CAAJ;AACA0H,cAAI0K,OAAO,IAAIpS,CAAJ,GAAQ,CAAf,CAAJ;;AAEAqY,iBAAOlV,KAAKiJ,GAAL,CAASiM,IAAT,EAAe5Q,CAAf,CAAP;AACA8Q,iBAAOpV,KAAKkJ,GAAL,CAASkM,IAAT,EAAe9Q,CAAf,CAAP;AACA6Q,iBAAOnV,KAAKiJ,GAAL,CAASkM,IAAT,EAAe5Q,CAAf,CAAP;AACA8Q,iBAAOrV,KAAKkJ,GAAL,CAASmM,IAAT,EAAe9Q,CAAf,CAAP;AACD;;AAED;AACA,YAAI+Q,KAAK,KAAKF,OAAOF,IAAZ,CAAT;AACA,YAAIK,KAAK,KAAKF,OAAOF,IAAZ,CAAT;;AAEA,aAAK,IAAIK,MAAM,CAAf,EAAkBA,MAAMV,KAAxB,EAA+BU,KAA/B,EAAsC;AACpClR,cAAI2K,OAAO,IAAIuG,GAAX,IAAkBvG,OAAO,IAAIuG,GAAX,IAAkBF,EAAxC;AACA/Q,cAAI0K,OAAO,IAAIuG,GAAJ,GAAU,CAAjB,IAAsBvG,OAAO,IAAIuG,GAAJ,GAAU,CAAjB,IAAsBD,EAAhD;;AAEAL,iBAAOlV,KAAKiJ,GAAL,CAASiM,IAAT,EAAe5Q,CAAf,CAAP;AACA8Q,iBAAOpV,KAAKkJ,GAAL,CAASkM,IAAT,EAAe9Q,CAAf,CAAP;AACA6Q,iBAAOnV,KAAKiJ,GAAL,CAASkM,IAAT,EAAe5Q,CAAf,CAAP;AACA8Q,iBAAOrV,KAAKkJ,GAAL,CAASmM,IAAT,EAAe9Q,CAAf,CAAP;AACD;;AAED,YAAI4Q,OAAO,CAAC,CAAZ,EAAe;AACb,eAAK,IAAIM,MAAM,CAAf,EAAkBA,MAAMX,KAAxB,EAA+BW,KAA/B,EAAsC;AACpClR,gBAAI0K,OAAO,IAAIwG,GAAJ,GAAU,CAAjB,IAAsBxG,OAAO,IAAIwG,GAAJ,GAAU,CAAjB,KAAuB,CAAC,CAAD,GAAKN,IAA5B,CAA1B;AACD;AACF;;AAED,eAAOlG,MAAP;AACD,OAxCD;;AA0CAnM,WAAKkS,sBAAL,GAA8B,UAAUF,KAAV,EAAiBC,eAAjB,EAAkC;;AAE9D,YAAIW,YAAY,MAAMZ,KAAN,GAAc,CAAd,GAAkB9U,KAAKsH,EAAvC;AACA,YAAIqO,aAAab,QAAQ,CAAR,KAAc,CAAd,GAAkB9U,KAAKsH,EAAL,GAAU,GAAV,GAAgBoO,YAAY,GAA9C,GAAoD1V,KAAKsH,EAAL,GAAU,GAA/E;;AAEAqO,sBAAcZ,eAAd;;AAEA,YAAI9F,SAAS,IAAIvP,KAAJ,CAAUoV,QAAQ,CAAlB,CAAb;;AAEA,YAAIc,eAAe,KAAK,CAAxB;AACA,aAAK,IAAI/Y,IAAI,CAAb,EAAgBA,IAAIiY,KAApB,EAA2BjY,GAA3B,EAAgC;AAC9B+Y,yBAAe/Y,IAAI6Y,SAAJ,GAAgBC,UAA/B;;AAEA1G,iBAAO,IAAIpS,CAAX,IAAgBmD,KAAK8N,GAAL,CAAS8H,YAAT,CAAhB,CAH8B,CAGU;AACxC3G,iBAAO,IAAIpS,CAAJ,GAAQ,CAAf,IAAoBmD,KAAK2P,GAAL,CAAS,CAACiG,YAAV,CAApB,CAJ8B,CAIe;AAC9C;;AAED,eAAO3G,MAAP;AACD,OAlBD;;AAoBAnM,WAAK0H,uBAAL,GAA+B,UAAUH,KAAV,EAAiBC,MAAjB,EAAyB;;AAEtD;AACA,eAAOtK,KAAKiJ,GAAL,CAASoB,QAAQ,CAAjB,EAAoBC,SAAS,CAA7B,EAAgC,CAAhC,CAAP;AACD,OAJD;;AAMAxH,WAAK+S,2BAAL,GAAmC,YAAY;AAC7C,eAAO,CAAP;AACD,OAFD;;AAIA/S,WAAKgT,oBAAL,GAA4B,UAAU3N,EAAV,EAAcvB,EAAd,EAAkBC,EAAlB,EAAsB;AAChD,eAAO,CAACsB,KAAK,IAAIvB,EAAT,GAAcC,EAAf,EAAmB,KAAKD,KAAKuB,EAAV,CAAnB,EAAkCA,EAAlC,CAAP;AACD,OAFD;;AAIArF,WAAKiT,uBAAL,GAA+B,UAAU1L,KAAV,EAAiBC,MAAjB,EAAyB;AACtD;AACA,eAAO;AACL0L,wBAAchW,KAAKiJ,GAAL,CAAS,EAAT,EAAa,OAAOqB,MAApB,CADT;AAEL2L,uBAAajW,KAAKiJ,GAAL,CAAS,GAAT,EAAc,OAAOoB,KAArB,CAFR;AAGL6L,2BAAiB;AAHZ,SAAP;AAKD,OAPD;;AASA/Z,aAAOD,OAAP,GAAiB4G,IAAjB;;AAEA;AAAO,KAv6CG;AAw6CV;AACA,SAAO,UAAS3G,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA;AACA;;AAEA;AACA;;AAEA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAIN,SAAS,EAAb;;AAEA,OAACM,oBAAoB,EAApB,CAAD,EAA0BA,oBAAoB,EAApB,CAA1B,EAAmDA,oBAAoB,EAApB,CAAnD,EAA4E8J,OAA5E,CAAoF,UAAUzJ,CAAV,EAAa;AAC/F+F,aAAKkC,MAAL,CAAY5I,MAAZ,EAAoBW,CAApB;AACD,OAFD;;AAIAb,aAAOD,OAAP,GAAiBG,MAAjB;;AAEA;AAAO,KA97CG;AA+7CV;AACA,SAAO,UAASF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGAR,aAAOD,OAAP,GAAiB,OAAOyC,MAAP,KAAkB,WAAlB,GAAgC,IAAhC,GAAuCA,MAAxD,CALsD,CAKU;;AAEhE;AAAO,KAv8CG;AAw8CV;AACA,SAAO,UAASxC,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;AACA;AAA4B,iBAASwZ,YAAT,EAAuB;;AAEnD,YAAI7X,UAAU,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,SAAOA,OAAOC,QAAd,MAA2B,QAA3D,GAAsE,UAAUC,GAAV,EAAe;AAAE,wBAAcA,GAAd,0CAAcA,GAAd;AAAoB,SAA3G,GAA8G,UAAUA,GAAV,EAAe;AAAE,iBAAOA,OAAO,OAAOF,MAAP,KAAkB,UAAzB,IAAuCE,IAAIC,WAAJ,KAAoBH,MAA3D,IAAqEE,QAAQF,OAAOL,SAApF,GAAgG,QAAhG,UAAkHO,GAAlH,0CAAkHA,GAAlH,CAAP;AAA+H,SAA5Q;;AAEA;;;;;;AAMA;AACA,YAAI2X,gBAAgB,CAApB,CAXmD,CAW5B;AACvB,YAAIC,kBAAkB,CAAtB,CAZmD,CAY1B;AACzB,YAAIC,iBAAiB,CAArB,CAbmD,CAa3B;;AAExB;AACA,YAAIC,MAAM,SAASA,GAAT,CAAaC,QAAb,EAAuB;AAC/B;AACA,cAAI,EAAE,gBAAgBD,GAAlB,CAAJ,EAA4B,OAAO,IAAIA,GAAJ,CAAQC,QAAR,CAAP;;AAE5B;AACA,eAAKC,EAAL,GAAU,gBAAV;AACA,eAAKC,KAAL,GAAaN,aAAb,CAN+B,CAMH;AAC5B,eAAKO,YAAL,GAAoBvW,SAApB,CAP+B,CAOA,qBAPA,CAOsB;AACrD,eAAKwW,YAAL,GAAoBxW,SAApB,CAR+B,CAQA,qBARA,CAQsB;AACrD,eAAKyW,WAAL,GAAmB,EAAnB,CAT+B,CASR;AACvB,eAAKC,UAAL,GAAkB,EAAlB,CAV+B,CAUT;;AAEtB;AACA,eAAKC,KAAL,GAAa;AACXrV,kBAAM,KAAKA,IAAL,CAAUoD,IAAV,CAAe,IAAf;AADK,WAAb;;AAIA;AACA,cAAI,OAAO0R,QAAP,KAAoB,UAAxB,EAAoCA,SAASzZ,IAAT,CAAc,IAAd,EAAoB,KAAKia,OAAL,CAAalS,IAAb,CAAkB,IAAlB,CAApB,EAA6C,KAAKmS,MAAL,CAAYnS,IAAZ,CAAiB,IAAjB,CAA7C;AACrC,SAnBD;;AAqBA;AACAyR,YAAIrY,SAAJ,GAAgB;AACd;AACA8Y,mBAAS,SAASA,OAAT,CAAiB9Z,KAAjB,EAAwB;AAC/B,mBAAOga,QAAQ,IAAR,EAAcb,eAAd,EAA+B,cAA/B,EAA+CnZ,KAA/C,CAAP;AACD,WAJa;AAKd+Z,kBAAQ,SAASA,MAAT,CAAgB/Z,KAAhB,EAAuB;AAC7B,mBAAOga,QAAQ,IAAR,EAAcZ,cAAd,EAA8B,cAA9B,EAA8CpZ,KAA9C,CAAP;AACD,WAPa;;AASd;AACAwE,gBAAM,SAASA,IAAT,CAAcmV,WAAd,EAA2BC,UAA3B,EAAuC;AAC3C,gBAAIK,OAAO,IAAX;AACA,gBAAIC,OAAO,IAAIb,GAAJ,EAAX,CAF2C,CAErB;AACtBY,iBAAKN,WAAL,CAAiB7Q,IAAjB,CAAsBqR,SAASR,WAAT,EAAsBO,IAAtB,EAA4B,SAA5B,CAAtB,EAH2C,CAGoB;AAC/DD,iBAAKL,UAAL,CAAgB9Q,IAAhB,CAAqBqR,SAASP,UAAT,EAAqBM,IAArB,EAA2B,QAA3B,CAArB,EAJ2C,CAIiB;AAC5DE,oBAAQH,IAAR;AACA,mBAAOC,KAAKL,KAAZ,CAN2C,CAMxB;AACpB;AAjBa,SAAhB;;AAoBA;AACA,YAAIG,UAAU,SAASA,OAAT,CAAiBC,IAAjB,EAAuBT,KAAvB,EAA8BtZ,IAA9B,EAAoCF,KAApC,EAA2C;AACvD,cAAIia,KAAKT,KAAL,KAAeN,aAAnB,EAAkC;AAChCe,iBAAKT,KAAL,GAAaA,KAAb,CADgC,CACZ;AACpBS,iBAAK/Z,IAAL,IAAaF,KAAb,CAFgC,CAEZ;AACpBoa,oBAAQH,IAAR;AACD;AACD,iBAAOA,IAAP;AACD,SAPD;;AASA;AACA,YAAIG,UAAU,SAASA,OAAT,CAAiBH,IAAjB,EAAuB;AACnC,cAAIA,KAAKT,KAAL,KAAeL,eAAnB,EAAoCkB,iBAAiBJ,IAAjB,EAAuB,aAAvB,EAAsCA,KAAKR,YAA3C,EAApC,KAAkG,IAAIQ,KAAKT,KAAL,KAAeJ,cAAnB,EAAmCiB,iBAAiBJ,IAAjB,EAAuB,YAAvB,EAAqCA,KAAKP,YAA1C;AACtI,SAFD;;AAIA;AACA,YAAIW,mBAAmB,SAASA,gBAAT,CAA0BJ,IAA1B,EAAgC/Z,IAAhC,EAAsCF,KAAtC,EAA6C;AAClE;AACA;;AAEA;AACA,cAAIia,KAAK/Z,IAAL,EAAWgI,MAAX,KAAsB,CAA1B,EAA6B;;AAE7B;AACA,cAAIoS,WAAWL,KAAK/Z,IAAL,CAAf;AACA+Z,eAAK/Z,IAAL,IAAa,EAAb,CATkE,CASjD;AACjB,cAAIqa,OAAO,SAASA,IAAT,GAAgB;AACzB,iBAAK,IAAI5a,IAAI,CAAb,EAAgBA,IAAI2a,SAASpS,MAA7B,EAAqCvI,GAArC,EAA0C;AACxC2a,uBAAS3a,CAAT,EAAYK,KAAZ;AACD,aAHwB,CAGvB;AACH,WAJD;;AAMA,kDAhBkE,CAgBzB;AACzC,cAAI,OAAOiZ,YAAP,KAAwB,UAA5B,EAAwCA,aAAasB,IAAb,EAAxC,KAAgEC,WAAWD,IAAX,EAAiB,CAAjB;AACjE,SAlBD;;AAoBA;AACA,YAAIJ,WAAW,SAASA,QAAT,CAAkBM,EAAlB,EAAsBP,IAAtB,EAA4BQ,MAA5B,EAAoC;AACjD,iBAAO,UAAU1a,KAAV,EAAiB;AACtB,gBAAI,OAAOya,EAAP,KAAc,UAAlB,EAA8B;AAC5BP,mBAAKQ,MAAL,EAAa7a,IAAb,CAAkBqa,IAAlB,EAAwBla,KAAxB,EADF,CACkC;AADlC,iBAEK;AACD,oBAAIqQ,MAAJ;AACA,oBAAI;AACFA,2BAASoK,GAAGza,KAAH,CAAT;AACD,iBAFD,CAEE;AACF,uBAAO2a,CAAP,EAAU;AACRT,uBAAKH,MAAL,CAAYY,CAAZ,EADQ,CACQ;AAChB;AACD;AACDC,wBAAQV,IAAR,EAAc7J,MAAd,EATC,CASsB;AACxB;AACJ,WAdD;AAeD,SAhBD;;AAkBA,8CAjHmD,CAiHZ;AACvC,YAAIuK,UAAU,SAASA,OAAT,CAAiBrW,OAAjB,EAA0B6C,CAA1B,EAA6B;AACzC,wCADyC,CACV;AAC/B,cAAI7C,YAAY6C,CAAZ,IAAiB7C,QAAQsV,KAAR,KAAkBzS,CAAvC,EAA0C;AACxC7C,oBAAQwV,MAAR,CAAe,IAAIc,SAAJ,CAAc,oCAAd,CAAf;AACA;AACD;;AAED;;AAEA,cAAIrW,IAAJ;AACA,cAAI,CAAC,OAAO4C,CAAP,KAAa,WAAb,GAA2B,WAA3B,GAAyChG,QAAQgG,CAAR,CAA1C,MAA0D,QAA1D,IAAsEA,MAAM,IAA5E,IAAoF,OAAOA,CAAP,KAAa,UAArG,EAAiH;AAC/G,gBAAI;AACF5C,qBAAO4C,EAAE5C,IAAT;AACD,aAFD,CAEE;AACF,mBAAOmW,CAAP,EAAU;AACRpW,sBAAQwV,MAAR,CAAeY,CAAf,EADQ,CACW;AACnB;AACD;AACF;;AAED;;AAEA,cAAI,OAAOnW,IAAP,KAAgB,UAApB,EAAgC;AAC9B,gBAAIsW,WAAW,KAAf;AACA,gBAAI;AACF,iDADE,CACkC;AACpCtW,mBAAK3E,IAAL,CAAUuH,CAAV;AACA,oCADA,CACuB;AACvB,wBAAUC,CAAV,EAAa;AACX,oBAAIyT,QAAJ,EAAc,OAAOA,WAAW,IAAX,CADV,CAC2B;AACtC,oBAAIzT,MAAMD,CAAV,EAAa;AACX7C,0BAAQwV,MAAR,CAAe,IAAIc,SAAJ,CAAc,yBAAd,CAAf,EADF,KACgED,QAAQrW,OAAR,EAAiB8C,CAAjB;AACjE,eAND;;AAQA,mCARA,CAQsB;AACtB,wBAAU0I,CAAV,EAAa;AACX,oBAAI+K,QAAJ,EAAc,OAAOA,WAAW,IAAX,CADV,CAC2B;AACtCvW,wBAAQwV,MAAR,CAAehK,CAAf;AACD,eAZD;AAaD,aAfD,CAeE,OAAO4K,CAAP,EAAU;AACV,kBAAI,CAACG,QAAL,EAAe;AACbvW,wBAAQwV,MAAR,CAAeY,CAAf,EAFQ,CAEW;AACtB;AACD;AACD;;AAED;AACApW,kBAAQuV,OAAR,CAAgB1S,CAAhB,EA/CyC,CA+CrB;AACrB,SAhDD;;AAkDA;AACAiS,YAAI0B,GAAJ,GAAU,UAAUC,EAAV,EAAc;AACtB,iBAAO,IAAI3B,GAAJ,CAAQ,UAAU4B,UAAV,EAAsBC,SAAtB,EAAiC;AAC9C,gBAAIC,OAAO,IAAI3Y,KAAJ,CAAUwY,GAAG9S,MAAb,CAAX;AACA,gBAAIkT,YAAY,CAAhB;;AAEA,gBAAItB,UAAU,SAASA,OAAT,CAAiBna,CAAjB,EAAoB4I,GAApB,EAAyB;AACrC4S,mBAAKxb,CAAL,IAAU4I,GAAV;AACA6S;;AAEA,kBAAIA,cAAcJ,GAAG9S,MAArB,EAA6B;AAC3B+S,2BAAWE,IAAX;AACD;AACF,aAPD;;AASA,iBAAK,IAAIxb,IAAI,CAAb,EAAgBA,IAAIqb,GAAG9S,MAAvB,EAA+BvI,GAA/B,EAAoC;AAClC,eAAC,UAAUA,CAAV,EAAa;AACZ,oBAAIuB,IAAI8Z,GAAGrb,CAAH,CAAR;AACA,oBAAI0b,YAAYna,KAAK,IAAL,IAAaA,EAAEsD,IAAF,IAAU,IAAvC;;AAEA,oBAAI6W,SAAJ,EAAe;AACbna,oBAAEsD,IAAF,CAAO,UAAU+D,GAAV,EAAe;AACpBuR,4BAAQna,CAAR,EAAW4I,GAAX;AACD,mBAFD,EAEG,UAAU+S,GAAV,EAAe;AAChBJ,8BAAUI,GAAV;AACD,mBAJD;AAKD,iBAND,MAMO;AACL,sBAAI/S,MAAMrH,CAAV;AACA4Y,0BAAQna,CAAR,EAAW4I,GAAX;AACD;AACF,eAdD,EAcG5I,CAdH;AAeD;AACF,WA9BM,CAAP;AA+BD,SAhCD;;AAkCA0Z,YAAIuB,OAAJ,GAAc,UAAUrS,GAAV,EAAe;AAC3B,iBAAO,IAAI8Q,GAAJ,CAAQ,UAAUuB,OAAV,EAAmBb,MAAnB,EAA2B;AACxCa,oBAAQrS,GAAR;AACD,WAFM,CAAP;AAGD,SAJD;;AAMA8Q,YAAIU,MAAJ,GAAa,UAAUxR,GAAV,EAAe;AAC1B,iBAAO,IAAI8Q,GAAJ,CAAQ,UAAUuB,OAAV,EAAmBb,MAAnB,EAA2B;AACxCA,mBAAOxR,GAAP;AACD,WAFM,CAAP;AAGD,SAJD;;AAMAtJ,eAAOD,OAAP,GAAiB,OAAOuc,OAAP,KAAmB,WAAnB,GAAiCA,OAAjC,GAA2ClC,GAA5D,CAnNmD,CAmNc;AACjE;AAA4B,OApNA,EAoNCxZ,IApND,CAoNMb,OApNN,EAoNeS,oBAAoB,GAApB,EAAyBwZ,YApNxC,CAAD;;AAsN3B;AAAO,KAlqDG;AAmqDV;AACA,SAAO,UAASha,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI+b,WAAW/b,oBAAoB,EAApB,CAAf;;AAEA,UAAIgc,WAAW,SAASA,QAAT,CAAkBC,QAAlB,EAA4B;AACzC,YAAIC,OAAO,IAAX;;AAEAA,aAAKrY,QAAL,GAAgB;AACdsY,wBAAcF,QADA;AAEdG,mBAAS;AAFK,SAAhB;;AAKA,YAAIH,YAAY,IAAZ,IAAoBvZ,GAAGG,MAAH,CAAUoZ,QAAV,KAAuBA,SAAS3X,KAAT,CAAe,OAAf,CAA/C,EAAwE;;AAEtE4X,eAAKzT,MAAL,GAAc,CAAd;AACD,SAHD,MAGO,IAAIwT,aAAa,GAAb,IAAoBA,aAAa,MAAjC,IAA2CA,aAAa,MAA5D,EAAoE;;AAEzE;;AAEAC,eAAK,CAAL,IAAUH,UAAV;AACAG,eAAK,CAAL,EAAQG,KAAR,GAAgBJ,aAAa,GAAb,GAAmBA,QAAnB,GAA8BA,WAAW,GAAzD;AACAC,eAAK,CAAL,EAAQI,SAAR,GAAoB,IAApB;AACAJ,eAAK,CAAL,EAAQzT,MAAR,GAAiB,CAAjB;AACAyT,eAAKrY,QAAL,CAAcuY,OAAd,GAAwB,KAAxB;AACAF,eAAKzT,MAAL,GAAc,CAAd;AACD,SAVM,MAUA,IAAI/F,GAAGgB,mBAAH,CAAuBuY,QAAvB,CAAJ,EAAsC;;AAE3C,cAAIrY,aAAaqY,SAASrY,UAAT,EAAjB;;AAEAsY,eAAK,CAAL,IAAUH,UAAV;AACAG,eAAK,CAAL,EAAQtY,UAAR,GAAqBA,UAArB;AACAsY,eAAK,CAAL,EAAQzT,MAAR,GAAiB,CAAjB;AACAyT,eAAKzT,MAAL,GAAc,CAAd;AACD,SARM,MAQA,IAAI/F,GAAGC,EAAH,CAAMsZ,QAAN,CAAJ,EAAqB;;AAE1BC,eAAK,CAAL,IAAUH,UAAV;AACAG,eAAK,CAAL,EAAQK,MAAR,GAAiBN,QAAjB;AACAC,eAAK,CAAL,EAAQzT,MAAR,GAAiB,CAAjB;AACAyT,eAAKzT,MAAL,GAAc,CAAd;AACD,SANM,MAMA,IAAI/F,GAAGG,MAAH,CAAUoZ,QAAV,CAAJ,EAAyB;AAC9B,cAAI,CAACC,KAAKM,KAAL,CAAWP,QAAX,CAAL,EAA2B;AACzB;AACD;AACF,SAJM,MAIA;AACL7V,eAAKQ,KAAL,CAAW,kDAAX,EAA+DqV,QAA/D;AACA;AACD;;AAEDC,aAAKrY,QAAL,CAAcuY,OAAd,GAAwB,KAAxB;AACD,OA7CD;;AA+CA,UAAIK,QAAQT,SAASza,SAArB;;AAEAkb,YAAMC,KAAN,GAAc,YAAY;AACxB,eAAO,CAAC,KAAK7Y,QAAL,CAAcuY,OAAtB;AACD,OAFD;;AAIAK,YAAML,OAAN,GAAgB,YAAY;AAC1B,eAAO,KAAKvY,QAAL,CAAcuY,OAArB;AACD,OAFD;;AAIAK,YAAME,IAAN,GAAa,YAAY;AACvB,eAAO,KAAK9Y,QAAL,CAAcsY,YAArB;AACD,OAFD;;AAIAM,YAAMG,IAAN,GAAa,YAAY;AACvB,eAAO,KAAKnU,MAAZ;AACD,OAFD;;AAIAgU,YAAMI,EAAN,GAAW,UAAU3c,CAAV,EAAa;AACtB,eAAO,KAAKA,CAAL,CAAP;AACD,OAFD;;AAIAuc,YAAMK,QAAN,GAAiB,UAAUC,QAAV,EAAoB;AACnC,eAAO,KAAKJ,IAAL,OAAgBI,SAASJ,IAAT,EAAvB;AACD,OAFD;;AAIAF,YAAMxU,QAAN,GAAiBwU,MAAMR,QAAN,GAAiB,YAAY;;AAE5C,YAAI,KAAKpY,QAAL,CAAcmZ,aAAd,IAA+B,IAAnC,EAAyC;AACvC,iBAAO,KAAKnZ,QAAL,CAAcmZ,aAArB;AACD;;AAED,YAAI9c,IAAI,KAAK,CAAb;AACA,YAAI+c,MAAM,EAAV;;AAEA,YAAIC,QAAQ,SAASA,KAAT,CAAepb,GAAf,EAAoB;AAC9B,cAAIA,OAAO,IAAX,EAAiB;AACf,mBAAO,EAAP;AACD,WAFD,MAEO;AACL,mBAAOA,GAAP;AACD;AACF,SAND;;AAQA,YAAIqb,WAAW,SAASA,QAAT,CAAkBrU,GAAlB,EAAuB;AACpC,cAAIpG,GAAGG,MAAH,CAAUiG,GAAV,CAAJ,EAAoB;AAClB,mBAAO,MAAMA,GAAN,GAAY,GAAnB;AACD,WAFD,MAEO;AACL,mBAAOoU,MAAMpU,GAAN,CAAP;AACD;AACF,SAND;;AAQA,YAAIsU,QAAQ,SAASA,KAAT,CAAetU,GAAf,EAAoB;AAC9B,iBAAO,MAAMA,GAAN,GAAY,GAAnB;AACD,SAFD;;AAIA,YAAIuU,gBAAgB,SAASA,aAAT,CAAuBC,KAAvB,EAA8B;AAChD,cAAIL,MAAM,EAAV;AACA,cAAItU,IAAI,KAAK,CAAb;AAAA,cACI4U,MAAM,KAAK,CADf;;AAGA,cAAID,MAAME,OAAN,KAAkBF,KAAtB,EAA6B;AAC3BL,mBAAO,GAAP;AACD;;AAED,cAAIZ,QAAQa,MAAMI,MAAMjB,KAAZ,CAAZ;AACAY,iBAAOZ,MAAMoB,SAAN,CAAgB,CAAhB,EAAmBpB,MAAM5T,MAAN,GAAe,CAAlC,CAAP;;AAEA,eAAKE,IAAI,CAAT,EAAYA,IAAI2U,MAAMI,IAAN,CAAWjV,MAA3B,EAAmCE,GAAnC,EAAwC;AACtC,gBAAI+U,OAAOJ,MAAMI,IAAN,CAAW/U,CAAX,CAAX;;AAEA,gBAAI+U,KAAKnd,KAAT,EAAgB;AACd0c,qBAAO,MAAMS,KAAKC,KAAX,GAAmBP,MAAMF,MAAMQ,KAAKE,QAAX,CAAN,CAAnB,GAAiDT,SAASO,KAAKnd,KAAd,CAAjD,GAAwE,GAA/E;AACD,aAFD,MAEO;AACL0c,qBAAO,MAAMC,MAAMQ,KAAKE,QAAX,CAAN,GAA6BF,KAAKC,KAAlC,GAA0C,GAAjD;AACD;AACF;;AAED,eAAKhV,IAAI,CAAT,EAAYA,IAAI2U,MAAMO,IAAN,CAAWpV,MAA3B,EAAmCE,GAAnC,EAAwC;AACtC,gBAAIkV,OAAOP,MAAMO,IAAN,CAAWlV,CAAX,CAAX;AACAsU,mBAAO,OAAOY,KAAKF,KAAZ,GAAoBP,MAAMF,MAAMW,KAAKD,QAAX,CAAN,CAApB,GAAkDT,SAASU,KAAKtd,KAAd,CAAlD,GAAyE,IAAhF;AACD;;AAED,eAAKoI,IAAI,CAAT,EAAYA,IAAI2U,MAAMQ,cAAN,CAAqBrV,MAArC,EAA6CE,GAA7C,EAAkD;AAChD4U,kBAAMD,MAAMQ,cAAN,CAAqB5d,CAArB,CAAN;AACA+c,mBAAOM,GAAP;AACD;;AAED,eAAK5U,IAAI,CAAT,EAAYA,IAAI2U,MAAMS,GAAN,CAAUtV,MAA1B,EAAkCE,GAAlC,EAAuC;AACrC4U,kBAAM,MAAMD,MAAMS,GAAN,CAAU7d,CAAV,CAAZ;AACA+c,mBAAOM,GAAP;AACD;;AAED,eAAK5U,IAAI,CAAT,EAAYA,IAAI2U,MAAMU,OAAN,CAAcvV,MAA9B,EAAsCE,GAAtC,EAA2C;AACzC4U,kBAAM,MAAMD,MAAMU,OAAN,CAAcrV,CAAd,CAAZ;AACAsU,mBAAOM,GAAP;AACD;;AAED,cAAID,MAAMW,MAAN,IAAgB,IAAhB,IAAwBX,MAAMY,MAAN,IAAgB,IAA5C,EAAkD;AAChDjB,kBAAMI,cAAcC,MAAMW,MAApB,IAA8B,MAA9B,GAAuCZ,cAAcC,MAAMY,MAApB,CAA7C;AACD;;AAED,cAAIZ,MAAMa,cAAN,IAAwB,IAA5B,EAAkC;AAChC,gBAAIld,IAAIqc,MAAMa,cAAd;;AAEAlB,kBAAMI,cAAcpc,EAAE,CAAF,CAAd,IAAsB,OAAtB,GAAgCoc,cAAcpc,EAAE,CAAF,CAAd,CAAtC;AACD;;AAED,cAAIqc,MAAMc,MAAN,IAAgB,IAApB,EAA0B;AACxBnB,kBAAMI,cAAcC,MAAMc,MAApB,IAA8B,KAA9B,GAAsCnB,GAA5C;AACD;;AAED,cAAIK,MAAMe,QAAN,IAAkB,IAAtB,EAA4B;AAC1BpB,kBAAMI,cAAcC,MAAMe,QAApB,IAAgC,GAAhC,GAAsCpB,GAA5C;AACD;;AAED,cAAIK,MAAMgB,KAAN,IAAe,IAAnB,EAAyB;AACvBrB,mBAAO,QAAQI,cAAcC,MAAMgB,KAApB,CAAf;AACD;;AAED,cAAIhB,MAAMiB,UAAN,IAAoB,IAAxB,EAA8B;AAC5BtB,mBAAO,MAAMI,cAAcC,MAAMiB,UAApB,CAAb;AACD;;AAED,iBAAOtB,GAAP;AACD,SArED;;AAuEA,aAAK/c,IAAI,CAAT,EAAYA,IAAI,KAAKuI,MAArB,EAA6BvI,GAA7B,EAAkC;AAChC,cAAIod,QAAQ,KAAKpd,CAAL,CAAZ;;AAEA+c,iBAAOI,cAAcC,KAAd,CAAP;;AAEA,cAAI,KAAK7U,MAAL,GAAc,CAAd,IAAmBvI,IAAI,KAAKuI,MAAL,GAAc,CAAzC,EAA4C;AAC1CwU,mBAAO,IAAP;AACD;AACF;;AAED,aAAKpZ,QAAL,CAAcmZ,aAAd,GAA8BC,GAA9B;;AAEA,eAAOA,GAAP;AACD,OAjHD;;AAmHA,OAACjd,oBAAoB,GAApB,CAAD,EAA2BA,oBAAoB,GAApB,CAA3B,EAAqD8J,OAArD,CAA6D,UAAUrI,CAAV,EAAa;AACxE,eAAO2E,KAAKkC,MAAL,CAAYmU,KAAZ,EAAmBhb,CAAnB,CAAP;AACD,OAFD;;AAIAjC,aAAOD,OAAP,GAAiByc,QAAjB;;AAEA;AAAO,KA/2DG;AAg3DV;AACA,SAAO,UAASxc,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIwe,MAAMxe,oBAAoB,GAApB,CAAV;AACA,UAAIye,MAAMze,oBAAoB,CAApB,CAAV;;AAEA,UAAI0e,UAAU1e,oBAAoB,EAApB,CAAd;;AAEA;AACA,UAAI2e,YAAY;AACdC,kBAAU,SAASA,QAAT,CAAkBC,EAAlB,EAAsBlb,OAAtB,EAA+Bmb,SAA/B,EAA0C;AAClD,cAAIhF,KAAKgF,aAAa,IAAb,GAAoBA,SAApB,GAAgC1Y,KAAKyB,IAAL,EAAzC;;AAEA,iBAAOgX,GAAGE,gBAAH,CAAoBjF,EAApB,CAAP,EAAgC;AAC9BA,iBAAK1T,KAAKyB,IAAL,EAAL;AACD;;AAED,iBAAOiS,EAAP;AACD;AATa,OAAhB;;AAYA;AACA,UAAIkF,aAAa,SAASA,UAAT,CAAoBH,EAApB,EAAwBI,QAAxB,EAAkCC,OAAlC,EAA2C;AAC1D,YAAIL,OAAOpb,SAAP,IAAoB,CAACf,GAAGqB,IAAH,CAAQ8a,EAAR,CAAzB,EAAsC;AACpCzY,eAAKQ,KAAL,CAAW,gDAAX;AACA;AACD;;AAED,YAAIuY,MAAM,IAAIX,GAAJ,EAAV;AACA,YAAIY,kBAAkB,KAAtB;;AAEA,YAAI,CAACH,QAAL,EAAe;AACbA,qBAAW,EAAX;AACD,SAFD,MAEO,IAAIA,SAASxW,MAAT,GAAkB,CAAlB,IAAuB/F,GAAGO,WAAH,CAAegc,SAAS,CAAT,CAAf,CAAvB,IAAsD,CAACvc,GAAGiB,OAAH,CAAWsb,SAAS,CAAT,CAAX,CAA3D,EAAoF;AACzFG,4BAAkB,IAAlB;;AAEA;AACA,cAAIC,OAAO,EAAX;AACA,cAAIC,UAAU,IAAIb,GAAJ,EAAd;;AAEA,eAAK,IAAIve,IAAI,CAAR,EAAWC,IAAI8e,SAASxW,MAA7B,EAAqCvI,IAAIC,CAAzC,EAA4CD,GAA5C,EAAiD;AAC/C,gBAAIqf,OAAON,SAAS/e,CAAT,CAAX;;AAEA,gBAAIqf,KAAK7B,IAAL,IAAa,IAAjB,EAAuB;AACrB6B,mBAAK7B,IAAL,GAAY,EAAZ;AACD;;AAED,gBAAIA,OAAO6B,KAAK7B,IAAhB;;AAEA;AACA,gBAAIA,KAAK5D,EAAL,IAAW,IAAf,EAAqB;AACnB4D,mBAAK5D,EAAL,GAAU6E,UAAUC,QAAV,CAAmBC,EAAnB,EAAuBU,IAAvB,CAAV;AACD,aAFD,MAEO,IAAIV,GAAGE,gBAAH,CAAoBrB,KAAK5D,EAAzB,KAAgCwF,QAAQE,GAAR,CAAY9B,KAAK5D,EAAjB,CAApC,EAA0D;AAC/D,uBAD+D,CACrD;AACX;;AAED,gBAAI7Q,MAAM,IAAIyV,OAAJ,CAAYG,EAAZ,EAAgBU,IAAhB,EAAsB,KAAtB,CAAV;AACAF,iBAAKhW,IAAL,CAAUJ,GAAV;AACAqW,oBAAQG,GAAR,CAAY/B,KAAK5D,EAAjB;AACD;;AAEDmF,qBAAWI,IAAX;AACD;;AAED,aAAK5W,MAAL,GAAc,CAAd;;AAEA,aAAK,IAAIoP,KAAK,CAAT,EAAY6H,KAAKT,SAASxW,MAA/B,EAAuCoP,KAAK6H,EAA5C,EAAgD7H,IAAhD,EAAsD;AACpD,cAAIlU,UAAUsb,SAASpH,EAAT,CAAd;AACA,cAAIlU,WAAW,IAAf,EAAqB;AACnB;AACD;;AAED,cAAImW,KAAKnW,QAAQE,QAAR,CAAiB6Z,IAAjB,CAAsB5D,EAA/B;;AAEA,cAAIoF,WAAW,IAAX,IAAmBA,QAAQS,MAAR,IAAkB,CAACR,IAAIK,GAAJ,CAAQ1F,EAAR,CAA1C,EAAuD;AACrDqF,gBAAIS,GAAJ,CAAQ9F,EAAR,EAAY;AACVtI,qBAAO,KAAK/I,MADF;AAEVQ,mBAAKtF;AAFK,aAAZ;;AAKA,iBAAK,KAAK8E,MAAV,IAAoB9E,OAApB;AACA,iBAAK8E,MAAL;AACD;AACF;;AAED,aAAK5E,QAAL,GAAgB;AACdgb,cAAIA,EADU;AAEdM,eAAKA;AAFS,SAAhB;;AAKA;AACA,YAAIC,eAAJ,EAAqB;AACnB,eAAKS,OAAL;AACD;AACF,OAxED;;AA0EA;AACA;;AAEA;AACA;AACA,UAAIC,SAASpB,QAAQnd,SAAR,GAAoByd,WAAWzd,SAA5C;;AAEAue,aAAOrd,cAAP,GAAwB,YAAY;AAClC,eAAO,YAAP;AACD,OAFD;;AAIAqd,aAAOC,KAAP,GAAe,UAAUlB,EAAV,EAAcQ,IAAd,EAAoBW,IAApB,EAA0B;AACvC,YAAI,CAACtd,GAAGqB,IAAH,CAAQ8a,EAAR,CAAL,EAAkB;AAChB;AACAmB,iBAAOX,IAAP;AACAA,iBAAOR,EAAP;AACAA,eAAK,KAAKA,EAAL,EAAL;AACD;;AAED,eAAO,IAAIG,UAAJ,CAAeH,EAAf,EAAmBQ,IAAnB,EAAyBW,IAAzB,CAAP;AACD,OATD;;AAWAF,aAAOG,SAAP,GAAmB,YAAY;AAC7B,eAAO,KAAKF,KAAL,CAAW,IAAX,CAAP;AACD,OAFD;;AAIAD,aAAOjB,EAAP,GAAY,YAAY;AACtB,eAAO,KAAKhb,QAAL,CAAcgb,EAArB;AACD,OAFD;;AAIAiB,aAAOI,QAAP,GAAkB,YAAY;AAC5B,eAAO,KAAKrc,QAAL,CAAcgb,EAAd,CAAiBqB,QAAjB,EAAP;AACD,OAFD;;AAIAJ,aAAOnc,OAAP,GAAiB,YAAY;AAC3B,eAAO,KAAK,CAAL,CAAP;AACD,OAFD;;AAIAmc,aAAOlc,UAAP,GAAoB,YAAY;AAC9B,YAAIlB,GAAGkB,UAAH,CAAc,IAAd,CAAJ,EAAyB;AACvB,iBAAO,IAAP;AACD,SAFD,MAEO;AACL;AACA,iBAAO,IAAIob,UAAJ,CAAe,KAAKnb,QAAL,CAAcgb,EAA7B,EAAiC,CAAC,IAAD,CAAjC,CAAP;AACD;AACF,OAPD;;AASAiB,aAAOH,MAAP,GAAgB,YAAY;AAC1B,eAAO,IAAIX,UAAJ,CAAe,KAAKnb,QAAL,CAAcgb,EAA7B,EAAiC,IAAjC,EAAuC,EAAEc,QAAQ,IAAV,EAAvC,CAAP;AACD,OAFD;;AAIAG,aAAOf,gBAAP,GAA0B,UAAUjF,EAAV,EAAc;AACtC,eAAO,KAAKjW,QAAL,CAAcsb,GAAd,CAAkBK,GAAlB,CAAsB1F,EAAtB,CAAP;AACD,OAFD;;AAIAgG,aAAOK,cAAP,GAAwB,UAAUrG,EAAV,EAAc;AACpC,YAAI+E,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;AACA,YAAIuB,QAAQ,KAAKvc,QAAL,CAAcsb,GAAd,CAAkBne,GAAlB,CAAsB8Y,EAAtB,CAAZ;;AAEA,eAAOsG,QAAQA,MAAMnX,GAAd,GAAoB,IAAI+V,UAAJ,CAAeH,EAAf,CAA3B,CAJoC,CAIW;AAChD,OALD;;AAOAiB,aAAOO,GAAP,GAAaP,OAAOK,cAApB;;AAEAL,aAAOQ,SAAP,GAAmB,YAAY;AAC7B,YAAIzB,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;AACA,YAAIQ,OAAOR,GAAGhb,QAAH,CAAYob,QAAvB;AACA,YAAInF,KAAK,KAAKjW,QAAL,CAAc6Z,IAAd,CAAmB5D,EAA5B;;AAEA,eAAOuF,KAAKxb,QAAL,CAAcsb,GAAd,CAAkBne,GAAlB,CAAsB8Y,EAAtB,EAA0BtI,KAAjC;AACD,OAND;;AAQAsO,aAAOP,IAAP,GAAc,UAAUzd,GAAV,EAAe;AAC3B,YAAImH,MAAM,KAAKtF,OAAL,EAAV;AACA,YAAIkb,KAAK,KAAKA,EAAL,EAAT;;AAEA,YAAI5V,OAAO,IAAP,IAAenH,GAAnB,EAAwB;AACtB,iBAAO,IAAP;AACD,SAN0B,CAMzB;;AAEF,YAAImH,OAAO,IAAX,EAAiB;AACf,iBAAOxF,SAAP;AACD,SAV0B,CAUzB;;AAEF,YAAIhC,IAAIwH,IAAIpF,QAAZ;;AAEA,YAAInB,GAAGO,WAAH,CAAenB,GAAf,CAAJ,EAAyB;AACvB;;AAEA+c,aAAG0B,UAAH;;AAEA,cAAIze,IAAI4b,IAAR,EAAc;AACZzU,gBAAIyU,IAAJ,CAAS5b,IAAI4b,IAAb;AACD;;AAED,cAAI5b,IAAI0e,QAAR,EAAkB;AAChBvX,gBAAIuX,QAAJ,CAAa1e,IAAI0e,QAAjB;AACD;;AAED;;AAEA,cAAIC,cAAc,SAASA,WAAT,CAAqB7X,CAArB,EAAwB8X,UAAxB,EAAoCC,WAApC,EAAiD;AACjE,gBAAIC,QAAQ9e,IAAI8G,CAAJ,CAAZ;;AAEA,gBAAIgY,SAAS,IAAT,IAAiBA,UAAUnf,EAAEmH,CAAF,CAA/B,EAAqC;AACnC,kBAAIgY,KAAJ,EAAW;AACT3X,oBAAIyX,UAAJ;AACD,eAFD,MAEO;AACLzX,oBAAI0X,WAAJ;AACD;AACF;AACF,WAVD;;AAYAF,sBAAY,SAAZ,EAAuB,QAAvB,EAAiC,SAAjC;;AAEAA,sBAAY,UAAZ,EAAwB,QAAxB,EAAkC,UAAlC;;AAEAA,sBAAY,YAAZ,EAA0B,WAA1B,EAAuC,aAAvC;;AAEAA,sBAAY,QAAZ,EAAsB,MAAtB,EAA8B,QAA9B;;AAEAA,sBAAY,WAAZ,EAAyB,SAAzB,EAAoC,WAApC;;AAEA,cAAI3e,IAAIkc,OAAJ,IAAe,IAAnB,EAAyB;AACvB/U,gBAAI+U,OAAJ,CAAYlc,IAAIkc,OAAhB;AACD;;AAEDa,aAAGgC,QAAH;;AAEA,iBAAO,IAAP;AACD,SA5CD,MA4CO,IAAI/e,QAAQ2B,SAAZ,EAAuB;AAC5B;;AAEA,cAAI8b,OAAO;AACT7B,kBAAMtX,KAAKiB,IAAL,CAAU5F,EAAEic,IAAZ,CADG;AAET8C,sBAAUpa,KAAKiB,IAAL,CAAU5F,EAAE+e,QAAZ,CAFD;AAGTnE,mBAAO5a,EAAE4a,KAHA;AAITyE,qBAASrf,EAAEqf,OAJF;AAKTC,sBAAUtf,EAAEsf,QALH;AAMTC,wBAAYvf,EAAEuf,UANL;AAOTC,oBAAQxf,EAAEwf,MAPD;AAQTC,uBAAWzf,EAAEyf,SARJ;AASTlD,qBAAS;AATA,WAAX;;AAYAuB,eAAKvB,OAAL,GAAe,EAAf;;AAEA,cAAI9d,IAAI,CAAR;AACAuB,YAAEuc,OAAF,CAAUlU,OAAV,CAAkB,UAAUqX,GAAV,EAAe;AAC/B,mBAAO5B,KAAKvB,OAAL,IAAgB9d,QAAQ,CAAR,GAAYihB,GAAZ,GAAkB,MAAMA,GAA/C;AACD,WAFD;;AAIA,iBAAO5B,IAAP;AACD;AACF,OAlFD;;AAoFAO,aAAOsB,KAAP,GAAe,YAAY;AACzB,YAAIA,QAAQ,EAAZ;;AAEA,aAAK,IAAIlhB,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI+I,MAAM,KAAK/I,CAAL,CAAV;AACA,cAAIqf,OAAOtW,IAAIsW,IAAJ,EAAX;;AAEA6B,gBAAM/X,IAAN,CAAWkW,IAAX;AACD;;AAED,eAAO6B,KAAP;AACD,OAXD;;AAaAtB,aAAO3Y,KAAP,GAAe,YAAY;AACzB,YAAI0X,KAAK,KAAKA,EAAL,EAAT;AACA,YAAIwC,UAAU,EAAd;;AAEA,aAAK,IAAInhB,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI+I,MAAM,KAAK/I,CAAL,CAAV;AACA,cAAIqf,OAAOtW,IAAIsW,IAAJ,EAAX;AACA,cAAIpY,QAAQ,IAAIuX,OAAJ,CAAYG,EAAZ,EAAgBU,IAAhB,EAAsB,KAAtB,CAAZ,CAHoC,CAGM;;AAE1C8B,kBAAQhY,IAAR,CAAalC,KAAb;AACD;;AAED,eAAO,IAAI6X,UAAJ,CAAeH,EAAf,EAAmBwC,OAAnB,CAAP;AACD,OAbD;AAcAvB,aAAOzY,IAAP,GAAcyY,OAAO3Y,KAArB;;AAEA2Y,aAAOD,OAAP,GAAiB,UAAUyB,cAAV,EAA0B;AACzC,YAAIpF,OAAO,IAAX;AACA,YAAI2C,KAAK3C,KAAK2C,EAAL,EAAT;AACA,YAAI0C,OAAO1C,GAAGhb,QAAd;;AAEA,YAAIyd,mBAAmB7d,SAAvB,EAAkC;AAChC6d,2BAAiB,IAAjB;AACD;;AAED;AACA;AACA,YAAIE,QAAQ,EAAZ;AACA,YAAIC,QAAQ,EAAZ;AACA,YAAIxC,WAAW,KAAK,CAApB;AACA,aAAK,IAAIpG,MAAM,CAAV,EAAa1Y,IAAI+b,KAAKzT,MAA3B,EAAmCoQ,MAAM1Y,CAAzC,EAA4C0Y,KAA5C,EAAmD;AACjD,cAAI5P,MAAMiT,KAAKrD,GAAL,CAAV;;AAEA,cAAI,CAAC5P,IAAI6X,OAAJ,EAAL,EAAoB;AAClB;AACA;AACD;;AAED;AACA,cAAI7X,IAAIyY,MAAJ,EAAJ,EAAkB;AAChB;AACAF,kBAAMnY,IAAN,CAAWJ,GAAX;AACD,WAHD,MAGO;AACL;AACAwY,kBAAMpY,IAAN,CAAWJ,GAAX;AACD;AACF;;AAEDgW,mBAAWuC,MAAMG,MAAN,CAAaF,KAAb,CAAX;;AAEA,YAAIvhB,IAAI,KAAK,CAAb;AACA,YAAI0hB,qBAAqB,SAASA,kBAAT,GAA8B;AACrD3C,mBAAS9V,MAAT,CAAgBjJ,CAAhB,EAAmB,CAAnB;AACAA;AACD,SAHD;;AAKA;AACA,aAAKA,IAAI,CAAT,EAAYA,IAAI+e,SAASxW,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI2hB,OAAO5C,SAAS/e,CAAT,CAAX;;AAEA,cAAI2D,WAAWge,KAAKhe,QAApB;AACA,cAAI6Z,OAAO7Z,SAAS6Z,IAApB;;AAEA;AACAmE,eAAKC,mBAAL;;AAEA;AACA,cAAIpE,KAAK5D,EAAL,KAAYrW,SAAhB,EAA2B;AACzBia,iBAAK5D,EAAL,GAAU6E,UAAUC,QAAV,CAAmBC,EAAnB,EAAuBgD,IAAvB,CAAV;AACD,WAFD,MAEO,IAAInf,GAAGQ,MAAH,CAAUwa,KAAK5D,EAAf,CAAJ,EAAwB;AAC7B4D,iBAAK5D,EAAL,GAAU,KAAK4D,KAAK5D,EAApB,CAD6B,CACL;AACzB,WAFM,MAEA,IAAIpX,GAAG2B,WAAH,CAAeqZ,KAAK5D,EAApB,KAA2B,CAACpX,GAAGG,MAAH,CAAU6a,KAAK5D,EAAf,CAAhC,EAAoD;AACzD1T,iBAAKQ,KAAL,CAAW,oDAAoD8W,KAAK5D,EAAzD,GAA8D,GAAzE;;AAEA;AACA8H;AACA;AACD,WANM,MAMA,IAAI/C,GAAGE,gBAAH,CAAoBrB,KAAK5D,EAAzB,CAAJ,EAAkC;AACvC1T,iBAAKQ,KAAL,CAAW,4CAA4C8W,KAAK5D,EAAjD,GAAsD,GAAjE;;AAEA;AACA8H;AACA;AACD;;AAED,cAAI9H,KAAK4D,KAAK5D,EAAd,CA5BoC,CA4BlB;;AAElB,cAAI+H,KAAKH,MAAL,EAAJ,EAAmB;AACjB;AACA,gBAAIha,MAAM7D,SAAS2c,QAAnB;;AAEA;;AAEA,gBAAI9Y,IAAIC,CAAJ,IAAS,IAAb,EAAmB;AACjBD,kBAAIC,CAAJ,GAAQ,CAAR;AACD;;AAED,gBAAID,IAAIE,CAAJ,IAAS,IAAb,EAAmB;AACjBF,kBAAIE,CAAJ,GAAQ,CAAR;AACD;AACF;;AAED,cAAIia,KAAKE,MAAL,EAAJ,EAAmB;AACjB;;AAEA,gBAAIC,OAAOH,IAAX;AACA,gBAAII,SAAS,CAAC,QAAD,EAAW,QAAX,CAAb;AACA,gBAAIC,eAAeD,OAAOxZ,MAA1B;AACA,gBAAI0Z,oBAAoB,KAAxB;AACA,iBAAK,IAAIxZ,IAAI,CAAb,EAAgBA,IAAIuZ,YAApB,EAAkCvZ,GAAlC,EAAuC;;AAErC,kBAAIgV,QAAQsE,OAAOtZ,CAAP,CAAZ;AACA,kBAAIG,MAAM4U,KAAKC,KAAL,CAAV;;AAEA,kBAAIjb,GAAGQ,MAAH,CAAU4F,GAAV,CAAJ,EAAoB;AAClBA,sBAAM4U,KAAKC,KAAL,IAAc,KAAKD,KAAKC,KAAL,CAAzB,CADkB,CACoB;AACvC;;AAED,kBAAI7U,OAAO,IAAP,IAAeA,QAAQ,EAA3B,EAA+B;AAC7B;AACA1C,qBAAKQ,KAAL,CAAW,0BAA0BkT,EAA1B,GAA+B,qBAA/B,GAAuD6D,KAAlE;AACAwE,oCAAoB,IAApB;AACD,eAJD,MAIO,IAAI,CAACtD,GAAGE,gBAAH,CAAoBjW,GAApB,CAAL,EAA+B;AACpC;AACA1C,qBAAKQ,KAAL,CAAW,0BAA0BkT,EAA1B,GAA+B,qBAA/B,GAAuD6D,KAAvD,GAA+D,IAA/D,GAAsE7U,GAAtE,GAA4E,GAAvF;AACAqZ,oCAAoB,IAApB;AACD;AACF;;AAED,gBAAIA,iBAAJ,EAAuB;AACrBP,mCAAqB;AACtB,aA7BgB,CA6Bf;;AAEF,gBAAIQ,MAAMvD,GAAGsB,cAAH,CAAkBzC,KAAKO,MAAvB,CAAV;AACA,gBAAI1V,MAAMsW,GAAGsB,cAAH,CAAkBzC,KAAKQ,MAAvB,CAAV;;AAEAkE,gBAAIve,QAAJ,CAAa4d,KAAb,CAAmBpY,IAAnB,CAAwB2Y,IAAxB;AACAzZ,gBAAI1E,QAAJ,CAAa4d,KAAb,CAAmBpY,IAAnB,CAAwB2Y,IAAxB;;AAEAA,iBAAKne,QAAL,CAAcoa,MAAd,GAAuBmE,GAAvB;AACAJ,iBAAKne,QAAL,CAAcqa,MAAd,GAAuB3V,GAAvB;AACD,WApFmC,CAoFlC;;AAEF;AACA1E,mBAASsb,GAAT,GAAe,IAAIX,GAAJ,EAAf;AACA3a,mBAASsb,GAAT,CAAaS,GAAb,CAAiB9F,EAAjB,EAAqB,EAAE7Q,KAAK4Y,IAAP,EAAarQ,OAAO,CAApB,EAArB;;AAEA3N,mBAASid,OAAT,GAAmB,KAAnB;AACAjC,aAAGwD,SAAH,CAAaR,IAAb;AACD,SArIwC,CAqIvC;;AAEF;AACA,aAAK,IAAI/I,MAAM,CAAf,EAAkBA,MAAM0I,MAAM/Y,MAA9B,EAAsCqQ,KAAtC,EAA6C;AAC3C;AACA,cAAIwJ,OAAOd,MAAM1I,GAAN,CAAX;AACA,cAAIyJ,QAAQD,KAAKze,QAAL,CAAc6Z,IAA1B;;AAEA,cAAIhb,GAAGQ,MAAH,CAAUqf,MAAMnE,MAAhB,CAAJ,EAA6B;AAC3B;AACAmE,kBAAMnE,MAAN,GAAe,KAAKmE,MAAMnE,MAA1B;AACD;;AAED,cAAIoE,WAAWD,MAAMnE,MAArB;;AAEA,cAAIqE,kBAAkBD,YAAY,IAAlC;;AAEA,cAAIC,eAAJ,EAAqB;AACnB,gBAAIrE,SAASS,GAAGsB,cAAH,CAAkBqC,QAAlB,CAAb;;AAEA,gBAAIpE,OAAOsE,KAAP,EAAJ,EAAoB;AAClB;AACAH,oBAAMnE,MAAN,GAAe3a,SAAf;AACD,aAHD,MAGO;AACL,kBAAIkf,eAAe,KAAnB;AACA,kBAAItE,WAAWD,MAAf;AACA,qBAAO,CAACC,SAASqE,KAAT,EAAR,EAA0B;AACxB,oBAAIJ,KAAKM,IAAL,CAAUvE,QAAV,CAAJ,EAAyB;AACvB;AACAsE,iCAAe,IAAf;AACAJ,wBAAMnE,MAAN,GAAe3a,SAAf,CAHuB,CAGG;;AAE1B;AACA;AACD;;AAED4a,2BAAWA,SAASD,MAAT,EAAX;AACD;;AAED,kBAAI,CAACuE,YAAL,EAAmB;AACjB;AACAvE,uBAAO,CAAP,EAAUva,QAAV,CAAmBgf,QAAnB,CAA4BxZ,IAA5B,CAAiCiZ,IAAjC;AACAA,qBAAKze,QAAL,CAAcua,MAAd,GAAuBA,OAAO,CAAP,CAAvB;;AAEA;AACAmD,qBAAKuB,gBAAL,GAAwB,IAAxB;AACD;AACF,aA9BkB,CA8BjB;AACH,WA7C0C,CA6CzC;AACH,SAtLwC,CAsLvC;;AAEF,YAAI7D,SAASxW,MAAT,GAAkB,CAAtB,EAAyB;AACvB,cAAIsa,WAAW,IAAI/D,UAAJ,CAAeH,EAAf,EAAmBI,QAAnB,CAAf;;AAEA,eAAK,IAAI+D,MAAM,CAAf,EAAkBA,MAAMD,SAASta,MAAjC,EAAyCua,KAAzC,EAAgD;AAC9C,gBAAIC,QAAQF,SAASC,GAAT,CAAZ;;AAEA,gBAAIC,MAAMvB,MAAN,EAAJ,EAAoB;AAClB;AACD;;AAED;AACAuB,kBAAMC,aAAN,GAAsBpB,mBAAtB;;AAEA;AACAmB,kBAAMhF,MAAN,GAAe6D,mBAAf;AACAmB,kBAAM/E,MAAN,GAAe4D,mBAAf;AACD;;AAED,cAAIqB,gBAAgB,KAAK,CAAzB;;AAEA,cAAI5B,KAAKuB,gBAAT,EAA2B;AACzBK,4BAAgBtE,GAAGjb,UAAH,GAAgBwf,KAAhB,CAAsBL,QAAtB,EAAgCK,KAAhC,CAAsCL,SAAS5E,cAAT,EAAtC,EAAiEiF,KAAjE,CAAuEL,SAAS3E,MAAT,EAAvE,CAAhB;AACD,WAFD,MAEO;AACL+E,4BAAgBJ,QAAhB;AACD;;AAEDI,wBAAcE,wBAAd,GAAyCC,WAAzC,CAAqDhC,cAArD;;AAEA,cAAIA,cAAJ,EAAoB;AAClByB,qBAASQ,aAAT,CAAuB,KAAvB;AACD,WAFD,MAEO;AACLR,qBAASS,IAAT,CAAc,KAAd;AACD;AACF;;AAED,eAAOtH,IAAP,CA3NyC,CA2N5B;AACd,OA5ND;;AA8NA4D,aAAOgB,OAAP,GAAiB,YAAY;AAC3B,YAAI7X,MAAM,KAAK,CAAL,CAAV;AACA,eAAOA,OAAOA,IAAIpF,QAAJ,CAAaid,OAA3B;AACD,OAHD;;AAKAhB,aAAO2D,MAAP,GAAgB,YAAY;AAC1B,YAAIxa,MAAM,KAAK,CAAL,CAAV;AACA,eAAOA,OAAO,CAACA,IAAIpF,QAAJ,CAAaid,OAA5B;AACD,OAHD;;AAKAhB,aAAO4D,MAAP,GAAgB,UAAUpC,cAAV,EAA0B;AACxC,YAAIpF,OAAO,IAAX;AACA,YAAI4E,UAAU,EAAd;AACA,YAAI6C,eAAe,EAAnB;AACA,YAAIC,kBAAkB,EAAtB;AACA,YAAI/E,KAAK3C,KAAKrY,QAAL,CAAcgb,EAAvB;;AAEA,YAAIyC,mBAAmB7d,SAAvB,EAAkC;AAChC6d,2BAAiB,IAAjB;AACD;;AAED;AACA,iBAASuC,iBAAT,CAA2BvB,IAA3B,EAAiC;AAC/B,cAAIb,QAAQa,KAAKze,QAAL,CAAc4d,KAA1B;AACA,eAAK,IAAIvhB,IAAI,CAAb,EAAgBA,IAAIuhB,MAAMhZ,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrCuf,gBAAIgC,MAAMvhB,CAAN,CAAJ;AACD;AACF;;AAED;AACA,iBAAS4jB,WAAT,CAAqBxB,IAArB,EAA2B;AACzB,cAAIO,WAAWP,KAAKze,QAAL,CAAcgf,QAA7B;;AAEA,eAAK,IAAI3iB,IAAI,CAAb,EAAgBA,IAAI2iB,SAASpa,MAA7B,EAAqCvI,GAArC,EAA0C;AACxCuf,gBAAIoD,SAAS3iB,CAAT,CAAJ;AACD;AACF;;AAED,iBAASuf,GAAT,CAAaxW,GAAb,EAAkB;AAChB,cAAI8a,eAAeH,gBAAgB3a,IAAI6Q,EAAJ,EAAhB,CAAnB;AACA,cAAIiK,YAAJ,EAAkB;AAChB;AACD,WAFD,MAEO;AACLH,4BAAgB3a,IAAI6Q,EAAJ,EAAhB,IAA4B,IAA5B;AACD;;AAED,cAAI7Q,IAAIyY,MAAJ,EAAJ,EAAkB;AAChBiC,yBAAata,IAAb,CAAkBJ,GAAlB,EADgB,CACQ;;AAExB4a,8BAAkB5a,GAAlB;AACA6a,wBAAY7a,GAAZ;AACD,WALD,MAKO;AACL0a,yBAAaK,OAAb,CAAqB/a,GAArB,EADK,CACsB;AAC5B;AACF;;AAED;AACA;;AAEA,aAAK,IAAI/I,IAAI,CAAR,EAAWC,IAAI+b,KAAKzT,MAAzB,EAAiCvI,IAAIC,CAArC,EAAwCD,GAAxC,EAA6C;AAC3C,cAAI+I,MAAMiT,KAAKhc,CAAL,CAAV;;AAEAuf,cAAIxW,GAAJ;AACD;;AAED,iBAASgb,aAAT,CAAuB3B,IAAvB,EAA6BN,IAA7B,EAAmC;AACjC,cAAIkC,iBAAiB5B,KAAKze,QAAL,CAAc4d,KAAnC;;AAEArb,eAAK4C,eAAL,CAAqBkb,cAArB,EAAqClC,IAArC;;AAEA;AACAM,eAAKR,mBAAL;AACD;;AAED,iBAASqC,kBAAT,CAA4BnC,IAA5B,EAAkC;AAChC;AACAA,eAAKkB,aAAL,GAAqBpB,mBAArB;AACD;;AAED,YAAIsC,iBAAiB,EAArB;AACAA,uBAAerG,GAAf,GAAqB,EAArB;;AAEA,iBAASsG,cAAT,CAAwBjG,MAAxB,EAAgCnV,GAAhC,EAAqC;AACnCA,gBAAMA,IAAI,CAAJ,CAAN;AACAmV,mBAASA,OAAO,CAAP,CAAT;;AAEA,cAAIyE,WAAWzE,OAAOva,QAAP,CAAgBgf,QAA/B;AACA,cAAIyB,MAAMlG,OAAOtE,EAAP,EAAV;;AAEA1T,eAAK4C,eAAL,CAAqB6Z,QAArB,EAA+B5Z,GAA/B;;AAEA,cAAI,CAACmb,eAAerG,GAAf,CAAmBuG,GAAnB,CAAL,EAA8B;AAC5BF,2BAAerG,GAAf,CAAmBuG,GAAnB,IAA0B,IAA1B;AACAF,2BAAe/a,IAAf,CAAoB+U,MAApB;AACD;AACF;;AAEDlC,aAAKmH,wBAAL;;AAEAxE,WAAG0F,cAAH,CAAkBZ,YAAlB,EAzFwC,CAyFP;;AAEjC,aAAK,IAAIa,MAAM,CAAf,EAAkBA,MAAMb,aAAalb,MAArC,EAA6C+b,KAA7C,EAAoD;AAClD,cAAIC,QAAQd,aAAaa,GAAb,CAAZ;;AAEA;AACAC,gBAAM5gB,QAAN,CAAeid,OAAf,GAAyB,IAAzB;;AAEA;AACAA,kBAAQzX,IAAR,CAAaob,KAAb;;AAEA,cAAIA,MAAM1C,MAAN,EAAJ,EAAoB;AAClB;AACA,gBAAIK,MAAMqC,MAAMxG,MAAN,GAAe,CAAf,CAAV;AACA,gBAAI1V,MAAMkc,MAAMvG,MAAN,GAAe,CAAf,CAAV;;AAEA+F,0BAAc7B,GAAd,EAAmBqC,KAAnB;AACAR,0BAAc1b,GAAd,EAAmBkc,KAAnB;AACAN,+BAAmBM,KAAnB;AACD,WARD,MAQO;AACL;AACA,gBAAIrG,SAASqG,MAAMrG,MAAN,EAAb;;AAEA,gBAAIA,OAAO3V,MAAP,KAAkB,CAAtB,EAAyB;AACvB4b,6BAAejG,MAAf,EAAuBqG,KAAvB;AACD;AACF;AACF;;AAED;AACA,YAAIC,kBAAkB7F,GAAGhb,QAAH,CAAYob,QAAlC;AACAJ,WAAGhb,QAAH,CAAYif,gBAAZ,GAA+B,KAA/B;AACA,aAAK,IAAI6B,MAAM,CAAf,EAAkBA,MAAMD,gBAAgBjc,MAAxC,EAAgDkc,KAAhD,EAAuD;AACrD,cAAIC,QAAQF,gBAAgBC,GAAhB,CAAZ;;AAEA,cAAIC,MAAMC,QAAN,EAAJ,EAAsB;AACpBhG,eAAGhb,QAAH,CAAYif,gBAAZ,GAA+B,IAA/B;AACA;AACD;AACF;;AAED,YAAIgC,kBAAkB,IAAI9F,UAAJ,CAAe,KAAKH,EAAL,EAAf,EAA0BiC,OAA1B,CAAtB;AACA,YAAIgE,gBAAgBlI,IAAhB,KAAyB,CAA7B,EAAgC;AAC9B;;AAEA,cAAI0E,cAAJ,EAAoB;AAClB,iBAAKzC,EAAL,GAAUkG,MAAV,CAAiB;AACfC,oBAAM,QADS;AAEf3F,oBAAMyF;AAFS,aAAjB;AAID;;AAEDA,0BAAgBtB,IAAhB,CAAqB,QAArB;AACD;;AAED;AACA,aAAK,IAAIyB,MAAM,CAAf,EAAkBA,MAAMb,eAAe3b,MAAvC,EAA+Cwc,KAA/C,EAAsD;AACpD,cAAIC,QAAQd,eAAea,GAAf,CAAZ;;AAEA,cAAI,CAACC,MAAMpE,OAAN,EAAL,EAAsB;AACpBoE,kBAAM5B,WAAN;AACD;AACF;;AAED,eAAO,IAAItE,UAAJ,CAAeH,EAAf,EAAmBiC,OAAnB,CAAP;AACD,OA1JD;;AA4JAhB,aAAOqF,IAAP,GAAc,UAAUC,MAAV,EAAkB;AAC9B,YAAIvG,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;;AAEA,YAAIuG,OAAOnH,MAAP,KAAkBxa,SAAlB,IAA+B2hB,OAAOlH,MAAP,KAAkBza,SAArD,EAAgE;AAC9D,cAAI4hB,QAAQD,OAAOnH,MAAnB;AACA,cAAIqH,QAAQF,OAAOlH,MAAnB;AACA,cAAIqH,YAAY1G,GAAGE,gBAAH,CAAoBsG,KAApB,CAAhB;AACA,cAAIG,YAAY3G,GAAGE,gBAAH,CAAoBuG,KAApB,CAAhB;;AAEA,cAAIC,aAAaC,SAAjB,EAA4B;AAC1B,gBAAIpE,QAAQ,KAAKA,KAAL,EAAZ;;AAEA,iBAAKsC,MAAL;;AAEA,iBAAK,IAAIxjB,IAAI,CAAb,EAAgBA,IAAIkhB,MAAM3Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,kBAAIqf,OAAO6B,MAAMlhB,CAAN,CAAX;AACA,kBAAI+I,MAAM,KAAK/I,CAAL,CAAV;;AAEA,kBAAIqf,KAAKlD,KAAL,KAAe,OAAnB,EAA4B;AAC1B,oBAAIkJ,SAAJ,EAAe;AACbhG,uBAAK7B,IAAL,CAAUO,MAAV,GAAmBoH,KAAnB;AACD;;AAED,oBAAIG,SAAJ,EAAe;AACbjG,uBAAK7B,IAAL,CAAUQ,MAAV,GAAmBoH,KAAnB;AACD;;AAED/F,qBAAKkG,OAAL,GAAexc,IAAIpF,QAAJ,CAAa4hB,OAA5B;AACD;AACF;;AAED,mBAAO5G,GAAGY,GAAH,CAAO2B,KAAP,CAAP;AACD;AACF,SA9BD,MA8BO,IAAIgE,OAAOhH,MAAP,KAAkB3a,SAAtB,EAAiC;AACtC;AACA,cAAI+e,WAAW4C,OAAOhH,MAAtB;AACA,cAAIsH,eAAelD,aAAa,IAAb,IAAqB3D,GAAGE,gBAAH,CAAoByD,QAApB,CAAxC;;AAEA,cAAIkD,YAAJ,EAAkB;AAChB,gBAAIC,SAAS,KAAKvE,KAAL,EAAb;AACA,gBAAIwE,QAAQ,KAAKC,WAAL,EAAZ;AACA,gBAAIC,gBAAgBF,MAAMG,KAAN,CAAYH,MAAMG,KAAN,CAAY,IAAZ,EAAkB7B,cAAlB,EAAZ,EAAgD9C,KAAhD,EAApB;;AAEA,iBAAKsC,MAAL,GALgB,CAKD;;AAEf,iBAAK,IAAIsC,MAAM,CAAf,EAAkBA,MAAML,OAAOld,MAA/B,EAAuCud,KAAvC,EAA8C;AAC5C,kBAAIC,QAAQN,OAAOK,GAAP,CAAZ;AACA,kBAAIE,QAAQ,KAAKF,GAAL,CAAZ;;AAEA,kBAAIC,MAAM5J,KAAN,KAAgB,OAApB,EAA6B;AAC3B4J,sBAAMvI,IAAN,CAAWU,MAAX,GAAoBoE,aAAa,IAAb,GAAoB/e,SAApB,GAAgC+e,QAApD;;AAEAyD,sBAAMR,OAAN,GAAgBS,MAAMriB,QAAN,CAAe4hB,OAA/B;AACD;AACF;;AAED,mBAAO5G,GAAGY,GAAH,CAAOkG,OAAOhE,MAAP,CAAcmE,aAAd,CAAP,CAAP;AACD;AACF;;AAED,eAAO,IAAP,CA5D8B,CA4DjB;AACd,OA7DD;;AA+DA,OAAC9lB,oBAAoB,EAApB,CAAD,EAA0BA,oBAAoB,EAApB,CAA1B,EAAmDA,oBAAoB,EAApB,CAAnD,EAA4EA,oBAAoB,EAApB,CAA5E,EAAqGA,oBAAoB,EAApB,CAArG,EAA8HA,oBAAoB,EAApB,CAA9H,EAAuJA,oBAAoB,EAApB,CAAvJ,EAAgLA,oBAAoB,EAApB,CAAhL,EAAyMA,oBAAoB,EAApB,CAAzM,EAAkOA,oBAAoB,EAApB,CAAlO,EAA2PA,oBAAoB,EAApB,CAA3P,EAAoRA,oBAAoB,CAApB,CAApR,EAA4SA,oBAAoB,EAApB,CAA5S,EAAqUA,oBAAoB,EAApB,CAArU,EAA8VA,oBAAoB,EAApB,CAA9V,EAAuXA,oBAAoB,EAApB,CAAvX,EAAgZA,oBAAoB,EAApB,CAAhZ,EAAya8J,OAAza,CAAib,UAAUqc,KAAV,EAAiB;AAChc/f,aAAKgB,MAAL,CAAY0Y,MAAZ,EAAoBqG,KAApB;AACD,OAFD;;AAIA3mB,aAAOD,OAAP,GAAiByf,UAAjB;;AAEA;AAAO,KAvlFG;AAwlFV;AACA,SAAO,UAASxf,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGAR,aAAOD,OAAP,GAAiBS,oBAAoB,GAApB,CAAjB;;AAEA;AAAO,KAhmFG;AAimFV;AACA,SAAO,UAASR,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIomB,eAAe,YAAY;AAAE,iBAASC,gBAAT,CAA0BnI,MAA1B,EAAkCiI,KAAlC,EAAyC;AAAE,eAAK,IAAIjmB,IAAI,CAAb,EAAgBA,IAAIimB,MAAM1d,MAA1B,EAAkCvI,GAAlC,EAAuC;AAAE,gBAAIomB,aAAaH,MAAMjmB,CAAN,CAAjB,CAA2BomB,WAAWvlB,UAAX,GAAwBulB,WAAWvlB,UAAX,IAAyB,KAAjD,CAAwDulB,WAAWxlB,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWwlB,UAAf,EAA2BA,WAAWC,QAAX,GAAsB,IAAtB,CAA4B3lB,OAAOC,cAAP,CAAsBqd,MAAtB,EAA8BoI,WAAWE,GAAzC,EAA8CF,UAA9C;AAA4D;AAAE,SAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,cAAID,UAAJ,EAAgBL,iBAAiBI,YAAYllB,SAA7B,EAAwCmlB,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBN,iBAAiBI,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,SAAhN;AAAmN,OAA9hB,EAAnB;;AAEA,UAAI9kB,UAAU,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,SAAOA,OAAOC,QAAd,MAA2B,QAA3D,GAAsE,UAAUC,GAAV,EAAe;AAAE,sBAAcA,GAAd,0CAAcA,GAAd;AAAoB,OAA3G,GAA8G,UAAUA,GAAV,EAAe;AAAE,eAAOA,OAAO,OAAOF,MAAP,KAAkB,UAAzB,IAAuCE,IAAIC,WAAJ,KAAoBH,MAA3D,IAAqEE,QAAQF,OAAOL,SAApF,GAAgG,QAAhG,UAAkHO,GAAlH,0CAAkHA,GAAlH,CAAP;AAA+H,OAA5Q;;AAEA,eAAS8kB,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,YAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,gBAAM,IAAIrL,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ;;AAEA,UAAI0L,QAAS,OAAO,WAAP,GAAqBnlB,QAAQ8B,SAAR,CAAlC;;AAEA,UAAIsjB,YAAY,YAAY;AAC1B,iBAASA,SAAT,CAAmBC,gBAAnB,EAAqC;AACnCJ,0BAAgB,IAAhB,EAAsBG,SAAtB;;AAEA,eAAKE,IAAL,GAAYrmB,OAAOsmB,MAAP,CAAc,IAAd,CAAZ;;AAEA,cAAIF,oBAAoB,IAAxB,EAA8B;AAC5B,gBAAIxf,MAAM,KAAK,CAAf;;AAEA,gBAAIwf,iBAAiBvkB,cAAjB,IAAmC,IAAnC,IAA2CukB,iBAAiBvkB,cAAjB,OAAsC,KAAKA,cAAL,EAArF,EAA4G;AAC1G+E,oBAAMwf,iBAAiBG,OAAjB,EAAN;AACD,aAFD,MAEO;AACL3f,oBAAMwf,gBAAN;AACD;;AAED,iBAAK,IAAI9mB,IAAI,CAAb,EAAgBA,IAAIsH,IAAIiB,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,mBAAKuf,GAAL,CAASjY,IAAItH,CAAJ,CAAT;AACD;AACF;AACF;;AAEDkmB,qBAAaW,SAAb,EAAwB,CAAC;AACvBP,eAAK,gBADkB;AAEvBjmB,iBAAO,SAASkC,cAAT,GAA0B;AAC/B,mBAAO,KAAP;AACD;AAJsB,SAAD,EAKrB;AACD+jB,eAAK,KADJ;AAEDjmB,iBAAO,SAASkf,GAAT,CAAa3W,GAAb,EAAkB;AACvB,iBAAKme,IAAL,CAAUne,GAAV,IAAiB,CAAjB;AACD;AAJA,SALqB,EAUrB;AACD0d,eAAK,QADJ;AAEDjmB,iBAAO,SAAS6mB,OAAT,CAAiBte,GAAjB,EAAsB;AAC3B,iBAAKme,IAAL,CAAUne,GAAV,IAAiB,CAAjB;AACD;AAJA,SAVqB,EAerB;AACD0d,eAAK,OADJ;AAEDjmB,iBAAO,SAAS8mB,KAAT,GAAiB;AACtB,iBAAKJ,IAAL,GAAYrmB,OAAOsmB,MAAP,CAAc,IAAd,CAAZ;AACD;AAJA,SAfqB,EAoBrB;AACDV,eAAK,KADJ;AAEDjmB,iBAAO,SAASif,GAAT,CAAa1W,GAAb,EAAkB;AACvB,mBAAO,KAAKme,IAAL,CAAUne,GAAV,MAAmB,CAA1B;AACD;AAJA,SApBqB,EAyBrB;AACD0d,eAAK,SADJ;AAEDjmB,iBAAO,SAAS4mB,OAAT,GAAmB;AACxB,gBAAIG,QAAQ,IAAZ;;AAEA,mBAAO1mB,OAAO8H,IAAP,CAAY,KAAKue,IAAjB,EAAuB1K,MAAvB,CAA8B,UAAUiK,GAAV,EAAe;AAClD,qBAAOc,MAAM9H,GAAN,CAAUgH,GAAV,CAAP;AACD,aAFM,CAAP;AAGD;AARA,SAzBqB,EAkCrB;AACDA,eAAK,SADJ;AAEDjmB,iBAAO,SAASuJ,OAAT,CAAiByd,QAAjB,EAA2BC,OAA3B,EAAoC;AACzC,mBAAO,KAAKL,OAAL,GAAerd,OAAf,CAAuByd,QAAvB,EAAiCC,OAAjC,CAAP;AACD;AAJA,SAlCqB,EAuCrB;AACDhB,eAAK,MADJ;AAEDxlB,eAAK,SAASA,GAAT,GAAe;AAClB,mBAAO,KAAKmmB,OAAL,GAAe1e,MAAtB;AACD;AAJA,SAvCqB,CAAxB;;AA8CA,eAAOse,SAAP;AACD,OApEe,EAAhB;;AAsEA;AACA;;;AAGAvnB,aAAOD,OAAP,GAAiBwnB,SAAjB;;AAEA;AAAO,KA7rFG;AA8rFV;AACA,SAAO,UAASvnB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIynB,QAAQznB,oBAAoB,EAApB,CAAZ;;AAEA,UAAI0nB,aAAa,yBAAjB,CATsD,CASV;AAC5C,UAAIC,qBAAqB,IAAzB,CAVsD,CAUvB;;AAE/B,UAAIC,WAAW;AACbC,0BAAkB,SAASA,gBAAT,CAA0BC,EAA1B,EAA8BC,EAA9B,EAAkC;AAClD,iBAAOD,OAAOC,EAAd;AACD,SAHY;AAIbC,sBAAc,SAASA,YAAT,GAAwB,+BAA+B;AACnE,iBAAO,IAAP;AACD,SANY;AAObC,qBAAa,SAASA,WAAT,GAAuB,WAAW;AAC7C,iBAAO,EAAP;AACD,SATY;AAUbC,yBAAiB,SAASA,eAAT,CAAyBC,OAAzB,CAAiC,wBAAjC,EAA2D;AAC1E,iBAAOA,OAAP;AACD,SAZY;AAabC,oBAAY,SAASA,UAAT,GAAsB,iCAAiC,CAAE,CAbxD;AAcbC,mBAAW,SAASA,SAAT,GAAqB,iCAAiC,CAAE,CAdtD;AAebC,gBAAQ,SAASA,MAAT,GAAkB,WAAW;AACnC,iBAAO,KAAP;AACD,SAjBY;AAkBblK,gBAAQ,SAASA,MAAT,GAAkB,WAAW;AACnC,iBAAO,IAAP;AACD,SApBY;AAqBb+J,iBAAS1kB;AArBI,OAAf;;AAwBA,eAAS8kB,OAAT,CAAiBvI,IAAjB,EAAuB;AACrB5Z,aAAKkC,MAAL,CAAY,IAAZ,EAAkBsf,QAAlB,EAA4B5H,IAA5B;;AAEA,aAAKwI,SAAL,GAAiB,EAAjB;AACA,aAAKC,QAAL,GAAgB,CAAhB;AACD;;AAED,UAAIhnB,IAAI8mB,QAAQhnB,SAAhB;;AAEA,UAAImnB,eAAe,SAASA,YAAT,CAAsBxM,IAAtB,EAA4ByM,OAA5B,EAAqCC,MAArC,EAA6CC,SAA7C,EAAwDtB,QAAxD,EAAkEuB,IAAlE,EAAwEC,aAAxE,EAAuF;AACxG,YAAIrmB,GAAGC,EAAH,CAAMkmB,SAAN,CAAJ,EAAsB;AACpBtB,qBAAWsB,SAAX;AACAA,sBAAY,IAAZ;AACD;;AAED,YAAIE,aAAJ,EAAmB;AACjB,cAAID,QAAQ,IAAZ,EAAkB;AAChBA,mBAAOC,aAAP;AACD,WAFD,MAEO;AACLD,mBAAO1iB,KAAKkC,MAAL,CAAY,EAAZ,EAAgBwgB,IAAhB,EAAsBC,aAAtB,CAAP;AACD;AACF;;AAED,YAAIC,YAAYJ,OAAOK,KAAP,CAAa,KAAb,CAAhB;;AAEA,aAAK,IAAI/oB,IAAI,CAAb,EAAgBA,IAAI8oB,UAAUvgB,MAA9B,EAAsCvI,GAAtC,EAA2C;AACzC,cAAIgpB,MAAMF,UAAU9oB,CAAV,CAAV;;AAEA,cAAIwC,GAAG2B,WAAH,CAAe6kB,GAAf,CAAJ,EAAyB;AACvB;AACD;;AAED,cAAI5kB,QAAQ4kB,IAAI5kB,KAAJ,CAAUojB,UAAV,CAAZ,CAPyC,CAON;;AAEnC,cAAIpjB,KAAJ,EAAW;AACT,gBAAI0gB,OAAO1gB,MAAM,CAAN,CAAX;AACA,gBAAI6kB,YAAY7kB,MAAM,CAAN,IAAWA,MAAM,CAAN,CAAX,GAAsB,IAAtC;AACA,gBAAI8kB,MAAMT,QAAQzM,IAAR,EAAcgN,GAAd,EAAmBlE,IAAnB,EAAyBmE,SAAzB,EAAoCN,SAApC,EAA+CtB,QAA/C,EAAyDuB,IAAzD,CAAV;;AAEA,gBAAIM,QAAQ,KAAZ,EAAmB;AACjB;AACD,aAPQ,CAOP;AACH;AACF;AACF,OAnCD;;AAqCA,UAAIC,eAAe,SAASA,YAAT,CAAsBnN,IAAtB,EAA4Bpa,GAA5B,EAAiC;AAClD,eAAO,IAAI2lB,KAAJ,CAAU3lB,IAAIkjB,IAAd,EAAoB5e,KAAKkC,MAAL,CAAYxG,GAAZ,EAAiBoa,KAAK+L,WAAL,CAAiB/L,KAAKiM,OAAtB,CAAjB,CAApB,CAAP;AACD,OAFD;;AAIA,UAAImB,kBAAkB,SAASA,eAAT,CAAyBpN,IAAzB,EAA+ByM,OAA/B,EAAwCC,MAAxC,EAAgD;AACpE,YAAIlmB,GAAGwB,KAAH,CAAS0kB,MAAT,CAAJ,EAAsB;AACpBD,kBAAQzM,IAAR,EAAc0M,MAAd;;AAEA;AACD,SAJD,MAIO,IAAIlmB,GAAGO,WAAH,CAAe2lB,MAAf,CAAJ,EAA4B;AACjCD,kBAAQzM,IAAR,EAAcmN,aAAanN,IAAb,EAAmB0M,MAAnB,CAAd;;AAEA;AACD;;AAED,YAAII,YAAYJ,OAAOK,KAAP,CAAa,KAAb,CAAhB;;AAEA,aAAK,IAAI/oB,IAAI,CAAb,EAAgBA,IAAI8oB,UAAUvgB,MAA9B,EAAsCvI,GAAtC,EAA2C;AACzC,cAAIgpB,MAAMF,UAAU9oB,CAAV,CAAV;;AAEA,cAAIwC,GAAG2B,WAAH,CAAe6kB,GAAf,CAAJ,EAAyB;AACvB;AACD;;AAED,cAAI5kB,QAAQ4kB,IAAI5kB,KAAJ,CAAUojB,UAAV,CAAZ,CAPyC,CAON;;AAEnC,cAAIpjB,KAAJ,EAAW;AACT,gBAAI0gB,OAAO1gB,MAAM,CAAN,CAAX;AACA,gBAAI6kB,YAAY7kB,MAAM,CAAN,IAAWA,MAAM,CAAN,CAAX,GAAsB,IAAtC;AACA,gBAAIilB,WAAWF,aAAanN,IAAb,EAAmB;AAChC8I,oBAAMA,IAD0B;AAEhCmE,yBAAWA,SAFqB;AAGhCjL,sBAAQhC,KAAKiM;AAHmB,aAAnB,CAAf;;AAMAQ,oBAAQzM,IAAR,EAAcqN,QAAd;AACD;AACF;AACF,OAlCD;;AAoCA9nB,QAAE+nB,EAAF,GAAO/nB,EAAEgoB,WAAF,GAAgB,UAAUb,MAAV,EAAkBC,SAAlB,EAA6BtB,QAA7B,EAAuCuB,IAAvC,EAA6CC,aAA7C,EAA4D;AACjFL,qBAAa,IAAb,EAAmB,UAAUxM,IAAV,EAAgBhY,KAAhB,EAAuB8gB,IAAvB,EAA6BmE,SAA7B,EAAwCN,SAAxC,EAAmDtB,QAAnD,EAA6DuB,IAA7D,EAAmE;AACpF,cAAIpmB,GAAGC,EAAH,CAAM4kB,QAAN,CAAJ,EAAqB;AACnBrL,iBAAKsM,SAAL,CAAenf,IAAf,CAAoB;AAClBnF,qBAAOA,KADW,EACJ;AACdqjB,wBAAUA,QAFQ,EAEE;AACpBvC,oBAAMA,IAHY,EAGN;AACZmE,yBAAWA,SAJO,EAII;AACtBN,yBAAWA,SALO,EAKI;AACtBC,oBAAMA,IANY,CAMP;AANO,aAApB;AAQD;AACF,SAXD,EAWGF,MAXH,EAWWC,SAXX,EAWsBtB,QAXtB,EAWgCuB,IAXhC,EAWsCC,aAXtC;;AAaA,eAAO,IAAP;AACD,OAfD;;AAiBAtnB,QAAEioB,GAAF,GAAQ,UAAUd,MAAV,EAAkBC,SAAlB,EAA6BtB,QAA7B,EAAuCuB,IAAvC,EAA6C;AACnD,eAAO,KAAKU,EAAL,CAAQZ,MAAR,EAAgBC,SAAhB,EAA2BtB,QAA3B,EAAqCuB,IAArC,EAA2C,EAAEY,KAAK,IAAP,EAA3C,CAAP;AACD,OAFD;;AAIAjoB,QAAEkoB,cAAF,GAAmBloB,EAAEmoB,GAAF,GAAQ,UAAUhB,MAAV,EAAkBC,SAAlB,EAA6BtB,QAA7B,EAAuCuB,IAAvC,EAA6C;AACtE,YAAIxB,QAAQ,IAAZ;;AAEA,YAAI,KAAKmB,QAAL,KAAkB,CAAtB,EAAyB;AACvB,eAAKD,SAAL,GAAiBpiB,KAAKmB,SAAL,CAAe,KAAKihB,SAApB,CAAjB;AACD;;AAED,YAAIA,YAAY,KAAKA,SAArB;;AAEA,YAAIqB,QAAQ,SAASA,KAAT,CAAe3pB,CAAf,EAAkB;AAC5B,cAAI4pB,WAAWtB,UAAUtoB,CAAV,CAAf;;AAEAwoB,uBAAapB,KAAb,EAAoB,UAAUpL,IAAV,EAAgBhY,KAAhB,EAAuB8gB,IAAvB,EAA6BmE,SAA7B,EAAwCN,SAAxC,EAAmDtB,QAAnD,CAA4D,UAA5D,EAAwE;AAC1F,gBAAIuC,SAAS9E,IAAT,KAAkBA,IAAlB,KAA2B,CAACmE,SAAD,IAAcW,SAASX,SAAT,KAAuBA,SAAhE,MAA+E,CAACN,SAAD,IAAc3M,KAAK2L,gBAAL,CAAsBiC,SAASjB,SAA/B,EAA0CA,SAA1C,CAA7F,MAAuJ,CAACtB,QAAD,IAAauC,SAASvC,QAAT,KAAsBA,QAA1L,CAAJ,EAAyM;AACvMiB,wBAAUrf,MAAV,CAAiBjJ,CAAjB,EAAoB,CAApB;;AAEA,qBAAO,KAAP;AACD;AACF,WAND,EAMG0oB,MANH,EAMWC,SANX,EAMsBtB,QANtB,EAMgCuB,IANhC;AAOD,SAVD;;AAYA,aAAK,IAAI5oB,IAAIsoB,UAAU/f,MAAV,GAAmB,CAAhC,EAAmCvI,KAAK,CAAxC,EAA2CA,GAA3C,EAAgD;AAC9C2pB,gBAAM3pB,CAAN;AACD;;AAED,eAAO,IAAP;AACD,OA1BD;;AA4BAuB,QAAE+hB,IAAF,GAAS/hB,EAAEsoB,OAAF,GAAY,UAAUnB,MAAV,EAAkBoB,WAAlB,EAA+BC,cAA/B,EAA+C;AAClE,YAAIzB,YAAY,KAAKA,SAArB;AACA,YAAI0B,yBAAyB1B,UAAU/f,MAAvC;;AAEA,aAAKggB,QAAL;;AAEA,YAAI,CAAC/lB,GAAGI,KAAH,CAASknB,WAAT,CAAL,EAA4B;AAC1BA,wBAAc,CAACA,WAAD,CAAd;AACD;;AAEDV,wBAAgB,IAAhB,EAAsB,UAAUpN,IAAV,EAAgBqN,QAAhB,EAA0B;AAC9C,cAAIU,kBAAkB,IAAtB,EAA4B;AAC1BzB,wBAAY,CAAC;AACXtkB,qBAAOqlB,SAASrlB,KADL;AAEX8gB,oBAAMuE,SAASvE,IAFJ;AAGXmE,yBAAWI,SAASJ,SAHT;AAIX5B,wBAAU0C;AAJC,aAAD,CAAZ;;AAOAC,qCAAyB1B,UAAU/f,MAAnC;AACD;;AAED,cAAI0hB,SAAS,SAASA,MAAT,CAAgBjqB,CAAhB,EAAmB;AAC9B,gBAAI4pB,WAAWtB,UAAUtoB,CAAV,CAAf;;AAEA,gBAAI4pB,SAAS9E,IAAT,KAAkBuE,SAASvE,IAA3B,KAAoC,CAAC8E,SAASX,SAAV,IAAuBW,SAASX,SAAT,KAAuBI,SAASJ,SAAvD,IAAoEW,SAASX,SAAT,KAAuBxB,kBAA/H,KAAsJzL,KAAK8L,YAAL,CAAkB9L,KAAKiM,OAAvB,EAAgC2B,QAAhC,EAA0CP,QAA1C,CAA1J,EAA+M;AAC7M,kBAAI/gB,OAAO,CAAC+gB,QAAD,CAAX;;AAEA,kBAAIS,eAAe,IAAnB,EAAyB;AACvB5jB,qBAAKiD,IAAL,CAAUb,IAAV,EAAgBwhB,WAAhB;AACD;;AAED9N,mBAAKkM,UAAL,CAAgBlM,KAAKiM,OAArB,EAA8B2B,QAA9B,EAAwCP,QAAxC;;AAEA,kBAAIO,SAAShB,IAAT,IAAiBgB,SAAShB,IAAT,CAAcY,GAAnC,EAAwC;AACtCxN,qBAAKsM,SAAL,GAAiBtM,KAAKsM,SAAL,CAAejM,MAAf,CAAsB,UAAUpc,CAAV,EAAa;AAClD,yBAAOA,MAAM2pB,QAAb;AACD,iBAFgB,CAAjB;AAGD;;AAED,kBAAI3B,UAAUjM,KAAKgM,eAAL,CAAqBhM,KAAKiM,OAA1B,EAAmC2B,QAAnC,EAA6CP,QAA7C,CAAd;AACA,kBAAIH,MAAMU,SAASvC,QAAT,CAAkBxgB,KAAlB,CAAwBohB,OAAxB,EAAiC3f,IAAjC,CAAV;;AAEA0T,mBAAKmM,SAAL,CAAenM,KAAKiM,OAApB,EAA6B2B,QAA7B,EAAuCP,QAAvC;;AAEA,kBAAIH,QAAQ,KAAZ,EAAmB;AACjBG,yBAASa,eAAT;AACAb,yBAASc,cAAT;AACD;AACF,aA3B6B,CA2B5B;AACH,WA5BD;;AA8BA,eAAK,IAAInqB,IAAI,CAAb,EAAgBA,IAAIgqB,sBAApB,EAA4ChqB,GAA5C,EAAiD;AAC/CiqB,mBAAOjqB,CAAP;AACD,WA5C6C,CA4C5C;;AAEF,cAAIgc,KAAKoM,MAAL,CAAYpM,KAAKiM,OAAjB,KAA6B,CAACoB,SAASe,oBAAT,EAAlC,EAAmE;AACjEpO,iBAAKkC,MAAL,CAAYlC,KAAKiM,OAAjB,EAA0B3E,IAA1B,CAA+B+F,QAA/B,EAAyCS,WAAzC;AACD;AACF,SAjDD,EAiDGpB,MAjDH;;AAmDA,aAAKH,QAAL;;AAEA,eAAO,IAAP;AACD,OAhED;;AAkEAjpB,aAAOD,OAAP,GAAiBgpB,OAAjB;;AAEA;AAAO,KA96FG;AA+6FV;AACA,SAAO,UAAS/oB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA;;AACA,UAAI+b,WAAW,SAASA,QAAT,GAAoB;AACjC,eAAO;AACLiC,mBAAS,EADJ;AAELF,0BAAgB,EAFX;AAGLJ,gBAAM,EAHD;AAILrB,iBAAO,IAJF;AAKL0B,eAAK,EALA;AAMLF,gBAAM,EAND;;AAQL;AACAja,sBAAY,IATP,EASa;AAClB2Y,kBAAQ,IAVH,EAUS;;AAEd;AACA;AACA6B,kBAAQ,IAdH,EAcS;AACdC,oBAAU,IAfL,EAeW;AAChBb,mBAAS,IAhBJ,EAgBU;;AAEf;AACAc,iBAAO,IAnBF;AAoBLC,sBAAY;AApBP,SAAP;AAsBD,OAvBD;;AAyBA/e,aAAOD,OAAP,GAAiBwc,QAAjB;;AAEA;AAAO,KAj9FG;AAk9FV;AACA,SAAO,UAASvc,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIgC,SAAShC,oBAAoB,CAApB,CAAb;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAIgf,aAAahf,oBAAoB,CAApB,CAAjB;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAI8b,UAAU9b,oBAAoB,CAApB,CAAd;AACA,UAAIN,SAASM,oBAAoB,CAApB,CAAb;;AAEA,UAAIuqB,OAAO,SAASA,IAAT,CAAcvK,IAAd,EAAoB;AAC7B,YAAInB,KAAK,IAAT;;AAEAmB,eAAO5Z,KAAKgB,MAAL,CAAY,EAAZ,EAAgB4Y,IAAhB,CAAP;;AAEA,YAAIwK,YAAYxK,KAAKwK,SAArB;;AAEA;AACA;AACA,YAAIA,aAAa,CAAC9nB,GAAGc,WAAH,CAAegnB,SAAf,CAAd,IAA2C9nB,GAAGc,WAAH,CAAegnB,UAAU,CAAV,CAAf,CAA/C,EAA6E;AAC3EA,sBAAYA,UAAU,CAAV,CAAZ;AACD;;AAED,YAAIC,MAAMD,YAAYA,UAAUE,MAAtB,GAA+B,IAAzC,CAb6B,CAakB;AAC/CD,cAAMA,OAAO,EAAb;;AAEA,YAAIA,OAAOA,IAAI5L,EAAf,EAAmB;AACjB4L,cAAI5L,EAAJ,CAAO8L,OAAP;;AAEAF,gBAAM,EAAN,CAHiB,CAGP;AACX;;AAED,YAAIG,UAAUH,IAAIG,OAAJ,GAAcH,IAAIG,OAAJ,IAAe,EAA3C;;AAEA,YAAIJ,SAAJ,EAAe;AACbA,oBAAUE,MAAV,GAAmBD,GAAnB;AACD,SA1B4B,CA0B3B;AACFA,YAAI5L,EAAJ,GAASA,EAAT;;AAEA,YAAIgM,OAAO7oB,WAAWyB,SAAX,IAAwB+mB,cAAc/mB,SAAtC,IAAmD,CAACuc,KAAK8K,QAApE;AACA,YAAI5L,UAAUc,IAAd;AACAd,gBAAQ6L,MAAR,GAAiB3kB,KAAKgB,MAAL,CAAY,EAAE3G,MAAMoqB,OAAO,MAAP,GAAgB,MAAxB,EAAZ,EAA8C3L,QAAQ6L,MAAtD,CAAjB;AACA7L,gBAAQgB,QAAR,GAAmB9Z,KAAKgB,MAAL,CAAY,EAAE3G,MAAMoqB,OAAO,QAAP,GAAkB,MAA1B,EAAZ,EAAgD3L,QAAQgB,QAAxD,CAAnB;;AAEA,YAAI8K,SAAS,SAASA,MAAT,CAAgBjiB,GAAhB,EAAqBD,GAArB,EAA0BmiB,MAA1B,EAAkC;AAC7C,cAAIniB,QAAQrF,SAAZ,EAAuB;AACrB,mBAAOqF,GAAP;AACD,WAFD,MAEO,IAAImiB,WAAWxnB,SAAf,EAA0B;AAC/B,mBAAOwnB,MAAP;AACD,WAFM,MAEA;AACL,mBAAOliB,GAAP;AACD;AACF,SARD;;AAUA,YAAImiB,KAAK,KAAKrnB,QAAL,GAAgB;AACvB2mB,qBAAWA,SADY,EACD;AACtBW,iBAAO,KAFgB,EAET;AACdjM,mBAASA,OAHc,EAGL;AAClBD,oBAAU,IAAID,UAAJ,CAAe,IAAf,CAJa,EAIS;AAChCwJ,qBAAW,EALY,EAKR;AACf4C,mBAAS,IAAIpM,UAAJ,CAAe,IAAf,CANc,EAMQ;AAC/ByG,mBAAS,EAPc,EAOV;AACbsF,kBAAQ,IARe;AASvB7K,oBAAU,IATa;AAUvBmL,qBAAW,KAVY,EAUL;AAClBC,gCAAsB,IAXC,EAWK;AAC5BC,mBAAS,KAZc;AAavBC,mBAAS,IAbc;AAcvBC,0BAAgBT,OAAO,IAAP,EAAa9L,QAAQuM,cAArB,CAdO;AAevBC,8BAAoBV,OAAO,IAAP,EAAa9L,QAAQwM,kBAArB,CAfG;AAgBvBC,0BAAgBX,OAAO,IAAP,EAAa9L,QAAQyM,cAArB,CAhBO;AAiBvBC,8BAAoBZ,OAAO,IAAP,EAAa9L,QAAQ0M,kBAArB,CAjBG;AAkBvBC,+BAAqBb,OAAO,IAAP,EAAa9L,QAAQ2M,mBAArB,CAlBE;AAmBvBC,oBAAUd,OAAO,KAAP,EAAc9L,QAAQ4M,QAAtB,EAAgC5M,QAAQ6M,aAAxC,CAnBa;AAoBvBC,yBAAehB,OAAO,KAAP,EAAc9L,QAAQ8M,aAAtB,EAAqC9M,QAAQ+M,kBAA7C,CApBQ;AAqBvBC,2BAAiBlB,OAAO,KAAP,EAAc9L,QAAQgN,eAAtB,CArBM;AAsBvBC,wBAAcjN,QAAQiN,YAAR,KAAyB1oB,SAAzB,GAAqConB,IAArC,GAA4C3L,QAAQiN,YAtB3C;AAuBvB9hB,gBAAM3H,GAAGQ,MAAH,CAAUgc,QAAQ7U,IAAlB,IAA0B6U,QAAQ7U,IAAlC,GAAyC,CAvBxB;AAwBvBC,eAAK;AACH3C,eAAGjF,GAAGO,WAAH,CAAeic,QAAQ5U,GAAvB,KAA+B5H,GAAGQ,MAAH,CAAUgc,QAAQ5U,GAAR,CAAY3C,CAAtB,CAA/B,GAA0DuX,QAAQ5U,GAAR,CAAY3C,CAAtE,GAA0E,CAD1E;AAEHC,eAAGlF,GAAGO,WAAH,CAAeic,QAAQ5U,GAAvB,KAA+B5H,GAAGQ,MAAH,CAAUgc,QAAQ5U,GAAR,CAAY1C,CAAtB,CAA/B,GAA0DsX,QAAQ5U,GAAR,CAAY1C,CAAtE,GAA0E;AAF1E,WAxBkB;AA4BvBwkB,qBAAW,EAAE;AACXC,qBAAS,EADA;AAETC,mBAAO;AAFE,WA5BY;AAgCvBxJ,4BAAkB;AAhCK,SAAzB;;AAmCA,aAAKyJ,aAAL;;AAEA;AACA,YAAIC,UAAUtN,QAAQuN,aAAtB;AACA,YAAID,YAAY/oB,SAAZ,IAAyB+oB,YAAY,UAAZ,IAA0BA,YAAY,QAAnE,EAA6E;AAC3E;;AAEAtB,aAAGuB,aAAH,GAAmB,QAAnB;AACD,SAJD,MAIO;AACLvB,aAAGuB,aAAH,GAAmBD,OAAnB;AACD;;AAED;AACA,YAAI9pB,GAAGQ,MAAH,CAAUgc,QAAQqM,OAAlB,KAA8B7oB,GAAGQ,MAAH,CAAUgc,QAAQsM,OAAlB,CAA9B,IAA4DtM,QAAQqM,OAAR,GAAkBrM,QAAQsM,OAA1F,EAAmG;AACjGN,aAAGK,OAAH,GAAarM,QAAQqM,OAArB;AACAL,aAAGM,OAAH,GAAatM,QAAQsM,OAArB;AACD,SAHD,MAGO,IAAI9oB,GAAGQ,MAAH,CAAUgc,QAAQqM,OAAlB,KAA8BrM,QAAQsM,OAAR,KAAoB/nB,SAAtD,EAAiE;AACtEynB,aAAGK,OAAH,GAAarM,QAAQqM,OAArB;AACD,SAFM,MAEA,IAAI7oB,GAAGQ,MAAH,CAAUgc,QAAQsM,OAAlB,KAA8BtM,QAAQqM,OAAR,KAAoB9nB,SAAtD,EAAiE;AACtEynB,aAAGM,OAAH,GAAatM,QAAQsM,OAArB;AACD;;AAED,YAAIkB,cAAc,SAASA,WAAT,CAAqBC,OAArB,EAA8BlS,IAA9B,EAAoC;AACpD,cAAImS,eAAeD,QAAQE,IAAR,CAAanqB,GAAGoC,OAAhB,CAAnB;;AAEA,cAAI8nB,YAAJ,EAAkB;AAChB,mBAAO9Q,QAAQR,GAAR,CAAYqR,OAAZ,EAAqB5nB,IAArB,CAA0B0V,IAA1B,CAAP,CADgB,CACwB;AACzC,WAFD,MAEO;AACLA,iBAAKkS,OAAL,EADK,CACU;AAChB;AACF,SARD;;AAUA;AACA,YAAIzB,GAAGiB,YAAP,EAAqB;AACnBtN,aAAGiO,QAAH,CAAY,EAAZ;AACD;;AAED;AACAjO,WAAGkO,YAAH,CAAgB3mB,KAAKgB,MAAL,CAAY;AAC1B4lB,+BAAqB9N,QAAQ8N,mBADH;AAE1BC,6BAAmB/N,QAAQ+N,iBAFD;AAG1BC,4BAAkBxqB,GAAGQ,MAAH,CAAUgc,QAAQgO,gBAAlB,KAAuChO,QAAQgO,gBAAR,GAA2B,CAAlE,GAAsEhO,QAAQgO,gBAA9E,GAAiG,CAHzF;AAI1BC,sBAAYjO,QAAQiO,UAAR,KAAuB1pB,SAAvB,GAAmC,KAAnC,GAA2Cyb,QAAQiO,UAJrC,EAIiD;AAC3EC,6BAAmBlO,QAAQkO,iBAAR,KAA8B3pB,SAA9B,GAA0C,IAA1C,GAAiDyb,QAAQkO,iBALlD;AAM1BC,sBAAY3qB,GAAGQ,MAAH,CAAUgc,QAAQmO,UAAlB,KAAiCnO,QAAQmO,UAAR,GAAqB,CAAtD,GAA0DnO,QAAQmO,UAAlE,GAA+E5pB,SANjE;AAO1B6pB,+BAAqBpO,QAAQoO,mBAAR,KAAgC7pB,SAAhC,GAA4C,CAA5C,GAAgDyb,QAAQoO,mBAPnD;AAQ1BC,6BAAmBrO,QAAQqO,iBAAR,KAA8B9pB,SAA9B,GAA0C,CAA1C,GAA8Cyb,QAAQqO;AAR/C,SAAZ,EASbrO,QAAQgB,QATK,CAAhB;;AAWA,YAAIsN,mBAAmB,SAASA,gBAAT,CAA0BvO,QAA1B,EAAoCwO,MAApC,EAA4CC,MAA5C,EAAoD;AACzE7O,aAAG8O,aAAH,CAAiB,KAAjB;;AAEA;AACA,cAAIC,UAAU/O,GAAGgP,eAAH,EAAd;AACA,cAAID,QAAQnlB,MAAR,GAAiB,CAArB,EAAwB;AACtBmlB,oBAAQlK,MAAR;AACD;;AAED,cAAIzE,YAAY,IAAhB,EAAsB;AACpB,gBAAIvc,GAAGO,WAAH,CAAegc,QAAf,KAA4Bvc,GAAGI,KAAH,CAASmc,QAAT,CAAhC,EAAoD;AAClDJ,iBAAGY,GAAH,CAAOR,QAAP;AACD;AACF;;AAEDJ,aAAG6K,GAAH,CAAO,aAAP,EAAsB,UAAUxO,CAAV,EAAa;AACjC2D,eAAG8O,aAAH,CAAiB,IAAjB;AACA9O,eAAG2E,IAAH,CAAQtI,CAAR,EAFiC,CAErB;;AAEZ2D,eAAGkG,MAAH,CAAU;AACRC,oBAAM,MADE;AAER3F,oBAAMR,GAAGgP,eAAH;AAFE,aAAV;;AAKAhP,eAAG6K,GAAH,CAAO,MAAP,EAAe+D,MAAf;AACA5O,eAAG2E,IAAH,CAAQ,MAAR;AACD,WAXD,EAWGkG,GAXH,CAWO,YAXP,EAWqB,YAAY;AAC/B7K,eAAG6K,GAAH,CAAO,MAAP,EAAegE,MAAf;AACA7O,eAAG2E,IAAH,CAAQ,MAAR;AACD,WAdD;;AAgBA,cAAIsK,aAAa1nB,KAAKgB,MAAL,CAAY,EAAZ,EAAgByX,GAAGhb,QAAH,CAAYqb,OAAZ,CAAoB6L,MAApC,CAAjB;AACA+C,qBAAWzO,IAAX,GAAkBR,GAAGI,QAAH,EAAlB;;AAEAJ,aAAGkM,MAAH,CAAU+C,UAAV,EAAsBC,GAAtB;AACD,SAnCD;;AAqCArB,oBAAY,CAACxN,QAAQlb,KAAT,EAAgBkb,QAAQD,QAAxB,CAAZ,EAA+C,UAAU+O,KAAV,EAAiB;AAC9D,cAAIC,YAAYD,MAAM,CAAN,CAAhB;AACA,cAAIE,WAAWF,MAAM,CAAN,CAAf;;AAEA;AACA,cAAI9C,GAAGiB,YAAP,EAAqB;AACnBtN,eAAG7a,KAAH,GAAWmqB,MAAX,CAAkBF,SAAlB;AACD;;AAED;AACAT,2BAAiBU,QAAjB,EAA2B,YAAY;AACrC;AACArP,eAAGuP,kBAAH;AACAlD,eAAGC,KAAH,GAAW,IAAX;;AAEA;AACA,gBAAIzoB,GAAGC,EAAH,CAAMuc,QAAQiM,KAAd,CAAJ,EAA0B;AACxBtM,iBAAG2K,EAAH,CAAM,OAAN,EAAetK,QAAQiM,KAAvB;AACD;;AAED;AACA,iBAAK,IAAIjrB,IAAI,CAAb,EAAgBA,IAAI0qB,QAAQniB,MAA5B,EAAoCvI,GAApC,EAAyC;AACvC,kBAAIyC,KAAKioB,QAAQ1qB,CAAR,CAAT;AACA2e,iBAAG2K,EAAH,CAAM,OAAN,EAAe7mB,EAAf;AACD;AACD,gBAAI8nB,GAAJ,EAAS;AACPA,kBAAIG,OAAJ,GAAc,EAAd;AACD,aAjBoC,CAiBnC;;AAEF/L,eAAG2E,IAAH,CAAQ,OAAR;AACD,WApBD,EAoBGtE,QAAQmP,IApBX;AAqBD,SA/BD;AAgCD,OArMD;;AAuMA,UAAIC,SAAS/D,KAAKhpB,SAAlB,CAnNsD,CAmNzB;;AAE7B6E,WAAKgB,MAAL,CAAYknB,MAAZ,EAAoB;AAClB7rB,wBAAgB,SAASA,cAAT,GAA0B;AACxC,iBAAO,MAAP;AACD,SAHiB;;AAKlB8rB,iBAAS,SAASA,OAAT,GAAmB;AAC1B,iBAAO,KAAK1qB,QAAL,CAAcsnB,KAArB;AACD,SAPiB;;AASlBqD,qBAAa,SAASA,WAAT,GAAuB;AAClC,iBAAO,KAAK3qB,QAAL,CAAcwnB,SAArB;AACD,SAXiB;;AAalBF,eAAO,SAASA,KAAT,CAAexoB,EAAf,EAAmB;AACxB,cAAI,KAAK4rB,OAAL,EAAJ,EAAoB;AAClB,iBAAKE,OAAL,GAAejL,IAAf,CAAoB,OAApB,EAA6B,EAA7B,EAAiC7gB,EAAjC,EADkB,CACoB;AACvC,WAFD,MAEO;AACL,iBAAK6mB,EAAL,CAAQ,OAAR,EAAiB7mB,EAAjB;AACD;;AAED,iBAAO,IAAP;AACD,SArBiB;;AAuBlBgoB,iBAAS,SAASA,OAAT,GAAmB;AAC1B,cAAI9L,KAAK,IAAT;AACA,cAAIA,GAAG2P,WAAH,EAAJ,EAAsB;;AAEtB3P,aAAG6P,iBAAH;;AAEA7P,aAAG8P,eAAH;;AAEA,eAAKnL,IAAL,CAAU,SAAV;;AAEA3E,aAAGhb,QAAH,CAAYwnB,SAAZ,GAAwB,IAAxB;;AAEA,iBAAOxM,EAAP;AACD,SApCiB;;AAsClBE,0BAAkB,SAASA,gBAAT,CAA0BjF,EAA1B,EAA8B;AAC9C,iBAAO,KAAKjW,QAAL,CAAcob,QAAd,CAAuBF,gBAAvB,CAAwCjF,EAAxC,CAAP;AACD,SAxCiB;;AA0ClBqG,wBAAgB,SAASA,cAAT,CAAwBrG,EAAxB,EAA4B;AAC1C,iBAAO,KAAKjW,QAAL,CAAcob,QAAd,CAAuBkB,cAAvB,CAAsCrG,EAAtC,CAAP;AACD,SA5CiB;;AA8ClB2S,uBAAe,SAASA,aAAT,GAAyB;AACtC,iBAAO,KAAK5oB,QAAL,CAAc4oB,aAArB;AACD,SAhDiB;;AAkDlB3J,0BAAkB,SAASA,gBAAT,GAA4B;AAC5C,iBAAO,KAAKjf,QAAL,CAAcif,gBAArB;AACD,SApDiB;;AAsDlBgI,kBAAU,SAASA,QAAT,GAAoB;AAC5B,iBAAO,KAAKjnB,QAAL,CAAcqb,OAAd,CAAsBgB,QAAtB,CAA+Bzf,IAA/B,KAAwC,MAA/C;AACD,SAxDiB;;AA0DlB0rB,sBAAc,SAASA,YAAT,GAAwB;AACpC,iBAAO,KAAKtoB,QAAL,CAAcsoB,YAArB;AACD,SA5DiB;;AA8DlB9J,mBAAW,SAASA,SAAT,CAAmBhD,IAAnB,EAAyB;AAClC,eAAKxb,QAAL,CAAcob,QAAd,CAAuBmE,KAAvB,CAA6B/D,IAA7B;;AAEA,iBAAO,IAAP,CAHkC,CAGrB;AACd,SAlEiB;;AAoElBkF,wBAAgB,SAASA,cAAT,CAAwBlF,IAAxB,EAA8B;AAC5C,eAAKxb,QAAL,CAAcob,QAAd,CAAuB2P,OAAvB,CAA+BvP,IAA/B;;AAEA,iBAAO,IAAP;AACD,SAxEiB;;AA0ElBmL,mBAAW,SAASA,SAAT,GAAqB;AAC9B,iBAAO,KAAK3mB,QAAL,CAAc2mB,SAArB;AACD,SA5EiB;;AA8ElBtL,iBAAS,SAASA,OAAT,GAAmB;AAC1B,iBAAO9Y,KAAKiB,IAAL,CAAU,KAAKxD,QAAL,CAAcqb,OAAxB,CAAP;AACD,SAhFiB;;AAkFlBK,cAAM,SAASA,IAAT,CAAczd,GAAd,EAAmB;AACvB,cAAI+c,KAAK,IAAT;AACA,cAAIqM,KAAKrM,GAAGhb,QAAZ;AACA,cAAIwb,OAAOR,GAAGgP,eAAH,EAAX;;AAEA,cAAInrB,GAAGO,WAAH,CAAenB,GAAf,CAAJ,EAAyB;AACvB;;AAEA+c,eAAG0B,UAAH;;AAEA,gBAAIze,IAAImd,QAAR,EAAkB;AAChB,kBAAI4P,WAAW,EAAf;;AAEA,kBAAIC,aAAa,SAASA,UAAT,CAAoB1N,KAApB,EAA2B2N,EAA3B,EAA+B;AAC9C,qBAAK,IAAI7uB,IAAI,CAAb,EAAgBA,IAAIkhB,MAAM3Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,sBAAIqf,OAAO6B,MAAMlhB,CAAN,CAAX;AACA,sBAAI4Z,KAAKyF,KAAK7B,IAAL,CAAU5D,EAAnB;AACA,sBAAI7Q,MAAM4V,GAAGsB,cAAH,CAAkBrG,EAAlB,CAAV;;AAEA+U,2BAAS/U,EAAT,IAAe,IAAf;;AAEA,sBAAI7Q,IAAIR,MAAJ,KAAe,CAAnB,EAAsB;AACpB;AACAQ,wBAAIsW,IAAJ,CAASA,IAAT;AACD,mBAHD,MAGO;AACL;AACA,wBAAIwP,EAAJ,EAAQ;AACNlQ,yBAAGY,GAAH,CAAOrZ,KAAKgB,MAAL,CAAY,EAAEiV,OAAO0S,EAAT,EAAZ,EAA2BxP,IAA3B,CAAP;AACD,qBAFD,MAEO;AACLV,yBAAGY,GAAH,CAAOF,IAAP;AACD;AACF;AACF;AACF,eApBD;;AAsBA,kBAAI7c,GAAGI,KAAH,CAAShB,IAAImd,QAAb,CAAJ,EAA4B;AAC1B;AACA6P,2BAAWhtB,IAAImd,QAAf;AACD,eAHD,MAGO;AACL;AACA,oBAAI+P,MAAM,CAAC,OAAD,EAAU,OAAV,CAAV;AACA,qBAAK,IAAI9uB,IAAI,CAAb,EAAgBA,IAAI8uB,IAAIvmB,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,sBAAI6uB,KAAKC,IAAI9uB,CAAJ,CAAT;AACA,sBAAI+e,WAAWnd,IAAImd,QAAJ,CAAa8P,EAAb,CAAf;;AAEA,sBAAIrsB,GAAGI,KAAH,CAASmc,QAAT,CAAJ,EAAwB;AACtB6P,+BAAW7P,QAAX,EAAqB8P,EAArB;AACD;AACF;AACF;;AAED;AACA1P,mBAAK4P,SAAL,CAAe,UAAUhmB,GAAV,EAAe;AAC5B,uBAAO,CAAC4lB,SAAS5lB,IAAI6Q,EAAJ,EAAT,CAAR;AACD,eAFD,EAEG4J,MAFH;AAGD;;AAED,gBAAI5hB,IAAIkC,KAAR,EAAe;AACb6a,iBAAG7a,KAAH,CAASlC,IAAIkC,KAAb;AACD;;AAED,gBAAIlC,IAAIuI,IAAJ,IAAY,IAAZ,IAAoBvI,IAAIuI,IAAJ,KAAa6gB,GAAG7gB,IAAxC,EAA8C;AAC5CwU,iBAAGxU,IAAH,CAAQvI,IAAIuI,IAAZ;AACD;;AAED,gBAAIvI,IAAIwI,GAAR,EAAa;AACX,kBAAIxI,IAAIwI,GAAJ,CAAQ3C,CAAR,KAAcujB,GAAG5gB,GAAH,CAAO3C,CAArB,IAA0B7F,IAAIwI,GAAJ,CAAQ1C,CAAR,KAAcsjB,GAAG5gB,GAAH,CAAO1C,CAAnD,EAAsD;AACpDiX,mBAAGvU,GAAH,CAAOxI,IAAIwI,GAAX;AACD;AACF;;AAED,gBAAI2X,SAAS,CAAC,SAAD,EAAY,SAAZ,EAAuB,gBAAvB,EAAyC,oBAAzC,EAA+D,gBAA/D,EAAiF,oBAAjF,EAAuG,qBAAvG,EAA8H,UAA9H,EAA0I,eAA1I,EAA2J,iBAA3J,CAAb;;AAEA,iBAAK,IAAIpK,KAAK,CAAd,EAAiBA,KAAKoK,OAAOxZ,MAA7B,EAAqCoP,IAArC,EAA2C;AACzC,kBAAI5C,IAAIgN,OAAOpK,EAAP,CAAR;;AAEA,kBAAI/V,IAAImT,CAAJ,KAAU,IAAd,EAAoB;AAClB4J,mBAAG5J,CAAH,EAAMnT,IAAImT,CAAJ,CAAN;AACD;AACF;;AAED4J,eAAGgC,QAAH;;AAEA,mBAAO,IAAP,CA9EuB,CA8EV;AACd,WA/ED,MA+EO,IAAI/e,QAAQ2B,SAAZ,EAAuB;AAC5B;AACA,gBAAI8b,OAAO,EAAX;;AAEAA,iBAAKN,QAAL,GAAgB,EAAhB;AACAI,iBAAKvV,OAAL,CAAa,UAAUb,GAAV,EAAe;AAC1B,kBAAIoT,QAAQpT,IAAIoT,KAAJ,EAAZ;;AAEA,kBAAI,CAACkD,KAAKN,QAAL,CAAc5C,KAAd,CAAL,EAA2B;AACzBkD,qBAAKN,QAAL,CAAc5C,KAAd,IAAuB,EAAvB;AACD;;AAEDkD,mBAAKN,QAAL,CAAc5C,KAAd,EAAqBhT,IAArB,CAA0BJ,IAAIsW,IAAJ,EAA1B;AACD,aARD;;AAUA,gBAAI,KAAK1b,QAAL,CAAcsoB,YAAlB,EAAgC;AAC9B5M,mBAAKvb,KAAL,GAAa6a,GAAG7a,KAAH,GAAWub,IAAX,EAAb;AACD;;AAEDA,iBAAKkM,cAAL,GAAsB5M,GAAGhb,QAAH,CAAY4nB,cAAlC;AACAlM,iBAAKmM,kBAAL,GAA0B7M,GAAGhb,QAAH,CAAY6nB,kBAAtC;AACAnM,iBAAKlV,IAAL,GAAYwU,GAAGhb,QAAH,CAAYwG,IAAxB;AACAkV,iBAAKgM,OAAL,GAAe1M,GAAGhb,QAAH,CAAY0nB,OAA3B;AACAhM,iBAAKiM,OAAL,GAAe3M,GAAGhb,QAAH,CAAY2nB,OAA3B;AACAjM,iBAAKoM,cAAL,GAAsB9M,GAAGhb,QAAH,CAAY8nB,cAAlC;AACApM,iBAAKqM,kBAAL,GAA0B/M,GAAGhb,QAAH,CAAY+nB,kBAAtC;AACArM,iBAAKjV,GAAL,GAAWlE,KAAKiB,IAAL,CAAUwX,GAAGhb,QAAH,CAAYyG,GAAtB,CAAX;AACAiV,iBAAKsM,mBAAL,GAA2BhN,GAAGhb,QAAH,CAAYgoB,mBAAvC;AACAtM,iBAAKW,QAAL,GAAgB9Z,KAAKiB,IAAL,CAAUwX,GAAGhb,QAAH,CAAYqb,OAAZ,CAAoBgB,QAA9B,CAAhB;AACAX,iBAAKyN,mBAAL,GAA2BnO,GAAGhb,QAAH,CAAYqb,OAAZ,CAAoB8N,mBAA/C;AACAzN,iBAAK0N,iBAAL,GAAyBpO,GAAGhb,QAAH,CAAYqb,OAAZ,CAAoB+N,iBAA7C;AACA1N,iBAAK2N,gBAAL,GAAwBrO,GAAGhb,QAAH,CAAYqb,OAAZ,CAAoBgO,gBAA5C;AACA3N,iBAAK4N,UAAL,GAAkBtO,GAAGhb,QAAH,CAAYqb,OAAZ,CAAoBiO,UAAtC;;AAEA,mBAAO5N,IAAP;AACD;AACF,SA1MiB;;AA4MlBkG,iBAAS/lB,OAAOge,IAAP,CAAY;AACnBC,iBAAO,SADY;AAEnBuR,wBAAc,SAFK;AAGnBC,wBAAc,IAHK;AAInBC,wBAAc,IAJK;AAKnBC,wBAAc,SALK;AAMnBC,gCAAsB,IANH;AAOnBC,yBAAe,SAPI;AAQnBC,wBAAc;AARK,SAAZ,CA5MS;;AAuNlBC,uBAAe/vB,OAAOgwB,UAAP,CAAkB;AAC/B/R,iBAAO,SADwB;AAE/BzZ,iBAAO,SAFwB;AAG/BqrB,yBAAe,SAHgB;AAI/BI,wBAAc;AAJiB,SAAlB;;AAvNG,OAApB;;AAgOArB,aAAOjO,GAAP,GAAaiO,OAAOnO,cAApB;;AAEA,OAACngB,oBAAoB,EAApB,CAAD,EAA0BA,oBAAoB,EAApB,CAA1B,EAAmDA,oBAAoB,EAApB,CAAnD,EAA4EA,oBAAoB,EAApB,CAA5E,EAAqGA,oBAAoB,EAApB,CAArG,EAA8HA,oBAAoB,EAApB,CAA9H,EAAuJA,oBAAoB,EAApB,CAAvJ,EAAgLA,oBAAoB,EAApB,CAAhL,EAAyMA,oBAAoB,EAApB,CAAzM,EAAkOA,oBAAoB,EAApB,CAAlO,EAA2P8J,OAA3P,CAAmQ,UAAUqc,KAAV,EAAiB;AAClR/f,aAAKgB,MAAL,CAAYknB,MAAZ,EAAoBnI,KAApB;AACD,OAFD;;AAIA3mB,aAAOD,OAAP,GAAiBgrB,IAAjB;;AAEA;AAAO,KAh5GG;AAi5GV;AACA,SAAO,UAAS/qB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIye,MAAMze,oBAAoB,CAApB,CAAV;;AAEA;AACA,UAAI0e,UAAU,SAASA,OAAT,CAAiBG,EAAjB,EAAqBtN,MAArB,EAA6BsO,OAA7B,EAAsC;AAClDA,kBAAUA,YAAYpc,SAAZ,IAAyBoc,OAAzB,GAAmC,IAAnC,GAA0C,KAApD;;AAEA,YAAIhB,OAAOpb,SAAP,IAAoB8N,WAAW9N,SAA/B,IAA4C,CAACf,GAAGqB,IAAH,CAAQ8a,EAAR,CAAjD,EAA8D;AAC5DzY,eAAKQ,KAAL,CAAW,0DAAX;AACA;AACD;;AAED,YAAIyV,QAAQ9K,OAAO8K,KAAnB;;AAEA;AACA,YAAIA,SAAS,IAAb,EAAmB;AACjB,cAAI9K,OAAOmM,IAAP,IAAenM,OAAOmM,IAAP,CAAYO,MAAZ,IAAsB,IAArC,IAA6C1M,OAAOmM,IAAP,CAAYQ,MAAZ,IAAsB,IAAvE,EAA6E;AAC3E7B,oBAAQ,OAAR;AACD,WAFD,MAEO;AACLA,oBAAQ,OAAR;AACD;AACF;;AAED;AACA,YAAIA,UAAU,OAAV,IAAqBA,UAAU,OAAnC,EAA4C;AAC1CjW,eAAKQ,KAAL,CAAW,mEAAmEyV,KAAnE,GAA2E,GAAtF;AACA;AACD;;AAED;AACA,aAAK5T,MAAL,GAAc,CAAd;AACA,aAAK,CAAL,IAAU,IAAV;;AAEA;AACA,YAAIyiB,KAAK,KAAKrnB,QAAL,GAAgB;AACvBgb,cAAIA,EADmB;AAEvB/a,kBAAQ,IAFe,EAET;AACd4Z,gBAAMnM,OAAOmM,IAAP,IAAe,EAHE,EAGE;AACzB8C,oBAAUjP,OAAOiP,QAAP,IAAmB,EAJN,EAIU;AACjCoP,qBAAWnsB,SALY,EAKD;AACtBosB,sBAAYpsB,SANW;AAOvBqsB,uBAAarsB,SAPU;AAQvBssB,+BAAqB,KARE,EAQK;AAC5BvH,qBAAW,EATY,EASR;AACfnM,iBAAOA,KAVgB,EAUT;AACdrY,iBAAO,EAXgB,EAWZ;AACXgsB,kBAAQ,EAZe,EAYX;AACZC,qBAAW,EAbY,EAaR;AACfnP,mBAAS,IAdc,EAcR;AACfC,oBAAUxP,OAAOwP,QAAP,GAAkB,IAAlB,GAAyB,KAfZ,EAemB;AAC1CC,sBAAYzP,OAAOyP,UAAP,KAAsBvd,SAAtB,GAAkC,IAAlC,GAAyC8N,OAAOyP,UAAP,GAAoB,IAApB,GAA2B,KAhBzD,EAgBgE;AACvFC,kBAAQ1P,OAAO0P,MAAP,GAAgB,IAAhB,GAAuB,KAjBR,EAiBe;AACtCiP,mBAAS,KAlBc,EAkBP;AAChBhP,qBAAW3P,OAAO2P,SAAP,KAAqBzd,SAArB,GAAiC,IAAjC,GAAwC8N,OAAO2P,SAAP,GAAmB,IAAnB,GAA0B,KAnBtD,EAmB6D;AACpFiP,kBAAQ,KApBe,EAoBR;AACfnS,mBAAS,IAAIS,GAAJ,EArBc,EAqBH;AACpB2N,qBAAW,EAAE;AACXC,qBAAS,EADA;AAETC,mBAAO;AAFE,WAtBY;AA0BvB8D,oBAAU,EA1Ba,EA0BT;AACd3K,mBAASlU,OAAOkU,OAAP,IAAkB,EA3BJ,EA2BQ;AAC/BhE,iBAAO,EA5BgB,EA4BZ;AACXoB,oBAAU,EA7Ba,EA6BT;AACdzE,kBAAQ,IA9Be,EA8BT;AACdiS,0BAAgB,EA/BO,EA+BH;AACpBC,yBAAe,KAhCQ,CAgCF;AAhCE,SAAzB;;AAmCA;AACA,YAAI/e,OAAOgf,gBAAX,EAA6B;AAC3B,cAAIC,OAAOjf,OAAOgf,gBAAlB;AACA,cAAIjmB,MAAMuU,GAAGvU,GAAH,EAAV;AACA,cAAID,OAAOwU,GAAGxU,IAAH,EAAX;;AAEA6gB,aAAG1K,QAAH,GAAc;AACZ7Y,eAAG,CAAC6oB,KAAK7oB,CAAL,GAAS2C,IAAI3C,CAAd,IAAmB0C,IADV;AAEZzC,eAAG,CAAC4oB,KAAK5oB,CAAL,GAAS0C,IAAI1C,CAAd,IAAmByC;AAFV,WAAd;AAID;;AAED,YAAI3H,GAAGG,MAAH,CAAU0O,OAAOyM,OAAjB,CAAJ,EAA+B;AAC7B,cAAIA,UAAUzM,OAAOyM,OAAP,CAAeiL,KAAf,CAAqB,KAArB,CAAd;AACA,eAAK,IAAI/oB,IAAI,CAAR,EAAWC,IAAI6d,QAAQvV,MAA5B,EAAoCvI,IAAIC,CAAxC,EAA2CD,GAA3C,EAAgD;AAC9C,gBAAIihB,MAAMnD,QAAQ9d,CAAR,CAAV;AACA,gBAAI,CAACihB,GAAD,IAAQA,QAAQ,EAApB,EAAwB;AACtB;AACD;;AAED+J,eAAGlN,OAAH,CAAWyB,GAAX,CAAe0B,GAAf;AACD;AACF;;AAED,YAAI5P,OAAOvN,KAAP,IAAgBuN,OAAOkf,GAA3B,EAAgC;AAC9B5R,aAAG7a,KAAH,GAAW0sB,WAAX,CAAuB,IAAvB,EAA6Bnf,OAAOvN,KAAP,IAAgBuN,OAAOkf,GAApD;AACD;;AAED,aAAKlE,aAAL;;AAEA,YAAI1M,YAAYpc,SAAZ,IAAyBoc,OAA7B,EAAsC;AACpC,eAAKA,OAAL;AACD;AACF,OAlGD;;AAoGArgB,aAAOD,OAAP,GAAiBmf,OAAjB;;AAEA;AAAO,KAlgHG;AAmgHV;AACA,SAAO,UAASlf,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA;;;;;;;;;;;;;AAYA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAI2wB,aAAa,SAASA,UAAT,CAAoB7oB,CAApB,EAAuBC,CAAvB,EAA0B;AACzC,YAAI8W,KAAK/W,EAAE+W,EAAF,EAAT;AACA,YAAIiE,mBAAmBjE,GAAGiE,gBAAH,EAAvB;;AAEA,iBAAS8N,QAAT,CAAkB3nB,GAAlB,EAAuB;AACrB,cAAIjF,QAAQiF,IAAI4nB,MAAJ,CAAW,kBAAX,CAAZ;AACA,cAAI7sB,MAAMzD,KAAN,KAAgB,MAApB,EAA4B;AAC1B,mBAAOuiB,mBAAmB7Z,IAAI6nB,MAAJ,EAAnB,GAAkC,CAAzC;AACD,WAFD,MAEO,IAAI9sB,MAAMzD,KAAN,KAAgB,QAApB,EAA8B;AACnC,mBAAO,CAAC,CAAR;AACD,WAFM,MAEA,IAAIyD,MAAMzD,KAAN,KAAgB,KAApB,EAA2B;AAChC,mBAAO6F,KAAKC,OAAZ;AACD;AACD;AACA,iBAAO,CAAP;AACD;AACD,YAAI0qB,YAAYH,SAAS9oB,CAAT,IAAc8oB,SAAS7oB,CAAT,CAA9B;AACA,YAAIgpB,cAAc,CAAlB,EAAqB;AACnB,iBAAOA,SAAP;AACD;;AAED,iBAASC,WAAT,CAAqB/nB,GAArB,EAA0B;AACxB,cAAIjF,QAAQiF,IAAI4nB,MAAJ,CAAW,iBAAX,CAAZ;AACA,cAAI7sB,MAAMzD,KAAN,KAAgB,MAApB,EAA4B;AAC1B,mBAAO0I,IAAIyY,MAAJ,KAAe,CAAf,GAAmB,CAA1B;AACD;AACD;AACA,iBAAO,CAAP;AACD;AACD,YAAIuP,UAAUD,YAAYlpB,CAAZ,IAAiBkpB,YAAYjpB,CAAZ,CAA/B;AACA,YAAIkpB,YAAY,CAAhB,EAAmB;AACjB,iBAAOA,OAAP;AACD;;AAED,YAAIC,QAAQppB,EAAE+oB,MAAF,CAAS,SAAT,EAAoBtwB,KAApB,GAA4BwH,EAAE8oB,MAAF,CAAS,SAAT,EAAoBtwB,KAA5D;AACA,YAAI2wB,UAAU,CAAd,EAAiB;AACf,iBAAOA,KAAP;AACD;AACD;AACA,eAAOppB,EAAEwY,SAAF,KAAgBvY,EAAEuY,SAAF,EAAvB;AACD,OAxCD;;AA0CA9gB,aAAOD,OAAP,GAAiBoxB,UAAjB;;AAEA;AAAO,KAnkHG;AAokHV;AACA,SAAO,UAASnxB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA;;;;;;;;AAQA,UAAIynB,QAAQ,SAASA,KAAT,CAAerF,GAAf,EAAoB+D,KAApB,EAA2B;AACrC,aAAKgL,OAAL,CAAa/O,GAAb,EAAkB+D,KAAlB;AACD,OAFD;;AAIA,eAASiL,WAAT,GAAuB;AACrB,eAAO,KAAP;AACD;;AAED,eAASC,UAAT,GAAsB;AACpB,eAAO,IAAP;AACD;;AAED;AACA5J,YAAMlmB,SAAN,GAAkB;AAChBkB,wBAAgB,SAASA,cAAT,GAA0B;AACxC,iBAAO,OAAP;AACD,SAHe;;AAKhB0uB,iBAAS,SAASA,OAAT,CAAiB/O,GAAjB,EAAsB+D,KAAtB,EAA6B;AACpC,eAAKmL,6BAAL,GAAqC,KAAKhH,oBAAL,GAA4B,KAAKiH,kBAAL,GAA0BH,WAA3F;;AAEA,cAAIhP,OAAO,IAAP,IAAeA,IAAIiI,cAAvB,EAAuC;AACrC;AACA,iBAAKrF,IAAL,GAAY5C,IAAI4C,IAAhB;;AAEA;AACA;AACA,iBAAKuM,kBAAL,GAA0BnP,IAAIoP,gBAAJ,GAAuBH,UAAvB,GAAoCD,WAA9D;AACD,WAPD,MAOO,IAAIhP,OAAO,IAAP,IAAeA,IAAI4C,IAAvB,EAA6B;AAClC;AACAmB,oBAAQ/D,GAAR;AACD,WAHM,MAGA;AACL;AACA,iBAAK4C,IAAL,GAAY5C,GAAZ;AACD;;AAED;AACA,cAAI+D,SAAS,IAAb,EAAmB;AACjB;AACA,iBAAKsL,aAAL,GAAqBtL,MAAMsL,aAA3B;AACA,iBAAKzM,IAAL,GAAYmB,MAAMnB,IAAN,IAAc,IAAd,GAAqBmB,MAAMnB,IAA3B,GAAkC,KAAKA,IAAnD;AACA,iBAAKnG,EAAL,GAAUsH,MAAMtH,EAAhB;AACA,iBAAKX,MAAL,GAAciI,MAAMjI,MAApB;AACA,iBAAKsC,QAAL,GAAgB2F,MAAM3F,QAAtB;AACA,iBAAK+P,gBAAL,GAAwBpK,MAAMoK,gBAA9B;AACA,iBAAKpH,SAAL,GAAiBhD,MAAMgD,SAAvB;AACA,iBAAK4B,MAAL,GAAc5E,MAAM4E,MAApB;AACD;;AAED,cAAI,KAAKlM,EAAL,IAAW,IAAX,IAAmB,KAAK2B,QAAL,IAAiB,IAApC,IAA4C,KAAK+P,gBAAL,IAAyB,IAAzE,EAA+E;AAC7E;AACA,gBAAI7oB,MAAM,KAAK8Y,QAAf;AACA,gBAAInW,OAAO,KAAKwU,EAAL,CAAQxU,IAAR,EAAX;AACA,gBAAIC,MAAM,KAAKuU,EAAL,CAAQvU,GAAR,EAAV;;AAEA,iBAAKimB,gBAAL,GAAwB;AACtB5oB,iBAAGD,IAAIC,CAAJ,GAAQ0C,IAAR,GAAeC,IAAI3C,CADA;AAEtBC,iBAAGF,IAAIE,CAAJ,GAAQyC,IAAR,GAAeC,IAAI1C;AAFA,aAAxB;AAID;;AAED;AACA,eAAK8pB,SAAL,GAAiBtP,OAAOA,IAAIsP,SAAX,IAAwBC,KAAKC,GAAL,EAAzC;AACD,SAlDe;;AAoDhBvH,wBAAgB,SAASA,cAAT,GAA0B;AACxC,eAAKkH,kBAAL,GAA0BF,UAA1B;;AAEA,cAAInW,IAAI,KAAKuW,aAAb;AACA,cAAI,CAACvW,CAAL,EAAQ;AACN;AACD;;AAED;AACA,cAAIA,EAAEmP,cAAN,EAAsB;AACpBnP,cAAEmP,cAAF;AACD;AACF,SAhEe;;AAkEhBD,yBAAiB,SAASA,eAAT,GAA2B;AAC1C,eAAKE,oBAAL,GAA4B+G,UAA5B;;AAEA,cAAInW,IAAI,KAAKuW,aAAb;AACA,cAAI,CAACvW,CAAL,EAAQ;AACN;AACD;;AAED;AACA,cAAIA,EAAEkP,eAAN,EAAuB;AACrBlP,cAAEkP,eAAF;AACD;AACF,SA9Ee;;AAgFhByH,kCAA0B,SAASA,wBAAT,GAAoC;AAC5D,eAAKP,6BAAL,GAAqCD,UAArC;AACA,eAAKjH,eAAL;AACD,SAnFe;;AAqFhBmH,4BAAoBH,WArFJ;AAsFhB9G,8BAAsB8G,WAtFN;AAuFhBE,uCAA+BF;AAvFf,OAAlB;;AA0FA5xB,aAAOD,OAAP,GAAiBkoB,KAAjB;;AAEA;AAAO,KA3rHG;AA4rHV;AACA,SAAO,UAASjoB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAI8xB,cAAc,OAAO,EAAzB,CAPsD,CAOzB;;AAE7BtyB,aAAOD,OAAP,GAAiB;AACfwyB,yBAAiB,SAASA,eAAT,CAAyB/R,IAAzB,EAA+B;AAC9C,iBAAO,SAASgS,mBAAT,GAA+B;AACpC,gBAAI9V,OAAO,IAAX;AACA,gBAAI5L,IAAI,KAAK4P,QAAb;;AAEA,gBAAIhE,KAAK+V,eAAT,EAA0B;AACxB;AACD,aAFD,MAEO;AACL/V,mBAAK+V,eAAL,GAAuB,IAAvB;AACD;;AAED,gBAAIC,cAAc9rB,KAAK+rB,QAAL,CAAc,YAAY;AAC1C7hB,gBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACA9hB,gBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;;AAEA9hB,gBAAE+hB,MAAF;AACD,aALiB,EAKfrS,KAAKsS,kBALU,CAAlB;;AAOA,gBAAIC,UAAU,SAASA,OAAT,CAAiBC,QAAjB,EAA2BC,cAA3B,EAA2C;AACvD,kBAAIC,YAAYtsB,KAAKusB,cAAL,EAAhB;AACA,kBAAIC,gBAAgBtiB,EAAEuiB,iBAAtB;AACA,kBAAIC,aAAaxiB,EAAEyiB,cAAnB;AACA,kBAAIC,OAAO,EAAX;AACA,kBAAIC,SAAS3iB,EAAEuO,EAAF,CAAKoU,MAAL,EAAb;AACA,kBAAI5F,aAAa/c,EAAE4iB,aAAF,EAAjB;;AAEA,qBAAO,IAAP,EAAa;AACX,oBAAItB,MAAMxrB,KAAKusB,cAAL,EAAV;AACA,oBAAIQ,WAAWvB,MAAMc,SAArB;AACA,oBAAIU,gBAAgBxB,MAAMa,cAA1B;;AAEA,oBAAIK,aAAahB,WAAjB,EAA8B;AAC5B;AACA;;AAEA,sBAAIuB,gBAAgBvB,eAAeU,WAAWI,aAAX,GAA2B,CAA1C,CAApB;;AAEA,sBAAIQ,iBAAiBpT,KAAKsT,WAAL,GAAmBD,aAAxC,EAAuD;AACrD;AACD;AACF,iBATD,MASO;AACL,sBAAIb,QAAJ,EAAc;AACZ,wBAAIW,YAAYnT,KAAKuT,OAAL,GAAeT,UAA3B,IAAyCK,YAAYnT,KAAKwT,UAAL,GAAkBZ,aAA3E,EAA0F;AACxF;AACD;AACF,mBAJD,MAIO,IAAIQ,iBAAiBpT,KAAKyT,aAAL,GAAqB3B,WAA1C,EAAuD;AAC5D;AACD;AACF;;AAED,oBAAI4B,WAAW1T,KAAK2T,GAAL,CAASzX,IAAT,EAAemR,UAAf,EAA2B4F,MAA3B,CAAf;;AAEA,oBAAIS,SAASjrB,MAAT,GAAkB,CAAtB,EAAyB;AACvB,uBAAK,IAAIvI,IAAI,CAAb,EAAgBA,IAAIwzB,SAASjrB,MAA7B,EAAqCvI,GAArC,EAA0C;AACxC8yB,yBAAK3pB,IAAL,CAAUqqB,SAASxzB,CAAT,CAAV;AACD;AACF,iBAJD,MAIO;AACL;AACD;AACF;;AAED;AACA,kBAAI8yB,KAAKvqB,MAAL,GAAc,CAAlB,EAAqB;AACnBuX,qBAAK4T,MAAL,CAAY1X,IAAZ,EAAkB8W,IAAlB;;AAEA,oBAAI,CAACR,QAAD,IAAaxS,KAAK6T,YAAL,CAAkB3X,IAAlB,EAAwB8W,IAAxB,EAA8B3F,UAA9B,EAA0C4F,MAA1C,CAAjB,EAAoE;AAClEf;AACD;AACF;AACF,aAnDD;;AAqDA,gBAAI4B,WAAW9T,KAAK8T,QAAL,IAAiB1tB,KAAKO,IAArC;;AAEA2J,cAAEyjB,YAAF,CAAexB,OAAf,EAAwBuB,SAAS5X,IAAT,CAAxB;AACD,WAzED;AA0ED;AA5Ec,OAAjB;;AA+EA;AAAO,KArxHG;AAsxHV;AACA,SAAO,UAAS1c,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAIg0B,iBAAiB,CAAC;AACpB/X,kBAAU,WADU;AAEpBgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAI8X,QAAJ,EAAP;AACD;AAJmB,OAAD,EAKlB;AACD9E,kBAAU,aADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAO,CAACA,IAAI8X,QAAJ,EAAR;AACD;AAJA,OALkB,EAUlB;AACD9E,kBAAU,aADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAI+X,UAAJ,EAAP;AACD;AAJA,OAVkB,EAelB;AACD/E,kBAAU,eADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAO,CAACA,IAAI+X,UAAJ,EAAR;AACD;AAJA,OAfkB,EAoBlB;AACD/E,kBAAU,SADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAIgY,MAAJ,EAAP;AACD;AAJA,OApBkB,EAyBlB;AACDhF,kBAAU,WADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAO,CAACA,IAAIgY,MAAJ,EAAR;AACD;AAJA,OAzBkB,EA8BlB;AACDhF,kBAAU,UADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAIirB,OAAJ,EAAP;AACD;AAJA,OA9BkB,EAmClB;AACDjY,kBAAU,SADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAO,CAACA,IAAIirB,OAAJ,EAAR;AACD;AAJA,OAnCkB,EAwClB;AACDjY,kBAAU,cADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAIkrB,WAAJ,EAAP;AACD;AAJA,OAxCkB,EA6ClB;AACDlY,kBAAU,UADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAIinB,OAAJ,EAAP;AACD;AAJA,OA7CkB,EAkDlB;AACDjU,kBAAU,OADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAO,CAACA,IAAIinB,OAAJ,EAAR;AACD;AAJA,OAlDkB,EAuDlB;AACDjU,kBAAU,UADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAI6X,OAAJ,EAAP;AACD;AAJA,OAvDkB,EA4DlB;AACD7E,kBAAU,SADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAO,CAACA,IAAI6X,OAAJ,EAAR;AACD;AAJA,OA5DkB,EAiElB;AACD7E,kBAAU,YADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAIiY,SAAJ,EAAP;AACD;AAJA,OAjEkB,EAsElB;AACDjF,kBAAU,cADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAO,CAACA,IAAIiY,SAAJ,EAAR;AACD;AAJA,OAtEkB,EA2ElB;AACDjF,kBAAU,WADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAImrB,QAAJ,EAAP;AACD;AAJA,OA3EkB,EAgFlB;AACDnY,kBAAU,aADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAO,CAACA,IAAImrB,QAAJ,EAAR;AACD;AAJA,OAhFkB,EAqFlB;AACDnY,kBAAU,SADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAI4b,QAAJ,EAAP;AACD;AAJA,OArFkB,EA0FlB;AACD5I,kBAAU,YADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAIorB,WAAJ,EAAP;AACD;AAJA,OA1FkB,EA+FlB;AACDpY,kBAAU,QADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAIqrB,OAAJ,EAAP;AACD;AAJA,OA/FkB,EAoGlB;AACDrY,kBAAU,SADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAIsrB,QAAJ,EAAP;AACD;AAJA,OApGkB,EAyGlB;AACDtY,kBAAU,YADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAIqrB,OAAJ,EAAP;AACD;AAJA,OAzGkB,EA8GlB;AACDrY,kBAAU,OADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAIurB,MAAJ,EAAP;AACD;AAJA,OA9GkB,EAmHlB;AACDvY,kBAAU,SADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAIwrB,QAAJ,EAAP;AACD;AAJA,OAnHkB,EAwHlB;AACDxY,kBAAU,SADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAIknB,MAAJ,EAAP;AACD;AAJA,OAxHkB,EA6HlB;AACDlU,kBAAU,WADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAO,CAACA,IAAIknB,MAAJ,EAAR;AACD;AAJA,OA7HkB,EAkIlB;AACDlU,kBAAU,gBADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAOA,IAAIqnB,aAAJ,EAAP;AACD;AAJA,OAlIkB,EAuIlB;AACDrU,kBAAU,mBADT;AAEDgY,iBAAS,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAC7B,iBAAO,CAACA,IAAIqnB,aAAJ,EAAR;AACD;AAJA,OAvIkB,EA4IlBoE,IA5IkB,CA4Ib,UAAU5sB,CAAV,EAAaC,CAAb,EAAgB;AACtB;AACA,eAAO3B,KAAKsuB,IAAL,CAAUC,UAAV,CAAqB7sB,EAAEmU,QAAvB,EAAiClU,EAAEkU,QAAnC,CAAP;AACD,OA/IoB,CAArB;;AAiJA,UAAI2Y,uBAAuB,SAASA,oBAAT,CAA8BrX,GAA9B,EAAmCtU,GAAnC,EAAwC;AACjE,YAAI4rB,SAASD,qBAAqBC,MAArB,GAA8BD,qBAAqBC,MAArB,IAA+B,YAAY;AACpF,cAAIC,UAAU,EAAd;AACA,cAAIpzB,IAAI,KAAK,CAAb;;AAEA,eAAK,IAAIxB,IAAI,CAAb,EAAgBA,IAAI8zB,eAAevrB,MAAnC,EAA2CvI,GAA3C,EAAgD;AAC9CwB,gBAAIsyB,eAAe9zB,CAAf,CAAJ;;AAEA40B,oBAAQpzB,EAAEua,QAAV,IAAsBva,EAAEuyB,OAAxB;AACD;;AAED,iBAAOa,OAAP;AACD,SAXyE,EAA1E;;AAaA,eAAOD,OAAOtX,GAAP,EAAYtU,GAAZ,CAAP;AACD,OAfD;;AAiBA,UAAI8rB,qBAAqB,MAAMf,eAAe7U,GAAf,CAAmB,UAAUzd,CAAV,EAAa;AAC7D,eAAOA,EAAEua,QAAT;AACD,OAF8B,EAE5B+Y,IAF4B,CAEvB,GAFuB,CAAN,GAEV,GAFf;;AAIAx1B,aAAOD,OAAP,GAAiB,EAAEy0B,gBAAgBA,cAAlB,EAAkCY,sBAAsBA,oBAAxD,EAA8EG,oBAAoBA,kBAAlG,EAAjB;;AAEA;AAAO,KAt8HG;AAu8HV;AACA,SAAO,UAASv1B,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAIgc,WAAWhc,oBAAoB,CAApB,CAAf;;AAEA,UAAIi1B,QAAQ,SAASA,KAAT,CAAepW,EAAf,EAAmB;;AAE7B,YAAI,EAAE,gBAAgBoW,KAAlB,CAAJ,EAA8B;AAC5B,iBAAO,IAAIA,KAAJ,CAAUpW,EAAV,CAAP;AACD;;AAED,YAAI,CAACnc,GAAGqB,IAAH,CAAQ8a,EAAR,CAAL,EAAkB;AAChBzY,eAAKQ,KAAL,CAAW,oCAAX;AACA;AACD;;AAED,aAAK/C,QAAL,GAAgB;AACdgb,cAAIA,EADU;AAEdqW,qBAAW;AAFG,SAAhB;;AAKA,aAAKzsB,MAAL,GAAc,CAAd;;AAEA,aAAK0sB,cAAL;AACD,OAnBD;;AAqBA,UAAIC,QAAQH,MAAM1zB,SAAlB;;AAEA6zB,YAAM3yB,cAAN,GAAuB,YAAY;AACjC,eAAO,OAAP;AACD,OAFD;;AAIA;AACA2yB,YAAM/N,KAAN,GAAc,YAAY;AACxB,aAAK,IAAInnB,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,eAAKA,CAAL,IAAUuD,SAAV;AACD;AACD,aAAKgF,MAAL,GAAc,CAAd;;AAEA,YAAIyiB,KAAK,KAAKrnB,QAAd;;AAEAqnB,WAAGmK,QAAH,GAAc,IAAd;;AAEA,eAAO,IAAP,CAVwB,CAUX;AACd,OAXD;;AAaAD,YAAMD,cAAN,GAAuB,YAAY;AACjC,aAAK9N,KAAL;AACA,aAAKiO,oBAAL;;AAEA,eAAO,IAAP;AACD,OALD;;AAOA;AACAF,YAAMrxB,IAAN,GAAa,YAAY;AACvB,eAAO,KAAKF,QAAL,CAAcqxB,SAArB;AACD,OAFD;;AAIA;AACAE,YAAMnZ,QAAN,GAAiB,UAAUsZ,WAAV,EAAuB;AACtC;AACA,YAAItZ,WAAWsZ,gBAAgB,MAAhB,GAAyB,IAAzB,GAAgC,IAAIvZ,QAAJ,CAAauZ,WAAb,CAA/C;;AAEA,YAAIr1B,IAAI,KAAKuI,MAAL,EAAR,CAJsC,CAIf;AACvB,aAAKvI,CAAL,IAAU;AACR+b,oBAAUA,QADF;AAERuZ,sBAAY,EAFJ;AAGRC,4BAAkB,EAHV;AAIRjkB,iBAAOtR;AAJC,SAAV;;AAOA,eAAO,IAAP,CAZsC,CAYzB;AACd,OAbD;;AAeA;AACAk1B,YAAM3E,GAAN,GAAY,YAAY;AACtB,YAAIvU,OAAO,IAAX;AACA,YAAI1T,OAAOxB,SAAX;;AAEA,gBAAQwB,KAAKC,MAAb;AACE,eAAK,CAAL;AACE,gBAAI0W,MAAM3W,KAAK,CAAL,CAAV;;AAEA,iBAAK,IAAItI,IAAI,CAAb,EAAgBA,IAAIgc,KAAKsZ,UAAL,CAAgB/sB,MAApC,EAA4CvI,GAA5C,EAAiD;AAC/C,kBAAIw1B,OAAOxZ,KAAKsZ,UAAL,CAAgBt1B,CAAhB,CAAX;AACA,kBAAIy1B,SAASxW,IAAIuW,KAAKj1B,IAAT,CAAb;;AAEA,kBAAIk1B,WAAWlyB,SAAf,EAA0B;AACxBkyB,yBAASxW,IAAI/Y,KAAKwvB,UAAL,CAAgBF,KAAKj1B,IAArB,CAAJ,CAAT;AACD;;AAED,kBAAIk1B,WAAWlyB,SAAf,EAA0B;AACxB,qBAAKoyB,OAAL,CAAaH,KAAKj1B,IAAlB,EAAwBk1B,MAAxB;AACD;AACF;;AAED;;AAEF,eAAK,CAAL;AACE,iBAAKE,OAAL,CAAartB,KAAK,CAAL,CAAb,EAAsBA,KAAK,CAAL,CAAtB;AACA;;AAEF;AACE,kBAxBJ,CAwBW;AAxBX;;AA2BA,eAAO,IAAP,CA/BsB,CA+BT;AACd,OAhCD;AAiCA4sB,YAAMpxB,KAAN,GAAcoxB,MAAM3E,GAApB;;AAEA;AACA2E,YAAMS,OAAN,GAAgB,UAAUp1B,IAAV,EAAgBF,KAAhB,EAAuB;AACrC;AACA,YAAIe,WAAW,KAAKkb,KAAL,CAAW/b,IAAX,EAAiBF,KAAjB,CAAf;;AAEA;AACA,YAAIe,QAAJ,EAAc;AACZ,cAAIpB,IAAI,KAAKuI,MAAL,GAAc,CAAtB;AACA,eAAKvI,CAAL,EAAQs1B,UAAR,CAAmBnsB,IAAnB,CAAwB/H,QAAxB;AACA,eAAKpB,CAAL,EAAQs1B,UAAR,CAAmBl0B,SAASb,IAA5B,IAAoCa,QAApC,CAHY,CAGkC;;AAE9C,cAAIA,SAASb,IAAT,CAAc6D,KAAd,CAAoB,2BAApB,KAAoDhD,SAASf,KAAjE,EAAwE;AACtE,iBAAKsD,QAAL,CAAciyB,MAAd,GAAuB,IAAvB;AACD;;AAED,cAAIx0B,SAASy0B,MAAb,EAAqB;AACnB,iBAAK71B,CAAL,EAAQu1B,gBAAR,CAAyBpsB,IAAzB,CAA8B/H,QAA9B;AACD;;AAED;AACA,cAAI00B,wBAAwB,CAAC,KAAK91B,CAAL,EAAQ+b,QAArC;AACA,cAAI+Z,qBAAJ,EAA2B;AACzB,iBAAKnyB,QAAL,CAAcqxB,SAAd,CAAwB5zB,SAASb,IAAjC,IAAyCa,QAAzC;AACD;AACF;;AAED,eAAO,IAAP,CAzBqC,CAyBxB;AACd,OA1BD;;AA4BA8zB,YAAMjH,MAAN,GAAe,UAAUnqB,KAAV,EAAiB;AAC9B,YAAItB,GAAGuB,UAAH,CAAcD,KAAd,CAAJ,EAA0B;AACxBA,gBAAMiyB,aAAN,CAAoB,IAApB;AACD,SAFD,MAEO,IAAIvzB,GAAGI,KAAH,CAASkB,KAAT,CAAJ,EAAqB;AAC1B,eAAKkyB,cAAL,CAAoBlyB,KAApB;AACD,SAFM,MAEA,IAAItB,GAAGG,MAAH,CAAUmB,KAAV,CAAJ,EAAsB;AAC3B,eAAKmyB,gBAAL,CAAsBnyB,KAAtB;AACD,SAP6B,CAO5B;;AAEF,eAAO,IAAP;AACD,OAVD;;AAYA;AACAixB,YAAMmB,QAAN,GAAiB,UAAUvX,EAAV,EAAcU,IAAd,EAAoB;AACnC,YAAIvb,QAAQ,IAAIixB,KAAJ,CAAUpW,EAAV,CAAZ;;AAEA7a,cAAMoyB,QAAN,CAAe7W,IAAf;;AAEA,eAAOvb,KAAP;AACD,OAND;;AAQAixB,YAAMoB,UAAN,GAAmB,UAAUxX,EAAV,EAAchc,MAAd,EAAsB;AACvC,eAAO,IAAIoyB,KAAJ,CAAUpW,EAAV,EAAcwX,UAAd,CAAyBxzB,MAAzB,CAAP;AACD,OAFD;;AAIA,OAAC7C,oBAAoB,GAApB,CAAD,EAA2BA,oBAAoB,GAApB,CAA3B,EAAqDA,oBAAoB,GAApB,CAArD,EAA+EA,oBAAoB,GAApB,CAA/E,EAAyGA,oBAAoB,GAApB,CAAzG,EAAmIA,oBAAoB,GAApB,CAAnI,EAA6JA,oBAAoB,GAApB,CAA7J,EAAuLA,oBAAoB,GAApB,CAAvL,EAAiN8J,OAAjN,CAAyN,UAAUqc,KAAV,EAAiB;AACxO/f,aAAKgB,MAAL,CAAYguB,KAAZ,EAAmBjP,KAAnB;AACD,OAFD;;AAIA8O,YAAMqB,KAAN,GAAclB,MAAMkB,KAApB;AACArB,YAAMO,UAAN,GAAmBJ,MAAMI,UAAzB;;AAEAh2B,aAAOD,OAAP,GAAiB01B,KAAjB;;AAEA;AAAO,KAznIG;AA0nIV;AACA,SAAO,UAASz1B,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGAR,aAAOD,OAAP,GAAiB,SAASsK,OAAT,CAAiBlH,EAAjB,EAAqB4zB,KAArB,EAA4B;AAC3C,YAAI,CAACA,KAAL,EAAY;AACVA,kBAAQ,SAASA,KAAT,GAAiB;AACvB,gBAAIvvB,UAAUyB,MAAV,KAAqB,CAAzB,EAA4B;AAC1B,qBAAOzB,UAAU,CAAV,CAAP;AACD,aAFD,MAEO,IAAIA,UAAUyB,MAAV,KAAqB,CAAzB,EAA4B;AACjC,qBAAO,WAAP;AACD;;AAED,gBAAID,OAAO,EAAX;;AAEA,iBAAK,IAAItI,IAAI,CAAb,EAAgBA,IAAI8G,UAAUyB,MAA9B,EAAsCvI,GAAtC,EAA2C;AACzCsI,mBAAKa,IAAL,CAAUrC,UAAU9G,CAAV,CAAV;AACD;;AAED,mBAAOsI,KAAKwsB,IAAL,CAAU,GAAV,CAAP;AACD,WAdD;AAeD;;AAED,YAAIwB,aAAa,SAASA,UAAT,GAAsB;AACrC,cAAIta,OAAO,IAAX;AACA,cAAI1T,OAAOxB,SAAX;AACA,cAAIoiB,MAAM,KAAK,CAAf;AACA,cAAIxgB,IAAI2tB,MAAMxvB,KAAN,CAAYmV,IAAZ,EAAkB1T,IAAlB,CAAR;AACA,cAAIiuB,QAAQD,WAAWC,KAAvB;;AAEA,cAAI,EAAErN,MAAMqN,MAAM7tB,CAAN,CAAR,CAAJ,EAAuB;AACrBwgB,kBAAMqN,MAAM7tB,CAAN,IAAWjG,GAAGoE,KAAH,CAASmV,IAAT,EAAe1T,IAAf,CAAjB;AACD;;AAED,iBAAO4gB,GAAP;AACD,SAZD;;AAcAoN,mBAAWC,KAAX,GAAmB,EAAnB;;AAEA,eAAOD,UAAP;AACD,OApCD;;AAsCA;AAAO,KAtqIG;AAuqIV;AACA,SAAO,UAASh3B,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAIN,SAASM,oBAAoB,CAApB,CAAb;AACA,UAAIgf,aAAahf,oBAAoB,CAApB,CAAjB;AACA,UAAIuqB,OAAOvqB,oBAAoB,EAApB,CAAX;AACA,UAAI02B,UAAU12B,oBAAoB,EAApB,CAAd;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIuoB,UAAUvoB,oBAAoB,EAApB,CAAd;;AAEA;AACA,UAAI22B,aAAa,EAAjB;;AAEA;AACA,UAAI72B,UAAU,EAAd;;AAEA,eAAS82B,YAAT,CAAsB5R,IAAtB,EAA4BvkB,IAA5B,EAAkCo2B,UAAlC,EAA8C;;AAE5C,YAAIC,MAAMD,UAAV;;AAEA,YAAIE,cAAc,SAASA,WAAT,CAAqBpZ,KAArB,EAA4B;AAC5CvX,eAAKQ,KAAL,CAAW,uBAAuBnG,IAAvB,GAA8B,SAA9B,GAA0CukB,IAA1C,GAAiD,WAAjD,GAA+DrH,KAA/D,GAAuE,6DAAlF;AACD,SAFD;;AAIA,YAAIqH,SAAS,MAAb,EAAqB;AACnB,cAAIuF,KAAKhpB,SAAL,CAAed,IAAf,CAAJ,EAA0B;AACxB,mBAAOs2B,YAAYt2B,IAAZ,CAAP;AACD,WAFD,MAEO;AACL8pB,iBAAKhpB,SAAL,CAAed,IAAf,IAAuBo2B,UAAvB;AACD;AACF,SAND,MAMO,IAAI7R,SAAS,YAAb,EAA2B;AAChC,cAAIhG,WAAWzd,SAAX,CAAqBd,IAArB,CAAJ,EAAgC;AAC9B,mBAAOs2B,YAAYt2B,IAAZ,CAAP;AACD,WAFD,MAEO;AACLue,uBAAWzd,SAAX,CAAqBd,IAArB,IAA6Bo2B,UAA7B;AACD;AACF,SANM,MAMA,IAAI7R,SAAS,QAAb,EAAuB;AAC5B;;AAEA,cAAIgS,SAAS,SAASA,MAAT,CAAgB9X,OAAhB,EAAyB;AACpC,iBAAKA,OAAL,GAAeA,OAAf;;AAEA2X,uBAAWz2B,IAAX,CAAgB,IAAhB,EAAsB8e,OAAtB;;AAEA;AACA,gBAAI,CAACxc,GAAGO,WAAH,CAAe,KAAKY,QAApB,CAAL,EAAoC;AAClC,mBAAKA,QAAL,GAAgB,EAAhB;AACD;;AAED,iBAAKA,QAAL,CAAcgb,EAAd,GAAmBK,QAAQL,EAA3B;AACA,iBAAKhb,QAAL,CAAc2kB,SAAd,GAA0B,EAA1B;;AAEA,iBAAK+D,aAAL;AACD,WAdD;;AAgBA,cAAI0K,cAAcD,OAAOz1B,SAAP,GAAmBX,OAAOsmB,MAAP,CAAc2P,WAAWt1B,SAAzB,CAArC;;AAEA,cAAI21B,eAAe,EAAnB;;AAEA,eAAK,IAAIh3B,IAAI,CAAb,EAAgBA,IAAIg3B,aAAazuB,MAAjC,EAAyCvI,GAAzC,EAA8C;AAC5C,gBAAIi3B,SAASD,aAAah3B,CAAb,CAAb;;AAEA+2B,wBAAYE,MAAZ,IAAsBF,YAAYE,MAAZ,KAAuB,YAAY;AACvD,qBAAO,IAAP;AACD,aAFD;AAGD;;AAED;AACA,cAAIF,YAAYG,KAAZ,IAAqB,CAACH,YAAYlJ,GAAtC,EAA2C;AACzCkJ,wBAAYlJ,GAAZ,GAAkB,YAAY;AAC5B,mBAAKqJ,KAAL,GAAa,OAAO,IAAP;AACd,aAFD;AAGD,WAJD,MAIO,IAAI,CAACH,YAAYG,KAAb,IAAsBH,YAAYlJ,GAAtC,EAA2C;AAChDkJ,wBAAYG,KAAZ,GAAoB,YAAY;AAC9B,mBAAKrJ,GAAL,GAAW,OAAO,IAAP;AACZ,aAFD;AAGD;;AAED,cAAIsJ,UAAUR,WAAWt1B,SAAX,CAAqB+1B,IAAnC;AACAL,sBAAYK,IAAZ,GAAmB,YAAY;AAC7B,gBAAItX,OAAO,KAAKd,OAAhB;;AAEA,gBAAIc,QAAQA,KAAKuX,OAAjB,EAA0B;AACxB,kBAAIC,OAAO,KAAKC,UAAhB;;AAEA,kBAAID,IAAJ,EAAU;AACR,qBAAK,IAAI3f,KAAK,CAAd,EAAiBA,KAAK2f,KAAK/uB,MAA3B,EAAmCoP,IAAnC,EAAyC;AACvC2f,uBAAK3f,EAAL,EAASyf,IAAT;AACD;AACF;AACF;;AAED,gBAAID,OAAJ,EAAa;AACXA,sBAAQj3B,IAAR,CAAa,IAAb;AACD,aAFD,MAEO;AACL,mBAAKojB,IAAL,CAAU,YAAV;AACD;;AAED,mBAAO,IAAP;AACD,WApBD;;AAsBA,cAAI,CAACyT,YAAYtM,OAAjB,EAA0B;AACxBsM,wBAAYtM,OAAZ,GAAsB,YAAY;AAChC,qBAAO,IAAP;AACD,aAFD;AAGD;;AAEDsM,sBAAYpY,EAAZ,GAAiB,YAAY;AAC3B,mBAAO,KAAKhb,QAAL,CAAcgb,EAArB;AACD,WAFD;;AAIA,cAAI6Y,QAAQ,SAASA,KAAT,CAAe3M,MAAf,EAAuB;AACjC,mBAAOA,OAAOlnB,QAAP,CAAgBgb,EAAvB;AACD,WAFD;;AAIAzY,eAAKkC,MAAL,CAAY2uB,WAAZ,EAAyB;AACvB1K,2BAAe,SAASA,aAAT,GAAyB;AACtC,mBAAK1oB,QAAL,CAAc4qB,OAAd,GAAwB,IAAIlG,OAAJ,CAAY;AAClCN,6BAAa,SAASA,WAAT,CAAqB8C,MAArB,EAA6B;AACxC,yBAAO;AACLA,4BAAQA,MADH;AAELlM,wBAAI6Y,MAAM3M,MAAN,CAFC;AAGL7M,4BAAQ6M;AAHH,mBAAP;AAKD,iBAPiC;AAQlCzC,wBAAQ,SAASA,MAAT,GAAkB;AACxB,yBAAO,IAAP;AACD,iBAViC;AAWlClK,wBAAQ,SAASA,MAAT,CAAgB2M,MAAhB,EAAwB;AAC9B,yBAAO2M,MAAM3M,MAAN,CAAP;AACD,iBAbiC;AAclC5C,yBAAS;AAdyB,eAAZ,CAAxB;;AAiBA,qBAAO,IAAP;AACD,aApBsB;AAqBvBsG,qBAAS,SAASA,OAAT,GAAmB;AAC1B,qBAAO,KAAK5qB,QAAL,CAAc4qB,OAArB;AACD,aAvBsB;AAwBvBjF,gBAAI,SAASA,EAAT,CAAYN,GAAZ,EAAiBlO,EAAjB,EAAqB;AACvB,mBAAKyT,OAAL,GAAejF,EAAf,CAAkBN,GAAlB,EAAuBlO,EAAvB,EAA2B,OAAO,IAAP;AAC5B,aA1BsB;AA2BvB0O,iBAAK,SAASA,GAAT,CAAaR,GAAb,EAAkBlO,EAAlB,EAAsB;AACzB,mBAAKyT,OAAL,GAAe/E,GAAf,CAAmBR,GAAnB,EAAwBlO,EAAxB,EAA4B,OAAO,IAAP;AAC7B,aA7BsB;AA8BvB2c,kBAAM,SAASA,IAAT,CAAczO,GAAd,EAAmBlO,EAAnB,EAAuB;AAC3B,mBAAKyT,OAAL,GAAe/E,GAAf,CAAmBR,GAAnB,EAAwBlO,EAAxB,EAA4B,OAAO,IAAP;AAC7B,aAhCsB;AAiCvB2O,4BAAgB,SAASA,cAAT,CAAwBT,GAAxB,EAA6BlO,EAA7B,EAAiC;AAC/C,mBAAKyT,OAAL,GAAe9E,cAAf,CAA8BT,GAA9B,EAAmClO,EAAnC,EAAuC,OAAO,IAAP;AACxC,aAnCsB;AAoCvBwI,kBAAM,SAASA,IAAT,CAAc0F,GAAd,EAAmB3X,MAAnB,EAA2B;AAC/B,mBAAKkd,OAAL,GAAejL,IAAf,CAAoB0F,GAApB,EAAyB3X,MAAzB,EAAiC,OAAO,IAAP;AAClC;AAtCsB,WAAzB;;AAyCA7R,iBAAOk4B,cAAP,CAAsBX,WAAtB;;AAEAH,gBAAME,MAAN,CA1H4B,CA0Hd;AACf,SA3HM,MA2HA,IAAIhS,SAAS,UAAT,IAAuBvkB,SAAS,MAAhC,IAA0CA,SAAS,MAAvD,EAA+D;AACpE;;AAEA,cAAIo3B,eAAeC,aAAa,UAAb,EAAyB,MAAzB,CAAnB;AACA,cAAIC,SAASF,aAAat2B,SAA1B;AACA,cAAIy2B,qBAAqBnB,UAAzB;AACA,cAAIoB,SAASpB,WAAWt1B,SAAxB;;AAEA,cAAI22B,WAAW,SAASA,QAAT,GAAoB;AACjCL,yBAAa9wB,KAAb,CAAmB,IAAnB,EAAyBC,SAAzB;AACAgxB,+BAAmBjxB,KAAnB,CAAyB,IAAzB,EAA+BC,SAA/B;AACD,WAHD;;AAKA,cAAImxB,QAAQD,SAAS32B,SAArB;;AAEA,eAAK,IAAI62B,KAAT,IAAkBL,MAAlB,EAA0B;AACxB,gBAAIM,OAAON,OAAOK,KAAP,CAAX;AACA,gBAAIE,YAAYL,OAAOG,KAAP,KAAiB,IAAjC;;AAEA,gBAAIE,SAAJ,EAAe;AACb,qBAAOvB,YAAYqB,KAAZ,CAAP;AACD;;AAEDD,kBAAMC,KAAN,IAAeC,IAAf,CARwB,CAQH;AACtB;;AAED,eAAK,IAAIE,MAAT,IAAmBN,MAAnB,EAA2B;AACzBE,kBAAMI,MAAN,IAAgBN,OAAOM,MAAP,CAAhB,CADyB,CACO;AACjC;;AAEDR,iBAAOS,eAAP,CAAuB1uB,OAAvB,CAA+B,UAAUrJ,IAAV,EAAgB;AAC7C03B,kBAAM13B,IAAN,IAAc03B,MAAM13B,IAAN,KAAe,YAAY;AACvC2F,mBAAKQ,KAAL,CAAW,2CAA2CnG,IAA3C,GAAkD,sBAA7D;AACD,aAFD;AAGD,WAJD;;AAMAq2B,gBAAMoB,QAAN;AACD;;AAED,eAAO9xB,KAAKqyB,MAAL,CAAY;AACjBtZ,eAAKwX,UADY;AAEjBjuB,gBAAM,CAACsc,IAAD,EAAOvkB,IAAP,CAFW;AAGjBF,iBAAOu2B;AAHU,SAAZ,CAAP;AAKD;;AAED,eAASgB,YAAT,CAAsB9S,IAAtB,EAA4BvkB,IAA5B,EAAkC;AAChC,eAAO2F,KAAKsyB,MAAL,CAAY;AACjBvZ,eAAKwX,UADY;AAEjBjuB,gBAAM,CAACsc,IAAD,EAAOvkB,IAAP;AAFW,SAAZ,CAAP;AAID;;AAED,eAASk4B,SAAT,CAAmB3T,IAAnB,EAAyBvkB,IAAzB,EAA+Bm4B,UAA/B,EAA2CC,UAA3C,EAAuDhC,UAAvD,EAAmE;AACjE,eAAOzwB,KAAKqyB,MAAL,CAAY;AACjBtZ,eAAKrf,OADY;AAEjB4I,gBAAM,CAACsc,IAAD,EAAOvkB,IAAP,EAAam4B,UAAb,EAAyBC,UAAzB,CAFW;AAGjBt4B,iBAAOs2B;AAHU,SAAZ,CAAP;AAKD;;AAED,eAASiC,SAAT,CAAmB9T,IAAnB,EAAyBvkB,IAAzB,EAA+Bm4B,UAA/B,EAA2CC,UAA3C,EAAuD;AACrD,eAAOzyB,KAAKsyB,MAAL,CAAY;AACjBvZ,eAAKrf,OADY;AAEjB4I,gBAAM,CAACsc,IAAD,EAAOvkB,IAAP,EAAam4B,UAAb,EAAyBC,UAAzB;AAFW,SAAZ,CAAP;AAID;;AAED,UAAIE,YAAY,SAASA,SAAT,GAAqB;AACnC;AACA,YAAI/xB,UAAUyB,MAAV,KAAqB,CAAzB,EAA4B;AAC1B,iBAAOqvB,aAAa/wB,KAAb,CAAmB,IAAnB,EAAyBC,SAAzB,CAAP;AACD;;AAED;AAJA,aAKK,IAAIA,UAAUyB,MAAV,KAAqB,CAAzB,EAA4B;AAC7B,mBAAOmuB,aAAa7vB,KAAb,CAAmB,IAAnB,EAAyBC,SAAzB,CAAP;AACD;;AAED;AAJG,eAKE,IAAIA,UAAUyB,MAAV,KAAqB,CAAzB,EAA4B;AAC7B,qBAAOqwB,UAAU/xB,KAAV,CAAgB,IAAhB,EAAsBC,SAAtB,CAAP;AACD;;AAED;AAJG,iBAKE,IAAIA,UAAUyB,MAAV,KAAqB,CAAzB,EAA4B;AAC7B,uBAAOkwB,UAAU5xB,KAAV,CAAgB,IAAhB,EAAsBC,SAAtB,CAAP;AACD,eAFE,MAEI;AACLZ,qBAAKQ,KAAL,CAAW,iCAAX;AACD;AACR,OAtBD;;AAwBA;AACA2jB,WAAKhpB,SAAL,CAAew3B,SAAf,GAA2BA,SAA3B;;AAEA;AACArC,cAAQ5sB,OAAR,CAAgB,UAAUuS,KAAV,EAAiB;AAC/BA,cAAMsa,UAAN,CAAiB7sB,OAAjB,CAAyB,UAAUgtB,GAAV,EAAe;AACtCF,uBAAava,MAAM2I,IAAnB,EAAyB8R,IAAIr2B,IAA7B,EAAmCq2B,IAAIkC,IAAvC;AACD,SAFD;AAGD,OAJD;;AAMAx5B,aAAOD,OAAP,GAAiBw5B,SAAjB;;AAEA;AAAO,KAl7IG;AAm7IV;AACA,SAAO,UAASv5B,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAIi1B,QAAQj1B,oBAAoB,EAApB,CAAZ;;AAEA;AACA;AACA,UAAIi5B,aAAa,SAASA,UAAT,GAAsB;AACrC,YAAI,EAAE,gBAAgBA,UAAlB,CAAJ,EAAmC;AACjC,iBAAO,IAAIA,UAAJ,EAAP;AACD;;AAED,aAAKxwB,MAAL,GAAc,CAAd;AACD,OAND;;AAQA,UAAIywB,UAAUD,WAAW13B,SAAzB;;AAEA23B,cAAQz2B,cAAR,GAAyB,YAAY;AACnC,eAAO,YAAP;AACD,OAFD;;AAIA;AACAy2B,cAAQjd,QAAR,GAAmB,UAAUA,QAAV,EAAoB;AACrC,YAAI/b,IAAI,KAAKuI,MAAL,EAAR;;AAEA,aAAKvI,CAAL,IAAU;AACR+b,oBAAUA,QADF;AAERuZ,sBAAY;AAFJ,SAAV;;AAKA,eAAO,IAAP,CARqC,CAQxB;AACd,OATD;;AAWA;AACA0D,cAAQzI,GAAR,GAAc,UAAUhwB,IAAV,EAAgBF,KAAhB,EAAuB;AACnC,YAAIL,IAAI,KAAKuI,MAAL,GAAc,CAAtB;;AAEA,YAAI/F,GAAGG,MAAH,CAAUpC,IAAV,CAAJ,EAAqB;AACnB,eAAKP,CAAL,EAAQs1B,UAAR,CAAmBnsB,IAAnB,CAAwB;AACtB5I,kBAAMA,IADgB;AAEtBF,mBAAOA;AAFe,WAAxB;AAID,SALD,MAKO,IAAImC,GAAGO,WAAH,CAAexC,IAAf,CAAJ,EAA0B;AAC/B,cAAI0e,MAAM1e,IAAV;;AAEA,eAAK,IAAIkI,IAAI,CAAb,EAAgBA,IAAIssB,MAAMO,UAAN,CAAiB/sB,MAArC,EAA6CE,GAA7C,EAAkD;AAChD,gBAAI+sB,OAAOT,MAAMO,UAAN,CAAiB7sB,CAAjB,CAAX;AACA,gBAAIgtB,SAASxW,IAAIuW,KAAKj1B,IAAT,CAAb;;AAEA,gBAAIk1B,WAAWlyB,SAAf,EAA0B;AACxB;AACAkyB,uBAASxW,IAAI/Y,KAAKwvB,UAAL,CAAgBF,KAAKj1B,IAArB,CAAJ,CAAT;AACD;;AAED,gBAAIk1B,WAAWlyB,SAAf,EAA0B;AACxB,kBAAI01B,QAAQzD,KAAKj1B,IAAjB;AACA,kBAAI24B,SAASzD,MAAb;;AAEA,mBAAKz1B,CAAL,EAAQs1B,UAAR,CAAmBnsB,IAAnB,CAAwB;AACtB5I,sBAAM04B,KADgB;AAEtB54B,uBAAO64B;AAFe,eAAxB;AAID;AACF;AACF;;AAED,eAAO,IAAP,CAhCmC,CAgCtB;AACd,OAjCD;;AAmCAF,cAAQl1B,KAAR,GAAgBk1B,QAAQzI,GAAxB;;AAEA;AACAyI,cAAQG,aAAR,GAAwB,UAAUxa,EAAV,EAAc;AACpC,YAAI7a,QAAQ,IAAIixB,KAAJ,CAAUpW,EAAV,CAAZ;;AAEA,eAAO,KAAKoX,aAAL,CAAmBjyB,KAAnB,CAAP;AACD,OAJD;;AAMA;AACAk1B,cAAQjD,aAAR,GAAwB,UAAUjyB,KAAV,EAAiB;AACvC,aAAK,IAAI9D,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAIioB,UAAU,KAAKjoB,CAAL,CAAd;AACA,cAAI+b,WAAWkM,QAAQlM,QAAvB;AACA,cAAIkK,QAAQgC,QAAQqN,UAApB;;AAEAxxB,gBAAMiY,QAAN,CAAeA,QAAf,EALoC,CAKV;;AAE1B,eAAK,IAAItT,IAAI,CAAb,EAAgBA,IAAIwd,MAAM1d,MAA1B,EAAkCE,GAAlC,EAAuC;AACrC,gBAAI+sB,OAAOvP,MAAMxd,CAAN,CAAX;;AAEA3E,kBAAMysB,GAAN,CAAUiF,KAAKj1B,IAAf,EAAqBi1B,KAAKn1B,KAA1B,EAHqC,CAGH;AACnC;AACF;;AAED,eAAOyD,KAAP;AACD,OAhBD;;AAkBAxE,aAAOD,OAAP,GAAiB05B,UAAjB;;AAEA;AAAO,KA3hJG;AA4hJV;AACA,SAAO,UAASz5B,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGAR,aAAOD,OAAP,GAAiB,OAAjB;;AAEA;AAAO,KApiJG;AAqiJV;AACA,SAAO,UAASC,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAI8b,UAAU9b,oBAAoB,CAApB,CAAd;;AAEA,UAAIs5B,YAAY,SAASA,SAAT,CAAmBpb,MAAnB,EAA2B8B,IAA3B,EAAiCuZ,KAAjC,EAAwC;AACtD,YAAIrO,KAAK,KAAKrnB,QAAL,GAAgBuC,KAAKgB,MAAL,CAAY;AACnC+rB,oBAAU;AADyB,SAAZ,EAEtBnT,IAFsB,EAEhBuZ,KAFgB,CAAzB;;AAIArO,WAAGhN,MAAH,GAAYA,MAAZ;AACAgN,WAAGlnB,KAAH,GAAWknB,GAAGlnB,KAAH,IAAYknB,GAAGuF,GAA1B;AACAvF,WAAGsO,OAAH,GAAa,KAAb;AACAtO,WAAGuO,OAAH,GAAa,KAAb;AACAvO,WAAGwO,MAAH,GAAY,KAAZ;AACAxO,WAAGyO,QAAH,GAAc,KAAd;AACAzO,WAAG0O,QAAH,GAAc,CAAd;AACA1O,WAAG2O,SAAH,GAAe,EAAf;AACA3O,WAAG4O,MAAH,GAAY,EAAZ;;AAEA,YAAI5O,GAAG6O,QAAH,IAAer3B,GAAGC,EAAH,CAAMuoB,GAAG6O,QAAT,CAAnB,EAAuC;AACrC7O,aAAG2O,SAAH,CAAaxwB,IAAb,CAAkB6hB,GAAG6O,QAArB;AACD;;AAED;AACA,aAAKtxB,MAAL,GAAc,CAAd;AACA,aAAK,CAAL,IAAU,IAAV;AACD,OAtBD;;AAwBA,UAAIuxB,QAAQV,UAAU/3B,SAAtB;;AAEA6E,WAAKgB,MAAL,CAAY4yB,KAAZ,EAAmB;;AAEjBv3B,wBAAgB,SAASA,cAAT,GAA0B;AACxC,iBAAO,WAAP;AACD,SAJgB;;AAMjBw3B,cAAM,SAASA,IAAT,GAAgB;AACpB,cAAI/O,KAAK,KAAKrnB,QAAd;;AAEA,cAAI,CAACqnB,GAAGwO,MAAR,EAAgB;AACd;AACA,gBAAI5oB,IAAI,KAAK,CAAb;AACA,gBAAIopB,OAAOhP,GAAGhN,MAAH,CAAUra,QAAV,CAAmBuoB,SAA9B;AACA,gBAAIlB,GAAGoB,KAAP,EAAc;AACZxb,kBAAIopB,KAAK5N,KAAT;AACD,aAFD,MAEO;AACLxb,kBAAIopB,KAAK7N,OAAT;AACD;AACDvb,cAAEzH,IAAF,CAAO,IAAP;;AAEA;AACA,gBAAI3G,GAAGgB,mBAAH,CAAuBwnB,GAAGhN,MAA1B,CAAJ,EAAuC;AACrCgN,iBAAGhN,MAAH,CAAUW,EAAV,GAAesb,kBAAf,CAAkCjP,GAAGhN,MAArC;AACD;;AAEDgN,eAAGwO,MAAH,GAAY,IAAZ;AACD;;AAED,iBAAO,IAAP;AACD,SA7BgB;;AA+BjBU,cAAM,SAASA,IAAT,GAAgB;AACpB,cAAIlP,KAAK,KAAKrnB,QAAd;;AAEA;AACA,cAAIqnB,GAAG0O,QAAH,KAAgB,CAApB,EAAuB;AACrB1O,eAAG0O,QAAH,GAAc,CAAd;AACD;;AAED1O,aAAGuO,OAAH,GAAa,IAAb;AACAvO,aAAGsO,OAAH,GAAa,KAAb,CAToB,CASA;AACpBtO,aAAGmP,OAAH,GAAa,KAAb;;AAEA,eAAKJ,IAAL;;AAEA;;AAEA,iBAAO,IAAP;AACD,SAhDgB;;AAkDjBR,iBAAS,SAASA,OAAT,GAAmB;AAC1B,iBAAO,KAAK51B,QAAL,CAAc41B,OAArB;AACD,SApDgB;;AAsDjB1yB,eAAO,SAASA,KAAT,GAAiB;AACtB,cAAImkB,KAAK,KAAKrnB,QAAd;;AAEAqnB,aAAGyO,QAAH,GAAc,IAAd;AACAzO,aAAGsO,OAAH,GAAa,KAAb,CAJsB,CAIF;AACpBtO,aAAGmP,OAAH,GAAa,KAAb;;AAEA,eAAKJ,IAAL;;AAEA;;AAEA,iBAAO,IAAP;AACD,SAlEgB;;AAoEjBN,kBAAU,SAASA,QAAT,GAAoB;AAC5B,iBAAO,KAAK91B,QAAL,CAAc81B,QAArB;AACD,SAtEgB;;AAwEjBW,eAAO,SAASA,KAAT,GAAiB;AACtB,cAAIpP,KAAK,KAAKrnB,QAAd;;AAEAqnB,aAAGuO,OAAH,GAAa,KAAb;AACAvO,aAAGsO,OAAH,GAAa,KAAb;;AAEA,iBAAO,IAAP;AACD,SA/EgB;;AAiFjBlC,cAAM,SAASA,IAAT,GAAgB;AACpB,cAAIpM,KAAK,KAAKrnB,QAAd;;AAEAqnB,aAAGuO,OAAH,GAAa,KAAb;AACAvO,aAAGsO,OAAH,GAAa,KAAb;AACAtO,aAAGmP,OAAH,GAAa,IAAb,CALoB,CAKD;;AAEnB,iBAAO,IAAP;AACD,SAzFgB;;AA2FjBE,gBAAQ,SAASA,MAAT,GAAkB;AACxB,iBAAO,KAAKX,QAAL,CAAc,CAAd,CAAP;AACD,SA7FgB;;AA+FjBY,qBAAa,SAASA,WAAT,GAAuB;AAClC,iBAAO,KAAKZ,QAAL,CAAc,CAAd,CAAP;AACD,SAjGgB;;AAmGjBa,cAAM,SAASA,IAAT,CAAchvB,CAAd,EAAiB;AACrB,cAAIyf,KAAK,KAAKrnB,QAAd;;AAEA,cAAI4H,MAAMhI,SAAV,EAAqB;AACnB,mBAAOynB,GAAG0O,QAAH,GAAc1O,GAAGiI,QAAxB;AACD,WAFD,MAEO;AACL,mBAAO,KAAKyG,QAAL,CAAcnuB,IAAIyf,GAAGiI,QAArB,CAAP;AACD;AACF,SA3GgB;;AA6GjByG,kBAAU,SAASA,QAAT,CAAkBn4B,CAAlB,EAAqB;AAC7B,cAAIypB,KAAK,KAAKrnB,QAAd;AACA,cAAI62B,aAAaxP,GAAGuO,OAApB;;AAEA,cAAIh4B,MAAMgC,SAAV,EAAqB;AACnB,mBAAOynB,GAAG0O,QAAV;AACD,WAFD,MAEO;AACL,gBAAIc,UAAJ,EAAgB;AACd,mBAAKJ,KAAL;AACD;;AAEDpP,eAAG0O,QAAH,GAAcn4B,CAAd;AACAypB,eAAGsO,OAAH,GAAa,KAAb;;AAEA,gBAAIkB,UAAJ,EAAgB;AACd,mBAAKN,IAAL;AACD;AACF;;AAED,iBAAO,IAAP;AACD,SAjIgB;;AAmIjBO,mBAAW,SAASA,SAAT,GAAqB;AAC9B,iBAAO,KAAK92B,QAAL,CAAc+1B,QAAd,KAA2B,CAAlC;AACD,SArIgB;;AAuIjBgB,iBAAS,SAASA,OAAT,GAAmB;AAC1B,cAAI1P,KAAK,KAAKrnB,QAAd;AACA,cAAI62B,aAAaxP,GAAGuO,OAApB;;AAEA,cAAIiB,UAAJ,EAAgB;AACd,iBAAKJ,KAAL;AACD;;AAEDpP,aAAG0O,QAAH,GAAc,IAAI1O,GAAG0O,QAArB;AACA1O,aAAGsO,OAAH,GAAa,KAAb;;AAEA,cAAIqB,OAAO,SAASA,IAAT,CAAc/yB,CAAd,EAAiBC,CAAjB,EAAoB;AAC7B,gBAAI+yB,MAAM5P,GAAGpjB,CAAH,CAAV;;AAEA,gBAAIgzB,OAAO,IAAX,EAAiB;AACf;AACD;;AAED5P,eAAGpjB,CAAH,IAAQojB,GAAGnjB,CAAH,CAAR;AACAmjB,eAAGnjB,CAAH,IAAQ+yB,GAAR;AACD,WATD;;AAWAD,eAAK,MAAL,EAAa,WAAb;AACAA,eAAK,KAAL,EAAY,UAAZ;AACAA,eAAK,UAAL,EAAiB,eAAjB;;AAEA;AACA,cAAI3P,GAAGlnB,KAAP,EAAc;AACZ,iBAAK,IAAI9D,IAAI,CAAb,EAAgBA,IAAIgrB,GAAGlnB,KAAH,CAASyE,MAA7B,EAAqCvI,GAArC,EAA0C;AACxC,kBAAIw1B,OAAOxK,GAAGlnB,KAAH,CAAS9D,CAAT,CAAX;AACA,kBAAIO,OAAOi1B,KAAKj1B,IAAhB;AACA,kBAAIs6B,iBAAiB7P,GAAG8P,UAAH,CAAcv6B,IAAd,CAArB;;AAEAyqB,iBAAG8P,UAAH,CAAcv6B,IAAd,IAAsBi1B,IAAtB;AACAxK,iBAAGlnB,KAAH,CAAS9D,CAAT,IAAc66B,cAAd;AACD;AACF;;AAED,cAAIL,UAAJ,EAAgB;AACd,iBAAKN,IAAL;AACD;;AAED,iBAAO,IAAP;AACD,SAlLgB;;AAoLjBt1B,iBAAS,SAASA,OAAT,CAAiBkgB,IAAjB,EAAuB;AAC9B,cAAIkG,KAAK,KAAKrnB,QAAd;;AAEA,cAAI2D,MAAM,KAAK,CAAf;;AAEA,kBAAQwd,IAAR;AACE,iBAAK,OAAL;AACExd,oBAAM0jB,GAAG4O,MAAT;AACA;AACF;AACA,iBAAK,UAAL;AACA,iBAAK,WAAL;AACEtyB,oBAAM0jB,GAAG2O,SAAT;AAPJ;;AAUA,iBAAO,IAAI/d,OAAJ,CAAY,UAAUX,OAAV,EAAmBb,MAAnB,EAA2B;AAC5C9S,gBAAI6B,IAAJ,CAAS,YAAY;AACnB8R;AACD,aAFD;AAGD,WAJM,CAAP;AAKD;;AAxMgB,OAAnB;;AA4MA6e,YAAMD,QAAN,GAAiBC,MAAMW,SAAvB;;AAEAn7B,aAAOD,OAAP,GAAiB+5B,SAAjB;;AAEA;AAAO,KAzxJG;AA0xJV;AACA,SAAO,UAAS95B,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAI8f,SAAS;;AAEX;AACAmb,eAAO,SAASA,KAAT,CAAe/b,OAAf,EAAwB;AAC7B,cAAIG,OAAO,IAAX;;AAEAH,oBAAUA,WAAW,EAArB;;AAEA;AACA,cAAIgc,kBAAkB,SAASA,eAAT,CAAyB9D,KAAzB,EAAgC+D,GAAhC,EAAqCC,WAArC,EAAkDC,QAAlD,EAA4D;AAChF;AACA,gBAAIjE,SAAS+D,GAAb,EAAkB;AAChBE,uBAASrX,OAAT,CAAiBnF,GAAGsB,cAAH,CAAkBgb,GAAlB,CAAjB;AACA,qBAAOE,QAAP;AACD;;AAED,gBAAIF,OAAOC,WAAX,EAAwB;AACtB;AACA,kBAAIE,WAAWF,YAAYD,GAAZ,CAAf;AACA,kBAAII,eAAeC,aAAaL,GAAb,CAAnB;;AAEAE,uBAASrX,OAAT,CAAiBnF,GAAGsB,cAAH,CAAkBob,YAAlB,CAAjB;AACAF,uBAASrX,OAAT,CAAiBnF,GAAGsB,cAAH,CAAkBgb,GAAlB,CAAjB;;AAEA,qBAAOD,gBAAgB9D,KAAhB,EAAuBkE,QAAvB,EAAiCF,WAAjC,EAA8CC,QAA9C,CAAP;AACD;;AAED;AACA,mBAAO53B,SAAP;AACD,WApBD;;AAsBA;AACA,cAAIg4B,UAAU,SAASA,OAAT,CAAiBC,OAAjB,EAA0BC,MAA1B,EAAkC;AAC9C,gBAAID,QAAQjzB,MAAR,KAAmB,CAAvB,EAA0B;AACxB;AACA,qBAAOhF,SAAP;AACD;AACD,gBAAIm4B,SAAS,CAAb;AACA,gBAAIC,YAAYF,OAAOD,QAAQ,CAAR,CAAP,CAAhB;AACA,iBAAK,IAAIx7B,IAAI,CAAb,EAAgBA,IAAIw7B,QAAQjzB,MAA5B,EAAoCvI,GAApC,EAAyC;AACvC,kBAAIwB,IAAIi6B,OAAOD,QAAQx7B,CAAR,CAAP,CAAR;AACA,kBAAIwB,IAAIm6B,SAAR,EAAmB;AACjBA,4BAAYn6B,CAAZ;AACAk6B,yBAAS17B,CAAT;AACD;AACF;AACD,mBAAO07B,MAAP;AACD,WAfD;;AAiBA,cAAI/c,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;;AAEA;AACA,cAAIK,WAAW,IAAX,IAAmBA,QAAQ7f,IAAR,IAAgB,IAAvC,EAA6C;AAC3C,gBAAI4e,SAASvb,GAAGG,MAAH,CAAUqc,QAAQ7f,IAAlB;AACb;AACA,iBAAKkd,MAAL,CAAY2C,QAAQ7f,IAApB,EAA0B,CAA1B,CAFa,GAEkB6f,QAAQ7f,IAAR,CAAa,CAAb,CAF/B;AAGD,WAJD,MAIO;AACL,mBAAOoE,SAAP;AACD;;AAED;AACA,cAAIyb,QAAQ4c,IAAR,IAAgB,IAApB,EAA0B;AACxB,gBAAI5d,SAASxb,GAAGG,MAAH,CAAUqc,QAAQ4c,IAAlB;AACb;AACA,iBAAKvf,MAAL,CAAY2C,QAAQ4c,IAApB,EAA0B,CAA1B,CAFa,GAEkB5c,QAAQ4c,IAAR,CAAa,CAAb,CAF/B;AAGD,WAJD,MAIO;AACL,mBAAOr4B,SAAP;AACD;;AAED;AACA,cAAIyb,QAAQ6c,SAAR,IAAqB,IAArB,IAA6Br5B,GAAGC,EAAH,CAAMuc,QAAQ6c,SAAd,CAAjC,EAA2D;AACzD,gBAAIA,YAAY7c,QAAQ6c,SAAxB;AACD,WAFD,MAEO;AACL,gBAAIA,YAAY,SAASA,SAAT,GAAqB;AACnC,qBAAO,CAAP;AACD,aAFD,CADK,CAGF;AACJ;;AAED;AACA,cAAI7c,QAAQ8c,MAAR,IAAkB,IAAlB,IAA0Bt5B,GAAGC,EAAH,CAAMuc,QAAQ8c,MAAd,CAA9B,EAAqD;AACnD,gBAAIC,WAAW/c,QAAQ8c,MAAvB;AACD,WAFD,MAEO;AACL;AACA,gBAAIC,WAAW,SAASA,QAAT,CAAkB/gB,CAAlB,EAAqB;AAClC,qBAAO,CAAP;AACD,aAFD;AAGD;;AAED;AACA,cAAIgE,QAAQgd,QAAR,IAAoB,IAAxB,EAA8B;AAC5B,gBAAIA,WAAWhd,QAAQgd,QAAvB;AACD,WAFD,MAEO;AACL,gBAAIA,WAAW,KAAf;AACD;;AAED,cAAIC,MAAMle,OAAOnE,EAAP,EAAV;AACA,cAAIsiB,MAAMle,OAAOpE,EAAP,EAAV;;AAEA,cAAIuiB,YAAY,EAAhB;AACA,cAAIX,UAAU,CAACS,GAAD,CAAd;AACA,cAAIG,WAAW,EAAf;AACA,cAAId,eAAe,EAAnB;AACA,cAAIe,SAAS,EAAb;AACA,cAAIZ,SAAS,EAAb;;AAEAY,iBAAOJ,GAAP,IAAc,CAAd;AACAR,iBAAOQ,GAAP,IAAcJ,UAAU9d,MAAV,CAAd;;AAEA;AACA,cAAIue,QAAQ,CAAZ;;AAEA;AACA,iBAAOd,QAAQjzB,MAAR,GAAiB,CAAxB,EAA2B;AACzB,gBAAImzB,SAASH,QAAQC,OAAR,EAAiBC,MAAjB,CAAb;AACA,gBAAIc,OAAO5d,GAAGsB,cAAH,CAAkBub,QAAQE,MAAR,CAAlB,CAAX;AACA,gBAAIc,SAASD,KAAK3iB,EAAL,EAAb;AACA0iB;;AAEA;AACA,gBAAIE,UAAUN,GAAd,EAAmB;AACjB,kBAAIO,QAAQzB,gBAAgBiB,GAAhB,EAAqBC,GAArB,EAA0BE,QAA1B,EAAoC,EAApC,CAAZ;;AAEA,qBAAO;AACLM,uBAAO,IADF;AAEL5mB,0BAAUumB,OAAOG,MAAP,CAFL;AAGLG,sBAAMxd,KAAKU,KAAL,CAAW4c,KAAX,CAHD;AAILH,uBAAOA;AAJF,eAAP;AAMD;;AAED;AACAH,sBAAUhzB,IAAV,CAAeqzB,MAAf;AACA;AACAhB,oBAAQvyB,MAAR,CAAeyyB,MAAf,EAAuB,CAAvB;;AAEA;AACA;AACA,gBAAIkB,UAAUL,KAAK54B,QAAL,CAAc4d,KAA5B;;AAEA,iBAAK,IAAIvhB,IAAI,CAAb,EAAgBA,IAAI48B,QAAQr0B,MAA5B,EAAoCvI,GAApC,EAAyC;AACvC,kBAAIgb,IAAI4hB,QAAQ58B,CAAR,CAAR;;AAEA;AACA,kBAAI,CAAC,KAAK6e,gBAAL,CAAsB7D,EAAEpB,EAAF,EAAtB,CAAL,EAAoC;AAClC;AACD;;AAED;AACA,kBAAIoiB,YAAYhhB,EAAEwC,IAAF,CAAO,QAAP,MAAqBgf,MAArC,EAA6C;AAC3C;AACD;;AAED,kBAAIK,OAAO7hB,EAAE+C,MAAF,EAAX;AACA,kBAAI+e,OAAO9hB,EAAEgD,MAAF,EAAX;;AAEA,kBAAIxR,IAAIqwB,KAAKjjB,EAAL,OAAc4iB,MAAd,GAAuBK,IAAvB,GAA8BC,IAAtC;AACA,kBAAIC,MAAMvwB,EAAEoN,EAAF,EAAV;;AAEA;AACA,kBAAI,CAAC,KAAKiF,gBAAL,CAAsBke,GAAtB,CAAL,EAAiC;AAC/B;AACD;;AAED;AACA,kBAAIZ,UAAUa,OAAV,CAAkBD,GAAlB,KAA0B,CAAC,CAA/B,EAAkC;AAChC;AACD;;AAED;AACA,kBAAIpB,YAAYU,OAAOG,MAAP,IAAiBT,SAAS/gB,CAAT,CAAjC;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kBAAIwgB,QAAQwB,OAAR,CAAgBD,GAAhB,KAAwB,CAAC,CAA7B,EAAgC;AAC9BV,uBAAOU,GAAP,IAAcpB,SAAd;AACAF,uBAAOsB,GAAP,IAAcpB,YAAYE,UAAUrvB,CAAV,CAA1B;AACAgvB,wBAAQryB,IAAR,CAAa4zB,GAAb,EAH8B,CAGX;AACnBX,yBAASW,GAAT,IAAgBP,MAAhB;AACAlB,6BAAayB,GAAb,IAAoB/hB,EAAEpB,EAAF,EAApB;AACA;AACD;AACD;AACA,kBAAI+hB,YAAYU,OAAOU,GAAP,CAAhB,EAA6B;AAC3BV,uBAAOU,GAAP,IAAcpB,SAAd;AACAF,uBAAOsB,GAAP,IAAcpB,YAAYE,UAAUrvB,CAAV,CAA1B;AACA4vB,yBAASW,GAAT,IAAgBP,MAAhB;AACD;AACF,aA/EwB,CA+EvB;AACH,WA7L4B,CA6L3B;;AAEF;AACA,iBAAO;AACLE,mBAAO,KADF;AAEL5mB,sBAAUvS,SAFL;AAGLo5B,kBAAMp5B,SAHD;AAIL+4B,mBAAOA;AAJF,WAAP;AAMD;;AAzMU,OAAb,CAPsD,CAkNnD;;;AAGHh9B,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KAl/JG;AAm/JV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAI8f,SAAS;;AAEX;AACAqd,qBAAa,SAASA,WAAT,CAAqBje,OAArB,EAA8B;AACzC,cAAIG,OAAO,IAAX;;AAEAH,oBAAUA,WAAW,EAArB;;AAEA;AACA,cAAIA,QAAQ8c,MAAR,IAAkB,IAAlB,IAA0Bt5B,GAAGC,EAAH,CAAMuc,QAAQ8c,MAAd,CAA9B,EAAqD;AACnD,gBAAIC,WAAW/c,QAAQ8c,MAAvB;AACD,WAFD,MAEO;AACL;AACA,gBAAIC,WAAW,SAASA,QAAT,CAAkB/gB,CAAlB,EAAqB;AAClC,qBAAO,CAAP;AACD,aAFD;AAGD;;AAED;AACA,cAAIgE,QAAQgd,QAAR,IAAoB,IAAxB,EAA8B;AAC5B,gBAAIA,WAAWhd,QAAQgd,QAAvB;AACD,WAFD,MAEO;AACL,gBAAIA,WAAW,KAAf;AACD;;AAED;AACA,cAAIhd,QAAQ7f,IAAR,IAAgB,IAApB,EAA0B;AACxB,gBAAIqD,GAAGG,MAAH,CAAUqc,QAAQ7f,IAAlB,CAAJ,EAA6B;AAC3B;AACA,kBAAI4e,SAAS,KAAK1B,MAAL,CAAY2C,QAAQ7f,IAApB,EAA0B,CAA1B,CAAb;AACD,aAHD,MAGO;AACL,kBAAI4e,SAASiB,QAAQ7f,IAAR,CAAa,CAAb,CAAb;AACD;AACF,WAPD,MAOO;AACL,mBAAOoE,SAAP;AACD;;AAED,cAAIob,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;AACA,cAAI4C,QAAQ,KAAKA,KAAL,GAAawN,SAAb,CAAuB,UAAU/T,CAAV,EAAa;AAC9C,mBAAO,CAACA,EAAEsZ,MAAF,EAAR;AACD,WAFW,CAAZ;AAGA,cAAIhT,QAAQ,KAAKA,KAAL,EAAZ;AACA,cAAI4b,WAAW5b,MAAM/Y,MAArB;;AAEA;AACA,cAAI40B,cAAc,EAAlB;AACA,eAAK,IAAIn9B,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjCm9B,wBAAY7b,MAAMthB,CAAN,EAAS4Z,EAAT,EAAZ,IAA6B5Z,CAA7B;AACD;;AAED;AACA,cAAIo9B,OAAO,EAAX;AACA,cAAIC,cAAc,EAAlB;AACA,cAAIC,WAAW,EAAf;;AAEA,eAAK,IAAIt9B,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjC,gBAAIshB,MAAMthB,CAAN,EAAS4Z,EAAT,OAAkBmE,OAAOnE,EAAP,EAAtB,EAAmC;AACjCwjB,mBAAKp9B,CAAL,IAAU,CAAV;AACD,aAFD,MAEO;AACLo9B,mBAAKp9B,CAAL,IAAUuM,QAAV;AACD;AACD8wB,wBAAYr9B,CAAZ,IAAiBuD,SAAjB;AACD;;AAED;AACA,cAAIg6B,OAAO,KAAX;AACA,eAAK,IAAIv9B,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjCu9B,mBAAO,KAAP;AACA,iBAAK,IAAIviB,IAAI,CAAb,EAAgBA,IAAIuG,MAAMhZ,MAA1B,EAAkCyS,GAAlC,EAAuC;AACrC,kBAAIwiB,cAAcL,YAAY5b,MAAMvG,CAAN,EAAS+C,MAAT,GAAkBnE,EAAlB,EAAZ,CAAlB;AACA,kBAAI6jB,cAAcN,YAAY5b,MAAMvG,CAAN,EAASgD,MAAT,GAAkBpE,EAAlB,EAAZ,CAAlB;AACA,kBAAIkiB,SAASC,SAASxa,MAAMvG,CAAN,CAAT,CAAb;;AAEA,kBAAI0iB,OAAON,KAAKI,WAAL,IAAoB1B,MAA/B;AACA,kBAAI4B,OAAON,KAAKK,WAAL,CAAX,EAA8B;AAC5BL,qBAAKK,WAAL,IAAoBC,IAApB;AACAL,4BAAYI,WAAZ,IAA2BD,WAA3B;AACAF,yBAASG,WAAT,IAAwBlc,MAAMvG,CAAN,CAAxB;AACAuiB,uBAAO,IAAP;AACD;;AAED;AACA,kBAAI,CAACvB,QAAL,EAAe;AACb,oBAAI0B,OAAON,KAAKK,WAAL,IAAoB3B,MAA/B;AACA,oBAAI4B,OAAON,KAAKI,WAAL,CAAX,EAA8B;AAC5BJ,uBAAKI,WAAL,IAAoBE,IAApB;AACAL,8BAAYG,WAAZ,IAA2BC,WAA3B;AACAH,2BAASE,WAAT,IAAwBjc,MAAMvG,CAAN,CAAxB;AACAuiB,yBAAO,IAAP;AACD;AACF;AACF;;AAED,gBAAI,CAACA,IAAL,EAAW;AACT;AACD;AACF;;AAED,cAAIA,IAAJ,EAAU;AACR;AACA,iBAAK,IAAIviB,IAAI,CAAb,EAAgBA,IAAIuG,MAAMhZ,MAA1B,EAAkCyS,GAAlC,EAAuC;AACrC,kBAAIwiB,cAAcL,YAAY5b,MAAMvG,CAAN,EAAS+C,MAAT,GAAkBnE,EAAlB,EAAZ,CAAlB;AACA,kBAAI6jB,cAAcN,YAAY5b,MAAMvG,CAAN,EAASgD,MAAT,GAAkBpE,EAAlB,EAAZ,CAAlB;AACA,kBAAIkiB,SAASC,SAASxa,MAAMvG,CAAN,CAAT,CAAb;;AAEA,kBAAIoiB,KAAKI,WAAL,IAAoB1B,MAApB,GAA6BsB,KAAKK,WAAL,CAAjC,EAAoD;AAClDv3B,qBAAKQ,KAAL,CAAW,yDAAX;AACA,uBAAO,EAAEi3B,QAAQp6B,SAAV;AACLq6B,8BAAYr6B,SADP;AAELs6B,0CAAwB,IAFnB,EAAP;AAGD;AACF;AACF;;AAED;AACA,cAAIC,cAAc,EAAlB;AACA,eAAK,IAAI99B,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjC89B,wBAAY30B,IAAZ,CAAiBmY,MAAMthB,CAAN,EAAS4Z,EAAT,EAAjB;AACD;;AAED,cAAImkB,MAAM;AACRH,wBAAY,SAASA,UAAT,CAAoBI,EAApB,EAAwB;AAClC,kBAAIx7B,GAAGG,MAAH,CAAUq7B,EAAV,CAAJ,EAAmB;AACjB;AACA,oBAAIC,OAAOtf,GAAGtC,MAAH,CAAU2hB,EAAV,EAAc,CAAd,EAAiBpkB,EAAjB,EAAX;AACD,eAHD,MAGO;AACL;AACA,oBAAIqkB,OAAOD,GAAGpkB,EAAH,EAAX;AACD;;AAED,qBAAOwjB,KAAKD,YAAYc,IAAZ,CAAL,CAAP;AACD,aAXO;;AAaRN,oBAAQ,SAASA,MAAT,CAAgBK,EAAhB,EAAoB;;AAE1B,kBAAIE,qBAAqB,SAASA,kBAAT,CAA4Bb,WAA5B,EAAyCc,OAAzC,EAAkDC,KAAlD,EAAyDN,WAAzD,EAAsEO,QAAtE,EAAgFf,QAAhF,EAA0F;AACjH,yBAAS;AACP;AACAe,2BAASl1B,IAAT,CAAcwV,GAAGsB,cAAH,CAAkB6d,YAAYM,KAAZ,CAAlB,CAAd;AACAC,2BAASl1B,IAAT,CAAcm0B,SAASc,KAAT,CAAd;;AAEA,sBAAID,YAAYC,KAAhB,EAAuB;AACrB;AACA,2BAAOC,QAAP;AACD;;AAED;AACA,sBAAIC,UAAUjB,YAAYe,KAAZ,CAAd;AACA,sBAAI,OAAOE,OAAP,KAAmB,WAAvB,EAAoC;AAClC,2BAAO/6B,SAAP;AACD;;AAED66B,0BAAQE,OAAR;AACD;AACF,eAnBD;;AAqBA,kBAAI97B,GAAGG,MAAH,CAAUq7B,EAAV,CAAJ,EAAmB;AACjB;AACA,oBAAIC,OAAOtf,GAAGtC,MAAH,CAAU2hB,EAAV,EAAc,CAAd,EAAiBpkB,EAAjB,EAAX;AACD,eAHD,MAGO;AACL;AACA,oBAAIqkB,OAAOD,GAAGpkB,EAAH,EAAX;AACD;AACD,kBAAI+iB,OAAO,EAAX;;AAEA;AACA,kBAAIoB,MAAMG,mBAAmBb,WAAnB,EAAgCF,YAAYpf,OAAOnE,EAAP,EAAZ,CAAhC,EAA0DujB,YAAYc,IAAZ,CAA1D,EAA6EH,WAA7E,EAA0FnB,IAA1F,EAAgGW,QAAhG,CAAV;;AAEA;AACA,kBAAIS,OAAO,IAAX,EAAiB;AACfA,oBAAIrD,OAAJ;AACD;;AAED,qBAAOvb,KAAKU,KAAL,CAAWke,GAAX,CAAP;AACD,aAtDO;;AAwDRF,oCAAwB;AAxDhB,WAAV;;AA2DA,iBAAOE,GAAP;AACD,SApLU,CAoLT;;AApLS,OAAb,CARsD,CA8LnD;;AAEHz+B,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KAtrKG;AAurKV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIy+B,OAAOz+B,oBAAoB,CAApB,CAAX;;AAEA,UAAI8f,SAAS;;AAEX;AACA4e,+BAAuB,SAASA,qBAAT,CAA+Bxf,OAA/B,EAAwC;AAC7DA,oBAAUA,WAAW,EAArB;;AAEA;AACA,cAAIyf,QAAJ,EAAc1C,QAAd;AACA,cAAIv5B,GAAGC,EAAH,CAAMuc,QAAQ8c,MAAd,CAAJ,EAA2B;AACzBC,uBAAW/c,QAAQ8c,MAAnB;AACA2C,uBAAW,IAAX;AACD,WAHD,MAGO;AACLA,uBAAW,KAAX;AACD;;AAED;AACA,cAAIzC,WAAWhd,QAAQgd,QAAR,IAAoB,IAApB,GAA2Bhd,QAAQgd,QAAnC,GAA8C,KAA7D;;AAEA,cAAIrd,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;;AAEA;AACA,cAAI+f,IAAI,KAAKpd,KAAL,EAAR;AACA,cAAIvV,IAAI,EAAR;AACA,cAAI4yB,KAAK,EAAT;AACA,cAAItyB,MAAM,CAAV;AACA,cAAIJ,IAAI;AACNyT,iBAAK,SAASA,GAAT,CAAa4G,GAAb,EAAkB1d,GAAlB,EAAuB;AAC1B+1B,iBAAGrY,GAAH,IAAU1d,GAAV;;AAEA,kBAAIA,MAAMyD,GAAV,EAAe;AACbA,sBAAMzD,GAAN;AACD;AACF,aAPK;;AASN9H,iBAAK,SAASA,GAAT,CAAawlB,GAAb,EAAkB;AACrB,qBAAOqY,GAAGrY,GAAH,CAAP;AACD;AAXK,WAAR;;AAcA;AACA,eAAK,IAAItmB,IAAI,CAAb,EAAgBA,IAAI0+B,EAAEn2B,MAAtB,EAA8BvI,GAA9B,EAAmC;AACjC,gBAAI4+B,IAAIF,EAAE1+B,CAAF,CAAR;AACA,gBAAI6+B,MAAMD,EAAEhlB,EAAF,EAAV;;AAEA,gBAAIoiB,QAAJ,EAAc;AACZjwB,gBAAE8yB,GAAF,IAASD,EAAEE,QAAF,GAAaxd,KAAb,EAAT,CADY,CACmB;AAChC,aAFD,MAEO;AACLvV,gBAAE8yB,GAAF,IAASD,EAAEG,gBAAF,GAAqBzd,KAArB,EAAT,CADK,CACkC;AACxC;;AAEDrV,cAAEyT,GAAF,CAAMmf,GAAN,EAAW,CAAX;AACD;;AAED,eAAK,IAAIr9B,IAAI,CAAb,EAAgBA,IAAIk9B,EAAEn2B,MAAtB,EAA8B/G,GAA9B,EAAmC;AACjC,gBAAIy6B,MAAMyC,EAAEl9B,CAAF,EAAKoY,EAAL,EAAV;AACA,gBAAIolB,IAAI,EAAR,CAFiC,CAErB;AACZ,gBAAIC,IAAI,EAAR;AACA,gBAAIC,IAAI,EAAR;AACA,gBAAI5+B,IAAI,EAAR;AACA,gBAAI6+B,IAAI,IAAIZ,IAAJ,CAAS,UAAU32B,CAAV,EAAaC,CAAb,EAAgB;AAC/B,qBAAOvH,EAAEsH,CAAF,IAAOtH,EAAEuH,CAAF,CAAd;AACD,aAFO,CAAR,CANiC,CAQ7B;;AAEJ;AACA,iBAAK,IAAI7H,IAAI,CAAb,EAAgBA,IAAI0+B,EAAEn2B,MAAtB,EAA8BvI,GAA9B,EAAmC;AACjC,kBAAI6+B,MAAMH,EAAE1+B,CAAF,EAAK4Z,EAAL,EAAV;;AAEAqlB,gBAAEJ,GAAF,IAAS,EAAT;AACAK,gBAAEL,GAAF,IAAS,CAAT;AACAv+B,gBAAEu+B,GAAF,IAAStyB,QAAT;AACD;;AAED2yB,cAAEjD,GAAF,IAAS,CAAT,CAnBiC,CAmBrB;AACZ37B,cAAE27B,GAAF,IAAS,CAAT,CApBiC,CAoBrB;;AAEZkD,cAAEh2B,IAAF,CAAO8yB,GAAP;;AAEA,mBAAO,CAACkD,EAAE3c,KAAF,EAAR,EAAmB;AACjB,kBAAIoc,IAAIO,EAAEC,GAAF,EAAR;;AAEAJ,gBAAE71B,IAAF,CAAOy1B,CAAP;;AAEA,kBAAIH,QAAJ,EAAc;AACZ,qBAAK,IAAIh2B,IAAI,CAAb,EAAgBA,IAAIsD,EAAE6yB,CAAF,EAAKr2B,MAAzB,EAAiCE,GAAjC,EAAsC;AACpC,sBAAI+D,IAAIT,EAAE6yB,CAAF,EAAKn2B,CAAL,CAAR;AACA,sBAAI42B,OAAO1gB,GAAGsB,cAAH,CAAkB2e,CAAlB,CAAX;;AAEA,sBAAI9c,IAAJ;AACA,sBAAIud,KAAKC,OAAL,CAAa9yB,CAAb,EAAgBjE,MAAhB,GAAyB,CAA7B,EAAgC;AAC9BuZ,2BAAOud,KAAKC,OAAL,CAAa9yB,CAAb,EAAgB,CAAhB,CAAP;AACD,mBAFD,MAEO;AACLsV,2BAAOtV,EAAE8yB,OAAF,CAAUD,IAAV,EAAgB,CAAhB,CAAP;AACD;;AAED,sBAAIE,aAAaxD,SAASja,IAAT,CAAjB;;AAEAtV,sBAAIA,EAAEoN,EAAF,EAAJ;;AAEA,sBAAItZ,EAAEkM,CAAF,IAAOlM,EAAEs+B,CAAF,IAAOW,UAAlB,EAA8B;AAC5Bj/B,sBAAEkM,CAAF,IAAOlM,EAAEs+B,CAAF,IAAOW,UAAd;;AAEA,wBAAIJ,EAAE7d,KAAF,CAAQ0b,OAAR,CAAgBxwB,CAAhB,IAAqB,CAAzB,EAA4B;AAC1B;AACA2yB,wBAAEh2B,IAAF,CAAOqD,CAAP;AACD,qBAHD,MAGO;AACL;AACA2yB,wBAAEK,UAAF,CAAahzB,CAAb;AACD;;AAED0yB,sBAAE1yB,CAAF,IAAO,CAAP;AACAyyB,sBAAEzyB,CAAF,IAAO,EAAP;AACD;;AAED,sBAAIlM,EAAEkM,CAAF,KAAQlM,EAAEs+B,CAAF,IAAOW,UAAnB,EAA+B;AAC7BL,sBAAE1yB,CAAF,IAAO0yB,EAAE1yB,CAAF,IAAO0yB,EAAEN,CAAF,CAAd;AACAK,sBAAEzyB,CAAF,EAAKrD,IAAL,CAAUy1B,CAAV;AACD;AACF;AACF,eApCD,MAoCO;AACL,qBAAK,IAAIn2B,IAAI,CAAb,EAAgBA,IAAIsD,EAAE6yB,CAAF,EAAKr2B,MAAzB,EAAiCE,GAAjC,EAAsC;AACpC,sBAAI+D,IAAIT,EAAE6yB,CAAF,EAAKn2B,CAAL,EAAQmR,EAAR,EAAR;;AAEA,sBAAItZ,EAAEkM,CAAF,KAAQD,QAAZ,EAAsB;AACpB4yB,sBAAEh2B,IAAF,CAAOqD,CAAP;;AAEAlM,sBAAEkM,CAAF,IAAOlM,EAAEs+B,CAAF,IAAO,CAAd;AACD;;AAED,sBAAIt+B,EAAEkM,CAAF,KAAQlM,EAAEs+B,CAAF,IAAO,CAAnB,EAAsB;AACpBM,sBAAE1yB,CAAF,IAAO0yB,EAAE1yB,CAAF,IAAO0yB,EAAEN,CAAF,CAAd;AACAK,sBAAEzyB,CAAF,EAAKrD,IAAL,CAAUy1B,CAAV;AACD;AACF;AACF;AACF;;AAED,gBAAI5jB,IAAI,EAAR;AACA,iBAAK,IAAIhb,IAAI,CAAb,EAAgBA,IAAI0+B,EAAEn2B,MAAtB,EAA8BvI,GAA9B,EAAmC;AACjCgb,gBAAE0jB,EAAE1+B,CAAF,EAAK4Z,EAAL,EAAF,IAAe,CAAf;AACD;;AAED,mBAAOolB,EAAEz2B,MAAF,GAAW,CAAlB,EAAqB;AACnB,kBAAIiE,IAAIwyB,EAAEI,GAAF,EAAR;;AAEA,mBAAK,IAAI32B,IAAI,CAAb,EAAgBA,IAAIw2B,EAAEzyB,CAAF,EAAKjE,MAAzB,EAAiCE,GAAjC,EAAsC;AACpC,oBAAIm2B,IAAIK,EAAEzyB,CAAF,EAAK/D,CAAL,CAAR;;AAEAuS,kBAAE4jB,CAAF,IAAO5jB,EAAE4jB,CAAF,IAAOM,EAAEN,CAAF,IAAOM,EAAE1yB,CAAF,CAAP,IAAe,IAAIwO,EAAExO,CAAF,CAAnB,CAAd;;AAEA,oBAAIA,KAAKkyB,EAAEl9B,CAAF,EAAKoY,EAAL,EAAT,EAAoB;AAClB3N,oBAAEyT,GAAF,CAAMlT,CAAN,EAASP,EAAEnL,GAAF,CAAM0L,CAAN,IAAWwO,EAAExO,CAAF,CAApB;AACD;AACF;AACF;AACF;;AAED,cAAI0c,MAAM;AACRuW,yBAAa,SAASA,WAAT,CAAqBrd,IAArB,EAA2B;AACtC,kBAAI5f,GAAGG,MAAH,CAAUyf,IAAV,CAAJ,EAAqB;AACnB,oBAAIA,OAAOzD,GAAGtC,MAAH,CAAU+F,IAAV,EAAgBxI,EAAhB,EAAX;AACD,eAFD,MAEO;AACL,oBAAIwI,OAAOA,KAAKxI,EAAL,EAAX;AACD;;AAED,qBAAO3N,EAAEnL,GAAF,CAAMshB,IAAN,CAAP;AACD,aATO;;AAWRsd,mCAAuB,SAASA,qBAAT,CAA+Btd,IAA/B,EAAqC;AAC1D,kBAAI/V,OAAO,CAAX,EAAc,OAAO,CAAP;;AAEd,kBAAI7J,GAAGG,MAAH,CAAUyf,IAAV,CAAJ,EAAqB;AACnB,oBAAIA,OAAOzD,GAAGtC,MAAH,CAAU+F,IAAV,EAAgBxI,EAAhB,EAAX;AACD,eAFD,MAEO;AACL,oBAAIwI,OAAOA,KAAKxI,EAAL,EAAX;AACD;;AAED,qBAAO3N,EAAEnL,GAAF,CAAMshB,IAAN,IAAc/V,GAArB;AACD;AArBO,WAAV;;AAwBA;AACA6c,cAAIyW,qBAAJ,GAA4BzW,IAAIwW,qBAAhC;;AAEA,iBAAOxW,GAAP;AACD,SAxLU,CAwLT;;AAxLS,OAAb,CARsD,CAkMnD;;AAEH;AACAtJ,aAAOggB,EAAP,GAAYhgB,OAAO4e,qBAAnB;;AAEAl/B,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KAj4KG;AAk4KV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAI+/B,eAAe,SAASA,YAAT,CAAsBxuB,MAAtB,EAA8B;AAC/CA,iBAAS;AACPyuB,eAAKzuB,OAAOyuB,GAAP,IAAc,CAACzuB,OAAO0uB,GADpB;AAEPA,eAAK1uB,OAAO0uB,GAAP,IAAc,CAAC1uB,OAAOyuB;AAFpB,SAAT;;AAKA;AACA,eAAO,SAASE,QAAT,CAAkB7uB,KAAlB,EAAyB1O,EAAzB,EAA6Bu5B,QAA7B,EAAuC;AAC5C,cAAIhd,OAAJ;AACA,cAAIxc,GAAGO,WAAH,CAAeoO,KAAf,KAAyB,CAAC3O,GAAGgB,mBAAH,CAAuB2N,KAAvB,CAA9B,EAA6D;AAC3D6N,sBAAU7N,KAAV;AACAA,oBAAQ6N,QAAQ7N,KAAR,IAAiB6N,QAAQ7f,IAAjC;AACAsD,iBAAKuc,QAAQihB,KAAb;AACAjE,uBAAWhd,QAAQgd,QAAnB;AACD;;AAEDA,qBAAWl1B,UAAUyB,MAAV,KAAqB,CAArB,IAA0B,CAAC/F,GAAGC,EAAH,CAAMA,EAAN,CAA3B,GAAuCA,EAAvC,GAA4Cu5B,QAAvD;AACAv5B,eAAKD,GAAGC,EAAH,CAAMA,EAAN,IAAYA,EAAZ,GAAiB,YAAY,CAAE,CAApC;;AAEA,cAAIkc,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;AACA,cAAIigB,IAAIztB,QAAQ3O,GAAGG,MAAH,CAAUwO,KAAV,IAAmB,KAAKkL,MAAL,CAAYlL,KAAZ,CAAnB,GAAwCA,KAAxD;AACA,cAAIguB,IAAI,EAAR;AACA,cAAIlhB,iBAAiB,EAArB;AACA,cAAIiiB,cAAc,EAAlB;AACA,cAAIC,WAAW,EAAf;AACA,cAAIzB,IAAI,EAAR;AACA,cAAIj2B,IAAI,CAAR;AACA,cAAIi0B,KAAJ;AACA,cAAIpb,QAAQ,KAAKA,KAAL,EAAZ;AACA,cAAIC,QAAQ,KAAKA,KAAL,EAAZ;;AAEA;AACA,eAAK,IAAIvhB,IAAI,CAAb,EAAgBA,IAAI4+B,EAAEr2B,MAAtB,EAA8BvI,GAA9B,EAAmC;AACjC,gBAAI4+B,EAAE5+B,CAAF,EAAKwhB,MAAL,EAAJ,EAAmB;AACjB2d,gBAAErb,OAAF,CAAU8a,EAAE5+B,CAAF,CAAV;;AAEA,kBAAIqR,OAAOyuB,GAAX,EAAgB;AACdpB,kBAAEE,EAAE5+B,CAAF,EAAK4Z,EAAL,EAAF,IAAe,IAAf;;AAEAqE,+BAAe9U,IAAf,CAAoBy1B,EAAE5+B,CAAF,CAApB;AACD;;AAEDmgC,uBAASvB,EAAE5+B,CAAF,EAAK4Z,EAAL,EAAT,IAAsB,CAAtB;AACD;AACF;;AAED,iBAAOulB,EAAE52B,MAAF,KAAa,CAApB,EAAuB;AACrB,gBAAIq2B,IAAIvtB,OAAOyuB,GAAP,GAAaX,EAAEiB,KAAF,EAAb,GAAyBjB,EAAEC,GAAF,EAAjC;;AAEA,gBAAI/tB,OAAO0uB,GAAX,EAAgB;AACd,kBAAIrB,EAAEE,EAAEhlB,EAAF,EAAF,CAAJ,EAAe;AACb;AACD;;AAED8kB,gBAAEE,EAAEhlB,EAAF,EAAF,IAAY,IAAZ;;AAEAqE,6BAAe9U,IAAf,CAAoBy1B,CAApB;AACD;;AAED,gBAAIyB,QAAQF,SAASvB,EAAEhlB,EAAF,EAAT,CAAZ;AACA,gBAAI0mB,WAAWJ,YAAYtB,EAAEhlB,EAAF,EAAZ,CAAf;AACA,gBAAI2mB,WAAWD,YAAY,IAAZ,GAAmB/8B,SAAnB,GAA+B+8B,SAASriB,cAAT,GAA0BuiB,GAA1B,CAA8B5B,CAA9B,EAAiC,CAAjC,CAA9C;AACA,gBAAI1V,GAAJ;;AAEAA,kBAAMzmB,GAAGm8B,CAAH,EAAM0B,QAAN,EAAgBC,QAAhB,EAA0B93B,GAA1B,EAA+B43B,KAA/B,CAAN;;AAEA,gBAAInX,QAAQ,IAAZ,EAAkB;AAChBwT,sBAAQkC,CAAR;AACA;AACD;;AAED,gBAAI1V,QAAQ,KAAZ,EAAmB;AACjB;AACD;;AAED,gBAAI0T,UAAUgC,EAAE5a,cAAF,CAAiBgY,WAAW,UAAUjzB,GAAV,EAAe;AACvD,qBAAOA,IAAIyU,IAAJ,CAAS,QAAT,MAAuBohB,EAAEhlB,EAAF,EAA9B;AACD,aAF8B,GAE3BrW,SAFU,EAECk9B,SAFD,CAEWlf,KAFX,CAAd;AAGA,iBAAK,IAAIvhB,IAAI,CAAb,EAAgBA,IAAI48B,QAAQr0B,MAA5B,EAAoCvI,GAApC,EAAyC;AACvC,kBAAIgb,IAAI4hB,QAAQ58B,CAAR,CAAR;AACA,kBAAIwM,IAAIwO,EAAEiD,cAAF,CAAiB,UAAUld,CAAV,EAAa;AACpC,uBAAOA,EAAE6Y,EAAF,OAAWglB,EAAEhlB,EAAF,EAAlB;AACD,eAFO,EAEL6mB,SAFK,CAEKnf,KAFL,CAAR;;AAIA,kBAAI9U,EAAEjE,MAAF,KAAa,CAAb,IAAkB,CAACm2B,EAAElyB,EAAEoN,EAAF,EAAF,CAAvB,EAAkC;AAChCpN,oBAAIA,EAAE,CAAF,CAAJ;;AAEA2yB,kBAAEh2B,IAAF,CAAOqD,CAAP;;AAEA,oBAAI6E,OAAOyuB,GAAX,EAAgB;AACdpB,oBAAElyB,EAAEoN,EAAF,EAAF,IAAY,IAAZ;;AAEAqE,iCAAe9U,IAAf,CAAoBqD,CAApB;AACD;;AAED0zB,4BAAY1zB,EAAEoN,EAAF,EAAZ,IAAsBoB,CAAtB;;AAEAmlB,yBAAS3zB,EAAEoN,EAAF,EAAT,IAAmBumB,SAASvB,EAAEhlB,EAAF,EAAT,IAAmB,CAAtC;AACD;AACF;AACF;;AAED,cAAI8mB,gBAAgB,EAApB;;AAEA,eAAK,IAAI1gC,IAAI,CAAb,EAAgBA,IAAIie,eAAe1V,MAAnC,EAA2CvI,GAA3C,EAAgD;AAC9C,gBAAIoiB,OAAOnE,eAAeje,CAAf,CAAX;AACA,gBAAI8hB,OAAOoe,YAAY9d,KAAKxI,EAAL,EAAZ,CAAX;;AAEA,gBAAIkI,IAAJ,EAAU;AACR4e,4BAAcv3B,IAAd,CAAmB2Y,IAAnB;AACD;;AAED4e,0BAAcv3B,IAAd,CAAmBiZ,IAAnB;AACD;;AAED,iBAAO;AACLua,kBAAMhe,GAAGjb,UAAH,CAAcg9B,aAAd,EAA6B,EAAEjhB,QAAQ,IAAV,EAA7B,CADD;AAELid,mBAAO/d,GAAGjb,UAAH,CAAcg5B,KAAd;AAFF,WAAP;AAID,SAhHD;AAiHD,OAxHD;;AA0HA;AACA,UAAI9c,SAAS;AACX+gB,4BAAoBd,aAAa,EAAEC,KAAK,IAAP,EAAb,CADT;AAEXc,0BAAkBf,aAAa,EAAEE,KAAK,IAAP,EAAb;AAFP,OAAb;;AAKA;AACAngB,aAAOkgB,GAAP,GAAalgB,OAAO+gB,kBAApB;AACA/gB,aAAOmgB,GAAP,GAAangB,OAAOghB,gBAApB;;AAEAthC,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KAhhLG;AAihLV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAI8f,SAAS;;AAEXihB,uCAA+B,SAASA,6BAAT,CAAuC7hB,OAAvC,EAAgD;AAC7EA,oBAAUA,WAAW,EAArB;;AAEA,cAAIL,KAAK,KAAKA,EAAL,EAAT;;AAEA,cAAImiB,WAAW9hB,QAAQ8hB,QAAvB;AACA,cAAIA,aAAav9B,SAAjB,EAA4B;AAC1Bu9B,uBAAW,IAAX;AACD;;AAED,cAAIC,cAAc,EAAlB;AACA,cAAIC,eAAe,CAAnB;AACA,cAAI1f,QAAQ,KAAKA,KAAL,EAAZ;AACA,cAAI2f,KAAK,KAAKC,aAAL,CAAmB,EAAEpF,QAAQ9c,QAAQ8c,MAAlB,EAA0BE,UAAUhd,QAAQgd,QAA5C,EAAnB,CAAT;;AAEA;AACA,eAAK,IAAIh8B,IAAI,CAAb,EAAgBA,IAAIshB,MAAM/Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,gBAAImhC,gBAAgB,CAApB;AACA,iBAAK,IAAI14B,IAAI,CAAb,EAAgBA,IAAI6Y,MAAM/Y,MAA1B,EAAkCE,GAAlC,EAAuC;AACrC,kBAAIzI,KAAKyI,CAAT,EAAY;AACV,oBAAInI,IAAI2gC,GAAGnrB,QAAH,CAAYwL,MAAMthB,CAAN,CAAZ,EAAsBshB,MAAM7Y,CAAN,CAAtB,CAAR;;AAEA,oBAAIq4B,QAAJ,EAAc;AACZK,mCAAiB,IAAI7gC,CAArB;AACD,iBAFD,MAEO;AACL6gC,mCAAiB7gC,CAAjB;AACD;AACF;AACF;;AAED,gBAAI,CAACwgC,QAAL,EAAe;AACbK,8BAAgB,IAAIA,aAApB;AACD;;AAED,gBAAIH,eAAeG,aAAnB,EAAkC;AAChCH,6BAAeG,aAAf;AACD;;AAEDJ,wBAAYzf,MAAMthB,CAAN,EAAS4Z,EAAT,EAAZ,IAA6BunB,aAA7B;AACD;;AAED,iBAAO;AACLC,uBAAW,SAASA,SAAT,CAAmBhf,IAAnB,EAAyB;AAClC,kBAAI4e,gBAAgB,CAApB,EAAuB;AACrB,uBAAO,CAAP;AACD;;AAED,kBAAIx+B,GAAGG,MAAH,CAAUyf,IAAV,CAAJ,EAAqB;AACnB;AACA,oBAAIA,OAAOzD,GAAGtC,MAAH,CAAU+F,IAAV,EAAgB,CAAhB,EAAmBxI,EAAnB,EAAX;AACD,eAHD,MAGO;AACL;AACA,oBAAIwI,OAAOA,KAAKxI,EAAL,EAAX;AACD;;AAED,qBAAOmnB,YAAY3e,IAAZ,IAAoB4e,YAA3B;AACD;AAfI,WAAP;AAiBD,SA5DU;;AA8DX;AACAK,6BAAqB,SAASA,mBAAT,CAA6BriB,OAA7B,EAAsC;AACzDA,oBAAUA,WAAW,EAArB;;AAEA;AACA,cAAIA,QAAQ7f,IAAR,IAAgB,IAApB,EAA0B;AACxB,gBAAIqD,GAAGG,MAAH,CAAUqc,QAAQ7f,IAAlB,CAAJ,EAA6B;AAC3B;AACA,kBAAIA,OAAO,KAAKkd,MAAL,CAAY2C,QAAQ7f,IAApB,EAA0B,CAA1B,CAAX;AACD,aAHD,MAGO;AACL,kBAAIA,OAAO6f,QAAQ7f,IAAR,CAAa,CAAb,CAAX;AACD;AACF,WAPD,MAOO;AACL,mBAAOoE,SAAP;AACD;;AAED;AACA,cAAIyb,QAAQ8c,MAAR,IAAkB,IAAlB,IAA0Bt5B,GAAGC,EAAH,CAAMuc,QAAQ8c,MAAd,CAA9B,EAAqD;AACnD,gBAAIA,SAAS9c,QAAQ8c,MAArB;AACD,WAFD,MAEO;AACL,gBAAIA,SAAS,SAASA,MAAT,GAAkB;AAC7B,qBAAO,CAAP;AACD,aAFD;AAGD;;AAED;AACA,cAAI9c,QAAQgd,QAAR,IAAoB,IAApB,IAA4Bx5B,GAAGa,IAAH,CAAQ2b,QAAQgd,QAAhB,CAAhC,EAA2D;AACzD,gBAAIA,WAAWhd,QAAQgd,QAAvB;AACD,WAFD,MAEO;AACL,gBAAIA,WAAW,KAAf;AACD;;AAED,cAAI8E,WAAW9hB,QAAQ8hB,QAAvB;AACA,cAAIA,aAAav9B,SAAjB,EAA4B;AAC1Bu9B,uBAAW,IAAX;AACD;;AAED;AACA,cAAIQ,WAAW,KAAKA,QAAL,CAAc;AAC3BniC,kBAAMA,IADqB;AAE3B28B,oBAAQA,MAFmB;AAG3BE,sBAAUA;AAHiB,WAAd,CAAf;AAKA,cAAIuF,gBAAgB,CAApB;;AAEA,cAAIjgB,QAAQ,KAAKA,KAAL,EAAZ;AACA,eAAK,IAAIthB,IAAI,CAAb,EAAgBA,IAAIshB,MAAM/Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,gBAAIshB,MAAMthB,CAAN,EAAS4Z,EAAT,MAAiBza,KAAKya,EAAL,EAArB,EAAgC;AAC9B,kBAAItZ,IAAIghC,SAAS1D,UAAT,CAAoBtc,MAAMthB,CAAN,CAApB,CAAR;;AAEA,kBAAI8gC,QAAJ,EAAc;AACZS,iCAAiB,IAAIjhC,CAArB;AACD,eAFD,MAEO;AACLihC,iCAAiBjhC,CAAjB;AACD;AACF;AACF;;AAED,iBAAOwgC,WAAWS,aAAX,GAA2B,IAAIA,aAAtC;AACD,SAzHU,CAyHT;;AAzHS,OAAb,CAPsD,CAkInD;;AAEH;AACA3hB,aAAO4hB,EAAP,GAAY5hB,OAAOyhB,mBAAnB;AACAzhB,aAAO6hB,GAAP,GAAa7hB,OAAO8hB,6BAAP,GAAuC9hB,OAAOihB,6BAA3D;;AAEAvhC,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KA5pLG;AA6pLV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAI8f,SAAS;;AAEX+hB,oCAA4B,SAASA,0BAAT,CAAoC3iB,OAApC,EAA6C;AACvEA,oBAAUA,WAAW,EAArB;;AAEA,cAAIL,KAAK,KAAKA,EAAL,EAAT;;AAEA;AACA,cAAIK,QAAQgd,QAAR,IAAoB,IAAxB,EAA8B;AAC5B,gBAAIA,WAAWhd,QAAQgd,QAAvB;AACD,WAFD,MAEO;AACL,gBAAIA,WAAW,KAAf;AACD;;AAED,cAAI1a,QAAQ,KAAKA,KAAL,EAAZ;AACA,cAAI4b,WAAW5b,MAAM/Y,MAArB;;AAEA,cAAI,CAACyzB,QAAL,EAAe;AACb,gBAAI4F,UAAU,EAAd;AACA,gBAAIC,YAAY,CAAhB;;AAEA,iBAAK,IAAI7hC,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjC,kBAAIoiB,OAAOd,MAAMthB,CAAN,CAAX;AACA;AACA,kBAAI8hC,aAAa,KAAKC,gBAAL,CAAsB77B,KAAKgB,MAAL,CAAY,EAAZ,EAAgB8X,OAAhB,EAAyB,EAAE7f,MAAMijB,IAAR,EAAzB,CAAtB,CAAjB;AACA,kBAAIyf,YAAYC,WAAWE,MAA3B,EAAmCH,YAAYC,WAAWE,MAAvB;;AAEnCJ,sBAAQxf,KAAKxI,EAAL,EAAR,IAAqBkoB,WAAWE,MAAhC;AACD;;AAED,mBAAO;AACLA,sBAAQ,SAASA,MAAT,CAAgB5f,IAAhB,EAAsB;AAC5B,oBAAIyf,aAAa,CAAjB,EAAoB,OAAO,CAAP;;AAEpB,oBAAIr/B,GAAGG,MAAH,CAAUyf,IAAV,CAAJ,EAAqB;AACnB;AACA,sBAAIA,OAAOzD,GAAGtC,MAAH,CAAU+F,IAAV,EAAgB,CAAhB,EAAmBxI,EAAnB,EAAX;AACD,iBAHD,MAGO;AACL;AACA,sBAAIwI,OAAOA,KAAKxI,EAAL,EAAX;AACD;;AAED,uBAAOgoB,QAAQxf,IAAR,IAAgByf,SAAvB;AACD;AAbI,aAAP;AAeD,WA5BD,MA4BO;AACL,gBAAII,YAAY,EAAhB;AACA,gBAAIC,aAAa,EAAjB;AACA,gBAAIC,cAAc,CAAlB;AACA,gBAAIC,eAAe,CAAnB;;AAEA,iBAAK,IAAIpiC,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjC,kBAAIoiB,OAAOd,MAAMthB,CAAN,CAAX;AACA;AACA,kBAAI8hC,aAAa,KAAKC,gBAAL,CAAsB77B,KAAKgB,MAAL,CAAY,EAAZ,EAAgB8X,OAAhB,EAAyB,EAAE7f,MAAMijB,IAAR,EAAzB,CAAtB,CAAjB;;AAEA,kBAAI+f,cAAcL,WAAWO,QAA7B,EAAuCF,cAAcL,WAAWO,QAAzB;;AAEvC,kBAAID,eAAeN,WAAWQ,SAA9B,EAAyCF,eAAeN,WAAWQ,SAA1B;;AAEzCL,wBAAU7f,KAAKxI,EAAL,EAAV,IAAuBkoB,WAAWO,QAAlC;AACAH,yBAAW9f,KAAKxI,EAAL,EAAX,IAAwBkoB,WAAWQ,SAAnC;AACD;;AAED,mBAAO;AACLD,wBAAU,SAASA,QAAT,CAAkBjgB,IAAlB,EAAwB;AAChC,oBAAI+f,eAAe,CAAnB,EAAsB,OAAO,CAAP;;AAEtB,oBAAI3/B,GAAGG,MAAH,CAAUyf,IAAV,CAAJ,EAAqB;AACnB;AACA,sBAAIA,OAAOzD,GAAGtC,MAAH,CAAU+F,IAAV,EAAgB,CAAhB,EAAmBxI,EAAnB,EAAX;AACD,iBAHD,MAGO;AACL;AACA,sBAAIwI,OAAOA,KAAKxI,EAAL,EAAX;AACD;;AAED,uBAAOqoB,UAAU7f,IAAV,IAAkB+f,WAAzB;AACD,eAbI;AAcLG,yBAAW,SAASA,SAAT,CAAmBlgB,IAAnB,EAAyB;AAClC,oBAAIggB,gBAAgB,CAApB,EAAuB,OAAO,CAAP;;AAEvB,oBAAI5/B,GAAGG,MAAH,CAAUyf,IAAV,CAAJ,EAAqB;AACnB;AACA,sBAAIA,OAAOzD,GAAGtC,MAAH,CAAU+F,IAAV,EAAgB,CAAhB,EAAmBxI,EAAnB,EAAX;AACD,iBAHD,MAGO;AACL;AACA,sBAAIwI,OAAOA,KAAKxI,EAAL,EAAX;AACD;;AAED,uBAAOsoB,WAAW9f,IAAX,IAAmBggB,YAA1B;AACD;;AA1BI,aAAP;AA6BD;AACF,SA9FU,EA8FR;;AAEH;AACA;AACA;AACAL,0BAAkB,SAASA,gBAAT,CAA0B/iB,OAA1B,EAAmC;AACnDA,oBAAUA,WAAW,EAArB;;AAEA,cAAIujB,cAAc,IAAlB;;AAEA;AACA,cAAIvjB,WAAW,IAAX,IAAmBA,QAAQ7f,IAAR,IAAgB,IAAvC,EAA6C;AAC3C,gBAAIA,OAAOqD,GAAGG,MAAH,CAAUqc,QAAQ7f,IAAlB,IAA0B,KAAKkd,MAAL,CAAY2C,QAAQ7f,IAApB,EAA0B,CAA1B,CAA1B,GAAyD6f,QAAQ7f,IAAR,CAAa,CAAb,CAApE;AACD,WAFD,MAEO;AACL,mBAAOoE,SAAP;AACD;;AAED;AACA,cAAIyb,QAAQ8c,MAAR,IAAkB,IAAlB,IAA0Bt5B,GAAGC,EAAH,CAAMuc,QAAQ8c,MAAd,CAA9B,EAAqD;AACnD,gBAAIC,WAAW/c,QAAQ8c,MAAvB;AACD,WAFD,MAEO;AACL;AACA,gBAAIC,WAAW,SAASA,QAAT,CAAkB/gB,CAAlB,EAAqB;AAClC,qBAAO,CAAP;AACD,aAFD;AAGD;;AAED;AACA,cAAIgE,QAAQgd,QAAR,IAAoB,IAAxB,EAA8B;AAC5B,gBAAIA,WAAWhd,QAAQgd,QAAvB;AACD,WAFD,MAEO;AACL,gBAAIA,WAAW,KAAf;AACD;;AAED;AACA,cAAIhd,QAAQwjB,KAAR,IAAiB,IAAjB,IAAyBhgC,GAAGQ,MAAH,CAAUgc,QAAQwjB,KAAlB,CAA7B,EAAuD;AACrD,gBAAIA,QAAQxjB,QAAQwjB,KAApB;AACD,WAFD,MAEO;AACLA,oBAAQ,CAAR;AACD;;AAED,cAAI,CAACxG,QAAL,EAAe;AACb,gBAAIyG,YAAYtjC,KAAK6kB,cAAL,GAAsBpQ,YAAtB,CAAmC2uB,WAAnC,CAAhB;AACA,gBAAI75B,IAAI+5B,UAAUl6B,MAAlB;AACA,gBAAI/G,IAAI,CAAR;;AAEA;AACA,iBAAK,IAAIxB,IAAI,CAAb,EAAgBA,IAAIyiC,UAAUl6B,MAA9B,EAAsCvI,GAAtC,EAA2C;AACzC,kBAAI8hB,OAAO2gB,UAAUziC,CAAV,CAAX;AACAwB,mBAAKu6B,SAASja,IAAT,CAAL;AACD;;AAED,mBAAO;AACLkgB,sBAAQ7+B,KAAK6N,GAAL,CAAStI,CAAT,EAAY,IAAI85B,KAAhB,IAAyBr/B,KAAK6N,GAAL,CAASxP,CAAT,EAAYghC,KAAZ;AAD5B,aAAP;AAGD,WAdD,MAcO;AACL,gBAAIE,WAAWvjC,KAAK6kB,cAAL,CAAoB,oBAAoB7kB,KAAKya,EAAL,EAApB,GAAgC,IAApD,EAA0DhG,YAA1D,CAAuE2uB,WAAvE,CAAf;AACA,gBAAII,WAAWxjC,KAAK6kB,cAAL,CAAoB,oBAAoB7kB,KAAKya,EAAL,EAApB,GAAgC,IAApD,EAA0DhG,YAA1D,CAAuE2uB,WAAvE,CAAf;AACA,gBAAIK,OAAOF,SAASn6B,MAApB;AACA,gBAAIs6B,QAAQF,SAASp6B,MAArB;AACA,gBAAIu6B,OAAO,CAAX;AACA,gBAAIC,QAAQ,CAAZ;;AAEA;AACA,iBAAK,IAAI/iC,IAAI,CAAb,EAAgBA,IAAI0iC,SAASn6B,MAA7B,EAAqCvI,GAArC,EAA0C;AACxC,kBAAI8hB,OAAO4gB,SAAS1iC,CAAT,CAAX;AACA8iC,sBAAQ/G,SAASja,IAAT,CAAR;AACD;;AAED;AACA,iBAAK,IAAI9hB,IAAI,CAAb,EAAgBA,IAAI2iC,SAASp6B,MAA7B,EAAqCvI,GAArC,EAA0C;AACxC,kBAAI8hB,OAAO6gB,SAAS3iC,CAAT,CAAX;AACA+iC,uBAAShH,SAASja,IAAT,CAAT;AACD;;AAED,mBAAO;AACLugB,wBAAUl/B,KAAK6N,GAAL,CAAS4xB,IAAT,EAAe,IAAIJ,KAAnB,IAA4Br/B,KAAK6N,GAAL,CAAS8xB,IAAT,EAAeN,KAAf,CADjC;AAELF,yBAAWn/B,KAAK6N,GAAL,CAAS6xB,KAAT,EAAgB,IAAIL,KAApB,IAA6Br/B,KAAK6N,GAAL,CAAS+xB,KAAT,EAAgBP,KAAhB;AAFnC,aAAP;AAID;AACF,SA9KU,CA8KT;;AA9KS,OAAb,CARsD,CAwLnD;;AAEH;AACA5iB,aAAOojB,EAAP,GAAYpjB,OAAOmiB,gBAAnB;AACAniB,aAAOqjB,GAAP,GAAarjB,OAAOsjB,0BAAP,GAAoCtjB,OAAO+hB,0BAAxD;;AAEAriC,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KA91LG;AA+1LV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIy+B,OAAOz+B,oBAAoB,CAApB,CAAX;;AAEA,UAAI8f,SAAS;;AAEX0hB,kBAAU,SAASA,QAAT,CAAkBniC,IAAlB,EAAwB48B,QAAxB,EAAkCC,QAAlC,EAA4C;AACpD,cAAIhd,OAAJ;AACA,cAAIxc,GAAGO,WAAH,CAAe5D,IAAf,KAAwB,CAACqD,GAAGgB,mBAAH,CAAuBrE,IAAvB,CAA7B,EAA2D;AACzD6f,sBAAU7f,IAAV;AACAA,mBAAO6f,QAAQ7f,IAAf;AACA48B,uBAAW/c,QAAQ8c,MAAnB;AACAE,uBAAWhd,QAAQgd,QAAnB;AACD;;AAED,cAAIrd,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;AACAod,qBAAWv5B,GAAGC,EAAH,CAAMs5B,QAAN,IAAkBA,QAAlB,GAA6B,YAAY;AAClD,mBAAO,CAAP;AACD,WAFD,CAVoD,CAYjD;;AAEH,cAAIhe,SAASvb,GAAGG,MAAH,CAAUxD,IAAV,IAAkB,KAAKkd,MAAL,CAAYld,IAAZ,EAAkB,CAAlB,CAAlB,GAAyCA,KAAK,CAAL,CAAtD;AACA,cAAI6L,OAAO,EAAX;AACA,cAAIm4B,OAAO,EAAX;AACA,cAAIC,YAAY,EAAhB;;AAEA,cAAI7hB,QAAQ,KAAKA,KAAL,GAAalF,MAAb,CAAoB,UAAUtT,GAAV,EAAe;AAC7C,mBAAO,CAACA,IAAIurB,MAAJ,EAAR;AACD,WAFW,CAAZ;AAGA,cAAIhT,QAAQ,KAAKA,KAAL,EAAZ;;AAEA,cAAI+hB,UAAU,SAASA,OAAT,CAAiBjhB,IAAjB,EAAuB;AACnC,mBAAOpX,KAAKoX,KAAKxI,EAAL,EAAL,CAAP;AACD,WAFD;;AAIA,cAAI0pB,UAAU,SAASA,OAAT,CAAiBlhB,IAAjB,EAAuB9hB,CAAvB,EAA0B;AACtC0K,iBAAKoX,KAAKxI,EAAL,EAAL,IAAkBtZ,CAAlB;;AAEA6+B,cAAEK,UAAF,CAAapd,IAAb;AACD,WAJD;;AAMA,cAAI+c,IAAI,IAAIZ,IAAJ,CAAS,UAAU32B,CAAV,EAAaC,CAAb,EAAgB;AAC/B,mBAAOw7B,QAAQz7B,CAAR,IAAay7B,QAAQx7B,CAAR,CAApB;AACD,WAFO,CAAR;;AAIA,eAAK,IAAI7H,IAAI,CAAb,EAAgBA,IAAIshB,MAAM/Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,gBAAIoiB,OAAOd,MAAMthB,CAAN,CAAX;;AAEAgL,iBAAKoX,KAAKxI,EAAL,EAAL,IAAkBwI,KAAKM,IAAL,CAAU3E,MAAV,IAAoB,CAApB,GAAwBxR,QAA1C;AACA4yB,cAAEh2B,IAAF,CAAOiZ,IAAP;AACD;;AAED,cAAImhB,cAAc,SAASA,WAAT,CAAqBC,CAArB,EAAwB5E,CAAxB,EAA2B;AAC3C,gBAAI6E,MAAM,CAACzH,WAAWwH,EAAElE,OAAF,CAAUV,CAAV,CAAX,GAA0B4E,EAAEE,SAAF,CAAY9E,CAAZ,CAA3B,EAA2C6B,SAA3C,CAAqDlf,KAArD,CAAV;AACA,gBAAIoiB,mBAAmBp3B,QAAvB;AACA,gBAAIq3B,YAAJ;;AAEA,iBAAK,IAAI5jC,IAAI,CAAb,EAAgBA,IAAIyjC,IAAIl7B,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,kBAAI8hB,OAAO2hB,IAAIzjC,CAAJ,CAAX;AACA,kBAAI87B,SAASC,SAASja,IAAT,CAAb;;AAEA,kBAAIga,SAAS6H,gBAAT,IAA6B,CAACC,YAAlC,EAAgD;AAC9CD,mCAAmB7H,MAAnB;AACA8H,+BAAe9hB,IAAf;AACD;AACF;;AAED,mBAAO;AACLA,oBAAM8hB,YADD;AAEL54B,oBAAM24B;AAFD,aAAP;AAID,WAnBD;;AAqBA,iBAAOxE,EAAEziB,IAAF,KAAW,CAAlB,EAAqB;AACnB,gBAAI8mB,IAAIrE,EAAEC,GAAF,EAAR;AACA,gBAAIyE,eAAeR,QAAQG,CAAR,CAAnB;AACA,gBAAIM,MAAMN,EAAE5pB,EAAF,EAAV;;AAEAwpB,sBAAUU,GAAV,IAAiBD,YAAjB;;AAEA,gBAAIA,iBAAiBt3B,QAArB,EAA+B;AAC7B;AACD;;AAED,gBAAIw3B,YAAYP,EAAEQ,YAAF,GAAiBvD,SAAjB,CAA2Bnf,KAA3B,CAAhB;AACA,iBAAK,IAAIthB,IAAI,CAAb,EAAgBA,IAAI+jC,UAAUx7B,MAA9B,EAAsCvI,GAAtC,EAA2C;AACzC,kBAAI4+B,IAAImF,UAAU/jC,CAAV,CAAR;AACA,kBAAI6+B,MAAMD,EAAEhlB,EAAF,EAAV;AACA,kBAAIqqB,QAAQV,YAAYC,CAAZ,EAAe5E,CAAf,CAAZ;;AAEA,kBAAIsF,MAAML,eAAeI,MAAMj5B,IAA/B;;AAEA,kBAAIk5B,MAAMb,QAAQzE,CAAR,CAAV,EAAsB;AACpB0E,wBAAQ1E,CAAR,EAAWsF,GAAX;;AAEAf,qBAAKtE,GAAL,IAAY;AACVzc,wBAAMohB,CADI;AAEV1hB,wBAAMmiB,MAAMniB;AAFF,iBAAZ;AAID;AACF,aA3BkB,CA2BjB;AACH,WA9FmD,CA8FlD;;AAEF,iBAAO;AACL8b,wBAAY,SAASA,UAAT,CAAoBxb,IAApB,EAA0B;AACpC,kBAAIpE,SAASxb,GAAGG,MAAH,CAAUyf,IAAV,IAAkBd,MAAMjF,MAAN,CAAa+F,IAAb,EAAmB,CAAnB,CAAlB,GAA0CA,KAAK,CAAL,CAAvD;;AAEA,qBAAOghB,UAAUplB,OAAOpE,EAAP,EAAV,CAAP;AACD,aALI;;AAOL+jB,oBAAQ,SAASA,MAAT,CAAgBvb,IAAhB,EAAsB;AAC5B,kBAAIpE,SAASxb,GAAGG,MAAH,CAAUyf,IAAV,IAAkBd,MAAMjF,MAAN,CAAa+F,IAAb,EAAmB,CAAnB,CAAlB,GAA0CA,KAAK,CAAL,CAAvD;AACA,kBAAI4c,IAAI,EAAR;AACA,kBAAIwE,IAAIxlB,MAAR;;AAEA,kBAAIA,OAAOzV,MAAP,GAAgB,CAApB,EAAuB;AACrBy2B,kBAAElb,OAAF,CAAU9F,MAAV;;AAEA,uBAAOmlB,KAAKK,EAAE5pB,EAAF,EAAL,CAAP,EAAqB;AACnB,sBAAIrY,IAAI4hC,KAAKK,EAAE5pB,EAAF,EAAL,CAAR;;AAEAolB,oBAAElb,OAAF,CAAUviB,EAAEugB,IAAZ;AACAkd,oBAAElb,OAAF,CAAUviB,EAAE6gB,IAAZ;;AAEAohB,sBAAIjiC,EAAE6gB,IAAN;AACD;AACF;;AAED,qBAAOzD,GAAGjb,UAAH,CAAcs7B,CAAd,CAAP;AACD;AA1BI,WAAP;AA4BD;AA9HU,OAAb;;AAiIA1/B,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KA3+LG;AA4+LV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAI8f,SAAS;;AAEX;AACAshB,uBAAe,SAASA,aAAT,CAAuBliB,OAAvB,EAAgC;AAC7CA,oBAAUA,WAAW,EAArB;;AAEA,cAAIL,KAAK,KAAKA,EAAL,EAAT;;AAEA;AACA,cAAIK,QAAQ8c,MAAR,IAAkB,IAAlB,IAA0Bt5B,GAAGC,EAAH,CAAMuc,QAAQ8c,MAAd,CAA9B,EAAqD;AACnD,gBAAIC,WAAW/c,QAAQ8c,MAAvB;AACD,WAFD,MAEO;AACL;AACA,gBAAIC,WAAW,SAASA,QAAT,CAAkB/gB,CAAlB,EAAqB;AAClC,qBAAO,CAAP;AACD,aAFD;AAGD;;AAED;AACA,cAAIgE,QAAQgd,QAAR,IAAoB,IAAxB,EAA8B;AAC5B,gBAAIA,WAAWhd,QAAQgd,QAAvB;AACD,WAFD,MAEO;AACL,gBAAIA,WAAW,KAAf;AACD;;AAED,cAAIza,QAAQ,KAAKA,KAAL,GAAawN,SAAb,CAAuB,UAAU/T,CAAV,EAAa;AAC9C,mBAAO,CAACA,EAAEsZ,MAAF,EAAR;AACD,WAFW,CAAZ;AAGA,cAAIhT,QAAQ,KAAKA,KAAL,EAAZ;AACA,cAAI4b,WAAW5b,MAAM/Y,MAArB;;AAEA;AACA,cAAI40B,cAAc,EAAlB;AACA,eAAK,IAAIn9B,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjCm9B,wBAAY7b,MAAMthB,CAAN,EAAS4Z,EAAT,EAAZ,IAA6B5Z,CAA7B;AACD;;AAED;AACA,cAAIgL,OAAO,EAAX;AACA,eAAK,IAAIhL,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjC,gBAAImkC,SAAS,IAAIthC,KAAJ,CAAUq6B,QAAV,CAAb;AACA,iBAAK,IAAIz0B,IAAI,CAAb,EAAgBA,IAAIy0B,QAApB,EAA8Bz0B,GAA9B,EAAmC;AACjC,kBAAIzI,KAAKyI,CAAT,EAAY;AACV07B,uBAAO17B,CAAP,IAAY,CAAZ;AACD,eAFD,MAEO;AACL07B,uBAAO17B,CAAP,IAAY8D,QAAZ;AACD;AACF;AACDvB,iBAAK7B,IAAL,CAAUg7B,MAAV;AACD;;AAED;AACA;AACA,cAAI5pB,OAAO,EAAX;AACA,cAAI6pB,WAAW,EAAf;;AAEA,cAAIC,aAAa,SAASA,UAAT,CAAoB9pB,IAApB,EAA0B;AACzC,iBAAK,IAAIva,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjC,kBAAImkC,SAAS,IAAIthC,KAAJ,CAAUq6B,QAAV,CAAb;AACA,mBAAK,IAAIz0B,IAAI,CAAb,EAAgBA,IAAIy0B,QAApB,EAA8Bz0B,GAA9B,EAAmC;AACjC07B,uBAAO17B,CAAP,IAAYlF,SAAZ;AACD;AACDgX,mBAAKpR,IAAL,CAAUg7B,MAAV;AACD;AACF,WARD;;AAUAE,qBAAW9pB,IAAX;AACA8pB,qBAAWD,QAAX;;AAEA;AACA,eAAK,IAAIpkC,IAAI,CAAb,EAAgBA,IAAIuhB,MAAMhZ,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,gBAAIw9B,cAAcL,YAAY5b,MAAMvhB,CAAN,EAAS+d,MAAT,GAAkBnE,EAAlB,EAAZ,CAAlB;AACA,gBAAI6jB,cAAcN,YAAY5b,MAAMvhB,CAAN,EAASge,MAAT,GAAkBpE,EAAlB,EAAZ,CAAlB;AACA,gBAAIkiB,SAASC,SAASxa,MAAMvhB,CAAN,CAAT,CAAb;;AAEA;AACA,gBAAIgL,KAAKwyB,WAAL,EAAkBC,WAAlB,IAAiC3B,MAArC,EAA6C;AAC3C9wB,mBAAKwyB,WAAL,EAAkBC,WAAlB,IAAiC3B,MAAjC;AACAvhB,mBAAKijB,WAAL,EAAkBC,WAAlB,IAAiCA,WAAjC;AACA2G,uBAAS5G,WAAT,EAAsBC,WAAtB,IAAqClc,MAAMvhB,CAAN,CAArC;AACD;AACF;;AAED;AACA,cAAI,CAACg8B,QAAL,EAAe;AACb,iBAAK,IAAIh8B,IAAI,CAAb,EAAgBA,IAAIuhB,MAAMhZ,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,kBAAIw9B,cAAcL,YAAY5b,MAAMvhB,CAAN,EAASge,MAAT,GAAkBpE,EAAlB,EAAZ,CAAlB;AACA,kBAAI6jB,cAAcN,YAAY5b,MAAMvhB,CAAN,EAAS+d,MAAT,GAAkBnE,EAAlB,EAAZ,CAAlB;AACA,kBAAIkiB,SAASC,SAASxa,MAAMvhB,CAAN,CAAT,CAAb;;AAEA;AACA,kBAAIgL,KAAKwyB,WAAL,EAAkBC,WAAlB,IAAiC3B,MAArC,EAA6C;AAC3C9wB,qBAAKwyB,WAAL,EAAkBC,WAAlB,IAAiC3B,MAAjC;AACAvhB,qBAAKijB,WAAL,EAAkBC,WAAlB,IAAiCA,WAAjC;AACA2G,yBAAS5G,WAAT,EAAsBC,WAAtB,IAAqClc,MAAMvhB,CAAN,CAArC;AACD;AACF;AACF;;AAED;AACA,eAAK,IAAI0I,IAAI,CAAb,EAAgBA,IAAIw0B,QAApB,EAA8Bx0B,GAA9B,EAAmC;AACjC,iBAAK,IAAI1I,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjC,mBAAK,IAAIyI,IAAI,CAAb,EAAgBA,IAAIy0B,QAApB,EAA8Bz0B,GAA9B,EAAmC;AACjC,oBAAIuC,KAAKhL,CAAL,EAAQ0I,CAAR,IAAasC,KAAKtC,CAAL,EAAQD,CAAR,CAAb,GAA0BuC,KAAKhL,CAAL,EAAQyI,CAAR,CAA9B,EAA0C;AACxCuC,uBAAKhL,CAAL,EAAQyI,CAAR,IAAauC,KAAKhL,CAAL,EAAQ0I,CAAR,IAAasC,KAAKtC,CAAL,EAAQD,CAAR,CAA1B;AACA8R,uBAAKva,CAAL,EAAQyI,CAAR,IAAa8R,KAAKva,CAAL,EAAQ0I,CAAR,CAAb;AACD;AACF;AACF;AACF;;AAED;AACA,cAAIo1B,cAAc,EAAlB;AACA,eAAK,IAAI99B,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjC89B,wBAAY30B,IAAZ,CAAiBmY,MAAMthB,CAAN,EAAS4Z,EAAT,EAAjB;AACD;;AAED,cAAImkB,MAAM;AACRjoB,sBAAU,SAASA,QAAT,CAAkBwuB,IAAlB,EAAwBtG,EAAxB,EAA4B;AACpC,kBAAIx7B,GAAGG,MAAH,CAAU2hC,IAAV,CAAJ,EAAqB;AACnB;AACA,oBAAIC,SAAS5lB,GAAGtC,MAAH,CAAUioB,IAAV,EAAgB,CAAhB,EAAmB1qB,EAAnB,EAAb;AACD,eAHD,MAGO;AACL;AACA,oBAAI2qB,SAASD,KAAK1qB,EAAL,EAAb;AACD;;AAED,kBAAIpX,GAAGG,MAAH,CAAUq7B,EAAV,CAAJ,EAAmB;AACjB;AACA,oBAAIC,OAAOtf,GAAGtC,MAAH,CAAU2hB,EAAV,EAAc,CAAd,EAAiBpkB,EAAjB,EAAX;AACD,eAHD,MAGO;AACL;AACA,oBAAIqkB,OAAOD,GAAGpkB,EAAH,EAAX;AACD;;AAED,qBAAO5O,KAAKmyB,YAAYoH,MAAZ,CAAL,EAA0BpH,YAAYc,IAAZ,CAA1B,CAAP;AACD,aAnBO;;AAqBRtB,kBAAM,SAASA,IAAT,CAAc2H,IAAd,EAAoBtG,EAApB,EAAwB;AAC5B,kBAAIE,qBAAqB,SAASA,kBAAT,CAA4BoG,IAA5B,EAAkCtG,EAAlC,EAAsCzjB,IAAtC,EAA4CujB,WAA5C,EAAyDsG,QAAzD,EAAmE;AAC1F,oBAAIE,SAAStG,EAAb,EAAiB;AACf,yBAAOrf,GAAGsB,cAAH,CAAkB6d,YAAYwG,IAAZ,CAAlB,CAAP;AACD;AACD,oBAAI/pB,KAAK+pB,IAAL,EAAWtG,EAAX,MAAmBz6B,SAAvB,EAAkC;AAChC,yBAAOA,SAAP;AACD;;AAED,oBAAIo5B,OAAO,CAAChe,GAAGsB,cAAH,CAAkB6d,YAAYwG,IAAZ,CAAlB,CAAD,CAAX;AACA,oBAAInB,OAAOmB,IAAX;AACA,uBAAOA,SAAStG,EAAhB,EAAoB;AAClBmF,yBAAOmB,IAAP;AACAA,yBAAO/pB,KAAK+pB,IAAL,EAAWtG,EAAX,CAAP;;AAEA,sBAAIlc,OAAOsiB,SAASjB,IAAT,EAAemB,IAAf,CAAX;AACA3H,uBAAKxzB,IAAL,CAAU2Y,IAAV;;AAEA6a,uBAAKxzB,IAAL,CAAUwV,GAAGsB,cAAH,CAAkB6d,YAAYwG,IAAZ,CAAlB,CAAV;AACD;AACD,uBAAO3H,IAAP;AACD,eApBD;;AAsBA,kBAAIn6B,GAAGG,MAAH,CAAU2hC,IAAV,CAAJ,EAAqB;AACnB;AACA,oBAAIC,SAAS5lB,GAAGtC,MAAH,CAAUioB,IAAV,EAAgB,CAAhB,EAAmB1qB,EAAnB,EAAb;AACD,eAHD,MAGO;AACL;AACA,oBAAI2qB,SAASD,KAAK1qB,EAAL,EAAb;AACD;;AAED,kBAAIpX,GAAGG,MAAH,CAAUq7B,EAAV,CAAJ,EAAmB;AACjB;AACA,oBAAIC,OAAOtf,GAAGtC,MAAH,CAAU2hB,EAAV,EAAc,CAAd,EAAiBpkB,EAAjB,EAAX;AACD,eAHD,MAGO;AACL;AACA,oBAAIqkB,OAAOD,GAAGpkB,EAAH,EAAX;AACD;;AAED,kBAAI4qB,UAAUtG,mBAAmBf,YAAYoH,MAAZ,CAAnB,EAAwCpH,YAAYc,IAAZ,CAAxC,EAA2D1jB,IAA3D,EAAiEujB,WAAjE,EAA8EsG,QAA9E,CAAd;;AAEA,qBAAOzlB,GAAGjb,UAAH,CAAc8gC,OAAd,CAAP;AACD;AA/DO,WAAV;;AAkEA,iBAAOzG,GAAP;AACD,SAxLU,CAwLT;;AAxLS,OAAb,CAPsD,CAiMnD;;AAEHz+B,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KAlrMG;AAmrMV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAI8f,SAAS,EAAb;;AAEA,OAAC9f,oBAAoB,EAApB,CAAD,EAA0BA,oBAAoB,EAApB,CAA1B,EAAmDA,oBAAoB,EAApB,CAAnD,EAA4EA,oBAAoB,EAApB,CAA5E,EAAqGA,oBAAoB,EAApB,CAArG,EAA8HA,oBAAoB,EAApB,CAA9H,EAAuJA,oBAAoB,EAApB,CAAvJ,EAAgLA,oBAAoB,EAApB,CAAhL,EAAyMA,oBAAoB,EAApB,CAAzM,EAAkOA,oBAAoB,EAApB,CAAlO,EAA2PA,oBAAoB,EAApB,CAA3P,EAAoR8J,OAApR,CAA4R,UAAUqc,KAAV,EAAiB;AAC3S/f,aAAKgB,MAAL,CAAY0Y,MAAZ,EAAoBqG,KAApB;AACD,OAFD;;AAIA3mB,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KAnsMG;AAosMV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAI8f,SAAS;;AAEX;AACA;AACA6kB,qBAAa,SAASA,WAAT,CAAqBzlB,OAArB,EAA8B;AACzC,cAAIG,OAAO,IAAX;;AAEAH,oBAAUA,WAAW,EAArB;;AAEA;AACA;AACA;AACA,cAAI0lB,UAAU,SAASA,OAAT,CAAiBC,SAAjB,EAA4BC,OAA5B,EAAqCC,cAArC,EAAqD;AACjE,gBAAIC,WAAWD,eAAeF,SAAf,CAAf;AACA,gBAAII,WAAWD,SAAS,CAAT,CAAf;AACA,gBAAIE,WAAWF,SAAS,CAAT,CAAf;AACA,gBAAIG,aAAaL,QAAQG,QAAR,CAAjB;AACA,gBAAIG,aAAaN,QAAQI,QAAR,CAAjB;;AAEA;AACA,gBAAIG,WAAWN,eAAexoB,MAAf,CAAsB,UAAUyF,IAAV,EAAgB;AACnD,kBAAI8iB,QAAQ9iB,KAAK,CAAL,CAAR,MAAqBmjB,UAArB,IAAmCL,QAAQ9iB,KAAK,CAAL,CAAR,MAAqBojB,UAA5D,EAAwE;AACtE,uBAAO,KAAP;AACD;AACD,kBAAIN,QAAQ9iB,KAAK,CAAL,CAAR,MAAqBojB,UAArB,IAAmCN,QAAQ9iB,KAAK,CAAL,CAAR,MAAqBmjB,UAA5D,EAAwE;AACtE,uBAAO,KAAP;AACD;AACD,qBAAO,IAAP;AACD,aARc,CAAf;;AAUA;AACA,iBAAK,IAAIjlC,IAAI,CAAb,EAAgBA,IAAImlC,SAAS58B,MAA7B,EAAqCvI,GAArC,EAA0C;AACxC,kBAAI8hB,OAAOqjB,SAASnlC,CAAT,CAAX;AACA,kBAAI8hB,KAAK,CAAL,MAAYojB,UAAhB,EAA4B;AAC1B;AACAC,yBAASnlC,CAAT,IAAc8hB,KAAK1a,KAAL,CAAW,CAAX,CAAd;AACA+9B,yBAASnlC,CAAT,EAAY,CAAZ,IAAiBilC,UAAjB;AACD,eAJD,MAIO,IAAInjB,KAAK,CAAL,MAAYojB,UAAhB,EAA4B;AACjC;AACAC,yBAASnlC,CAAT,IAAc8hB,KAAK1a,KAAL,CAAW,CAAX,CAAd;AACA+9B,yBAASnlC,CAAT,EAAY,CAAZ,IAAiBilC,UAAjB;AACD;AACF;;AAED;AACA,iBAAK,IAAIjlC,IAAI,CAAb,EAAgBA,IAAI4kC,QAAQr8B,MAA5B,EAAoCvI,GAApC,EAAyC;AACvC,kBAAI4kC,QAAQ5kC,CAAR,MAAeklC,UAAnB,EAA+B;AAC7BN,wBAAQ5kC,CAAR,IAAailC,UAAb;AACD;AACF;;AAED,mBAAOE,QAAP;AACD,WAxCD;;AA0CA;AACA,cAAIC,gBAAgB,SAASA,aAAT,CAAuBC,WAAvB,EAAoCR,cAApC,EAAoDnoB,IAApD,EAA0D4oB,SAA1D,EAAqE;AACvF;AACA,gBAAI5oB,QAAQ4oB,SAAZ,EAAuB;AACrB,qBAAOT,cAAP;AACD;;AAED;AACA,gBAAIF,YAAYxhC,KAAKC,KAAL,CAAWD,KAAK2E,MAAL,KAAgB+8B,eAAet8B,MAA1C,CAAhB;;AAEA;AACA,gBAAI48B,WAAWT,QAAQC,SAAR,EAAmBU,WAAnB,EAAgCR,cAAhC,CAAf;;AAEA,mBAAOO,cAAcC,WAAd,EAA2BF,QAA3B,EAAqCzoB,OAAO,CAA5C,EAA+C4oB,SAA/C,CAAP;AACD,WAbD;;AAeA,cAAI3mB,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;AACA,cAAI4C,QAAQ,KAAKA,KAAL,GAAawN,SAAb,CAAuB,UAAU/T,CAAV,EAAa;AAC9C,mBAAO,CAACA,EAAEsZ,MAAF,EAAR;AACD,WAFW,CAAZ;AAGA,cAAIhT,QAAQ,KAAKA,KAAL,EAAZ;AACA,cAAI4b,WAAW5b,MAAM/Y,MAArB;AACA,cAAIg9B,WAAWhkB,MAAMhZ,MAArB;AACA,cAAIi9B,UAAUriC,KAAKsiC,IAAL,CAAUtiC,KAAK6N,GAAL,CAAS7N,KAAK6D,GAAL,CAASk2B,QAAT,IAAqB/5B,KAAKuiC,GAAnC,EAAwC,CAAxC,CAAV,CAAd;AACA,cAAIC,WAAWxiC,KAAKC,KAAL,CAAW85B,WAAW/5B,KAAK8H,IAAL,CAAU,CAAV,CAAtB,CAAf;;AAEA,cAAIiyB,WAAW,CAAf,EAAkB;AAChBh3B,iBAAKQ,KAAL,CAAW,0DAAX;AACA,mBAAOnD,SAAP;AACD;;AAED;AACA;AACA;AACA,cAAI45B,cAAc,EAAlB;AACA,eAAK,IAAIn9B,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjCm9B,wBAAY7b,MAAMthB,CAAN,EAAS4Z,EAAT,EAAZ,IAA6B5Z,CAA7B;AACD;;AAED;AACA;AACA,cAAI4lC,cAAc,EAAlB;AACA,eAAK,IAAI5lC,IAAI,CAAb,EAAgBA,IAAIulC,QAApB,EAA8BvlC,GAA9B,EAAmC;AACjC,gBAAIgb,IAAIuG,MAAMvhB,CAAN,CAAR;AACA4lC,wBAAYz8B,IAAZ,CAAiB,CAACnJ,CAAD,EAAIm9B,YAAYniB,EAAE+C,MAAF,GAAWnE,EAAX,EAAZ,CAAJ,EAAkCujB,YAAYniB,EAAEgD,MAAF,GAAWpE,EAAX,EAAZ,CAAlC,CAAjB;AACD;;AAED;AACA,cAAIisB,aAAat5B,QAAjB;AACA,cAAIu5B,MAAJ;;AAEA;AACA,cAAIC,mBAAmB,EAAvB;AACA,eAAK,IAAI/lC,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjC+lC,6BAAiB58B,IAAjB,CAAsBnJ,CAAtB;AACD;;AAED;AACA,eAAK,IAAIgmC,OAAO,CAAhB,EAAmBA,QAAQR,OAA3B,EAAoCQ,MAApC,EAA4C;AAC1C;AACA,gBAAIX,cAAcU,iBAAiB3+B,KAAjB,CAAuB,CAAvB,CAAlB;;AAEA;AACA,gBAAI6+B,aAAab,cAAcC,WAAd,EAA2BO,WAA3B,EAAwC1I,QAAxC,EAAkDyI,QAAlD,CAAjB;;AAEA;AACA,gBAAIO,eAAeb,YAAYj+B,KAAZ,CAAkB,CAAlB,CAAnB;;AAEA;AACA,gBAAI++B,OAAOf,cAAcC,WAAd,EAA2BY,UAA3B,EAAuCN,QAAvC,EAAiD,CAAjD,CAAX;AACA,gBAAIS,OAAOhB,cAAcc,YAAd,EAA4BD,UAA5B,EAAwCN,QAAxC,EAAkD,CAAlD,CAAX;;AAEA;AACA,gBAAIQ,KAAK59B,MAAL,IAAe69B,KAAK79B,MAApB,IAA8B49B,KAAK59B,MAAL,GAAcs9B,UAAhD,EAA4D;AAC1DA,2BAAaM,KAAK59B,MAAlB;AACAu9B,uBAAS,CAACK,IAAD,EAAOd,WAAP,CAAT;AACD,aAHD,MAGO,IAAIe,KAAK79B,MAAL,IAAe49B,KAAK59B,MAApB,IAA8B69B,KAAK79B,MAAL,GAAcs9B,UAAhD,EAA4D;AACjEA,2BAAaO,KAAK79B,MAAlB;AACAu9B,uBAAS,CAACM,IAAD,EAAOF,YAAP,CAAT;AACD;AACF,WAlIwC,CAkIvC;;;AAGF;AACA,cAAIG,WAAWP,OAAO,CAAP,EAAU7mB,GAAV,CAAc,UAAUjE,CAAV,EAAa;AACxC,mBAAOuG,MAAMvG,EAAE,CAAF,CAAN,CAAP;AACD,WAFc,CAAf;AAGA,cAAIiqB,aAAa,EAAjB;AACA,cAAIC,aAAa,EAAjB;;AAEA;AACA,cAAIoB,uBAAuBR,OAAO,CAAP,EAAU,CAAV,CAA3B;AACA,eAAK,IAAI9lC,IAAI,CAAb,EAAgBA,IAAI8lC,OAAO,CAAP,EAAUv9B,MAA9B,EAAsCvI,GAAtC,EAA2C;AACzC,gBAAIumC,cAAcT,OAAO,CAAP,EAAU9lC,CAAV,CAAlB;AACA,gBAAIumC,gBAAgBD,oBAApB,EAA0C;AACxCrB,yBAAW97B,IAAX,CAAgBmY,MAAMthB,CAAN,CAAhB;AACD,aAFD,MAEO;AACLklC,yBAAW/7B,IAAX,CAAgBmY,MAAMthB,CAAN,CAAhB;AACD;AACF;;AAED,cAAIkpB,MAAM;AACRsd,iBAAKrnB,KAAKU,KAAL,CAAWlB,EAAX,EAAe0nB,QAAf,CADG;AAERpB,wBAAY9lB,KAAKU,KAAL,CAAWolB,UAAX,CAFJ;AAGRC,wBAAY/lB,KAAKU,KAAL,CAAWqlB,UAAX;AAHJ,WAAV;;AAMA,iBAAOhc,GAAP;AACD;AAlKU,OAAb,CAPsD,CA0KnD;;;AAGH5pB,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KAp3MG;AAq3MV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA;AACA,UAAI8f,SAAS;;AAEX;AACA;AACA6mB,iBAAS,SAASA,OAAT,CAAiB1K,QAAjB,EAA2B;AAClC,cAAIpd,KAAK,KAAKA,EAAL,EAAT;;AAEAod,qBAAWv5B,GAAGC,EAAH,CAAMs5B,QAAN,IAAkBA,QAAlB,GAA6B,YAAY;AAClD,mBAAO,CAAP;AACD,WAFD,CAHkC,CAK/B;;AAEH,mBAAS2K,OAAT,CAAiB39B,GAAjB,EAAsB;AACpB,iBAAK,IAAI/I,IAAI,CAAb,EAAgBA,IAAI2mC,OAAOp+B,MAA3B,EAAmCvI,GAAnC,EAAwC;AACtC,kBAAImf,OAAOwnB,OAAO3mC,CAAP,CAAX;;AAEA,kBAAImf,KAAKynB,OAAL,CAAa79B,GAAb,CAAJ,EAAuB;AACrB,uBAAO;AACLoW,wBAAMA,IADD;AAEL7N,yBAAOtR;AAFF,iBAAP;AAID;AACF;AACF;;AAED,cAAI+L,IAAI4S,GAAGjb,UAAH,CAAcib,EAAd,EAAkB,EAAlB,CAAR;AACA,cAAIgoB,SAAS,EAAb;AACA,cAAIrlB,QAAQ,KAAKA,KAAL,EAAZ;;AAEA,eAAK,IAAIthB,IAAI,CAAb,EAAgBA,IAAIshB,MAAM/Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC2mC,mBAAOx9B,IAAP,CAAYmY,MAAMthB,CAAN,EAAS0D,UAAT,EAAZ;AACD;;AAED,cAAI6d,QAAQ,KAAKA,KAAL,EAAZ;AACA,cAAIyd,IAAIzd,MAAM0F,OAAN,GAAgBuN,IAAhB,CAAqB,UAAU5sB,CAAV,EAAaC,CAAb,EAAgB;AAC3C,gBAAIg/B,UAAU9K,SAASn0B,CAAT,CAAd;AACA,gBAAIk/B,UAAU/K,SAASl0B,CAAT,CAAd;;AAEA,mBAAOg/B,UAAUC,OAAjB;AACD,WALO,CAAR;;AAOA,eAAK,IAAI9mC,IAAI,CAAb,EAAgBA,IAAIg/B,EAAEz2B,MAAtB,EAA8BvI,GAA9B,EAAmC;AACjC,gBAAI8hB,OAAOkd,EAAEh/B,CAAF,CAAX;AACA,gBAAIwjC,IAAI1hB,KAAK/D,MAAL,GAAc,CAAd,CAAR;AACA,gBAAI6gB,IAAI9c,KAAK9D,MAAL,GAAc,CAAd,CAAR;AACA,gBAAI+oB,OAAOL,QAAQlD,CAAR,CAAX;AACA,gBAAIwD,OAAON,QAAQ9H,CAAR,CAAX;;AAEA,gBAAImI,KAAKz1B,KAAL,KAAe01B,KAAK11B,KAAxB,EAA+B;AAC7BvF,kBAAIA,EAAEwT,GAAF,CAAMuC,IAAN,CAAJ;;AAEA;AACA6kB,qBAAOI,KAAKz1B,KAAZ,IAAqBy1B,KAAK5nB,IAAL,CAAUI,GAAV,CAAcynB,KAAK7nB,IAAnB,CAArB;AACAwnB,qBAAO19B,MAAP,CAAc+9B,KAAK11B,KAAnB,EAA0B,CAA1B;AACD;AACF;;AAED,iBAAOgQ,MAAM/B,GAAN,CAAUxT,CAAV,CAAP;AACD;AAzDU,OAAb;;AA4DAzM,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KA57MG;AA67MV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAI8f,SAAS;;AAEXqnB,kBAAU,SAASA,QAAT,CAAkBjoB,OAAlB,EAA2B;AACnCA,oBAAUA,WAAW,EAArB;;AAEA,cAAIkoB,kBAAkB,SAASA,eAAT,CAAyBC,MAAzB,EAAiC;AACrD,gBAAI5+B,SAAS4+B,OAAO5+B,MAApB;;AAEA;AACA,gBAAI6+B,QAAQ,CAAZ;AACA,iBAAK,IAAIpnC,IAAI,CAAb,EAAgBA,IAAIuI,MAApB,EAA4BvI,GAA5B,EAAiC;AAC/BonC,uBAASD,OAAOnnC,CAAP,CAAT;AACD;;AAED;AACA,iBAAK,IAAIA,IAAI,CAAb,EAAgBA,IAAIuI,MAApB,EAA4BvI,GAA5B,EAAiC;AAC/BmnC,qBAAOnnC,CAAP,IAAYmnC,OAAOnnC,CAAP,IAAYonC,KAAxB;AACD;AACF,WAbD;;AAeA;AACA,cAAIpoB,WAAW,IAAX,IAAmBA,QAAQqoB,aAAR,IAAyB,IAAhD,EAAsD;AACpD,gBAAIA,gBAAgBroB,QAAQqoB,aAA5B;AACD,WAFD,MAEO;AACL,gBAAIA,gBAAgB,GAApB,CADK,CACoB;AAC1B;;AAED;AACA,cAAIroB,WAAW,IAAX,IAAmBA,QAAQsoB,SAAR,IAAqB,IAA5C,EAAkD;AAChD,gBAAIC,UAAUvoB,QAAQsoB,SAAtB;AACD,WAFD,MAEO;AACL,gBAAIC,UAAU,QAAd,CADK,CACmB;AACzB;;AAED;AACA,cAAIvoB,WAAW,IAAX,IAAmBA,QAAQwoB,UAAR,IAAsB,IAA7C,EAAmD;AACjD,gBAAIhC,UAAUxmB,QAAQwoB,UAAtB;AACD,WAFD,MAEO;AACL,gBAAIhC,UAAU,GAAd,CADK,CACc;AACpB;;AAED;AACA,cAAIxmB,WAAW,IAAX,IAAmBA,QAAQ8c,MAAR,IAAkB,IAArC,IAA6Ct5B,GAAGC,EAAH,CAAMuc,QAAQ8c,MAAd,CAAjD,EAAwE;AACtE,gBAAIC,WAAW/c,QAAQ8c,MAAvB;AACD,WAFD,MAEO;AACL;AACA,gBAAIC,WAAW,SAASA,QAAT,CAAkB/gB,CAAlB,EAAqB;AAClC,qBAAO,CAAP;AACD,aAFD;AAGD;;AAED,cAAI2D,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;AACA,cAAI4C,QAAQ,KAAKA,KAAL,GAAawN,SAAb,CAAuB,UAAU/T,CAAV,EAAa;AAC9C,mBAAO,CAACA,EAAEsZ,MAAF,EAAR;AACD,WAFW,CAAZ;AAGA,cAAIhT,QAAQ,KAAKA,KAAL,EAAZ;AACA,cAAI4b,WAAW5b,MAAM/Y,MAArB;AACA,cAAIg9B,WAAWhkB,MAAMhZ,MAArB;;AAEA;AACA;AACA;AACA,cAAI40B,cAAc,EAAlB;AACA,eAAK,IAAIn9B,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjCm9B,wBAAY7b,MAAMthB,CAAN,EAAS4Z,EAAT,EAAZ,IAA6B5Z,CAA7B;AACD;;AAED;AACA;AACA;AACA,cAAIynC,SAAS,EAAb;AACA,cAAIC,YAAY,EAAhB;AACA,cAAIC,iBAAiB,CAAC,IAAIN,aAAL,IAAsBnK,QAA3C;;AAEA;AACA,eAAK,IAAIl9B,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjC,gBAAImkC,SAAS,EAAb;AACA,iBAAK,IAAI17B,IAAI,CAAb,EAAgBA,IAAIy0B,QAApB,EAA8Bz0B,GAA9B,EAAmC;AACjC07B,qBAAOh7B,IAAP,CAAY,GAAZ;AACD;AACDs+B,mBAAOt+B,IAAP,CAAYg7B,MAAZ;AACAuD,sBAAUv+B,IAAV,CAAe,GAAf;AACD;;AAED;AACA,eAAK,IAAInJ,IAAI,CAAb,EAAgBA,IAAIulC,QAApB,EAA8BvlC,GAA9B,EAAmC;AACjC,gBAAI8hB,OAAOP,MAAMvhB,CAAN,CAAX;AACA,gBAAIwB,IAAI27B,YAAYrb,KAAK/D,MAAL,GAAcnE,EAAd,EAAZ,CAAR;AACA,gBAAIrO,IAAI4xB,YAAYrb,KAAK9D,MAAL,GAAcpE,EAAd,EAAZ,CAAR;AACA,gBAAIpN,IAAIuvB,SAASja,IAAT,CAAR;;AAEA;AACA2lB,mBAAOl8B,CAAP,EAAU/J,CAAV,KAAgBgL,CAAhB;;AAEA;AACAk7B,sBAAUlmC,CAAV,KAAgBgL,CAAhB;AACD;;AAED;AACA;AACA,cAAIjL,IAAI,MAAM27B,QAAN,GAAiByK,cAAzB,CAlGmC,CAkGM;AACzC;AACA,eAAK,IAAIl/B,IAAI,CAAb,EAAgBA,IAAIy0B,QAApB,EAA8Bz0B,GAA9B,EAAmC;AACjC,gBAAIi/B,UAAUj/B,CAAV,MAAiB,CAArB,EAAwB;AACtB;AACA,mBAAK,IAAIzI,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjCynC,uBAAOznC,CAAP,EAAUyI,CAAV,IAAelH,CAAf;AACD;AACF,aALD,MAKO;AACL;AACA,mBAAK,IAAIvB,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjCynC,uBAAOznC,CAAP,EAAUyI,CAAV,IAAeg/B,OAAOznC,CAAP,EAAUyI,CAAV,IAAei/B,UAAUj/B,CAAV,CAAf,GAA8Bk/B,cAA7C;AACD;AACF;AACF;;AAED;AACA,cAAIC,cAAc,EAAlB;AACA,cAAIC,aAAa,EAAjB;AACA,cAAIzM,QAAJ;;AAEA;AACA;AACA,eAAK,IAAIp7B,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjC4nC,wBAAYz+B,IAAZ,CAAiB,GAAjB;AACA0+B,uBAAW1+B,IAAX,CAAgB,GAAhB;AACD;;AAED,eAAK,IAAI68B,OAAO,CAAhB,EAAmBA,OAAOR,OAA1B,EAAmCQ,MAAnC,EAA2C;AACzC;AACA,gBAAItI,OAAOmK,WAAWzgC,KAAX,CAAiB,CAAjB,CAAX;;AAEA;AACA,iBAAK,IAAIpH,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjC,mBAAK,IAAIyI,IAAI,CAAb,EAAgBA,IAAIy0B,QAApB,EAA8Bz0B,GAA9B,EAAmC;AACjCi1B,qBAAK19B,CAAL,KAAWynC,OAAOznC,CAAP,EAAUyI,CAAV,IAAem/B,YAAYn/B,CAAZ,CAA1B;AACD;AACF;;AAEDy+B,4BAAgBxJ,IAAhB;AACAtC,uBAAWwM,WAAX;AACAA,0BAAclK,IAAd;;AAEA,gBAAIoK,OAAO,CAAX;AACA;AACA,iBAAK,IAAI9nC,IAAI,CAAb,EAAgBA,IAAIk9B,QAApB,EAA8Bl9B,GAA9B,EAAmC;AACjC8nC,sBAAQ3kC,KAAK6N,GAAL,CAASoqB,SAASp7B,CAAT,IAAc4nC,YAAY5nC,CAAZ,CAAvB,EAAuC,CAAvC,CAAR;AACD;;AAED;AACA,gBAAI8nC,OAAOP,OAAX,EAAoB;AAClB;AACD;AACF;;AAED;AACA,cAAIxJ,MAAM;AACRgK,kBAAM,SAASA,IAAT,CAAc3lB,IAAd,EAAoB;AACxB,kBAAI5f,GAAGG,MAAH,CAAUyf,IAAV,CAAJ,EAAqB;AACnB;AACA,oBAAI4lB,SAASrpB,GAAGtC,MAAH,CAAU+F,IAAV,EAAgB,CAAhB,EAAmBxI,EAAnB,EAAb;AACD,eAHD,MAGO;AACL;AACA,oBAAIouB,SAAS5lB,KAAKxI,EAAL,EAAb;AACD;AACD,qBAAOguB,YAAYzK,YAAY6K,MAAZ,CAAZ,CAAP;AACD;AAVO,WAAV;;AAaA,iBAAOjK,GAAP;AACD,SA1KU,CA0KT;;AA1KS,OAAb,CAPsD,CAmLnD;;AAEHz+B,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KArnNG;AAsnNV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIN,SAASM,oBAAoB,CAApB,CAAb;;AAEA,UAAI8f,SAAS;AACXyX,iBAAS73B,OAAO63B,OAAP,EADE;AAEXnL,mBAAW1sB,OAAO0sB,SAAP,EAFA;AAGXgI,kBAAU10B,OAAO00B,QAAP,EAHC;AAIX+T,oBAAYzoC,OAAOyoC,UAAP,EAJD;AAKXC,eAAO1oC,OAAO0oC,KAAP,EALI;AAMXC,wBAAgB3oC,OAAO2oC,cAAP,EANL;AAOX/Q,cAAM53B,OAAO43B,IAAP;AAPK,OAAb;;AAUA93B,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KA1oNG;AA2oNV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIye,MAAMze,oBAAoB,CAApB,CAAV;;AAEA,UAAI8f,SAAS;AACX9B,iBAAS,SAASA,OAAT,CAAiBsqB,QAAjB,EAA2B;AAClCA,qBAAW,CAACA,YAAY,EAAb,EAAiBhkC,KAAjB,CAAuB,MAAvB,KAAkC,EAA7C;AACA,cAAI4X,OAAO,IAAX;AACA,cAAIqsB,UAAU,EAAd;AACA,cAAIC,aAAa,IAAI/pB,GAAJ,CAAQ6pB,QAAR,CAAjB;;AAEA;;AAEA,cAAIze,QAAQ,SAASA,KAAT,CAAelhB,CAAf,EAAkB;AAC5B,gBAAIM,MAAMiT,KAAKvT,CAAL,CAAV;AACA,gBAAIuiB,KAAKjiB,IAAIpF,QAAb;AACA,gBAAI4kC,aAAavd,GAAGlN,OAApB;AACA,gBAAI0qB,aAAa,KAAjB;;AAEA;AACAF,uBAAW1+B,OAAX,CAAmB,UAAUqX,GAAV,EAAe;AAChC,kBAAIwnB,cAAcF,WAAWjpB,GAAX,CAAe2B,GAAf,CAAlB;;AAEA,kBAAI,CAACwnB,WAAL,EAAkB;AAChBD,6BAAa,IAAb;AACD;AACF,aAND;;AAQA;AACA,gBAAI,CAACA,UAAL,EAAiB;AACfD,yBAAW3+B,OAAX,CAAmB,UAAU8+B,MAAV,EAAkB;AACnC,oBAAIC,aAAaL,WAAWhpB,GAAX,CAAeopB,MAAf,CAAjB;;AAEA,oBAAI,CAACC,UAAL,EAAiB;AACfH,+BAAa,IAAb;AACD;AACF,eAND;AAOD;;AAED,gBAAIA,UAAJ,EAAgB;AACdxd,iBAAGlN,OAAH,GAAa,IAAIS,GAAJ,CAAQ+pB,UAAR,CAAb;;AAEAD,sBAAQl/B,IAAR,CAAaJ,GAAb;AACD;AACF,WA/BD;;AAiCA,eAAK,IAAIN,IAAI,CAAb,EAAgBA,IAAIuT,KAAKzT,MAAzB,EAAiCE,GAAjC,EAAsC;AACpCkhB,kBAAMlhB,CAAN;AACD;;AAED;AACA,cAAI4/B,QAAQ9/B,MAAR,GAAiB,CAArB,EAAwB;AACtB,iBAAKsX,KAAL,CAAWwoB,OAAX,EAAoBjlB,WAApB,GAAkCE,IAAlC,CAAuC,OAAvC;AACD;;AAED,iBAAOtH,IAAP;AACD,SApDU;;AAsDX4sB,kBAAU,SAASA,QAAT,CAAkB9qB,OAAlB,EAA2B;AACnC,iBAAO,KAAK+qB,WAAL,CAAiB/qB,OAAjB,EAA0B,IAA1B,CAAP;AACD,SAxDU;;AA0DXgrB,kBAAU,SAASA,QAAT,CAAkBC,SAAlB,EAA6B;AACrC,cAAIhgC,MAAM,KAAK,CAAL,CAAV;AACA,iBAAOA,OAAO,IAAP,IAAeA,IAAIpF,QAAJ,CAAama,OAAb,CAAqBwB,GAArB,CAAyBypB,SAAzB,CAAtB;AACD,SA7DU;;AA+DXF,qBAAa,SAASA,WAAT,CAAqBG,UAArB,EAAiCC,MAAjC,EAAyC;AACpD,cAAInrB,UAAUkrB,WAAW5kC,KAAX,CAAiB,MAAjB,KAA4B,EAA1C;AACA,cAAI4X,OAAO,IAAX;AACA,cAAIqsB,UAAU,EAAd,CAHoD,CAGlC;;AAElB,eAAK,IAAIroC,IAAI,CAAR,EAAWkpC,KAAKltB,KAAKzT,MAA1B,EAAkCvI,IAAIkpC,EAAtC,EAA0ClpC,GAA1C,EAA+C;AAC7C,gBAAI2hB,OAAO3F,KAAKhc,CAAL,CAAX;AACA,gBAAImpC,cAAc,KAAlB;;AAEA,iBAAK,IAAI1gC,IAAI,CAAb,EAAgBA,IAAIqV,QAAQvV,MAA5B,EAAoCE,GAApC,EAAyC;AACvC,kBAAIwY,MAAMnD,QAAQrV,CAAR,CAAV;AACA,kBAAI2gC,cAAcznB,KAAKhe,QAAL,CAAcma,OAAhC;AACA,kBAAIgrB,WAAWM,YAAY9pB,GAAZ,CAAgB2B,GAAhB,CAAf;AACA,kBAAIooB,YAAYJ,UAAUA,WAAW1lC,SAAX,IAAwB,CAACulC,QAAnD;;AAEA,kBAAIO,SAAJ,EAAe;AACbD,4BAAY7pB,GAAZ,CAAgB0B,GAAhB;;AAEA,oBAAI,CAAC6nB,QAAD,IAAa,CAACK,WAAlB,EAA+B;AAC7Bd,0BAAQl/B,IAAR,CAAawY,IAAb;AACAwnB,gCAAc,IAAd;AACD;AACF,eAPD,MAOO;AACL;AACAC,4BAAYE,MAAZ,CAAmBroB,GAAnB;;AAEA,oBAAI6nB,YAAY,CAACK,WAAjB,EAA8B;AAC5Bd,0BAAQl/B,IAAR,CAAawY,IAAb;AACAwnB,gCAAc,IAAd;AACD;AACF;AACF,aA1B4C,CA0B3C;AACH,WAhCmD,CAgClD;;AAEF;AACA,cAAId,QAAQ9/B,MAAR,GAAiB,CAArB,EAAwB;AACtB,iBAAKsX,KAAL,CAAWwoB,OAAX,EAAoBjlB,WAApB,GAAkCE,IAAlC,CAAuC,OAAvC;AACD;;AAED,iBAAOtH,IAAP;AACD,SAvGU;;AAyGXutB,qBAAa,SAASA,WAAT,CAAqBzrB,OAArB,EAA8B;AACzC,iBAAO,KAAK+qB,WAAL,CAAiB/qB,OAAjB,EAA0B,KAA1B,CAAP;AACD,SA3GU;;AA6GX0rB,oBAAY,SAASA,UAAT,CAAoB1rB,OAApB,EAA6BmV,QAA7B,EAAuC;AACjD,cAAIjX,OAAO,IAAX;;AAEA,cAAIiX,YAAY,IAAhB,EAAsB;AACpBA,uBAAW,GAAX;AACD,WAFD,MAEO,IAAIA,aAAa,CAAjB,EAAoB;AACzB,mBAAOjX,IAAP,CADyB,CACZ;AACd;;AAEDA,eAAK4sB,QAAL,CAAc9qB,OAAd;AACAjD,qBAAW,YAAY;AACrBmB,iBAAKutB,WAAL,CAAiBzrB,OAAjB;AACD,WAFD,EAEGmV,QAFH;;AAIA,iBAAOjX,IAAP;AACD;AA5HU,OAAb;;AA+HA1c,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KApxNG;AAqxNV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIgc,WAAWhc,oBAAoB,CAApB,CAAf;;AAEA,UAAI8f,SAAS;AACX6pB,gBAAQ,SAASA,MAAT,CAAgB1tB,QAAhB,EAA0B;AAChC,cAAI2tB,SAAS,IAAI5tB,QAAJ,CAAaC,QAAb,CAAb;;AAEA,iBAAO,KAAK4tB,KAAL,CAAW,UAAU5gC,GAAV,EAAe;AAC/B,mBAAO2gC,OAAO3V,OAAP,CAAehrB,GAAf,CAAP;AACD,WAFM,CAAP;AAGD,SAPU;;AASXvG,YAAI,SAASA,EAAT,CAAYuZ,QAAZ,EAAsB;AACxB,cAAI2tB,SAAS,IAAI5tB,QAAJ,CAAaC,QAAb,CAAb;;AAEA,iBAAO,KAAK4Q,IAAL,CAAU,UAAU5jB,GAAV,EAAe;AAC9B,mBAAO2gC,OAAO3V,OAAP,CAAehrB,GAAf,CAAP;AACD,WAFM,CAAP;AAGD,SAfU;;AAiBX4jB,cAAM,SAASA,IAAT,CAAclqB,EAAd,EAAkB6kB,OAAlB,EAA2B;AAC/B,eAAK,IAAItnB,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAIkpB,MAAM,CAAC5B,OAAD,GAAW7kB,GAAG,KAAKzC,CAAL,CAAH,EAAYA,CAAZ,EAAe,IAAf,CAAX,GAAkCyC,GAAGoE,KAAH,CAASygB,OAAT,EAAkB,CAAC,KAAKtnB,CAAL,CAAD,EAAUA,CAAV,EAAa,IAAb,CAAlB,CAA5C;;AAEA,gBAAIkpB,GAAJ,EAAS;AACP,qBAAO,IAAP;AACD;AACF;;AAED,iBAAO,KAAP;AACD,SA3BU;;AA6BXygB,eAAO,SAASA,KAAT,CAAelnC,EAAf,EAAmB6kB,OAAnB,EAA4B;AACjC,eAAK,IAAItnB,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAIkpB,MAAM,CAAC5B,OAAD,GAAW7kB,GAAG,KAAKzC,CAAL,CAAH,EAAYA,CAAZ,EAAe,IAAf,CAAX,GAAkCyC,GAAGoE,KAAH,CAASygB,OAAT,EAAkB,CAAC,KAAKtnB,CAAL,CAAD,EAAUA,CAAV,EAAa,IAAb,CAAlB,CAA5C;;AAEA,gBAAI,CAACkpB,GAAL,EAAU;AACR,qBAAO,KAAP;AACD;AACF;;AAED,iBAAO,IAAP;AACD,SAvCU;;AAyCXxG,cAAM,SAASA,IAAT,CAAchf,UAAd,EAA0B;AAC9BA,uBAAa,KAAKib,EAAL,GAAUjb,UAAV,CAAqBA,UAArB,CAAb;;AAEA;AACA,cAAI,KAAK6E,MAAL,KAAgB7E,WAAW6E,MAA/B,EAAuC;AACrC,mBAAO,KAAP;AACD;;AAED,iBAAO,KAAKohC,KAAL,CAAW,UAAU5gC,GAAV,EAAe;AAC/B,mBAAOrF,WAAWmb,gBAAX,CAA4B9V,IAAI6Q,EAAJ,EAA5B,CAAP;AACD,WAFM,CAAP;AAGD,SApDU;;AAsDXgtB,iBAAS,SAASA,OAAT,CAAiBljC,UAAjB,EAA6B;AACpCA,uBAAa,KAAKib,EAAL,GAAUjb,UAAV,CAAqBA,UAArB,CAAb;;AAEA,iBAAO,KAAKipB,IAAL,CAAU,UAAU5jB,GAAV,EAAe;AAC9B,mBAAOrF,WAAWmb,gBAAX,CAA4B9V,IAAI6Q,EAAJ,EAA5B,CAAP;AACD,WAFM,CAAP;AAGD,SA5DU;;AA8DXgwB,yBAAiB,SAASA,eAAT,CAAyBlmC,UAAzB,EAAqC;AACpDA,uBAAa,KAAKib,EAAL,GAAUjb,UAAV,CAAqBA,UAArB,CAAb;;AAEA,cAAImmC,QAAQ,KAAK7F,YAAL,EAAZ;;AAEA,iBAAOtgC,WAAWimC,KAAX,CAAiB,UAAU5gC,GAAV,EAAe;AACrC,mBAAO8gC,MAAMhrB,gBAAN,CAAuB9V,IAAI6Q,EAAJ,EAAvB,CAAP;AACD,WAFM,CAAP;AAGD,SAtEU;;AAwEXkwB,kBAAU,SAASA,QAAT,CAAkBpmC,UAAlB,EAA8B;AACtCA,uBAAa,KAAKib,EAAL,GAAUjb,UAAV,CAAqBA,UAArB,CAAb;;AAEA,cAAIsY,OAAO,IAAX;;AAEA,iBAAOtY,WAAWimC,KAAX,CAAiB,UAAU5gC,GAAV,EAAe;AACrC,mBAAOiT,KAAK6C,gBAAL,CAAsB9V,IAAI6Q,EAAJ,EAAtB,CAAP;AACD,WAFM,CAAP;AAGD;AAhFU,OAAb;;AAmFAgG,aAAOmqB,gBAAP,GAA0BnqB,OAAOgqB,eAAjC;AACAhqB,aAAON,GAAP,GAAaM,OAAOkqB,QAApB;;AAEAxqC,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KAt3NG;AAu3NV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIye,MAAMze,oBAAoB,CAApB,CAAV;;AAEA,UAAI8f,SAAS;AACX1B,gBAAQ,SAASA,MAAT,CAAgBnC,QAAhB,EAA0B;AAChC,cAAIiuB,UAAU,EAAd;;AAEA;AACA,cAAI,KAAKzhC,MAAL,KAAgB,CAApB,EAAuB;AACrB,gBAAI2V,SAAS,KAAK,CAAL,EAAQva,QAAR,CAAiBua,MAA9B;;AAEA,gBAAIA,MAAJ,EAAY;AACV,qBAAOA,MAAP;AACD;AACF;;AAED,eAAK,IAAIle,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAM,KAAK/I,CAAL,CAAV;AACA,gBAAIiqC,UAAUlhC,IAAIpF,QAAJ,CAAaua,MAA3B;;AAEA,gBAAI+rB,OAAJ,EAAa;AACXD,sBAAQ7gC,IAAR,CAAa8gC,OAAb;AACD;AACF;;AAED,iBAAO,KAAKpqB,KAAL,CAAWmqB,OAAX,EAAoB,EAAEvqB,QAAQ,IAAV,EAApB,EAAsCpD,MAAtC,CAA6CN,QAA7C,CAAP;AACD,SAvBU;;AAyBXiuB,iBAAS,SAASA,OAAT,CAAiBjuB,QAAjB,EAA2B;AAClC,cAAIiuB,UAAU,EAAd;;AAEA,cAAI7qB,OAAO,KAAKjB,MAAL,EAAX;AACA,iBAAOiB,KAAK+qB,QAAL,EAAP,EAAwB;AACtB,iBAAK,IAAIlqC,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,kBAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;AACAgqC,sBAAQ7gC,IAAR,CAAaJ,GAAb;AACD;;AAEDoW,mBAAOA,KAAKjB,MAAL,EAAP;AACD;;AAED,iBAAO,KAAK2B,KAAL,CAAWmqB,OAAX,EAAoB,EAAEvqB,QAAQ,IAAV,EAApB,EAAsCpD,MAAtC,CAA6CN,QAA7C,CAAP;AACD,SAvCU;;AAyCXouB,yBAAiB,SAASA,eAAT,CAAyBpuB,QAAzB,EAAmC;AAClD,cAAIquB,YAAY,KAAK,CAArB;;AAEA,eAAK,IAAIpqC,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAM,KAAK/I,CAAL,CAAV;AACA,gBAAIgqC,UAAUjhC,IAAIihC,OAAJ,EAAd;;AAEAI,wBAAYA,aAAaJ,OAAzB;;AAEAI,wBAAYA,UAAU3J,SAAV,CAAoBuJ,OAApB,CAAZ,CANoC,CAMM;AAC3C;;AAED,iBAAOI,UAAU/tB,MAAV,CAAiBN,QAAjB,CAAP;AACD,SAtDU;;AAwDXsuB,iBAAS,SAASA,OAAT,CAAiBtuB,QAAjB,EAA2B;AAClC,iBAAO,KAAKgT,SAAL,CAAe,UAAUhmB,GAAV,EAAe;AACnC,mBAAOA,IAAIsrB,QAAJ,EAAP;AACD,WAFM,EAEJhY,MAFI,CAEGN,QAFH,CAAP;AAGD,SA5DU;;AA8DXuuB,oBAAY,SAASA,UAAT,CAAoBvuB,QAApB,EAA8B;AACxC,iBAAO,KAAKgT,SAAL,CAAe,UAAUhmB,GAAV,EAAe;AACnC,mBAAOA,IAAIqrB,OAAJ,EAAP;AACD,WAFM,EAEJ/X,MAFI,CAEGN,QAFH,CAAP;AAGD,SAlEU;;AAoEX4G,kBAAU,SAASA,QAAT,CAAkB5G,QAAlB,EAA4B;AACpC,cAAI4G,WAAW,EAAf;;AAEA,eAAK,IAAI3iB,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAM,KAAK/I,CAAL,CAAV;AACA2iB,uBAAWA,SAASlB,MAAT,CAAgB1Y,IAAIpF,QAAJ,CAAagf,QAA7B,CAAX;AACD;;AAED,iBAAO,KAAK9C,KAAL,CAAW8C,QAAX,EAAqB,EAAElD,QAAQ,IAAV,EAArB,EAAuCpD,MAAvC,CAA8CN,QAA9C,CAAP;AACD,SA7EU;;AA+EXwuB,kBAAU,SAASA,QAAT,CAAkBxuB,QAAlB,EAA4B;AACpC,iBAAO,KAAKmC,MAAL,GAAcyE,QAAd,GAAyB6d,GAAzB,CAA6B,IAA7B,EAAmCnkB,MAAnC,CAA0CN,QAA1C,CAAP;AACD,SAjFU;;AAmFX4I,kBAAU,SAASA,QAAT,GAAoB;AAC5B,cAAI5b,MAAM,KAAK,CAAL,CAAV;;AAEA,cAAIA,GAAJ,EAAS;AACP,mBAAOA,IAAIyY,MAAJ,MAAgBzY,IAAIpF,QAAJ,CAAagf,QAAb,CAAsBpa,MAAtB,KAAiC,CAAxD;AACD;AACF,SAzFU;;AA2FX4rB,qBAAa,SAASA,WAAT,GAAuB;AAClC,cAAIprB,MAAM,KAAK,CAAL,CAAV;;AAEA,cAAIA,GAAJ,EAAS;AACP,mBAAOA,IAAIyY,MAAJ,MAAgBzY,IAAIpF,QAAJ,CAAagf,QAAb,CAAsBpa,MAAtB,KAAiC,CAAxD;AACD;AACF,SAjGU;;AAmGX6rB,iBAAS,SAASA,OAAT,GAAmB;AAC1B,cAAIrrB,MAAM,KAAK,CAAL,CAAV;;AAEA,cAAIA,GAAJ,EAAS;AACP,mBAAOA,IAAIyY,MAAJ,MAAgBzY,IAAIpF,QAAJ,CAAaua,MAAb,IAAuB,IAA9C;AACD;AACF,SAzGU;;AA2GXmW,kBAAU,SAASA,QAAT,GAAoB;AAC5B,cAAItrB,MAAM,KAAK,CAAL,CAAV;;AAEA,cAAIA,GAAJ,EAAS;AACP,mBAAOA,IAAIyY,MAAJ,MAAgBzY,IAAIpF,QAAJ,CAAaua,MAAb,IAAuB,IAA9C;AACD;AACF,SAjHU;;AAmHXyH,qBAAa,SAASA,WAAT,CAAqB5J,QAArB,EAA+B;AAC1C,cAAIgD,WAAW,EAAf;;AAEA,mBAASQ,GAAT,CAAaJ,IAAb,EAAmB;AACjB,iBAAK,IAAInf,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,kBAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;;AAEA+e,uBAAS5V,IAAT,CAAcJ,GAAd;;AAEA,kBAAIA,IAAI4Z,QAAJ,GAAeunB,QAAf,EAAJ,EAA+B;AAC7B3qB,oBAAIxW,IAAI4Z,QAAJ,EAAJ;AACD;AACF;AACF;;AAEDpD,cAAI,KAAKoD,QAAL,EAAJ;;AAEA,iBAAO,KAAK9C,KAAL,CAAWd,QAAX,EAAqB,EAAEU,QAAQ,IAAV,EAArB,EAAuCpD,MAAvC,CAA8CN,QAA9C,CAAP;AACD;AArIU,OAAb;;AAwIA,eAASyuB,eAAT,CAAyBrrB,IAAzB,EAA+B1c,EAA/B,EAAmCgoC,WAAnC,EAAgDC,aAAhD,EAA+D;AAC7D,YAAI95B,IAAI,EAAR;AACA,YAAI+5B,MAAM,IAAIpsB,GAAJ,EAAV;AACA,YAAII,KAAKQ,KAAKR,EAAL,EAAT;AACA,YAAIisB,eAAejsB,GAAGiE,gBAAH,EAAnB;;AAEA,aAAK,IAAI5iB,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;;AAEA,cAAIyqC,WAAJ,EAAiB;AACf75B,cAAEzH,IAAF,CAAOJ,GAAP;AACD,WAFD,MAEO,IAAI6hC,YAAJ,EAAkB;AACvBF,0BAAc95B,CAAd,EAAiB+5B,GAAjB,EAAsB5hC,GAAtB;AACD;AACF;;AAED,eAAO6H,EAAErI,MAAF,GAAW,CAAlB,EAAqB;AACnB,cAAIoZ,OAAO/Q,EAAEwvB,KAAF,EAAX;;AAEA39B,aAAGkf,IAAH;;AAEAgpB,cAAIprB,GAAJ,CAAQoC,KAAK/H,EAAL,EAAR;;AAEA,cAAIgxB,YAAJ,EAAkB;AAChBF,0BAAc95B,CAAd,EAAiB+5B,GAAjB,EAAsBhpB,IAAtB;AACD;AACF;;AAED,eAAOxC,IAAP;AACD;;AAED,eAASyE,WAAT,CAAqBhT,CAArB,EAAwB+5B,GAAxB,EAA6B5hC,GAA7B,EAAkC;AAChC,YAAIA,IAAI4b,QAAJ,EAAJ,EAAoB;AAClB,cAAIhC,WAAW5Z,IAAIpF,QAAJ,CAAagf,QAA5B;;AAEA,eAAK,IAAI3iB,IAAI,CAAb,EAAgBA,IAAI2iB,SAASpa,MAA7B,EAAqCvI,GAArC,EAA0C;AACxC,gBAAIoe,QAAQuE,SAAS3iB,CAAT,CAAZ;;AAEA,gBAAI,CAAC2qC,IAAIrrB,GAAJ,CAAQlB,MAAMxE,EAAN,EAAR,CAAL,EAA0B;AACxBhJ,gBAAEzH,IAAF,CAAOiV,KAAP;AACD;AACF;AACF;AACF;;AAED;AACA;AACAwB,aAAOirB,WAAP,GAAqB,UAAUpoC,EAAV,EAAc;AACjC,YAAIgoC,cAAc3jC,UAAUyB,MAAV,GAAmB,CAAnB,IAAwBzB,UAAU,CAAV,MAAiBvD,SAAzC,GAAqDuD,UAAU,CAAV,CAArD,GAAoE,IAAtF;;AAEA,eAAO0jC,gBAAgB,IAAhB,EAAsB/nC,EAAtB,EAA0BgoC,WAA1B,EAAuC7mB,WAAvC,CAAP;AACD,OAJD;;AAMA,eAASknB,SAAT,CAAmBl6B,CAAnB,EAAsB+5B,GAAtB,EAA2B5hC,GAA3B,EAAgC;AAC9B,YAAIA,IAAIqrB,OAAJ,EAAJ,EAAmB;AACjB,cAAIlW,SAASnV,IAAIpF,QAAJ,CAAaua,MAA1B;;AAEA,cAAI,CAACysB,IAAIrrB,GAAJ,CAAQpB,OAAOtE,EAAP,EAAR,CAAL,EAA2B;AACzBhJ,cAAEzH,IAAF,CAAO+U,MAAP;AACD;AACF;AACF;;AAED0B,aAAOmrB,SAAP,GAAmB,UAAUtoC,EAAV,EAAc;AAC/B,YAAIgoC,cAAc3jC,UAAUyB,MAAV,GAAmB,CAAnB,IAAwBzB,UAAU,CAAV,MAAiBvD,SAAzC,GAAqDuD,UAAU,CAAV,CAArD,GAAoE,IAAtF;;AAEA,eAAO0jC,gBAAgB,IAAhB,EAAsB/nC,EAAtB,EAA0BgoC,WAA1B,EAAuCK,SAAvC,CAAP;AACD,OAJD;;AAMA,eAASE,oBAAT,CAA8Bp6B,CAA9B,EAAiC+5B,GAAjC,EAAsC5hC,GAAtC,EAA2C;AACzC+hC,kBAAUl6B,CAAV,EAAa+5B,GAAb,EAAkB5hC,GAAlB;AACA6a,oBAAYhT,CAAZ,EAAe+5B,GAAf,EAAoB5hC,GAApB;AACD;;AAED6W,aAAOqrB,gBAAP,GAA0B,UAAUxoC,EAAV,EAAc;AACtC,YAAIgoC,cAAc3jC,UAAUyB,MAAV,GAAmB,CAAnB,IAAwBzB,UAAU,CAAV,MAAiBvD,SAAzC,GAAqDuD,UAAU,CAAV,CAArD,GAAoE,IAAtF;;AAEA,eAAO0jC,gBAAgB,IAAhB,EAAsB/nC,EAAtB,EAA0BgoC,WAA1B,EAAuCO,oBAAvC,CAAP;AACD,OAJD;;AAMA;AACAprB,aAAOwqB,SAAP,GAAmBxqB,OAAOoqB,OAA1B;;AAEA1qC,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KA5lOG;AA6lOV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIN,SAASM,oBAAoB,CAApB,CAAb;AACA,UAAI2C,KAAK,KAAK,CAAd;AAAA,UACImd,SAAS,KAAK,CADlB;;AAGAnd,WAAKmd,SAAS;;AAEZpC,cAAMhe,OAAOge,IAAP,CAAY;AAChBC,iBAAO,MADS;AAEhBuR,wBAAc,MAFE;AAGhBC,wBAAc,IAHE;AAIhBC,wBAAc,IAJE;AAKhBC,wBAAc,MALE;AAMhBC,gCAAsB,IANN;AAOhBC,yBAAe,SAPC;AAQhBC,wBAAc,IARE;AAShB4b,yBAAe;AACb,kBAAM,IADO;AAEb,sBAAU,IAFG;AAGb,sBAAU,IAHG;AAIb,sBAAU;AAJG,WATC;AAehB9nB,uBAAa;AAfG,SAAZ,CAFM;;AAoBZoM,oBAAYhwB,OAAOgwB,UAAP,CAAkB;AAC5B/R,iBAAO,MADqB;AAE5BzZ,iBAAO,MAFqB;AAG5BqrB,yBAAe,SAHa;AAI5BI,wBAAc,IAJc;AAK5Byb,yBAAe;AACb,kBAAM,IADO;AAEb,sBAAU,IAFG;AAGb,sBAAU,IAHG;AAIb,sBAAU;AAJG,WALa;AAW5B9nB,uBAAa;AAXe,SAAlB,CApBA;;AAkCZmC,iBAAS/lB,OAAOge,IAAP,CAAY;AACnBC,iBAAO,SADY;AAEnBuR,wBAAc,SAFK;AAGnBC,wBAAc,IAHK;AAInBC,wBAAc,IAJK;AAKnBC,wBAAc,SALK;AAMnBC,gCAAsB,IANH;AAOnBC,yBAAe,SAPI;AAQnBC,wBAAc,IARK;AASnBlM,uBAAa;AATM,SAAZ,CAlCG;;AA8CZmM,uBAAe/vB,OAAOgwB,UAAP,CAAkB;AAC/B/R,iBAAO,SADwB;AAE/BzZ,iBAAO,SAFwB;AAG/BqrB,yBAAe,SAHgB;AAI/BI,wBAAc,IAJiB;AAK/BrM,uBAAa;AALkB,SAAlB,CA9CH;;AAsDZ8M,kBAAU1wB,OAAOge,IAAP,CAAY;AACpBC,iBAAO,UADa;AAEpBwR,wBAAc,KAFM;AAGpBC,wBAAc,IAHM;AAIpBE,gCAAsB,KAJF;AAKpBE,wBAAc;AALM,SAAZ,CAtDE;;AA8DZ6b,wBAAgB3rC,OAAOgwB,UAAP,CAAkB;AAChC/R,iBAAO,UADyB;AAEhCgS,wBAAc;AAFkB,SAAlB,CA9DJ;;AAmEZ7V,YAAI,SAASA,EAAT,GAAc;AAChB,cAAI7Q,MAAM,KAAK,CAAL,CAAV;;AAEA,cAAIA,GAAJ,EAAS;AACP,mBAAOA,IAAIpF,QAAJ,CAAa6Z,IAAb,CAAkB5D,EAAzB;AACD;AACF;;AAzEW,OAAd;;AA6EA;AACAnX,SAAG2oC,IAAH,GAAU3oC,GAAG+a,IAAb;AACA/a,SAAG4oC,UAAH,GAAgB5oC,GAAG+sB,UAAnB;;AAEAlwB,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KA1rOG;AA2rOV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAI8f,SAAS,EAAb;;AAEA,eAAS0rB,oBAAT,CAA8BjkB,QAA9B,EAAwC;AACtC,eAAO,UAAUkkB,YAAV,EAAwB;AAC7B,cAAIvvB,OAAO,IAAX;;AAEA,cAAIuvB,iBAAiBhoC,SAArB,EAAgC;AAC9BgoC,2BAAe,IAAf;AACD;;AAED,cAAIvvB,KAAKzT,MAAL,KAAgB,CAApB,EAAuB;AACrB;AACD;;AAED,cAAIyT,KAAKwF,MAAL,MAAiB,CAACxF,KAAK4E,OAAL,EAAtB,EAAsC;AACpC,gBAAIohB,SAAS,CAAb;AACA,gBAAI5f,OAAOpG,KAAK,CAAL,CAAX;AACA,gBAAIgI,iBAAiB5B,KAAKze,QAAL,CAAc4d,KAAnC;;AAEA,iBAAK,IAAIvhB,IAAI,CAAb,EAAgBA,IAAIgkB,eAAezb,MAAnC,EAA2CvI,GAA3C,EAAgD;AAC9C,kBAAI8hB,OAAOkC,eAAehkB,CAAf,CAAX;;AAEA,kBAAI,CAACurC,YAAD,IAAiBzpB,KAAKwS,MAAL,EAArB,EAAoC;AAClC;AACD;;AAED0N,wBAAU3a,SAASjF,IAAT,EAAeN,IAAf,CAAV;AACD;;AAED,mBAAOkgB,MAAP;AACD,WAhBD,MAgBO;AACL;AACD;AACF,SA9BD;AA+BD;;AAED97B,WAAKgB,MAAL,CAAY0Y,MAAZ,EAAoB;AAClBoiB,gBAAQsJ,qBAAqB,UAAUlpB,IAAV,EAAgBN,IAAhB,EAAsB;AACjD,cAAIA,KAAK/D,MAAL,GAAc2E,IAAd,CAAmBZ,KAAK9D,MAAL,EAAnB,CAAJ,EAAuC;AACrC,mBAAO,CAAP;AACD,WAFD,MAEO;AACL,mBAAO,CAAP;AACD;AACF,SANO,CADU;;AASlBqkB,kBAAUiJ,qBAAqB,UAAUlpB,IAAV,EAAgBN,IAAhB,EAAsB;AACnD,cAAIA,KAAK9D,MAAL,GAAc0E,IAAd,CAAmBN,IAAnB,CAAJ,EAA8B;AAC5B,mBAAO,CAAP;AACD,WAFD,MAEO;AACL,mBAAO,CAAP;AACD;AACF,SANS,CATQ;;AAiBlBkgB,mBAAWgJ,qBAAqB,UAAUlpB,IAAV,EAAgBN,IAAhB,EAAsB;AACpD,cAAIA,KAAK/D,MAAL,GAAc2E,IAAd,CAAmBN,IAAnB,CAAJ,EAA8B;AAC5B,mBAAO,CAAP;AACD,WAFD,MAEO;AACL,mBAAO,CAAP;AACD;AACF,SANU;AAjBO,OAApB;;AA0BA,eAASopB,0BAAT,CAAoCC,QAApC,EAA8CpkB,QAA9C,EAAwD;AACtD,eAAO,UAAUkkB,YAAV,EAAwB;AAC7B,cAAIriB,MAAM,KAAK,CAAf;AACA,cAAI5H,QAAQ,KAAKA,KAAL,EAAZ;;AAEA,eAAK,IAAIthB,IAAI,CAAb,EAAgBA,IAAIshB,MAAM/Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,gBAAI+I,MAAMuY,MAAMthB,CAAN,CAAV;AACA,gBAAIgiC,SAASj5B,IAAI0iC,QAAJ,EAAcF,YAAd,CAAb;AACA,gBAAIvJ,WAAWz+B,SAAX,KAAyB2lB,QAAQ3lB,SAAR,IAAqB8jB,SAAS2a,MAAT,EAAiB9Y,GAAjB,CAA9C,CAAJ,EAA0E;AACxEA,oBAAM8Y,MAAN;AACD;AACF;;AAED,iBAAO9Y,GAAP;AACD,SAbD;AAcD;;AAEDhjB,WAAKgB,MAAL,CAAY0Y,MAAZ,EAAoB;AAClB8rB,mBAAWF,2BAA2B,QAA3B,EAAqC,UAAUxJ,MAAV,EAAkB51B,GAAlB,EAAuB;AACrE,iBAAO41B,SAAS51B,GAAhB;AACD,SAFU,CADO;;AAKlBy1B,mBAAW2J,2BAA2B,QAA3B,EAAqC,UAAUxJ,MAAV,EAAkB31B,GAAlB,EAAuB;AACrE,iBAAO21B,SAAS31B,GAAhB;AACD,SAFU,CALO;;AASlBs/B,qBAAaH,2BAA2B,UAA3B,EAAuC,UAAUxJ,MAAV,EAAkB51B,GAAlB,EAAuB;AACzE,iBAAO41B,SAAS51B,GAAhB;AACD,SAFY,CATK;;AAalB+1B,qBAAaqJ,2BAA2B,UAA3B,EAAuC,UAAUxJ,MAAV,EAAkB31B,GAAlB,EAAuB;AACzE,iBAAO21B,SAAS31B,GAAhB;AACD,SAFY,CAbK;;AAiBlBu/B,sBAAcJ,2BAA2B,WAA3B,EAAwC,UAAUxJ,MAAV,EAAkB51B,GAAlB,EAAuB;AAC3E,iBAAO41B,SAAS51B,GAAhB;AACD,SAFa,CAjBI;;AAqBlBg2B,sBAAcoJ,2BAA2B,WAA3B,EAAwC,UAAUxJ,MAAV,EAAkB31B,GAAlB,EAAuB;AAC3E,iBAAO21B,SAAS31B,GAAhB;AACD,SAFa;AArBI,OAApB;;AA0BAnG,WAAKgB,MAAL,CAAY0Y,MAAZ,EAAoB;AAClBisB,qBAAa,SAASA,WAAT,CAAqBN,YAArB,EAAmC;AAC9C,cAAInE,QAAQ,CAAZ;AACA,cAAI9lB,QAAQ,KAAKA,KAAL,EAAZ;;AAEA,eAAK,IAAIthB,IAAI,CAAb,EAAgBA,IAAIshB,MAAM/Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrConC,qBAAS9lB,MAAMthB,CAAN,EAASgiC,MAAT,CAAgBuJ,YAAhB,CAAT;AACD;;AAED,iBAAOnE,KAAP;AACD;AAViB,OAApB;;AAaA9nC,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KA3zOG;AA4zOV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;AACA,UAAI2C,KAAK,KAAK,CAAd;AAAA,UACImd,SAAS,KAAK,CADlB;;AAGAnd,WAAKmd,SAAS,EAAd;;AAEAA,aAAOksB,mBAAP,GAA6B,UAAU9sB,OAAV,EAAmB;AAC9C,YAAI1S,KAAK,KAAK/H,WAAL,CAAiBya,OAAjB,CAAT;AACA,YAAIL,KAAK,KAAKA,EAAL,EAAT;AACA,YAAIxU,OAAOwU,GAAGxU,IAAH,EAAX;AACA,YAAIC,MAAMuU,GAAGvU,GAAH,EAAV;;AAEA,YAAI5F,KAAK8H,GAAG9H,EAAH,GAAQ2F,IAAR,GAAeC,IAAI3C,CAA5B;AACA,YAAIhD,KAAK6H,GAAG7H,EAAH,GAAQ0F,IAAR,GAAeC,IAAI3C,CAA5B;AACA,YAAI/C,KAAK4H,GAAG5H,EAAH,GAAQyF,IAAR,GAAeC,IAAI1C,CAA5B;AACA,YAAI/C,KAAK2H,GAAG3H,EAAH,GAAQwF,IAAR,GAAeC,IAAI1C,CAA5B;;AAEA,eAAO;AACLlD,cAAIA,EADC;AAELC,cAAIA,EAFC;AAGLC,cAAIA,EAHC;AAILC,cAAIA,EAJC;AAKL6H,aAAG/H,KAAKD,EALH;AAMLiI,aAAG9H,KAAKD;AANH,SAAP;AAQD,OAnBD;;AAqBAkb,aAAOuD,wBAAP,GAAkC,YAAY;AAC5C,YAAIxE,KAAK,KAAKA,EAAL,EAAT;;AAEA,YAAI,CAACA,GAAGsN,YAAH,EAAD,IAAsB,CAACtN,GAAGiE,gBAAH,EAA3B,EAAkD;AAChD,iBAAO,IAAP;AACD;;AAED,aAAKmoB,SAAL,CAAe,UAAUhiC,GAAV,EAAe;AAC5BA,cAAIpF,QAAJ,CAAaksB,mBAAb,GAAmC,KAAnC;;AAEA,cAAI9mB,IAAI4b,QAAJ,EAAJ,EAAoB;AAClB5b,gBAAIua,IAAJ,CAAS,QAAT;AACD;AACF,SAND;;AAQA,eAAO,IAAP;AACD,OAhBD;;AAkBA1D,aAAOmsB,oBAAP,GAA8B,YAAY;AACxC,YAAIptB,KAAK,KAAKA,EAAL,EAAT;;AAEA;AACA,YAAI,CAACA,GAAGsN,YAAH,EAAD,IAAsB,CAACtN,GAAGiE,gBAAH,EAA3B,EAAkD;AAChD,iBAAO,IAAP;AACD;;AAED;AACA,YAAIjE,GAAGqtB,QAAH,EAAJ,EAAmB;AACjB,iBAAO,IAAP;AACD;;AAED,YAAIC,UAAU,EAAd;;AAEA,iBAASC,MAAT,CAAgBhuB,MAAhB,EAAwB;AACtB,cAAI,CAACA,OAAOyG,QAAP,EAAL,EAAwB;AACtB;AACD;;AAED,cAAIqG,KAAK9M,OAAOva,QAAhB;AACA,cAAIgf,WAAWzE,OAAOyE,QAAP,EAAf;AACA,cAAIwpB,gBAAgBjuB,OAAOyS,MAAP,CAAc,4BAAd,EAA4CtwB,KAA5C,KAAsD,SAA1E;;AAEA,cAAI+L,MAAM;AACRoB,mBAAO;AACL5E,mBAAKsV,OAAOyS,MAAP,CAAc,WAAd,EAA2Byb,OAD3B;AAELC,oBAAMnuB,OAAOyS,MAAP,CAAc,qBAAd,CAFD;AAGL2b,qBAAOpuB,OAAOyS,MAAP,CAAc,sBAAd;AAHF,aADC;AAMRljB,oBAAQ;AACN7E,mBAAKsV,OAAOyS,MAAP,CAAc,YAAd,EAA4Byb,OAD3B;AAENG,mBAAKruB,OAAOyS,MAAP,CAAc,qBAAd,CAFC;AAGN6b,sBAAQtuB,OAAOyS,MAAP,CAAc,wBAAd;AAHF;AANA,WAAV;;AAaA,cAAIrkB,KAAKqW,SAASpe,WAAT,CAAqB;AAC5B4nC,2BAAeA,aADa;AAE5BM,6BAAiB,KAFW;;AAI5B;AACA;AACAC,sBAAU;AANkB,WAArB,CAAT;AAQA,cAAIllC,MAAMwjB,GAAG1K,QAAb;;AAEA;AACA,cAAIhU,GAAGE,CAAH,KAAS,CAAT,IAAcF,GAAGG,CAAH,KAAS,CAA3B,EAA8B;AAC5BH,iBAAK;AACHE,iBAAG0R,OAAOyS,MAAP,CAAc,OAAd,EAAuByb,OADvB;AAEH3/B,iBAAGyR,OAAOyS,MAAP,CAAc,QAAd,EAAwByb;AAFxB,aAAL;;AAKA9/B,eAAG9H,EAAH,GAAQgD,IAAIC,CAAJ,GAAQ6E,GAAGE,CAAH,GAAO,CAAvB;AACAF,eAAG7H,EAAH,GAAQ+C,IAAIC,CAAJ,GAAQ6E,GAAGE,CAAH,GAAO,CAAvB;AACAF,eAAG5H,EAAH,GAAQ8C,IAAIE,CAAJ,GAAQ4E,GAAGG,CAAH,GAAO,CAAvB;AACAH,eAAG3H,EAAH,GAAQ6C,IAAIE,CAAJ,GAAQ4E,GAAGG,CAAH,GAAO,CAAvB;AACD;;AAED,mBAASkgC,iBAAT,CAA2BC,QAA3B,EAAqCC,QAArC,EAA+CC,kBAA/C,EAAmE;AACjE,gBAAIC,WAAW,CAAf;AACA,gBAAIC,qBAAqB,CAAzB;AACA,gBAAIC,YAAYJ,WAAWC,kBAA3B;;AAEA,gBAAIF,WAAW,CAAX,IAAgBK,YAAY,CAAhC,EAAmC;AACjCF,yBAAWF,WAAWI,SAAX,GAAuBL,QAAlC;AACAI,mCAAqBF,qBAAqBG,SAArB,GAAiCL,QAAtD;AACD;AACD,mBAAO;AACLG,wBAAUA,QADL;AAELC,kCAAoBA;AAFf,aAAP;AAID;;AAED,mBAASE,oBAAT,CAA8B1/B,KAA9B,EAAqCC,MAArC,EAA6C0/B,aAA7C,EAA4DC,UAA5D,EAAwE;AACtE;AACA,gBAAID,cAAcE,KAAd,KAAwB,GAA5B,EAAiC;AAC/B,sBAAQD,UAAR;AACE,qBAAK,OAAL;AACE,yBAAO5/B,QAAQ,CAAR,GAAY2/B,cAAcf,OAAd,GAAwB5+B,KAApC,GAA4C,CAAnD;AACF,qBAAK,QAAL;AACE,yBAAOC,SAAS,CAAT,GAAa0/B,cAAcf,OAAd,GAAwB3+B,MAArC,GAA8C,CAArD;AACF,qBAAK,SAAL;AACE,yBAAOD,QAAQ,CAAR,IAAaC,SAAS,CAAtB,GAA0B0/B,cAAcf,OAAd,IAAyB5+B,QAAQC,MAAjC,IAA2C,CAArE,GAAyE,CAAhF;AACF,qBAAK,KAAL;AACE,yBAAOD,QAAQ,CAAR,IAAaC,SAAS,CAAtB,GAA0BD,QAAQC,MAAR,GAAiB0/B,cAAcf,OAAd,GAAwB3+B,MAAzC,GAAkD0/B,cAAcf,OAAd,GAAwB5+B,KAApG,GAA4G,CAAnH;AACF,qBAAK,KAAL;AACE,yBAAOA,QAAQ,CAAR,IAAaC,SAAS,CAAtB,GAA0BD,QAAQC,MAAR,GAAiB0/B,cAAcf,OAAd,GAAwB5+B,KAAzC,GAAiD2/B,cAAcf,OAAd,GAAwB3+B,MAAnG,GAA4G,CAAnH;AACF;AACE,yBAAO,CAAP;AAZJ;AAcD,aAfD,MAeO,IAAI0/B,cAAcE,KAAd,KAAwB,IAA5B,EAAkC;AACvC,qBAAOF,cAAcf,OAArB;AACD,aAFM,MAEA;AACL,qBAAO,CAAP;AACD;AACF;;AAED,cAAIkB,UAAUlhC,IAAIoB,KAAJ,CAAU6+B,IAAV,CAAehsC,KAA7B;AACA,cAAI+L,IAAIoB,KAAJ,CAAU6+B,IAAV,CAAegB,KAAf,KAAyB,IAAzB,IAAiCjhC,IAAIoB,KAAJ,CAAU5E,GAAV,GAAgB,CAArD,EAAwD;AACtD0kC,sBAAUA,UAAU,GAAV,GAAgBlhC,IAAIoB,KAAJ,CAAU5E,GAApC;AACD;AACD,cAAI2kC,WAAWnhC,IAAIoB,KAAJ,CAAU8+B,KAAV,CAAgBjsC,KAA/B;AACA,cAAI+L,IAAIoB,KAAJ,CAAU8+B,KAAV,CAAgBe,KAAhB,KAA0B,IAA1B,IAAkCjhC,IAAIoB,KAAJ,CAAU5E,GAAV,GAAgB,CAAtD,EAAyD;AACvD2kC,uBAAWA,WAAW,GAAX,GAAiBnhC,IAAIoB,KAAJ,CAAU5E,GAAtC;AACD;;AAED,cAAI4kC,SAASphC,IAAIqB,MAAJ,CAAW8+B,GAAX,CAAelsC,KAA5B;AACA,cAAI+L,IAAIqB,MAAJ,CAAW8+B,GAAX,CAAec,KAAf,KAAyB,IAAzB,IAAiCjhC,IAAIqB,MAAJ,CAAW7E,GAAX,GAAiB,CAAtD,EAAyD;AACvD4kC,qBAASA,SAAS,GAAT,GAAephC,IAAIqB,MAAJ,CAAW7E,GAAnC;AACD;;AAED,cAAI6kC,YAAYrhC,IAAIqB,MAAJ,CAAW++B,MAAX,CAAkBnsC,KAAlC;AACA,cAAI+L,IAAIqB,MAAJ,CAAW++B,MAAX,CAAkBa,KAAlB,KAA4B,IAA5B,IAAoCjhC,IAAIqB,MAAJ,CAAW7E,GAAX,GAAiB,CAAzD,EAA4D;AAC1D6kC,wBAAYA,YAAY,GAAZ,GAAkBrhC,IAAIqB,MAAJ,CAAW7E,GAAzC;AACD;;AAED,cAAI8kC,iBAAiBf,kBAAkBvgC,IAAIoB,KAAJ,CAAU5E,GAAV,GAAgB0D,GAAGE,CAArC,EAAwC8gC,OAAxC,EAAiDC,QAAjD,CAArB;AACA,cAAII,WAAWD,eAAeX,QAA9B;AACA,cAAIa,YAAYF,eAAeV,kBAA/B;;AAEA,cAAIa,kBAAkBlB,kBAAkBvgC,IAAIqB,MAAJ,CAAW7E,GAAX,GAAiB0D,GAAGG,CAAtC,EAAyC+gC,MAAzC,EAAiDC,SAAjD,CAAtB;AACA,cAAIK,UAAUD,gBAAgBd,QAA9B;AACA,cAAIgB,aAAaF,gBAAgBb,kBAAjC;;AAEAhiB,aAAG4E,WAAH,GAAiBsd,qBAAqB5gC,GAAGE,CAAxB,EAA2BF,GAAGG,CAA9B,EAAiCyR,OAAOyS,MAAP,CAAc,SAAd,CAAjC,EAA2DzS,OAAOyS,MAAP,CAAc,qBAAd,EAAqCtwB,KAAhG,CAAjB;;AAEA2qB,aAAG0E,SAAH,GAAevsB,KAAKkJ,GAAL,CAASC,GAAGE,CAAZ,EAAeJ,IAAIoB,KAAJ,CAAU5E,GAAzB,CAAf;AACApB,cAAIC,CAAJ,GAAQ,CAAC,CAACkmC,QAAD,GAAYrhC,GAAG9H,EAAf,GAAoB8H,GAAG7H,EAAvB,GAA4BmpC,SAA7B,IAA0C,CAAlD;;AAEA5iB,aAAG2E,UAAH,GAAgBxsB,KAAKkJ,GAAL,CAASC,GAAGG,CAAZ,EAAeL,IAAIqB,MAAJ,CAAW7E,GAA1B,CAAhB;AACApB,cAAIE,CAAJ,GAAQ,CAAC,CAAComC,OAAD,GAAWxhC,GAAG5H,EAAd,GAAmB4H,GAAG3H,EAAtB,GAA2BopC,UAA5B,IAA0C,CAAlD;;AAEA9B,kBAAQ9iC,IAAR,CAAa+U,MAAb;AACD;;AAED,aAAK,IAAIle,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI+I,MAAM,KAAK/I,CAAL,CAAV;AACA,cAAIgrB,KAAKjiB,IAAIpF,QAAb;;AAEA,cAAI,CAACqnB,GAAG6E,mBAAR,EAA6B;AAC3Bqc,mBAAOnjC,GAAP;;AAEA,gBAAI,CAAC4V,GAAGhb,QAAH,CAAYqqC,aAAjB,EAAgC;AAC9BhjB,iBAAG6E,mBAAH,GAAyB,IAAzB;AACD;AACF;AACF;;AAED,eAAO,IAAP;AACD,OAvJD;;AAyJA,UAAIoe,SAAS,SAASA,MAAT,CAAgBxmC,CAAhB,EAAmB;AAC9B,YAAIA,MAAM8E,QAAN,IAAkB9E,MAAM,CAAC8E,QAA7B,EAAuC;AACrC,iBAAO,CAAP;AACD;;AAED,eAAO9E,CAAP;AACD,OAND;;AAQA,UAAIymC,eAAe,SAASA,YAAT,CAAsBrmC,CAAtB,EAAyBrD,EAAzB,EAA6BE,EAA7B,EAAiCD,EAAjC,EAAqCE,EAArC,EAAyC;AAC1D;AACA,YAAIF,KAAKD,EAAL,KAAY,CAAZ,IAAiBG,KAAKD,EAAL,KAAY,CAAjC,EAAoC;AAClC;AACD;;AAED;AACA,YAAIF,MAAM,IAAN,IAAcE,MAAM,IAApB,IAA4BD,MAAM,IAAlC,IAA0CE,MAAM,IAApD,EAA0D;AACxD;AACD;;AAEDkD,UAAErD,EAAF,GAAOA,KAAKqD,EAAErD,EAAP,GAAYA,EAAZ,GAAiBqD,EAAErD,EAA1B;AACAqD,UAAEpD,EAAF,GAAOA,KAAKoD,EAAEpD,EAAP,GAAYA,EAAZ,GAAiBoD,EAAEpD,EAA1B;AACAoD,UAAEnD,EAAF,GAAOA,KAAKmD,EAAEnD,EAAP,GAAYA,EAAZ,GAAiBmD,EAAEnD,EAA1B;AACAmD,UAAElD,EAAF,GAAOA,KAAKkD,EAAElD,EAAP,GAAYA,EAAZ,GAAiBkD,EAAElD,EAA1B;AACD,OAfD;;AAiBA,UAAIwpC,sBAAsB,SAASA,mBAAT,CAA6BtmC,CAA7B,EAAgCumC,EAAhC,EAAoC;AAC5D,eAAOF,aAAarmC,CAAb,EAAgBumC,GAAG5pC,EAAnB,EAAuB4pC,GAAG1pC,EAA1B,EAA8B0pC,GAAG3pC,EAAjC,EAAqC2pC,GAAGzpC,EAAxC,CAAP;AACD,OAFD;;AAIA,UAAI0pC,mBAAmB,SAASA,gBAAT,CAA0BzsC,GAA1B,EAA+B6b,KAA/B,EAAsCjU,MAAtC,EAA8C;AACnE,eAAOtD,KAAKoD,mBAAL,CAAyB1H,GAAzB,EAA8B6b,KAA9B,EAAqCjU,MAArC,CAAP;AACD,OAFD;;AAIA,UAAI8kC,wBAAwB,SAASA,qBAAT,CAA+BC,MAA/B,EAAuCxlC,GAAvC,EAA4CS,MAA5C,EAAoD;AAC9E,YAAIT,IAAI4V,EAAJ,GAASiM,QAAT,EAAJ,EAAyB;AACvB;AACD;;AAED,YAAII,KAAKjiB,IAAIpF,QAAb;AACA,YAAImsB,SAAS9E,GAAG8E,MAAhB;AACA,YAAI0e,UAAU1e,OAAO2e,UAAP,GAAoB,CAAlC;AACA,YAAIC,YAAY3lC,IAAI4nB,MAAJ,CAAWnnB,SAAS,cAApB,EAAoCnJ,KAApD;AACA,YAAIoH,IAAI,KAAK,CAAb;AACA,YAAIC,IAAI,KAAK,CAAb;;AAEA,YAAIgnC,cAAc,MAAlB,EAA0B;AACxB,cAAIllC,WAAW,QAAf,EAAyB;AACvB/B,gBAAIqoB,OAAO6e,IAAX;AACAjnC,gBAAIooB,OAAO8e,IAAX;AACD,WAHD,MAGO,IAAIplC,WAAW,QAAf,EAAyB;AAC9B/B,gBAAIqoB,OAAO+e,IAAX;AACAnnC,gBAAIooB,OAAOgf,IAAX;AACD,WAHM,MAGA;AACLrnC,gBAAIqoB,OAAOif,IAAX;AACArnC,gBAAIooB,OAAOkf,IAAX;AACD;;AAEDd,uBAAaK,MAAb,EAAqB9mC,IAAI+mC,OAAzB,EAAkC9mC,IAAI8mC,OAAtC,EAA+C/mC,IAAI+mC,OAAnD,EAA4D9mC,IAAI8mC,OAAhE;AACD;AACF,OA1BD;;AA4BA,UAAIS,wBAAwB,SAASA,qBAAT,CAA+BV,MAA/B,EAAuCxlC,GAAvC,EAA4CS,MAA5C,EAAoD;AAC9E,YAAIT,IAAI4V,EAAJ,GAASiM,QAAT,EAAJ,EAAyB;AACvB;AACD;;AAED,YAAIskB,aAAa,KAAK,CAAtB;;AAEA,YAAI1lC,MAAJ,EAAY;AACV0lC,uBAAa1lC,SAAS,GAAtB;AACD,SAFD,MAEO;AACL0lC,uBAAa,EAAb;AACD;;AAED,YAAIlkB,KAAKjiB,IAAIpF,QAAb;AACA,YAAImsB,SAAS9E,GAAG8E,MAAhB;AACA,YAAIqf,QAAQpmC,IAAI4nB,MAAJ,CAAWue,aAAa,OAAxB,EAAiCE,QAA7C;;AAEA,YAAID,KAAJ,EAAW;AACT,cAAIE,SAAStmC,IAAI4nB,MAAJ,CAAW,aAAX,CAAb;AACA,cAAI2e,SAASvmC,IAAI4nB,MAAJ,CAAW,aAAX,CAAb;AACA,cAAI4e,aAAalB,iBAAiBve,MAAjB,EAAyB,YAAzB,EAAuCtmB,MAAvC,CAAjB;AACA,cAAIgmC,cAAcnB,iBAAiBve,MAAjB,EAAyB,aAAzB,EAAwCtmB,MAAxC,CAAlB;AACA,cAAIimC,SAASpB,iBAAiBve,MAAjB,EAAyB,QAAzB,EAAmCtmB,MAAnC,CAAb;AACA,cAAIkmC,SAASrB,iBAAiBve,MAAjB,EAAyB,QAAzB,EAAmCtmB,MAAnC,CAAb;AACA,cAAImmC,UAAU5mC,IAAI4nB,MAAJ,CAAWue,aAAa,eAAxB,EAAyC9C,OAAvD;AACA,cAAIwD,UAAU7mC,IAAI4nB,MAAJ,CAAWue,aAAa,eAAxB,EAAyC9C,OAAvD;AACA,cAAIvqB,SAAS9Y,IAAI8Y,MAAJ,EAAb;AACA,cAAIguB,WAAW9mC,IAAI4nB,MAAJ,CAAWue,aAAa,eAAxB,CAAf;AACA,cAAIY,eAAe/mC,IAAI4nB,MAAJ,CAAW,oBAAX,EAAiCyb,OAApD;AACA,cAAI2D,cAAchnC,IAAI4nB,MAAJ,CAAW,mBAAX,EAAgCyb,OAAlD;AACA,cAAI4D,kBAAkBD,cAAc,CAApC;AACA,cAAIhjC,UAAUhE,IAAI4nB,MAAJ,CAAW,yBAAX,EAAsCyb,OAApD;;AAEA,cAAI6D,KAAKT,cAAc,IAAIziC,OAA3B;AACA,cAAImjC,KAAKX,aAAa,IAAIxiC,OAA1B;AACA,cAAIojC,OAAOD,KAAK,CAAhB;AACA,cAAIE,OAAOH,KAAK,CAAhB;AACA,cAAItgC,MAAM,KAAK,CAAf;AAAA,cACIE,MAAM,KAAK,CADf;AAAA,cAEID,MAAM,KAAK,CAFf;AAAA,cAGIE,MAAM,KAAK,CAHf;;AAKA,cAAI+R,MAAJ,EAAY;AACVlS,kBAAM8/B,SAASU,IAAf;AACAtgC,kBAAM4/B,SAASU,IAAf;AACAvgC,kBAAM8/B,SAASU,IAAf;AACAtgC,kBAAM4/B,SAASU,IAAf;AACD,WALD,MAKO;AACL,oBAAQf,OAAOhvC,KAAf;AACE,mBAAK,MAAL;AACEsP,sBAAM8/B,SAASS,EAAf;AACArgC,sBAAM4/B,MAAN;AACA;;AAEF,mBAAK,QAAL;AACE9/B,sBAAM8/B,SAASU,IAAf;AACAtgC,sBAAM4/B,SAASU,IAAf;AACA;;AAEF,mBAAK,OAAL;AACExgC,sBAAM8/B,MAAN;AACA5/B,sBAAM4/B,SAASS,EAAf;AACA;AAdJ;;AAiBA,oBAAQZ,OAAOjvC,KAAf;AACE,mBAAK,KAAL;AACEuP,sBAAM8/B,SAASO,EAAf;AACAngC,sBAAM4/B,MAAN;AACA;;AAEF,mBAAK,QAAL;AACE9/B,sBAAM8/B,SAASU,IAAf;AACAtgC,sBAAM4/B,SAASU,IAAf;AACA;;AAEF,mBAAK,QAAL;AACExgC,sBAAM8/B,MAAN;AACA5/B,sBAAM4/B,SAASO,EAAf;AACA;AAdJ;AAgBD;;AAED,cAAII,eAAexuB,UAAUguB,SAAST,QAAT,KAAsB,YAAnD;AACA,cAAIkB,YAAYT,SAASzD,OAAT,IAAoB,IAApB,IAA4ByD,SAASzD,OAAT,KAAqB,CAAjE;;AAEA,cAAIiE,gBAAgBC,SAApB,EAA+B;AAC7B,gBAAIC,QAAQF,eAAehC,iBAAiBrjB,GAAG8E,MAApB,EAA4B,YAA5B,EAA0CtmB,MAA1C,CAAf,GAAmEqmC,SAASzD,OAAxF;AACA,gBAAIn7B,MAAM9N,KAAK8N,GAAL,CAASs/B,KAAT,CAAV;AACA,gBAAIz9B,MAAM3P,KAAK2P,GAAL,CAASy9B,KAAT,CAAV;;AAEA,gBAAIC,SAAS,SAASA,MAAT,CAAgB/oC,CAAhB,EAAmBC,CAAnB,EAAsB;AACjCD,kBAAIA,IAAIgoC,MAAR;AACA/nC,kBAAIA,IAAIgoC,MAAR;;AAEA,qBAAO;AACLjoC,mBAAGA,IAAIwJ,GAAJ,GAAUvJ,IAAIoL,GAAd,GAAoB28B,MADlB;AAEL/nC,mBAAGD,IAAIqL,GAAJ,GAAUpL,IAAIuJ,GAAd,GAAoBy+B;AAFlB,eAAP;AAID,aARD;;AAUA,gBAAIe,QAAQD,OAAO7gC,GAAP,EAAYC,GAAZ,CAAZ;AACA,gBAAI8gC,QAAQF,OAAO7gC,GAAP,EAAYG,GAAZ,CAAZ;AACA,gBAAI6gC,QAAQH,OAAO3gC,GAAP,EAAYD,GAAZ,CAAZ;AACA,gBAAIghC,QAAQJ,OAAO3gC,GAAP,EAAYC,GAAZ,CAAZ;;AAEAH,kBAAMxM,KAAKiJ,GAAL,CAASqkC,MAAMhpC,CAAf,EAAkBipC,MAAMjpC,CAAxB,EAA2BkpC,MAAMlpC,CAAjC,EAAoCmpC,MAAMnpC,CAA1C,CAAN;AACAoI,kBAAM1M,KAAKkJ,GAAL,CAASokC,MAAMhpC,CAAf,EAAkBipC,MAAMjpC,CAAxB,EAA2BkpC,MAAMlpC,CAAjC,EAAoCmpC,MAAMnpC,CAA1C,CAAN;AACAmI,kBAAMzM,KAAKiJ,GAAL,CAASqkC,MAAM/oC,CAAf,EAAkBgpC,MAAMhpC,CAAxB,EAA2BipC,MAAMjpC,CAAjC,EAAoCkpC,MAAMlpC,CAA1C,CAAN;AACAoI,kBAAM3M,KAAKkJ,GAAL,CAASokC,MAAM/oC,CAAf,EAAkBgpC,MAAMhpC,CAAxB,EAA2BipC,MAAMjpC,CAAjC,EAAoCkpC,MAAMlpC,CAA1C,CAAN;AACD;;AAEDiI,iBAAOggC,UAAUxsC,KAAKkJ,GAAL,CAASyjC,YAAT,EAAuBE,eAAvB,CAAjB;AACAngC,iBAAO8/B,UAAUxsC,KAAKkJ,GAAL,CAASyjC,YAAT,EAAuBE,eAAvB,CAAjB;AACApgC,iBAAOggC,UAAUzsC,KAAKkJ,GAAL,CAASyjC,YAAT,EAAuBE,eAAvB,CAAjB;AACAlgC,iBAAO8/B,UAAUzsC,KAAKkJ,GAAL,CAASyjC,YAAT,EAAuBE,eAAvB,CAAjB;;AAEA9B,uBAAaK,MAAb,EAAqB5+B,GAArB,EAA0BC,GAA1B,EAA+BC,GAA/B,EAAoCC,GAApC;AACD;;AAED,eAAOy+B,MAAP;AACD,OAzHD;;AA2HA;AACA,UAAIsC,kBAAkB,SAASA,eAAT,CAAyB9nC,GAAzB,EAA8BiW,OAA9B,EAAuC;AAC3D,YAAIL,KAAK5V,IAAIpF,QAAJ,CAAagb,EAAtB;AACA,YAAIsN,eAAetN,GAAGsN,YAAH,EAAnB;AACA,YAAIrB,WAAWjM,GAAGiM,QAAH,EAAf;;AAEA,YAAI2jB,SAAS;AACX/pC,cAAI+H,QADO;AAEX7H,cAAI6H,QAFO;AAGX9H,cAAI,CAAC8H,QAHM;AAIX5H,cAAI,CAAC4H;AAJM,SAAb;;AAOA,YAAIye,KAAKjiB,IAAIpF,QAAb;AACA,YAAImtC,UAAU7kB,eAAeljB,IAAI4nB,MAAJ,CAAW,SAAX,EAAsBtwB,KAArC,GAA6C,SAA3D;AACA,YAAImhB,SAASzY,IAAIyY,MAAJ,EAAb;AACA,YAAIK,SAAS9Y,IAAI8Y,MAAJ,EAAb;AACA,YAAIkvB,MAAM,KAAK,CAAf;AAAA,YACIC,MAAM,KAAK,CADf;AAAA,YAEIC,MAAM,KAAK,CAFf;AAAA,YAGIC,MAAM,KAAK,CAHf,CAhB2D,CAmBzC;AAClB,YAAIzpC,IAAI,KAAK,CAAb;AAAA,YACIC,IAAI,KAAK,CADb,CApB2D,CAqB3C;AAChB,YAAIypC,YAAYL,YAAY,MAA5B;;AAEA,YAAIK,SAAJ,EAAe;AACb,cAAIC,iBAAiB,CAArB;AACA,cAAIC,iBAAiB,CAArB;;AAEA,cAAIplB,gBAAgBjN,QAAQytB,eAA5B,EAA6C;AAC3C2E,6BAAiBroC,IAAI4nB,MAAJ,CAAW,iBAAX,EAA8BtwB,KAA/C;;AAEA,gBAAI+wC,mBAAmB,CAAvB,EAA0B;AACxBC,+BAAiBtoC,IAAI4nB,MAAJ,CAAW,iBAAX,EAA8BtwB,KAA/C;AACD;AACF;;AAED,cAAImM,IAAI,CAAR;AACA,cAAI8kC,QAAQ,CAAZ;;AAEA,cAAIrlB,YAAJ,EAAkB;AAChBzf,gBAAIzD,IAAI4nB,MAAJ,CAAW,OAAX,EAAoByb,OAAxB;AACAkF,oBAAQ9kC,IAAI,CAAZ;AACD;;AAED,cAAIgV,UAAUxC,QAAQuyB,YAAtB,EAAoC;AAClC,gBAAI/pC,MAAMuB,IAAIuX,QAAJ,EAAV;AACA7Y,gBAAID,IAAIC,CAAR;AACAC,gBAAIF,IAAIE,CAAR;AACA,gBAAI8pC,KAAKzoC,IAAI0oC,UAAJ,EAAT;AACA,gBAAIC,QAAQF,KAAK,CAAjB;AACA,gBAAI/kC,IAAI1D,IAAI4oC,WAAJ,EAAR;AACA,gBAAIC,QAAQnlC,IAAI,CAAhB;;AAEA;AACA;;AAEAskC,kBAAMtpC,IAAIiqC,KAAJ,GAAYL,cAAlB;AACAL,kBAAMvpC,IAAIiqC,KAAJ,GAAYL,cAAlB;AACAJ,kBAAMvpC,IAAIkqC,KAAJ,GAAYP,cAAlB;AACAH,kBAAMxpC,IAAIkqC,KAAJ,GAAYP,cAAlB;;AAEAnD,yBAAaK,MAAb,EAAqBwC,GAArB,EAA0BE,GAA1B,EAA+BD,GAA/B,EAAoCE,GAApC;AACD,WAlBD,MAkBO,IAAIrvB,UAAU7C,QAAQ6yB,YAAtB,EAAoC;AACzC,gBAAI/hB,SAAS9E,GAAG8E,MAAH,IAAa,EAA1B;;AAEA;AACA;AACA,gBAAI7D,gBAAgB,CAACrB,QAArB,EAA+B;AAC7BmmB,oBAAM5tC,KAAKiJ,GAAL,CAAS0jB,OAAO6e,IAAhB,EAAsB7e,OAAOif,IAA7B,EAAmCjf,OAAO+e,IAA1C,CAAN;AACAmC,oBAAM7tC,KAAKkJ,GAAL,CAASyjB,OAAO6e,IAAhB,EAAsB7e,OAAOif,IAA7B,EAAmCjf,OAAO+e,IAA1C,CAAN;AACAoC,oBAAM9tC,KAAKiJ,GAAL,CAAS0jB,OAAO8e,IAAhB,EAAsB9e,OAAOkf,IAA7B,EAAmClf,OAAOgf,IAA1C,CAAN;AACAoC,oBAAM/tC,KAAKkJ,GAAL,CAASyjB,OAAO8e,IAAhB,EAAsB9e,OAAOkf,IAA7B,EAAmClf,OAAOgf,IAA1C,CAAN;;AAEA;AACAiC,qBAAOO,KAAP;AACAN,qBAAOM,KAAP;AACAL,qBAAOK,KAAP;AACAJ,qBAAOI,KAAP;;AAEApD,2BAAaK,MAAb,EAAqBwC,GAArB,EAA0BE,GAA1B,EAA+BD,GAA/B,EAAoCE,GAApC;AACD;;AAED;AACA;AACA,gBAAIjlB,gBAAgB,CAACrB,QAAjB,IAA6B7hB,IAAI4nB,MAAJ,CAAW,aAAX,EAA0Bye,QAA1B,KAAuC,UAAxE,EAAoF;AAClF,kBAAI0C,OAAOhiB,OAAOiiB,WAAP,IAAsB,EAAjC;;AAEAhB,oBAAMe,KAAK,CAAL,EAAQrqC,CAAd;AACAwpC,oBAAMa,KAAK,CAAL,EAAQpqC,CAAd;AACAspC,oBAAMc,KAAK,CAAL,EAAQrqC,CAAd;AACAypC,oBAAMY,KAAK,CAAL,EAAQpqC,CAAd;;AAEA,kBAAIqpC,MAAMC,GAAV,EAAe;AACb,oBAAItT,OAAOqT,GAAX;AACAA,sBAAMC,GAAN;AACAA,sBAAMtT,IAAN;AACD;;AAED,kBAAIuT,MAAMC,GAAV,EAAe;AACb,oBAAIc,QAAQf,GAAZ;AACAA,sBAAMC,GAAN;AACAA,sBAAMc,KAAN;AACD;;AAED9D,2BAAaK,MAAb,EAAqBwC,MAAMO,KAA3B,EAAkCL,MAAMK,KAAxC,EAA+CN,MAAMM,KAArD,EAA4DJ,MAAMI,KAAlE;;AAEA;AACA;AACD,aAxBD,MAwBO;AACL,kBAAIW,MAAMniB,OAAOoiB,SAAP,IAAoBpiB,OAAOqiB,OAA3B,IAAsC,EAAhD;;AAEA,mBAAK,IAAI1pC,IAAI,CAAb,EAAgBA,IAAIwpC,IAAI1pC,MAAxB,EAAgCE,GAAhC,EAAqC;AACnC,oBAAI0E,KAAK8kC,IAAIxpC,CAAJ,CAAT;;AAEAsoC,sBAAM5jC,GAAG1F,CAAH,GAAO6pC,KAAb;AACAN,sBAAM7jC,GAAG1F,CAAH,GAAO6pC,KAAb;AACAL,sBAAM9jC,GAAGzF,CAAH,GAAO4pC,KAAb;AACAJ,sBAAM/jC,GAAGzF,CAAH,GAAO4pC,KAAb;;AAEApD,6BAAaK,MAAb,EAAqBwC,GAArB,EAA0BE,GAA1B,EAA+BD,GAA/B,EAAoCE,GAApC;AACD;;AAED;AACA;AACA,kBAAIe,IAAI1pC,MAAJ,KAAe,CAAnB,EAAsB;AACpB,oBAAI6pC,KAAKrpC,IAAIgV,MAAJ,EAAT;AACA,oBAAIs0B,QAAQD,GAAG9xB,QAAH,EAAZ;;AAEA,oBAAIgyB,KAAKvpC,IAAIiV,MAAJ,EAAT;AACA,oBAAIu0B,QAAQD,GAAGhyB,QAAH,EAAZ;;AAEAywB,sBAAMsB,MAAM5qC,CAAZ;AACAupC,sBAAMuB,MAAM9qC,CAAZ;AACAwpC,sBAAMoB,MAAM3qC,CAAZ;AACAwpC,sBAAMqB,MAAM7qC,CAAZ;;AAEA,oBAAIqpC,MAAMC,GAAV,EAAe;AACb,sBAAIwB,SAASzB,GAAb;AACAA,wBAAMC,GAAN;AACAA,wBAAMwB,MAAN;AACD;;AAED,oBAAIvB,MAAMC,GAAV,EAAe;AACb,sBAAIuB,SAASxB,GAAb;AACAA,wBAAMC,GAAN;AACAA,wBAAMuB,MAAN;AACD;;AAED;AACA1B,uBAAOO,KAAP;AACAN,uBAAOM,KAAP;AACAL,uBAAOK,KAAP;AACAJ,uBAAOI,KAAP;;AAEApD,6BAAaK,MAAb,EAAqBwC,GAArB,EAA0BE,GAA1B,EAA+BD,GAA/B,EAAoCE,GAApC;AACD;AACF;AACF,WArIY,CAqIX;;;AAGF;AACA;;AAEA,cAAIjlB,gBAAgBjN,QAAQ6yB,YAAxB,IAAwChwB,MAA5C,EAAoD;AAClDysB,kCAAsBC,MAAtB,EAA8BxlC,GAA9B,EAAmC,YAAnC,EAAiDiW,OAAjD;AACAsvB,kCAAsBC,MAAtB,EAA8BxlC,GAA9B,EAAmC,YAAnC,EAAiDiW,OAAjD;AACAsvB,kCAAsBC,MAAtB,EAA8BxlC,GAA9B,EAAmC,QAAnC,EAA6CiW,OAA7C;AACAsvB,kCAAsBC,MAAtB,EAA8BxlC,GAA9B,EAAmC,QAAnC,EAA6CiW,OAA7C;AACD;;AAED;AACA;;AAEA,cAAIiN,YAAJ,EAAkB;AAChB,gBAAIymB,QAAQ3pC,IAAI4nB,MAAJ,CAAW,OAAX,EAAoBtwB,KAApB,KAA8B,KAA1C;;AAEA,gBAAIqyC,KAAJ,EAAW;AACT,kBAAIC,KAAK5pC,IAAI4nB,MAAJ,CAAW,gBAAX,EAA6Byb,OAAtC;AACA,kBAAIwG,KAAK7pC,IAAI4nB,MAAJ,CAAW,gBAAX,EAA6Byb,OAAtC;;AAEA8B,2BAAaK,MAAb,EAAqBA,OAAO/pC,EAAP,GAAYmuC,EAAjC,EAAqCpE,OAAO7pC,EAAP,GAAYkuC,EAAjD,EAAqDrE,OAAO9pC,EAAP,GAAYkuC,EAAjE,EAAqEpE,OAAO5pC,EAAP,GAAYiuC,EAAjF;AACD;AACF;;AAED;AACA;;AAEA,cAAI3mB,YAAJ,EAAkB;;AAEhB8kB,kBAAMxC,OAAO/pC,EAAb;AACAwsC,kBAAMzC,OAAO9pC,EAAb;AACAwsC,kBAAM1C,OAAO7pC,EAAb;AACAwsC,kBAAM3C,OAAO5pC,EAAb;;AAEAupC,yBAAaK,MAAb,EAAqBwC,MAAMM,cAA3B,EAA2CJ,MAAMI,cAAjD,EAAiEL,MAAMK,cAAvE,EAAuFH,MAAMG,cAA7F;AACD;;AAED;AACA;;AAEA,cAAIplB,gBAAgBjN,QAAQmtB,aAA5B,EAA2C;AACzC8C,kCAAsBV,MAAtB,EAA8BxlC,GAA9B,EAAmC,IAAnC,EAAyCiW,OAAzC;;AAEA,gBAAI6C,MAAJ,EAAY;AACVotB,oCAAsBV,MAAtB,EAA8BxlC,GAA9B,EAAmC,QAAnC,EAA6CiW,OAA7C;AACAiwB,oCAAsBV,MAAtB,EAA8BxlC,GAA9B,EAAmC,QAAnC,EAA6CiW,OAA7C;AACD;AACF,WAvLY,CAuLX;AACH,SAhN0D,CAgNzD;;AAEFuvB,eAAO/pC,EAAP,GAAYypC,OAAOM,OAAO/pC,EAAd,CAAZ;AACA+pC,eAAO7pC,EAAP,GAAYupC,OAAOM,OAAO7pC,EAAd,CAAZ;AACA6pC,eAAO9pC,EAAP,GAAYwpC,OAAOM,OAAO9pC,EAAd,CAAZ;AACA8pC,eAAO5pC,EAAP,GAAYspC,OAAOM,OAAO5pC,EAAd,CAAZ;AACA4pC,eAAO/hC,CAAP,GAAWyhC,OAAOM,OAAO9pC,EAAP,GAAY8pC,OAAO/pC,EAA1B,CAAX;AACA+pC,eAAO9hC,CAAP,GAAWwhC,OAAOM,OAAO5pC,EAAP,GAAY4pC,OAAO7pC,EAA1B,CAAX;;AAEA;AACA,YAAI6pC,OAAO/hC,CAAP,GAAW,CAAX,IAAgB+hC,OAAO9hC,CAAP,GAAW,CAA3B,IAAgC0kC,SAApC,EAA+C;AAC7ClrC,eAAK6G,iBAAL,CAAuByhC,MAAvB,EAA+B,CAA/B;AACD;;AAED,eAAOA,MAAP;AACD,OA/ND;;AAiOA,UAAIsE,KAAK,SAASA,EAAT,CAAYjqC,GAAZ,EAAiB;AACxB,YAAIA,GAAJ,EAAS;AACP,iBAAO,GAAP;AACD,SAFD,MAEO;AACL,iBAAO,GAAP;AACD;AACF,OAND;;AAQA,UAAIkqC,SAAS,SAASA,MAAT,CAAgBhzB,IAAhB,EAAsB;AACjC,YAAIwG,MAAM,EAAV;;AAEAA,eAAOusB,GAAG/yB,KAAKizB,WAAR,CAAP;AACAzsB,eAAOusB,GAAG/yB,KAAK+xB,YAAR,CAAP;AACAvrB,eAAOusB,GAAG/yB,KAAKqsB,aAAR,CAAP;AACA7lB,eAAOusB,GAAG/yB,KAAK2sB,eAAR,CAAP;;AAEA,eAAOnmB,GAAP;AACD,OATD;;AAWA,UAAI0sB,wBAAwB,SAASA,qBAAT,CAA+BjqC,GAA/B,EAAoC+W,IAApC,EAA0C;AACpE,YAAIkL,KAAKjiB,IAAIpF,QAAb;AACA,YAAI2I,KAAK,KAAK,CAAd;AACA,YAAIse,WAAW7hB,IAAI4V,EAAJ,GAASiM,QAAT,EAAf;AACA,YAAItE,MAAMxG,SAASmzB,SAAT,GAAqBC,YAArB,GAAoCJ,OAAOhzB,IAAP,CAA9C;;AAEA,YAAI,CAACA,KAAK4sB,QAAN,IAAkB9hB,QAAlB,IAA8B,CAACI,GAAGmoB,OAAlC,IAA6C,CAACnoB,GAAGmoB,OAAH,CAAW7sB,GAAX,CAAlD,EAAmE;AACjEha,eAAKukC,gBAAgB9nC,GAAhB,EAAqB+W,IAArB,CAAL;;AAEA,cAAI,CAAC8K,QAAL,EAAe;AACbI,eAAGmoB,OAAH,GAAanoB,GAAGmoB,OAAH,IAAc,EAA3B;AACAnoB,eAAGmoB,OAAH,CAAW7sB,GAAX,IAAkBha,EAAlB;AACD;AACF,SAPD,MAOO;AACLA,eAAK0e,GAAGmoB,OAAH,CAAW7sB,GAAX,CAAL;AACD;;AAED,eAAOha,EAAP;AACD,OAlBD;;AAoBA,UAAI2mC,YAAY;AACd1B,sBAAc,IADA;AAEdM,sBAAc,IAFA;AAGd1F,uBAAe,IAHD;AAIdM,yBAAiB,IAJH;AAKdC,kBAAU;AALI,OAAhB;;AAQA,UAAIwG,eAAeJ,OAAOG,SAAP,CAAnB;;AAEA,eAASG,YAAT,CAAsBp0B,OAAtB,EAA+B;AAC7B,eAAO;AACLuyB,wBAAcrrC,KAAKyC,OAAL,CAAaqW,QAAQuyB,YAArB,EAAmC0B,UAAU1B,YAA7C,CADT;AAELM,wBAAc3rC,KAAKyC,OAAL,CAAaqW,QAAQ6yB,YAArB,EAAmCoB,UAAUpB,YAA7C,CAFT;AAGL1F,yBAAejmC,KAAKyC,OAAL,CAAaqW,QAAQmtB,aAArB,EAAoC8G,UAAU9G,aAA9C,CAHV;AAILM,2BAAiBvmC,KAAKyC,OAAL,CAAaqW,QAAQytB,eAArB,EAAsCwG,UAAUxG,eAAhD,CAJZ;AAKLC,oBAAUxmC,KAAKyC,OAAL,CAAaqW,QAAQ0tB,QAArB,EAA+BuG,UAAUvG,QAAzC;AALL,SAAP;AAOD;;AAED9sB,aAAOrb,WAAP,GAAqB,UAAUya,OAAV,EAAmB;AACtC;AACA;AACA;AACA,YAAI,KAAKzW,MAAL,KAAgB,CAAhB,IAAqB,KAAK,CAAL,EAAQ5E,QAAR,CAAiBwvC,OAAtC,KAAkDn0B,YAAYzb,SAAZ,IAAyByb,QAAQ0tB,QAAR,KAAqBnpC,SAA9C,IAA2Dyb,QAAQ0tB,QAAR,KAAqB,IAAlI,CAAJ,EAA6I;AAC3I,cAAI1tB,YAAYzb,SAAhB,EAA2B;AACzByb,sBAAUi0B,SAAV;AACD,WAFD,MAEO;AACLj0B,sBAAUo0B,aAAap0B,OAAb,CAAV;AACD;;AAED,iBAAOg0B,sBAAsB,KAAK,CAAL,CAAtB,EAA+Bh0B,OAA/B,CAAP;AACD;;AAED,YAAIuvB,SAAS;AACX/pC,cAAI+H,QADO;AAEX7H,cAAI6H,QAFO;AAGX9H,cAAI,CAAC8H,QAHM;AAIX5H,cAAI,CAAC4H;AAJM,SAAb;;AAOAyS,kBAAUA,WAAW9Y,KAAKiC,iBAAL,EAArB;;AAEA,YAAI2X,OAAOszB,aAAap0B,OAAb,CAAX;;AAEA,YAAIG,OAAO,IAAX;AACA,YAAIR,KAAKQ,KAAKR,EAAL,EAAT;AACA,YAAIsN,eAAetN,GAAGsN,YAAH,EAAnB;;AAEA,YAAIA,YAAJ,EAAkB;AAChB,eAAKonB,wBAAL,CAA8BvzB,KAAK4sB,QAAnC;AACD;;AAED,aAAKX,oBAAL;;AAEA,YAAIuH,cAAc,EAAlB,CAnCsC,CAmChB;;AAEtB,aAAK,IAAItzC,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;;AAEA,cAAIisB,gBAAgBljB,IAAI8Y,MAAJ,EAAhB,IAAgC9Y,IAAI4nB,MAAJ,CAAW,aAAX,EAA0Bye,QAA1B,KAAuC,QAAvE,IAAmF,CAACkE,YAAYvqC,IAAI6Q,EAAJ,EAAZ,CAAxF,EAA+G;AAC7G,gBAAI2H,QAAQxY,IAAIia,aAAJ,EAAZ;;AAEA,iBAAK,IAAIva,IAAI,CAAb,EAAgBA,IAAI8Y,MAAMhZ,MAA1B,EAAkCE,GAAlC,EAAuC;AACrC;AACA6qC,0BAAY/xB,MAAM9Y,CAAN,EAASmR,EAAT,EAAZ,IAA6B,IAA7B;AACD;;AAED2H,kBAAM8xB,wBAAN,CAA+BvzB,KAAK4sB,QAApC,EAR6G,CAQ9D;AAChD;;AAEDyB,8BAAoBI,MAApB,EAA4ByE,sBAAsBjqC,GAAtB,EAA2B+W,IAA3B,CAA5B;AACD;;AAEDyuB,eAAO/pC,EAAP,GAAYypC,OAAOM,OAAO/pC,EAAd,CAAZ;AACA+pC,eAAO7pC,EAAP,GAAYupC,OAAOM,OAAO7pC,EAAd,CAAZ;AACA6pC,eAAO9pC,EAAP,GAAYwpC,OAAOM,OAAO9pC,EAAd,CAAZ;AACA8pC,eAAO5pC,EAAP,GAAYspC,OAAOM,OAAO5pC,EAAd,CAAZ;AACA4pC,eAAO/hC,CAAP,GAAWyhC,OAAOM,OAAO9pC,EAAP,GAAY8pC,OAAO/pC,EAA1B,CAAX;AACA+pC,eAAO9hC,CAAP,GAAWwhC,OAAOM,OAAO5pC,EAAP,GAAY4pC,OAAO7pC,EAA1B,CAAX;;AAEA,eAAO6pC,MAAP;AACD,OA9DD;;AAgEA;AACA;AACA;AACA;AACA3uB,aAAO2zB,aAAP,GAAuB,UAAU9wC,EAAV,EAAc;AACnC,YAAI6e,QAAQ,KAAKA,KAAL,EAAZ;;AAEA,YAAI9e,GAAGO,WAAH,CAAeN,EAAf,CAAJ,EAAwB;AACtB,cAAIb,MAAMa,EAAV;;AAEAA,eAAK,SAASA,EAAT,GAAc;AACjB,mBAAOb,GAAP;AACD,WAFD;AAGD;;AAED;AACA,aAAK,IAAI5B,IAAI,CAAb,EAAgBA,IAAIshB,MAAM/Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,cAAIe,IAAIugB,MAAMthB,CAAN,CAAR;AACA,cAAIgrB,KAAKjqB,EAAE4C,QAAX;AACA,cAAI6D,MAAMwjB,GAAG1K,QAAb;AACA,cAAIkzB,SAAS/wC,GAAGvC,IAAH,CAAQa,CAAR,EAAWA,CAAX,EAAcf,CAAd,CAAb;;AAEAgrB,aAAGyoB,UAAH,GAAgB,EAAEhsC,GAAGD,IAAIC,CAAT,EAAYC,GAAGF,IAAIE,CAAnB,EAAhB;;AAEA,cAAI8rC,MAAJ,EAAY;AACVhsC,gBAAIC,CAAJ,GAAQ+rC,OAAO/rC,CAAf;AACAD,gBAAIE,CAAJ,GAAQ8rC,OAAO9rC,CAAf;AACD;AACF;;AAED,aAAK4b,IAAL,CAAU,OAAV,EA1BmC,CA0Bf;;AAEpBhC,cAAM6B,wBAAN,GAAiC4oB,oBAAjC;;AAEA,YAAIz/B,KAAK,KAAK/H,WAAL,CAAiB,EAAEmoC,UAAU,KAAZ,EAAjB,CAAT;;AAEA;AACA,aAAK,IAAI/0B,KAAK,CAAd,EAAiBA,KAAK2J,MAAM/Y,MAA5B,EAAoCoP,IAApC,EAA0C;AACxC,cAAI+7B,KAAKpyB,MAAM3J,EAAN,CAAT;AACA,cAAIg8B,MAAMD,GAAG/vC,QAAb;AACA,cAAIiwC,OAAOF,GAAG/vC,QAAH,CAAY2c,QAAvB;AACA,cAAIuzB,MAAMF,IAAIF,UAAd;;AAEAG,eAAKnsC,CAAL,GAASosC,IAAIpsC,CAAb;AACAmsC,eAAKlsC,CAAL,GAASmsC,IAAInsC,CAAb;AACD;;AAED4Z,cAAM6B,wBAAN;;AAEA,aAAKG,IAAL,CAAU,OAAV,EA7CmC,CA6Cf;;AAEpB,eAAOhX,EAAP;AACD,OAhDD;;AAkDA7J,SAAGqxC,WAAH,GAAiBrxC,GAAG8B,WAApB;AACA9B,SAAGsxC,mBAAH,GAAyBtxC,GAAGqpC,mBAA5B;;AAEAxsC,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KA1lQG;AA2lQV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIk0C,SAAS,SAASA,MAAT,CAAgBh4B,IAAhB,EAAsBnX,IAAtB,EAA4B;AACvC,YAAImX,KAAK6F,MAAL,EAAJ,EAAmB;AACjB,iBAAOhd,KAAKmX,KAAKgE,QAAL,EAAL,CAAP;AACD;AACF,OAJD;;AAMA1gB,aAAOD,OAAP,GAAiB;AACf40C,uBAAe,SAASA,aAAT,GAAyB;AACtC,cAAI7sB,QAAQ,IAAZ;;AAEA,iBAAO4sB,OAAO,IAAP,EAAa,UAAUh0B,QAAV,EAAoB;AACtC,mBAAOA,SAASk0B,gBAAT,CAA0B9sB,KAA1B,CAAP;AACD,WAFM,CAAP;AAGD,SAPc;AAQf+sB,uBAAe,SAASA,aAAT,GAAyB;AACtC,cAAIC,SAAS,IAAb;;AAEA,iBAAOJ,OAAO,IAAP,EAAa,UAAUh0B,QAAV,EAAoB;AACtC,mBAAOA,SAASq0B,gBAAT,CAA0BD,MAA1B,CAAP;AACD,WAFM,CAAP;AAGD,SAdc;AAefE,wBAAgB,SAASA,cAAT,GAA0B;AACxC,cAAIC,SAAS,IAAb;;AAEA,iBAAOP,OAAO,IAAP,EAAa,UAAUh0B,QAAV,EAAoB;AACtC,mBAAOA,SAASw0B,iBAAT,CAA2BD,MAA3B,CAAP;AACD,WAFM,CAAP;AAGD,SArBc;AAsBfE,wBAAgB,SAASA,cAAT,GAA0B;AACxC,cAAIC,SAAS,IAAb;;AAEA,iBAAOV,OAAO,IAAP,EAAa,UAAUh0B,QAAV,EAAoB;AACtC,mBAAOA,SAAS20B,iBAAT,CAA2BD,MAA3B,CAAP;AACD,WAFM,CAAP;AAGD,SA5Bc;AA6BfE,kBAAU,SAASA,QAAT,GAAoB;AAC5B,cAAIC,SAAS,IAAb;;AAEA,iBAAOb,OAAO,IAAP,EAAa,UAAUh0B,QAAV,EAAoB;AACtC,mBAAOA,SAAS80B,eAAT,CAAyBD,MAAzB,CAAP;AACD,WAFM,CAAP;AAGD;AAnCc,OAAjB;;AAsCA;AAAO,KA7oQG;AA8oQV;AACA,SAAO,UAASv1C,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAIwgB,WAAWxgB,oBAAoB,EAApB,CAAf;AACA,UAAIyuC,SAASzuC,oBAAoB,EAApB,CAAb;AACA,UAAIi1C,cAAcj1C,oBAAoB,EAApB,CAAlB;AACA,UAAIk1C,aAAal1C,oBAAoB,EAApB,CAAjB;;AAEAR,aAAOD,OAAP,GAAiB6G,KAAKkC,MAAL,CAAY,EAAZ,EAAgBkY,QAAhB,EAA0BiuB,MAA1B,EAAkCwG,WAAlC,EAA+CC,UAA/C,CAAjB;;AAEA;AAAO,KA5pQG;AA6pQV;AACA,SAAO,UAAS11C,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIN,SAASM,oBAAoB,CAApB,CAAb;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;AACA,UAAI2C,KAAK,KAAK,CAAd;AAAA,UACImd,SAAS,KAAK,CADlB;;AAGA,UAAIq1B,oBAAoB,SAASA,iBAAT,CAA2B91B,IAA3B,EAAiCq0B,MAAjC,EAAyC;AAC/D,aAAK,IAAIxzC,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;;AAEA,cAAI+I,IAAI4b,QAAJ,MAAkB,CAAC5b,IAAIgY,MAAJ,EAAvB,EAAqC;AACnC,gBAAIm0B,SAASnsC,IAAIpF,QAAJ,CAAa2c,QAA1B;AACA,gBAAI60B,QAAQ;AACV1tC,iBAAG+rC,OAAO/rC,CAAP,GAAWytC,OAAOztC,CADX;AAEVC,iBAAG8rC,OAAO9rC,CAAP,GAAWwtC,OAAOxtC;AAFX,aAAZ;;AAKAyX,iBAAKwD,QAAL,GAAgByd,KAAhB,CAAsB+U,KAAtB;AACD;AACF;AACF,OAdD;;AAgBA1yC,WAAKmd,SAAS;;AAEZU,kBAAU9gB,OAAOge,IAAP,CAAY;AACpBC,iBAAO,UADa;AAEpBuR,wBAAc,UAFM;AAGpBC,wBAAc,IAHM;AAIpBC,wBAAc,IAJM;AAKpBC,wBAAc,UALM;AAMpBC,gCAAsB,IANF;AAOpBC,yBAAe,eAPK;AAQpBC,wBAAc,IARM;AASpB8lB,qBAAW,CAAC,GAAD,EAAM,GAAN,CATS;AAUpBC,qBAAW,SAASA,SAAT,CAAmBtsC,GAAnB,EAAwB;AACjCA,gBAAIgjC,oBAAJ;AACD,WAZmB;AAapBuJ,qBAAWL,iBAbS;AAcpBM,iBAAO,SAASA,KAAT,CAAep2B,IAAf,EAAqB;AAC1BA,iBAAKgE,wBAAL;AACD,WAhBmB;AAiBpBqyB,kBAAQ,SAASA,MAAT,CAAgBzsC,GAAhB,EAAqB;AAC3B,mBAAO,CAACA,IAAIgY,MAAJ,EAAR;AACD;AAnBmB,SAAZ,CAFE;;AAwBZ;AACA00B,wBAAgBj2C,OAAOge,IAAP,CAAY;AAC1BC,iBAAO,UADmB;AAE1BuR,wBAAc,UAFY;AAG1BC,wBAAc,KAHY;AAI1BC,wBAAc,IAJY;AAK1BC,wBAAc,UALY;AAM1BC,gCAAsB,KANI;AAO1BC,yBAAe,SAPW;AAQ1BC,wBAAc,KARY;AAS1B8lB,qBAAW,CAAC,GAAD,EAAM,GAAN,CATe;AAU1BE,qBAAWL,iBAVe;AAW1BM,iBAAO,SAASA,KAAT,CAAep2B,IAAf,EAAqB;AAC1BA,iBAAKgE,wBAAL;AACD,WAbyB;AAc1BqyB,kBAAQ,SAASA,MAAT,CAAgBzsC,GAAhB,EAAqB;AAC3B,mBAAO,CAACA,IAAIgY,MAAJ,EAAR;AACD;AAhByB,SAAZ,CAzBJ;;AA4CZ20B,mBAAW,SAASA,SAAT,CAAmBluC,GAAnB,EAAwBmuC,MAAxB,EAAgC;AACzC,cAAInzC,GAAGO,WAAH,CAAeyE,GAAf,CAAJ,EAAyB;AACvB,gBAAImuC,MAAJ,EAAY;AACV,mBAAKF,cAAL,CAAoBjuC,GAApB;AACD,aAFD,MAEO;AACL,mBAAK8Y,QAAL,CAAc9Y,GAAd;AACD;AACF,WAND,MAMO,IAAIhF,GAAGC,EAAH,CAAM+E,GAAN,CAAJ,EAAgB;AACrB,gBAAIouC,MAAMpuC,GAAV;AACA,gBAAImX,KAAK,KAAKA,EAAL,EAAT;;AAEAA,eAAG0B,UAAH;;AAEA,iBAAK,IAAIrgB,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,kBAAI+I,MAAM,KAAK/I,CAAL,CAAV;AACA,kBAAI4zC,OAAO,KAAK,CAAhB;;AAEA,kBAAIA,OAAOgC,IAAI7sC,GAAJ,EAAS/I,CAAT,CAAX,EAAwB;AACtB,oBAAI21C,MAAJ,EAAY;AACV5sC,sBAAI0sC,cAAJ,CAAmB7B,IAAnB;AACD,iBAFD,MAEO;AACL7qC,sBAAIuX,QAAJ,CAAaszB,IAAb;AACD;AACF;AACF;;AAEDj1B,eAAGgC,QAAH;AACD;;AAED,iBAAO,IAAP,CA7ByC,CA6B5B;AACd,SA1EW;;AA4EZk1B,yBAAiB,SAASA,eAAT,CAAyBruC,GAAzB,EAA8B;AAC7C,iBAAO,KAAKkuC,SAAL,CAAeluC,GAAf,EAAoB,IAApB,CAAP;AACD,SA9EW;;AAgFZ44B,eAAO,SAASA,KAAT,CAAe0V,GAAf,EAAoBltC,GAApB,EAAyB;AAC9B,cAAIusC,QAAQ,KAAK,CAAjB;;AAEA,cAAI3yC,GAAGO,WAAH,CAAe+yC,GAAf,CAAJ,EAAyB;AACvBX,oBAAQW,GAAR;AACD,WAFD,MAEO,IAAItzC,GAAGG,MAAH,CAAUmzC,GAAV,KAAkBtzC,GAAGQ,MAAH,CAAU4F,GAAV,CAAtB,EAAsC;AAC3CusC,oBAAQ,EAAE1tC,GAAG,CAAL,EAAQC,GAAG,CAAX,EAAR;;AAEAytC,kBAAMW,GAAN,IAAaltC,GAAb;AACD;;AAED,cAAIusC,SAAS,IAAb,EAAmB;AACjB,iBAAK,IAAIn1C,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,kBAAI+I,MAAM,KAAK/I,CAAL,CAAV;AACA,kBAAIwH,MAAMuB,IAAIuX,QAAJ,EAAV;;AAEAvX,kBAAIuX,QAAJ,CAAa;AACX7Y,mBAAGD,IAAIC,CAAJ,GAAQ0tC,MAAM1tC,CADN;AAEXC,mBAAGF,IAAIE,CAAJ,GAAQytC,MAAMztC;AAFN,eAAb;AAID;AACF;;AAED,iBAAO,IAAP;AACD,SAxGW;;AA0GZ;AACA2oB,0BAAkB,SAASA,gBAAT,CAA0BylB,GAA1B,EAA+BltC,GAA/B,EAAoC;AACpD,cAAIG,MAAM,KAAK,CAAL,CAAV;AACA,cAAI4V,KAAK,KAAKA,EAAL,EAAT;AACA,cAAIxU,OAAOwU,GAAGxU,IAAH,EAAX;AACA,cAAIC,MAAMuU,GAAGvU,GAAH,EAAV;AACA,cAAIkmB,OAAO9tB,GAAGO,WAAH,CAAe+yC,GAAf,IAAsBA,GAAtB,GAA4BvyC,SAAvC;AACA,cAAIwyC,UAAUzlB,SAAS/sB,SAAT,IAAsBqF,QAAQrF,SAAR,IAAqBf,GAAGG,MAAH,CAAUmzC,GAAV,CAAzD;;AAEA,cAAI/sC,OAAOA,IAAIyY,MAAJ,EAAX,EAAyB;AACvB;AACA,gBAAIu0B,OAAJ,EAAa;AACX,mBAAK,IAAI/1C,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,oBAAI2hB,OAAO,KAAK3hB,CAAL,CAAX;;AAEA,oBAAI4I,QAAQrF,SAAZ,EAAuB;AACrB;AACAoe,uBAAKrB,QAAL,CAAcw1B,GAAd,EAAmB,CAACltC,MAAMwB,IAAI0rC,GAAJ,CAAP,IAAmB3rC,IAAtC;AACD,iBAHD,MAGO,IAAImmB,SAAS/sB,SAAb,EAAwB;AAC7B;AACAoe,uBAAKrB,QAAL,CAAcra,KAAKoE,uBAAL,CAA6BimB,IAA7B,EAAmCnmB,IAAnC,EAAyCC,GAAzC,CAAd;AACD;AACF;AACF,aAZD,MAYO;AACL;AACA,kBAAI5C,MAAMuB,IAAIuX,QAAJ,EAAV;AACAgQ,qBAAOrqB,KAAKiE,uBAAL,CAA6B1C,GAA7B,EAAkC2C,IAAlC,EAAwCC,GAAxC,CAAP;;AAEA,kBAAI0rC,QAAQvyC,SAAZ,EAAuB;AACrB;AACA,uBAAO+sB,IAAP;AACD,eAHD,MAGO;AACL;AACA,uBAAOA,KAAKwlB,GAAL,CAAP;AACD;AACF;AACF,WA3BD,MA2BO,IAAI,CAACC,OAAL,EAAc;AACnB,mBAAOxyC,SAAP,CADmB,CACD;AACnB;;AAED,iBAAO,IAAP,CAvCoD,CAuCvC;AACd,SAnJW;;AAqJZ;AACAyyC,0BAAkB,SAASA,gBAAT,CAA0BF,GAA1B,EAA+BltC,GAA/B,EAAoC;AACpD,cAAIG,MAAM,KAAK,CAAL,CAAV;AACA,cAAI4V,KAAK,KAAKA,EAAL,EAAT;AACA,cAAIs3B,OAAOzzC,GAAGO,WAAH,CAAe+yC,GAAf,IAAsBA,GAAtB,GAA4BvyC,SAAvC;AACA,cAAIwyC,UAAUE,SAAS1yC,SAAT,IAAsBqF,QAAQrF,SAAR,IAAqBf,GAAGG,MAAH,CAAUmzC,GAAV,CAAzD;AACA,cAAIlzB,mBAAmBjE,GAAGiE,gBAAH,EAAvB;;AAEA,cAAI7Z,OAAOA,IAAIyY,MAAJ,EAAX,EAAyB;AACvB;AACA,gBAAIu0B,OAAJ,EAAa;AACX,mBAAK,IAAI/1C,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,oBAAI+iB,QAAQ,KAAK/iB,CAAL,CAAZ;AACA,oBAAIke,SAAS0E,mBAAmBG,MAAM7E,MAAN,EAAnB,GAAoC,IAAjD;AACA,oBAAIg4B,YAAYh4B,UAAUA,OAAO3V,MAAP,GAAgB,CAA1C;AACA,oBAAI4tC,mBAAmBD,SAAvB;;AAEA,oBAAIA,SAAJ,EAAe;AACbh4B,2BAASA,OAAO,CAAP,CAAT;AACD;;AAED,oBAAIk4B,SAASD,mBAAmBj4B,OAAOoC,QAAP,EAAnB,GAAuC,EAAE7Y,GAAG,CAAL,EAAQC,GAAG,CAAX,EAApD;;AAEA,oBAAIkB,QAAQrF,SAAZ,EAAuB;AACrB;AACAwf,wBAAMzC,QAAN,CAAew1B,GAAf,EAAoBltC,MAAMwtC,OAAON,GAAP,CAA1B;AACD,iBAHD,MAGO,IAAIG,SAAS1yC,SAAb,EAAwB;AAC7B;AACAwf,wBAAMzC,QAAN,CAAe;AACb7Y,uBAAGwuC,KAAKxuC,CAAL,GAAS2uC,OAAO3uC,CADN;AAEbC,uBAAGuuC,KAAKvuC,CAAL,GAAS0uC,OAAO1uC;AAFN,mBAAf;AAID;AACF;AACF,aAxBD,MAwBO;AACL;AACA,kBAAIF,MAAMuB,IAAIuX,QAAJ,EAAV;AACA,kBAAI2pB,UAAUrnB,mBAAmB7Z,IAAImV,MAAJ,EAAnB,GAAkC,IAAhD;AACA,kBAAIm4B,aAAapM,WAAWA,QAAQ1hC,MAAR,GAAiB,CAA7C;AACA,kBAAI+tC,oBAAoBD,UAAxB;;AAEA,kBAAIA,UAAJ,EAAgB;AACdpM,0BAAUA,QAAQ,CAAR,CAAV;AACD;;AAED,kBAAIsM,UAAUD,oBAAoBrM,QAAQ3pB,QAAR,EAApB,GAAyC,EAAE7Y,GAAG,CAAL,EAAQC,GAAG,CAAX,EAAvD;;AAEAuuC,qBAAO;AACLxuC,mBAAGD,IAAIC,CAAJ,GAAQ8uC,QAAQ9uC,CADd;AAELC,mBAAGF,IAAIE,CAAJ,GAAQ6uC,QAAQ7uC;AAFd,eAAP;;AAKA,kBAAIouC,QAAQvyC,SAAZ,EAAuB;AACrB;AACA,uBAAO0yC,IAAP;AACD,eAHD,MAGO;AACL;AACA,uBAAOA,KAAKH,GAAL,CAAP;AACD;AACF;AACF,WApDD,MAoDO,IAAI,CAACC,OAAL,EAAc;AACnB,mBAAOxyC,SAAP,CADmB,CACD;AACnB;;AAED,iBAAO,IAAP,CA/DoD,CA+DvC;AACd;AAtNW,OAAd;;AAyNA;AACAd,SAAG+zC,aAAH,GAAmB/zC,GAAGg0C,KAAH,GAAWh0C,GAAG6d,QAAjC;AACA7d,SAAGi0C,cAAH,GAAoBj0C,GAAG2P,MAAH,GAAY3P,GAAGizC,SAAnC;AACAjzC,SAAGk0C,aAAH,GAAmBl0C,GAAG4tB,gBAAtB;AACA5tB,SAAGm0C,aAAH,GAAmBn0C,GAAGuzC,gBAAtB;;AAEA12C,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KA15QG;AA25QV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI2C,KAAK,KAAK,CAAd;AAAA,UACImd,SAAS,KAAK,CADlB;;AAGAnd,WAAKmd,SAAS,EAAd;;AAEA,UAAIi3B,eAAe,SAASA,YAAT,CAAsB/2B,IAAtB,EAA4B;AAC7CA,aAAKg3B,aAAL,GAAqB5wC,KAAK6wC,UAAL,CAAgBj3B,KAAKvf,IAArB,CAArB;AACAuf,aAAKk3B,QAAL,GAAgB,SAASl3B,KAAKg3B,aAA9B;AACAh3B,aAAKm3B,SAAL,GAAiB,UAAUn3B,KAAKg3B,aAAhC;AACAh3B,aAAKo3B,SAAL,GAAiB,UAAUp3B,KAAKg3B,aAAhC;AACAh3B,aAAKq3B,kBAAL,GAA0BjxC,KAAK6wC,UAAL,CAAgBj3B,KAAKo3B,SAArB,CAA1B;;AAEAz0C,WAAGqd,KAAKvf,IAAR,IAAgB,SAAS62C,OAAT,GAAmB;AACjC,cAAIruC,MAAM,KAAK,CAAL,CAAV;AACA,cAAIiiB,KAAKjiB,IAAIpF,QAAb;AACA,cAAIgb,KAAKqM,GAAGrM,EAAZ;AACA,cAAIsN,eAAetN,GAAGhb,QAAH,CAAYsoB,YAA/B;;AAEA,cAAIljB,GAAJ,EAAS;AACP,gBAAIkjB,YAAJ,EAAkB;AAChB,kBAAIljB,IAAI4b,QAAJ,EAAJ,EAAoB;AAClB5b,oBAAIgjC,oBAAJ;;AAEA,uBAAO/gB,GAAGlL,KAAKk3B,QAAR,KAAqB,CAA5B;AACD;;AAED,kBAAI12C,IAAIyI,IAAI4nB,MAAJ,CAAW7Q,KAAKvf,IAAhB,CAAR;;AAEA,sBAAQD,EAAE8uC,QAAV;AACE,qBAAK,OAAL;AACErmC,sBAAIsqC,wBAAJ;;AAEA,yBAAOroB,GAAG8E,MAAH,CAAUhQ,KAAKm3B,SAAf,KAA6B,CAApC;;AAEF;AACE,yBAAO32C,EAAE8rC,OAAT;AAPJ;AASD,aAlBD,MAkBO;AACL,qBAAO,CAAP;AACD;AACF;AACF,SA7BD;;AA+BA3pC,WAAG,UAAUqd,KAAKg3B,aAAlB,IAAmC,SAASO,YAAT,GAAwB;AACzD,cAAItuC,MAAM,KAAK,CAAL,CAAV;AACA,cAAIiiB,KAAKjiB,IAAIpF,QAAb;AACA,cAAIgb,KAAKqM,GAAGrM,EAAZ;AACA,cAAIsN,eAAetN,GAAGhb,QAAH,CAAYsoB,YAA/B;;AAEA,cAAIljB,GAAJ,EAAS;AACP,gBAAIkjB,YAAJ,EAAkB;AAChB,kBAAI6pB,MAAM/sC,IAAI+W,KAAKvf,IAAT,GAAV;AACA,kBAAI+2C,SAASvuC,IAAI4nB,MAAJ,CAAW,cAAX,EAA2Byb,OAAxC,CAFgB,CAEiC;AACjD,kBAAIr/B,UAAU,IAAIhE,IAAIgE,OAAJ,EAAlB;;AAEA,qBAAO+oC,MAAMwB,MAAN,GAAevqC,OAAtB;AACD,aAND,MAMO;AACL,qBAAO,CAAP;AACD;AACF;AACF,SAjBD;;AAmBAtK,WAAG,aAAaqd,KAAKg3B,aAArB,IAAsC,SAASS,eAAT,GAA2B;AAC/D,cAAIxuC,MAAM,KAAK,CAAL,CAAV;;AAEA,cAAIA,GAAJ,EAAS;AACP,gBAAIzI,IAAIyI,IAAI+W,KAAKvf,IAAT,GAAR;AACA,mBAAOD,IAAI,KAAKqe,EAAL,GAAUxU,IAAV,EAAX;AACD;AACF,SAPD;;AASA1H,WAAG,aAAaqd,KAAKq3B,kBAArB,IAA2C,SAASK,oBAAT,GAAgC;AACzE,cAAIzuC,MAAM,KAAK,CAAL,CAAV;;AAEA,cAAIA,GAAJ,EAAS;AACP,gBAAI0uC,KAAK1uC,IAAI+W,KAAKo3B,SAAT,GAAT;AACA,mBAAOO,KAAK,KAAK94B,EAAL,GAAUxU,IAAV,EAAZ;AACD;AACF,SAPD;AAQD,OA1ED;;AA4EA0sC,mBAAa;AACXt2C,cAAM;AADK,OAAb;;AAIAs2C,mBAAa;AACXt2C,cAAM;AADK,OAAb;;AAIAqf,aAAO7S,OAAP,GAAiB,YAAY;AAC3B,YAAIhE,MAAM,KAAK,CAAL,CAAV;AACA,YAAIiiB,KAAKjiB,IAAIpF,QAAb;AACA,YAAIoF,IAAI4b,QAAJ,EAAJ,EAAoB;AAClB5b,cAAIgjC,oBAAJ;;AAEA,cAAI/gB,GAAG4E,WAAH,KAAmBrsB,SAAvB,EAAkC;AAChC,mBAAOynB,GAAG4E,WAAV;AACD,WAFD,MAEO;AACL,mBAAO7mB,IAAI4nB,MAAJ,CAAW,SAAX,EAAsByb,OAA7B;AACD;AACF,SARD,MAQO;AACL,iBAAOrjC,IAAI4nB,MAAJ,CAAW,SAAX,EAAsByb,OAA7B;AACD;AACF,OAdD;;AAgBA9sC,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KA7gRG;AA8gRV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIuoB,UAAUvoB,oBAAoB,EAApB,CAAd;AACA,UAAIN,SAASM,oBAAoB,CAApB,CAAb;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAIgc,WAAWhc,oBAAoB,CAApB,CAAf;;AAEA,UAAI43C,iBAAiB;AACnB/vB,0BAAkB,SAASA,gBAAT,CAA0BgwB,SAA1B,EAAqCC,SAArC,EAAgD;AAChE,cAAID,aAAa,IAAb,IAAqBC,aAAa,IAAtC,EAA4C;AAC1C,mBAAOD,aAAa,IAAb,IAAqBC,aAAa,IAAzC;AACD,WAFD,MAEO;AACL,mBAAOD,UAAU/6B,QAAV,CAAmBg7B,SAAnB,CAAP;AACD;AACF,SAPkB;AAQnB9vB,sBAAc,SAASA,YAAT,CAAsB/e,GAAtB,EAA2B6gB,QAA3B,EAAqCP,QAArC,EAA+C;AAC3D,cAAItN,WAAW6N,SAASjB,SAAxB;;AAEA,cAAI5M,YAAY,IAAhB,EAAsB;AACpB,mBAAOhT,QAAQsgB,SAASrL,MAAjB,IAA2Bxb,GAAGiB,OAAH,CAAW4lB,SAASrL,MAApB,CAA3B,IAA0DjC,SAASgY,OAAT,CAAiB1K,SAASrL,MAA1B,CAAjE;AACD;;AAED,iBAAO,IAAP;AACD,SAhBkB;AAiBnB+J,qBAAa,SAASA,WAAT,CAAqBhf,GAArB,EAA0B;AACrC,iBAAO;AACL4V,gBAAI5V,IAAI4V,EAAJ,EADC;AAELX,oBAAQjV;AAFH,WAAP;AAID,SAtBkB;AAuBnBif,yBAAiB,SAASA,eAAT,CAAyBjf,GAAzB,EAA8B6gB,QAA9B,EAAwCP,QAAxC,EAAkD;AACjE,iBAAOO,SAASjB,SAAT,IAAsB,IAAtB,GAA6BU,SAASrL,MAAtC,GAA+CjV,GAAtD;AACD,SAzBkB;AA0BnBmf,oBAAY,SAASA,UAAT,CAAoBD,OAApB,EAA6B2B,QAA7B,CAAsC,cAAtC,EAAsD;AAChE,cAAIA,SAAShB,IAAT,IAAiBgB,SAAShB,IAAT,CAAc6O,IAAnC,EAAyC;AACvC7N,qBAAShB,IAAT,CAAcivB,cAAd,CAA6BpuB,cAA7B,CAA4CG,SAAS5lB,KAArD,EAA4D4lB,SAASjB,SAArE,EAAgFiB,SAASvC,QAAzF;AACD;AACF,SA9BkB;AA+BnBe,gBAAQ,SAASA,MAAT,GAAkB;AACxB,iBAAO,IAAP;AACD,SAjCkB;AAkCnBlK,gBAAQ,SAASA,MAAT,CAAgBnV,GAAhB,EAAqB;AAC3B,iBAAOA,IAAIqrB,OAAJ,KAAgBrrB,IAAImV,MAAJ,EAAhB,GAA+BnV,IAAI4V,EAAJ,EAAtC;AACD;AApCkB,OAArB;;AAuCA,UAAIm5B,cAAc,SAASA,WAAT,CAAqBC,GAArB,EAA0B;AAC1C,YAAIv1C,GAAGG,MAAH,CAAUo1C,GAAV,CAAJ,EAAoB;AAClB,iBAAO,IAAIj8B,QAAJ,CAAai8B,GAAb,CAAP;AACD,SAFD,MAEO;AACL,iBAAOA,GAAP;AACD;AACF,OAND;;AAQA,UAAIn4B,SAAS;AACXyM,uBAAe,SAASA,aAAT,GAAyB;AACtC,eAAK,IAAIrsB,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAM,KAAK/I,CAAL,CAAV;AACA,gBAAIgrB,KAAKjiB,IAAIpF,QAAb;;AAEA,gBAAI,CAACqnB,GAAGuD,OAAR,EAAiB;AACfvD,iBAAGuD,OAAH,GAAa,IAAIlG,OAAJ,CAAYniB,KAAKkC,MAAL,CAAY;AACnC6f,yBAASlf;AAD0B,eAAZ,EAEtB2uC,cAFsB,CAAZ,CAAb;AAGD;AACF;;AAED,iBAAO,IAAP;AACD,SAdU;;AAgBXnpB,iBAAS,SAASA,OAAT,GAAmB;AAC1B,iBAAO,KAAK5qB,QAAL,CAAc4qB,OAArB;AACD,SAlBU;;AAoBXjF,YAAI,SAASA,EAAT,CAAYZ,MAAZ,EAAoB3M,QAApB,EAA8BsL,QAA9B,EAAwC;AAC1C,eAAK,IAAIrnB,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAM,KAAK/I,CAAL,CAAV;;AAEA+I,gBAAIwlB,OAAJ,GAAcjF,EAAd,CAAiBZ,MAAjB,EAAyBovB,YAAY/7B,QAAZ,CAAzB,EAAgDsL,QAAhD;AACD;;AAED,iBAAO,IAAP;AACD,SA5BU;;AA8BXoC,wBAAgB,SAASA,cAAT,CAAwBf,MAAxB,EAAgC3M,QAAhC,EAA0CsL,QAA1C,EAAoD;AAClE,eAAK,IAAIrnB,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAM,KAAK/I,CAAL,CAAV;;AAEA+I,gBAAIwlB,OAAJ,GAAc9E,cAAd,CAA6Bf,MAA7B,EAAqCovB,YAAY/7B,QAAZ,CAArC,EAA4DsL,QAA5D;AACD;;AAED,iBAAO,IAAP;AACD,SAtCU;;AAwCXmC,aAAK,SAASA,GAAT,CAAad,MAAb,EAAqB3M,QAArB,EAA+BsL,QAA/B,EAAyC;AAC5C,eAAK,IAAIrnB,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAM,KAAK/I,CAAL,CAAV;;AAEA+I,gBAAIwlB,OAAJ,GAAc/E,GAAd,CAAkBd,MAAlB,EAA0BovB,YAAY/7B,QAAZ,CAA1B,EAAiDsL,QAAjD;AACD;;AAED,iBAAO,IAAP;AACD,SAhDU;;AAkDXoQ,cAAM,SAASA,IAAT,CAAc/O,MAAd,EAAsB3M,QAAtB,EAAgCsL,QAAhC,EAA0C;AAC9C,eAAK,IAAIrnB,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAM,KAAK/I,CAAL,CAAV;;AAEA+I,gBAAIwlB,OAAJ,GAAcjF,EAAd,CAAiBZ,MAAjB,EAAyBovB,YAAY/7B,QAAZ,CAAzB,EAAgDsL,QAAhD,EAA0D;AACxDoQ,oBAAM,IADkD;AAExDogB,8BAAgB;AAFwC,aAA1D;AAID;AACF,SA3DU;;AA6DXv0B,cAAM,SAASA,IAAT,CAAcoF,MAAd,EAAsBoB,WAAtB,EAAmC;AACvC,eAAK,IAAI9pB,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAM,KAAK/I,CAAL,CAAV;;AAEA+I,gBAAIwlB,OAAJ,GAAcjL,IAAd,CAAmBoF,MAAnB,EAA2BoB,WAA3B;AACD;;AAED,iBAAO,IAAP;AACD,SArEU;;AAuEXzG,uBAAe,SAASA,aAAT,CAAuBrf,KAAvB,EAA8B8lB,WAA9B,EAA2C;AACxD;AACA,cAAI,KAAKvhB,MAAL,KAAgB,CAApB,EAAuB;AACrB;AACD,WAJuD,CAItD;;AAEF;AACA,eAAKoW,EAAL,GAAUkG,MAAV,CAAiB;AACfC,kBAAM9gB,KADS;AAEfmb,kBAAM;AAFS,WAAjB;;AAKA,eAAKmE,IAAL,CAAUtf,KAAV,EAAiB8lB,WAAjB;;AAEA,iBAAO,IAAP;AACD;AAtFU,OAAb;;AAyFAtqB,aAAOk4B,cAAP,CAAsB9X,MAAtB;;AAEAtgB,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KAtqRG;AAuqRV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIgc,WAAWhc,oBAAoB,CAApB,CAAf;;AAEA,UAAI8f,SAAS;AACX0B,eAAO,SAASA,KAAT,CAAevF,QAAf,EAAyB;AAC9B,iBAAO,KAAKM,MAAL,CAAY,UAAUtT,GAAV,EAAe;AAChC,mBAAOA,IAAIyY,MAAJ,EAAP;AACD,WAFM,EAEJnF,MAFI,CAEGN,QAFH,CAAP;AAGD,SALU;;AAOXwF,eAAO,SAASA,KAAT,CAAexF,QAAf,EAAyB;AAC9B,iBAAO,KAAKM,MAAL,CAAY,UAAUtT,GAAV,EAAe;AAChC,mBAAOA,IAAI8Y,MAAJ,EAAP;AACD,WAFM,EAEJxF,MAFI,CAEGN,QAFH,CAAP;AAGD,SAXU;;AAaXM,gBAAQ,SAASA,MAAT,CAAgB27B,OAAhB,EAAyB1wB,OAAzB,EAAkC;AACxC,cAAI0wB,YAAYz0C,SAAhB,EAA2B;AACzB;AACA,mBAAO,IAAP;AACD,WAHD,MAGO,IAAIf,GAAGG,MAAH,CAAUq1C,OAAV,KAAsBx1C,GAAGgB,mBAAH,CAAuBw0C,OAAvB,CAA1B,EAA2D;AAChE,mBAAO,IAAIl8B,QAAJ,CAAak8B,OAAb,EAAsB37B,MAAtB,CAA6B,IAA7B,CAAP;AACD,WAFM,MAEA,IAAI7Z,GAAGC,EAAH,CAAMu1C,OAAN,CAAJ,EAAoB;AACzB,gBAAIC,aAAa,KAAKp4B,KAAL,EAAjB;AACA,gBAAIV,OAAO,IAAX;;AAEA,iBAAK,IAAInf,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,kBAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;AACA,kBAAIk4C,UAAU5wB,UAAU0wB,QAAQnxC,KAAR,CAAcygB,OAAd,EAAuB,CAACve,GAAD,EAAM/I,CAAN,EAASmf,IAAT,CAAvB,CAAV,GAAmD64B,QAAQjvC,GAAR,EAAa/I,CAAb,EAAgBmf,IAAhB,CAAjE;;AAEA,kBAAI+4B,OAAJ,EAAa;AACXD,2BAAW/0B,KAAX,CAAiBna,GAAjB;AACD;AACF;;AAED,mBAAOkvC,UAAP;AACD;;AAED,iBAAO,KAAKp4B,KAAL,EAAP,CAtBwC,CAsBnB;AACtB,SApCU;;AAsCX2gB,aAAK,SAASA,GAAT,CAAa2X,QAAb,EAAuB;AAC1B,cAAI,CAACA,QAAL,EAAe;AACb,mBAAO,IAAP;AACD,WAFD,MAEO;;AAEL,gBAAI31C,GAAGG,MAAH,CAAUw1C,QAAV,CAAJ,EAAyB;AACvBA,yBAAW,KAAK97B,MAAL,CAAY87B,QAAZ,CAAX;AACD;;AAED,gBAAIp5B,WAAW,EAAf;AACA,gBAAIq5B,OAAOD,SAASx0C,QAAT,CAAkBsb,GAA7B;;AAEA,iBAAK,IAAIjf,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,kBAAIyD,UAAU,KAAKzD,CAAL,CAAd;;AAEA,kBAAIwjB,SAAS40B,KAAK94B,GAAL,CAAS7b,QAAQmW,EAAR,EAAT,CAAb;AACA,kBAAI,CAAC4J,MAAL,EAAa;AACXzE,yBAAS5V,IAAT,CAAc1F,OAAd;AACD;AACF;;AAED,mBAAO,KAAKoc,KAAL,CAAWd,QAAX,CAAP;AACD;AACF,SA7DU;;AA+DXs5B,4BAAoB,SAASA,kBAAT,GAA8B;AAChD,cAAI15B,KAAK,KAAKA,EAAL,EAAT;;AAEA,iBAAOA,GAAGgP,eAAH,GAAqB6S,GAArB,CAAyB,IAAzB,CAAP;AACD,SAnEU;;AAqEXC,mBAAW,SAASA,SAAT,CAAmB6X,KAAnB,EAA0B;AACnC;AACA,cAAI91C,GAAGG,MAAH,CAAU21C,KAAV,CAAJ,EAAsB;AACpB,gBAAIv8B,WAAWu8B,KAAf;AACA,mBAAO,KAAKj8B,MAAL,CAAYN,QAAZ,CAAP;AACD;;AAED,cAAIgD,WAAW,EAAf;AACA,cAAIw5B,OAAO,IAAX;AACA,cAAIC,OAAOF,KAAX;AACA,cAAIG,cAAc,KAAKlwC,MAAL,GAAc+vC,MAAM/vC,MAAtC;AACA,cAAImwC,OAAOD,cAAcD,KAAK70C,QAAL,CAAcsb,GAA5B,GAAkCs5B,KAAK50C,QAAL,CAAcsb,GAA3D;AACA,cAAI05B,MAAMF,cAAcF,IAAd,GAAqBC,IAA/B;;AAEA,eAAK,IAAIx4C,IAAI,CAAb,EAAgBA,IAAI24C,IAAIpwC,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,gBAAI4Z,KAAK++B,IAAI34C,CAAJ,EAAO2D,QAAP,CAAgB6Z,IAAhB,CAAqB5D,EAA9B;AACA,gBAAIsG,QAAQw4B,KAAK53C,GAAL,CAAS8Y,EAAT,CAAZ;;AAEA,gBAAIsG,KAAJ,EAAW;AACTnB,uBAAS5V,IAAT,CAAc+W,MAAMnX,GAApB;AACD;AACF;;AAED,iBAAO,KAAK8W,KAAL,CAAWd,QAAX,CAAP;AACD,SA7FU;;AA+FX65B,aAAK,SAASA,GAAT,CAAaN,KAAb,EAAoB;AACvB,cAAI35B,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;;AAEA,cAAInc,GAAGG,MAAH,CAAU21C,KAAV,CAAJ,EAAsB;AACpBA,oBAAQ35B,GAAGk6B,CAAH,CAAKP,KAAL,CAAR;AACD;;AAED,cAAIv5B,WAAW,EAAf;AACA,cAAIw5B,OAAO,IAAX;AACA,cAAIC,OAAOF,KAAX;;AAEA,cAAI/4B,MAAM,SAASA,GAAT,CAAao5B,GAAb,EAAkBL,KAAlB,EAAyB;AACjC,iBAAK,IAAIt4C,IAAI,CAAb,EAAgBA,IAAI24C,IAAIpwC,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,kBAAI+I,MAAM4vC,IAAI34C,CAAJ,CAAV;AACA,kBAAI4Z,KAAK7Q,IAAIpF,QAAJ,CAAa6Z,IAAb,CAAkB5D,EAA3B;AACA,kBAAIk/B,UAAUR,MAAMz5B,gBAAN,CAAuBjF,EAAvB,CAAd;;AAEA,kBAAI,CAACk/B,OAAL,EAAc;AACZ/5B,yBAAS5V,IAAT,CAAcJ,GAAd;AACD;AACF;AACF,WAVD;;AAYAwW,cAAIg5B,IAAJ,EAAUC,IAAV;AACAj5B,cAAIi5B,IAAJ,EAAUD,IAAV;;AAEA,iBAAO,KAAK14B,KAAL,CAAWd,QAAX,CAAP;AACD,SA1HU;;AA4HX+oB,cAAM,SAASA,IAAT,CAAcwQ,KAAd,EAAqB;AACzB,cAAI35B,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;;AAEA,cAAInc,GAAGG,MAAH,CAAU21C,KAAV,CAAJ,EAAsB;AACpBA,oBAAQ35B,GAAGk6B,CAAH,CAAKP,KAAL,CAAR;AACD;;AAED,cAAIjM,OAAO,EAAX;AACA,cAAIC,QAAQ,EAAZ;AACA,cAAIyM,OAAO,EAAX;AACA,cAAIR,OAAO,IAAX;AACA,cAAIC,OAAOF,KAAX;;AAEA,cAAI/4B,MAAM,SAASA,GAAT,CAAao5B,GAAb,EAAkBL,KAAlB,EAAyBU,OAAzB,EAAkC;;AAE1C,iBAAK,IAAIh5C,IAAI,CAAb,EAAgBA,IAAI24C,IAAIpwC,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,kBAAI+I,MAAM4vC,IAAI34C,CAAJ,CAAV;AACA,kBAAI4Z,KAAK7Q,IAAIpF,QAAJ,CAAa6Z,IAAb,CAAkB5D,EAA3B;AACA,kBAAIk/B,UAAUR,MAAMz5B,gBAAN,CAAuBjF,EAAvB,CAAd;;AAEA,kBAAIk/B,OAAJ,EAAa;AACXC,qBAAK5vC,IAAL,CAAUJ,GAAV;AACD,eAFD,MAEO;AACLiwC,wBAAQ7vC,IAAR,CAAaJ,GAAb;AACD;AACF;AACF,WAbD;;AAeAwW,cAAIg5B,IAAJ,EAAUC,IAAV,EAAgBnM,IAAhB;AACA9sB,cAAIi5B,IAAJ,EAAUD,IAAV,EAAgBjM,KAAhB;;AAEA,iBAAO;AACLD,kBAAM,KAAKxsB,KAAL,CAAWwsB,IAAX,EAAiB,EAAE5sB,QAAQ,IAAV,EAAjB,CADD;AAEL6sB,mBAAO,KAAKzsB,KAAL,CAAWysB,KAAX,EAAkB,EAAE7sB,QAAQ,IAAV,EAAlB,CAFF;AAGLs5B,kBAAM,KAAKl5B,KAAL,CAAWk5B,IAAX,EAAiB,EAAEt5B,QAAQ,IAAV,EAAjB;AAHD,WAAP;AAKD,SAhKU;;AAkKXF,aAAK,SAASA,GAAT,CAAa05B,KAAb,EAAoB;AACvB,cAAIt6B,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;;AAEA,cAAI,CAACs6B,KAAL,EAAY;AACV,mBAAO,IAAP;AACD;;AAED,cAAIz2C,GAAGG,MAAH,CAAUs2C,KAAV,CAAJ,EAAsB;AACpB,gBAAIl9B,WAAWk9B,KAAf;AACAA,oBAAQt6B,GAAGgP,eAAH,GAAqBtR,MAArB,CAA4BN,QAA5B,CAAR;AACD;;AAED,cAAIgD,WAAW,EAAf;;AAEA,eAAK,IAAI/e,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC+e,qBAAS5V,IAAT,CAAc,KAAKnJ,CAAL,CAAd;AACD;;AAED,cAAIif,MAAM,KAAKtb,QAAL,CAAcsb,GAAxB;;AAEA,eAAK,IAAItH,KAAK,CAAd,EAAiBA,KAAKshC,MAAM1wC,MAA5B,EAAoCoP,IAApC,EAA0C;;AAExC,gBAAI4H,MAAM,CAACN,IAAIK,GAAJ,CAAQ25B,MAAMthC,EAAN,EAAUiC,EAAV,EAAR,CAAX;AACA,gBAAI2F,GAAJ,EAAS;AACPR,uBAAS5V,IAAT,CAAc8vC,MAAMthC,EAAN,CAAd;AACD;AACF;;AAED,iBAAO,KAAKkI,KAAL,CAAWd,QAAX,CAAP;AACD,SA/LU;;AAiMX;AACAmE,eAAO,SAASA,KAAT,CAAe+1B,KAAf,EAAsB;AAC3B,cAAIjuB,KAAK,KAAKrnB,QAAd;AACA,cAAIgb,KAAKqM,GAAGrM,EAAZ;;AAEA,cAAI,CAACs6B,KAAL,EAAY;AACV,mBAAO,IAAP;AACD;;AAED,cAAIA,SAASz2C,GAAGG,MAAH,CAAUs2C,KAAV,CAAb,EAA+B;AAC7B,gBAAIl9B,WAAWk9B,KAAf;AACAA,oBAAQt6B,GAAGgP,eAAH,GAAqBtR,MAArB,CAA4BN,QAA5B,CAAR;AACD;;AAED,cAAIkD,MAAM+L,GAAG/L,GAAb;;AAEA,eAAK,IAAIjf,IAAI,CAAb,EAAgBA,IAAIi5C,MAAM1wC,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,gBAAIk5C,WAAWD,MAAMj5C,CAAN,CAAf;AACA,gBAAI4Z,KAAKs/B,SAASv1C,QAAT,CAAkB6Z,IAAlB,CAAuB5D,EAAhC;AACA,gBAAI2F,MAAM,CAACN,IAAIK,GAAJ,CAAQ1F,EAAR,CAAX;;AAEA,gBAAI2F,GAAJ,EAAS;AACP,kBAAIjO,QAAQ,KAAK/I,MAAL,EAAZ;;AAEA,mBAAK+I,KAAL,IAAc4nC,QAAd;;AAEAj6B,kBAAIS,GAAJ,CAAQ9F,EAAR,EAAY,EAAE7Q,KAAKmwC,QAAP,EAAiB5nC,OAAOA,KAAxB,EAAZ;AACD,aAND,MAMO;AACL;AACA,kBAAI6nC,SAASl6B,IAAIne,GAAJ,CAAQ8Y,EAAR,EAAYtI,KAAzB;;AAEA,mBAAK6nC,MAAL,IAAeD,QAAf;AACAj6B,kBAAIS,GAAJ,CAAQ9F,EAAR,EAAY,EAAE7Q,KAAKmwC,QAAP,EAAiB5nC,OAAO6nC,MAAxB,EAAZ;AACD;AACF;;AAED,iBAAO,IAAP,CAnC2B,CAmCd;AACd,SAtOU;;AAwOX;AACAC,oBAAY,SAASA,UAAT,CAAoBrwC,GAApB,EAAyB;AACnCA,gBAAMA,IAAI,CAAJ,CAAN;;AAEA,cAAIiiB,KAAK,KAAKrnB,QAAd;AACA,cAAIiW,KAAK7Q,IAAIpF,QAAJ,CAAa6Z,IAAb,CAAkB5D,EAA3B;AACA,cAAIqF,MAAM+L,GAAG/L,GAAb;AACA,cAAIiB,QAAQjB,IAAIne,GAAJ,CAAQ8Y,EAAR,CAAZ;;AAEA,cAAI,CAACsG,KAAL,EAAY;AACV,mBAAO,IAAP,CADU,CACG;AACd;;AAED,cAAIlgB,IAAIkgB,MAAM5O,KAAd;;AAEA;AACA,eAAKtR,CAAL,IAAUuD,SAAV;AACA0b,cAAIqqB,MAAJ,CAAW1vB,EAAX;;AAEA,cAAIy/B,kBAAkBr5C,MAAM,KAAKuI,MAAL,GAAc,CAA1C;;AAEA;AACA,cAAI,KAAKA,MAAL,GAAc,CAAd,IAAmB,CAAC8wC,eAAxB,EAAyC;AACvC,gBAAIC,WAAW,KAAK/wC,MAAL,GAAc,CAA7B;AACA,gBAAIgxC,UAAU,KAAKD,QAAL,CAAd;AACA,gBAAIE,YAAYD,QAAQ51C,QAAR,CAAiB6Z,IAAjB,CAAsB5D,EAAtC;;AAEA,iBAAK0/B,QAAL,IAAiB/1C,SAAjB;AACA,iBAAKvD,CAAL,IAAUu5C,OAAV;AACAt6B,gBAAIS,GAAJ,CAAQ85B,SAAR,EAAmB,EAAEzwC,KAAKwwC,OAAP,EAAgBjoC,OAAOtR,CAAvB,EAAnB;AACD;;AAED;AACA,eAAKuI,MAAL;;AAEA,iBAAO,IAAP;AACD,SA5QU;;AA8QX;AACAmmB,iBAAS,SAASA,OAAT,CAAiBypB,QAAjB,EAA2B;AAClC,cAAIx5B,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;;AAEA,cAAI,CAACw5B,QAAL,EAAe;AACb,mBAAO,IAAP;AACD;;AAED,cAAIA,YAAY31C,GAAGG,MAAH,CAAUw1C,QAAV,CAAhB,EAAqC;AACnC,gBAAIp8B,WAAWo8B,QAAf;AACAA,uBAAWx5B,GAAGgP,eAAH,GAAqBtR,MAArB,CAA4BN,QAA5B,CAAX;AACD;;AAED,eAAK,IAAI/b,IAAI,CAAb,EAAgBA,IAAIm4C,SAAS5vC,MAA7B,EAAqCvI,GAArC,EAA0C;AACxC,iBAAKo5C,UAAL,CAAgBjB,SAASn4C,CAAT,CAAhB;AACD;;AAED,iBAAO,IAAP,CAhBkC,CAgBrB;AACd,SAhSU;;AAkSXif,aAAK,SAASA,GAAT,CAAaw6B,KAAb,EAAoBnyB,OAApB,EAA6B;AAChC,cAAIhgB,MAAM,EAAV;AACA,cAAI6X,OAAO,IAAX;;AAEA,eAAK,IAAInf,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;AACA,gBAAIkpB,MAAM5B,UAAUmyB,MAAM5yC,KAAN,CAAYygB,OAAZ,EAAqB,CAACve,GAAD,EAAM/I,CAAN,EAASmf,IAAT,CAArB,CAAV,GAAiDs6B,MAAM1wC,GAAN,EAAW/I,CAAX,EAAcmf,IAAd,CAA3D;;AAEA7X,gBAAI6B,IAAJ,CAAS+f,GAAT;AACD;;AAED,iBAAO5hB,GAAP;AACD,SA9SU;;AAgTXoyC,gBAAQ,SAASA,MAAT,CAAgBj3C,EAAhB,EAAoBk3C,YAApB,EAAkC;AACxC,cAAI/wC,MAAM+wC,YAAV;AACA,cAAIx6B,OAAO,IAAX;;AAEA,eAAK,IAAInf,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC4I,kBAAMnG,GAAGmG,GAAH,EAAQuW,KAAKnf,CAAL,CAAR,EAAiBA,CAAjB,EAAoBmf,IAApB,CAAN;AACD;;AAED,iBAAOvW,GAAP;AACD,SAzTU;;AA2TXyD,aAAK,SAASA,GAAT,CAAautC,KAAb,EAAoBtyB,OAApB,EAA6B;AAChC,cAAIjb,MAAM,CAACE,QAAX;AACA,cAAIstC,SAAS,KAAK,CAAlB;AACA,cAAI16B,OAAO,IAAX;;AAEA,eAAK,IAAInf,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;AACA,gBAAI4I,MAAM0e,UAAUsyB,MAAM/yC,KAAN,CAAYygB,OAAZ,EAAqB,CAACve,GAAD,EAAM/I,CAAN,EAASmf,IAAT,CAArB,CAAV,GAAiDy6B,MAAM7wC,GAAN,EAAW/I,CAAX,EAAcmf,IAAd,CAA3D;;AAEA,gBAAIvW,MAAMyD,GAAV,EAAe;AACbA,oBAAMzD,GAAN;AACAixC,uBAAS9wC,GAAT;AACD;AACF;;AAED,iBAAO;AACL1I,mBAAOgM,GADF;AAELtD,iBAAK8wC;AAFA,WAAP;AAID,SA9UU;;AAgVXztC,aAAK,SAASA,GAAT,CAAawtC,KAAb,EAAoBtyB,OAApB,EAA6B;AAChC,cAAIlb,MAAMG,QAAV;AACA,cAAIutC,SAAS,KAAK,CAAlB;AACA,cAAI36B,OAAO,IAAX;;AAEA,eAAK,IAAInf,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;AACA,gBAAI4I,MAAM0e,UAAUsyB,MAAM/yC,KAAN,CAAYygB,OAAZ,EAAqB,CAACve,GAAD,EAAM/I,CAAN,EAASmf,IAAT,CAArB,CAAV,GAAiDy6B,MAAM7wC,GAAN,EAAW/I,CAAX,EAAcmf,IAAd,CAA3D;;AAEA,gBAAIvW,MAAMwD,GAAV,EAAe;AACbA,oBAAMxD,GAAN;AACAkxC,uBAAS/wC,GAAT;AACD;AACF;;AAED,iBAAO;AACL1I,mBAAO+L,GADF;AAELrD,iBAAK+wC;AAFA,WAAP;AAID;AAnWU,OAAb;;AAsWA;AACA,UAAIr3C,KAAKmd,MAAT;AACAnd,SAAG,GAAH,IAAUA,GAAG,GAAH,IAAUA,GAAG,GAAH,IAAUA,GAAGojB,KAAH,GAAWpjB,GAAGs3C,EAAH,GAAQt3C,GAAG8c,GAApD;AACA9c,SAAG,IAAH,IAAWA,GAAG,GAAH,IAAUA,GAAG,GAAH,IAAUA,GAAGu3C,UAAH,GAAgBv3C,GAAGw3C,kBAAH,GAAwBx3C,GAAGy3C,QAAH,GAAcz3C,GAAG+9B,GAAxF;AACA/9B,SAAG,GAAH,IAAUA,GAAG,GAAH,IAAUA,GAAG,GAAH,IAAUA,GAAG03C,GAAH,GAAS13C,GAAGmR,YAAH,GAAkBnR,GAAGg+B,SAA5D;AACAh+B,SAAG,GAAH,IAAUA,GAAG,KAAH,IAAYA,GAAG,KAAH,IAAYA,GAAG23C,mBAAH,GAAyB33C,GAAG43C,OAAH,GAAa53C,GAAGm2C,GAA3E;AACAn2C,SAAG63C,QAAH,GAAc73C,GAAG83C,QAAH,GAAc93C,GAAGssB,SAAH,GAAetsB,GAAG4Z,MAA9C;AACA5Z,SAAG+3C,UAAH,GAAgB/3C,GAAGg4C,OAAH,GAAah4C,GAAG41C,kBAAhC;;AAEA/4C,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KAjiSG;AAkiSV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI8f,SAAS;AACX4B,gBAAQ,SAASA,MAAT,GAAkB;AACxB,iBAAO,KAAKrF,KAAL,OAAiB,OAAxB;AACD,SAHU;;AAKX0F,gBAAQ,SAASA,MAAT,GAAkB;AACxB,iBAAO,KAAK1F,KAAL,OAAiB,OAAxB;AACD,SAPU;;AASXmY,gBAAQ,SAASA,MAAT,GAAkB;AACxB,iBAAO,KAAKzS,MAAL,MAAiB,KAAK9D,MAAL,GAAcnE,EAAd,OAAuB,KAAKoE,MAAL,GAAcpE,EAAd,EAA/C;AACD,SAXU;;AAaX2a,kBAAU,SAASA,QAAT,GAAoB;AAC5B,iBAAO,KAAK1S,MAAL,MAAiB,KAAK9D,MAAL,GAAcnE,EAAd,OAAuB,KAAKoE,MAAL,GAAcpE,EAAd,EAA/C;AACD,SAfU;;AAiBXuC,eAAO,SAASA,KAAT,GAAiB;AACtB,cAAIpT,MAAM,KAAK,CAAL,CAAV;;AAEA,cAAIA,GAAJ,EAAS;AACP,mBAAOA,IAAIpF,QAAJ,CAAawY,KAApB;AACD;AACF;AAvBU,OAAb;;AA0BA7c,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KApkSG;AAqkSV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAI2wB,aAAa3wB,oBAAoB,EAApB,CAAjB;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAI8f,SAAS;AACXhW,iBAAS,SAASA,OAAT,CAAiBnH,EAAjB,EAAqB6kB,OAArB,EAA8B;AACrC,cAAI9kB,GAAGC,EAAH,CAAMA,EAAN,CAAJ,EAAe;;AAEb,iBAAK,IAAIzC,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,kBAAI+I,MAAM,KAAK/I,CAAL,CAAV;AACA,kBAAIkpB,MAAM5B,UAAU7kB,GAAGoE,KAAH,CAASygB,OAAT,EAAkB,CAACve,GAAD,EAAM/I,CAAN,EAAS,IAAT,CAAlB,CAAV,GAA8CyC,GAAGsG,GAAH,EAAQ/I,CAAR,EAAW,IAAX,CAAxD;;AAEA,kBAAIkpB,QAAQ,KAAZ,EAAmB;AACjB;AACD,eANmC,CAMlC;AACH;AACF;;AAED,iBAAO,IAAP;AACD,SAfU;;AAiBXjC,iBAAS,SAASA,OAAT,GAAmB;AAC1B,cAAIrkB,QAAQ,EAAZ;;AAEA,eAAK,IAAI5C,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC4C,kBAAMuG,IAAN,CAAW,KAAKnJ,CAAL,CAAX;AACD;;AAED,iBAAO4C,KAAP;AACD,SAzBU;;AA2BXwE,eAAO,SAASA,KAAT,CAAe8vB,KAAf,EAAsB+D,GAAtB,EAA2B;AAChC,cAAIr4B,QAAQ,EAAZ;AACA,cAAI83C,WAAW,KAAKnyC,MAApB;;AAEA,cAAI0yB,OAAO,IAAX,EAAiB;AACfA,kBAAMyf,QAAN;AACD;;AAED,cAAIxjB,SAAS,IAAb,EAAmB;AACjBA,oBAAQ,CAAR;AACD;;AAED,cAAIA,QAAQ,CAAZ,EAAe;AACbA,oBAAQwjB,WAAWxjB,KAAnB;AACD;;AAED,cAAI+D,MAAM,CAAV,EAAa;AACXA,kBAAMyf,WAAWzf,GAAjB;AACD;;AAED,eAAK,IAAIj7B,IAAIk3B,KAAb,EAAoBl3B,KAAK,CAAL,IAAUA,IAAIi7B,GAAd,IAAqBj7B,IAAI06C,QAA7C,EAAuD16C,GAAvD,EAA4D;AAC1D4C,kBAAMuG,IAAN,CAAW,KAAKnJ,CAAL,CAAX;AACD;;AAED,iBAAO,KAAK6f,KAAL,CAAWjd,KAAX,CAAP;AACD,SApDU;;AAsDX8Z,cAAM,SAASA,IAAT,GAAgB;AACpB,iBAAO,KAAKnU,MAAZ;AACD,SAxDU;;AA0DXoU,YAAI,SAASA,EAAT,CAAY3c,CAAZ,EAAe;AACjB,iBAAO,KAAKA,CAAL,KAAW,KAAK6f,KAAL,EAAlB;AACD,SA5DU;;AA8DX86B,eAAO,SAASA,KAAT,GAAiB;AACtB,iBAAO,KAAK,CAAL,KAAW,KAAK96B,KAAL,EAAlB;AACD,SAhEU;;AAkEX+6B,cAAM,SAASA,IAAT,GAAgB;AACpB,iBAAO,KAAK,KAAKryC,MAAL,GAAc,CAAnB,KAAyB,KAAKsX,KAAL,EAAhC;AACD,SApEU;;AAsEX2C,eAAO,SAASA,KAAT,GAAiB;AACtB,iBAAO,KAAKja,MAAL,KAAgB,CAAvB;AACD,SAxEU;;AA0EX2hC,kBAAU,SAASA,QAAT,GAAoB;AAC5B,iBAAO,CAAC,KAAK1nB,KAAL,EAAR;AACD,SA5EU;;AA8EXgS,cAAM,SAASA,IAAT,CAAcqmB,MAAd,EAAsB;AAC1B,cAAI,CAACr4C,GAAGC,EAAH,CAAMo4C,MAAN,CAAL,EAAoB;AAClB,mBAAO,IAAP;AACD;;AAED,cAAIC,SAAS,KAAK7zB,OAAL,GAAeuN,IAAf,CAAoBqmB,MAApB,CAAb;;AAEA,iBAAO,KAAKh7B,KAAL,CAAWi7B,MAAX,CAAP;AACD,SAtFU;;AAwFXC,sBAAc,SAASA,YAAT,GAAwB;AACpC,iBAAO,KAAKvmB,IAAL,CAAU/D,UAAV,CAAP;AACD,SA1FU;;AA4FXG,gBAAQ,SAASA,MAAT,GAAkB;AACxB,cAAI7nB,MAAM,KAAK,CAAL,CAAV;AACA,cAAI,CAACA,GAAL,EAAU;AACR,mBAAOxF,SAAP;AACD;;AAED;AACA,cAAIynB,KAAKjiB,IAAIpF,QAAb;AACA,cAAIwY,QAAQ6O,GAAG7O,KAAf;;AAEA,cAAIA,UAAU,OAAd,EAAuB;AACrB,gBAAIkkB,QAAQrV,GAAGxN,IAAH,CAAQU,MAAR,GAAiBnV,IAAIihC,OAAJ,GAActtB,IAAd,EAAjB,GAAwC,CAApD;;AAEA,gBAAI,CAAC3T,IAAI4b,QAAJ,EAAL,EAAqB;AACnB,qBAAOze,KAAKC,OAAL,GAAe,CAAtB,CADmB,CACM;AAC1B;;AAED,mBAAOk6B,KAAP;AACD,WARD,MAQO;AACL,gBAAIne,MAAM8I,GAAGjN,MAAb;AACA,gBAAI1V,MAAM2iB,GAAGhN,MAAb;AACA,gBAAIg9B,WAAW94B,IAAI0O,MAAJ,EAAf;AACA,gBAAIqqB,WAAW5yC,IAAIuoB,MAAJ,EAAf;;AAEA,mBAAOztB,KAAKkJ,GAAL,CAAS2uC,QAAT,EAAmBC,QAAnB,EAA6B,CAA7B,CAAP,CANK,CAMmC;AACzC;AACF;AAtHU,OAAb;;AAyHAr7B,aAAOs7B,IAAP,GAAct7B,OAAOhW,OAArB;;AAEAtK,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KA5sSG;AA6sSV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI8b,UAAU9b,oBAAoB,CAApB,CAAd;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;;AAEA,UAAI8f,SAAS;AACX;AACAu7B,0BAAkB,SAASA,gBAAT,CAA0Bn8B,OAA1B,EAAmC;AACnDA,oBAAU9Y,KAAKkC,MAAL,CAAY;AACpBgzC,yCAA6B;AADT,WAAZ,EAEPp8B,OAFO,CAAV;;AAIA,cAAIA,QAAQo8B,2BAAZ,EAAyC;AACvC,gBAAIC,QAAQ,KAAK92C,WAAL,EAAZ;AACA,mBAAO;AACLiI,iBAAG6uC,MAAM7uC,CADJ;AAELC,iBAAG4uC,MAAM5uC;AAFJ,aAAP;AAID,WAND,MAMO;AACL,mBAAO;AACLD,iBAAG,KAAKilC,UAAL,EADE;AAELhlC,iBAAG,KAAKklC,WAAL;AAFE,aAAP;AAID;AACF,SAnBU;;AAqBX;AACA2J,yBAAiB,SAASA,eAAT,CAAyBzwB,MAAzB,EAAiC7L,OAAjC,EAA0Cvc,EAA1C,EAA8C;AAC7D,cAAI6e,QAAQ,KAAKA,KAAL,EAAZ;AACA,cAAI3C,KAAK,KAAKA,EAAL,EAAT;AACA,cAAI48B,aAAav8B,QAAQG,IAAzB,CAH6D,CAG9B;AAC/B,cAAIq8B,gBAAgB,SAASA,aAAT,CAAuBp5B,IAAvB,EAA6BpiB,CAA7B,EAAgC;AAClD,mBAAOoiB,KAAKxI,EAAL,KAAY,GAAZ,GAAkB5Z,CAAzB;AACD,WAFD;AAGA,cAAIy7C,QAAQv1C,KAAKyD,OAAL,CAAalH,EAAb,EAAiB+4C,aAAjB,CAAZ,CAP6D,CAOhB;;AAE7C3wB,iBAAOvH,IAAP,CAAY,EAAEwB,MAAM,aAAR,EAAuB+F,QAAQA,MAA/B,EAAZ;;AAEAA,iBAAO0M,UAAP,GAAoB,EAApB;;AAEA,cAAImkB,mBAAmB,SAASA,gBAAT,CAA0BC,OAA1B,EAAmCC,OAAnC,EAA4Cp0C,GAA5C,EAAiD;AACtE,gBAAIq0C,SAAS;AACXp0C,iBAAGm0C,QAAQp3C,EAAR,GAAao3C,QAAQpvC,CAAR,GAAY,CADjB;AAEX9E,iBAAGk0C,QAAQl3C,EAAR,GAAak3C,QAAQnvC,CAAR,GAAY;AAFjB,aAAb;;AAKA,gBAAIqvC,gBAAgB,EAAE;AACpBr0C,iBAAG,CAACD,IAAIC,CAAJ,GAAQo0C,OAAOp0C,CAAhB,IAAqBk0C,OADN;AAElBj0C,iBAAG,CAACF,IAAIE,CAAJ,GAAQm0C,OAAOn0C,CAAhB,IAAqBi0C;AAFN,aAApB;;AAKA,mBAAO;AACLl0C,iBAAGo0C,OAAOp0C,CAAP,GAAWq0C,cAAcr0C,CADvB;AAELC,iBAAGm0C,OAAOn0C,CAAP,GAAWo0C,cAAcp0C;AAFvB,aAAP;AAID,WAfD;;AAiBA,cAAIq0C,mBAAmB/8B,QAAQg9B,aAAR,IAAyBh9B,QAAQg9B,aAAR,KAA0B,CAA1E;;AAEA,cAAIC,YAAY,SAASA,SAAT,GAAqB;AACnC,gBAAI,CAACF,gBAAL,EAAuB;AACrB,qBAAO,IAAP;AACD;;AAED,gBAAIzvC,KAAKrG,KAAK+B,eAAL,EAAT;;AAEA,iBAAK,IAAIhI,IAAI,CAAb,EAAgBA,IAAIshB,MAAM/Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,kBAAIoiB,OAAOd,MAAMthB,CAAN,CAAX;AACA,kBAAIwH,MAAMi0C,MAAMr5B,IAAN,EAAYpiB,CAAZ,CAAV;;AAEAiG,mBAAK4G,wBAAL,CAA8BP,EAA9B,EAAkC9E,IAAIC,CAAtC,EAAyCD,IAAIE,CAA7C;AACD;;AAED,mBAAO4E,EAAP;AACD,WAfD;;AAiBA,cAAIA,KAAK2vC,WAAT;;AAEA,cAAIC,cAAch2C,KAAKyD,OAAL,CAAa,UAAUyY,IAAV,EAAgBpiB,CAAhB,EAAmB;AAChD,gBAAIwzC,SAASiI,MAAMr5B,IAAN,EAAYpiB,CAAZ,CAAb;AACA,gBAAIwH,MAAM4a,KAAK9B,QAAL,EAAV;;AAEA,gBAAI,CAAC9d,GAAGQ,MAAH,CAAUwE,IAAIC,CAAd,CAAD,IAAqB,CAACjF,GAAGQ,MAAH,CAAUwE,IAAIE,CAAd,CAA1B,EAA4C;AAC1C0a,mBAAKqzB,cAAL,CAAoB,EAAEhuC,GAAG,CAAL,EAAQC,GAAG,CAAX,EAApB;AACD;;AAED,gBAAIq0C,gBAAJ,EAAsB;AACpB,kBAAIJ,UAAUx4C,KAAKoO,GAAL,CAASyN,QAAQg9B,aAAjB,CAAd;;AAEAxI,uBAASkI,iBAAiBC,OAAjB,EAA0BrvC,EAA1B,EAA8BknC,MAA9B,CAAT;AACD;;AAED,gBAAIx0B,QAAQm9B,SAAR,IAAqB,IAAzB,EAA+B;AAC7B3I,uBAASx0B,QAAQm9B,SAAR,CAAkB/5B,IAAlB,EAAwBoxB,MAAxB,CAAT;AACD;;AAED,mBAAOA,MAAP;AACD,WAnBiB,EAmBfgI,aAnBe,CAAlB;;AAqBA,cAAIx8B,QAAQqY,OAAZ,EAAqB;AACnB,iBAAK,IAAIr3B,IAAI,CAAb,EAAgBA,IAAIshB,MAAM/Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,kBAAIoiB,OAAOd,MAAMthB,CAAN,CAAX;AACA,kBAAIwzC,SAAS0I,YAAY95B,IAAZ,EAAkBpiB,CAAlB,CAAb;AACA,kBAAIo8C,cAAcp9B,QAAQq9B,aAAR,IAAyB,IAAzB,IAAiCr9B,QAAQq9B,aAAR,CAAsBj6B,IAAtB,EAA4BpiB,CAA5B,CAAnD;;AAEA,kBAAIo8C,WAAJ,EAAiB;AACf,oBAAIE,MAAMl6B,KAAK8J,SAAL,CAAe;AACvB5L,4BAAUkzB,MADa;AAEvBvgB,4BAAUjU,QAAQu9B,iBAFK;AAGvBC,0BAAQx9B,QAAQy9B;AAHO,iBAAf,CAAV;;AAMA5xB,uBAAO0M,UAAP,CAAkBpuB,IAAlB,CAAuBmzC,GAAvB;;AAEAA,oBAAIpiB,IAAJ;AACD,eAVD,MAUO;AACL9X,qBAAK9B,QAAL,CAAckzB,MAAd;AACD;AACF;;AAED,gBAAIx0B,QAAQ09B,GAAZ,EAAiB;AACf,kBAAIC,SAASh+B,GAAGuN,SAAH,CAAa;AACxBwwB,qBAAK;AACHn4C,+BAAag3C,WAAWhI,aAAX,CAAyB2I,WAAzB,CADV;AAEHnvC,2BAASiS,QAAQjS;AAFd,iBADmB;AAKxBkmB,0BAAUjU,QAAQu9B,iBALM;AAMxBC,wBAAQx9B,QAAQy9B;AANQ,eAAb,CAAb;;AASA5xB,qBAAO0M,UAAP,CAAkBpuB,IAAlB,CAAuBwzC,MAAvB;;AAEAA,qBAAOziB,IAAP;AACD,aAbD,MAaO,IAAIlb,QAAQ7U,IAAR,KAAiB5G,SAAjB,IAA8Byb,QAAQ5U,GAAR,KAAgB7G,SAAlD,EAA6D;AAClE,kBAAIq5C,aAAaj+B,GAAGuN,SAAH,CAAa;AAC5B/hB,sBAAM6U,QAAQ7U,IADc;AAE5BC,qBAAK4U,QAAQ5U,GAFe;AAG5B6oB,0BAAUjU,QAAQu9B,iBAHU;AAI5BC,wBAAQx9B,QAAQy9B;AAJY,eAAb,CAAjB;;AAOA5xB,qBAAO0M,UAAP,CAAkBpuB,IAAlB,CAAuByzC,UAAvB;;AAEAA,yBAAW1iB,IAAX;AACD;;AAEDrP,mBAAOrB,GAAP,CAAW,aAAX,EAA0BxK,QAAQiM,KAAlC;AACAJ,mBAAOvH,IAAP,CAAY,EAAEwB,MAAM,aAAR,EAAuB+F,QAAQA,MAA/B,EAAZ;;AAEAjP,oBAAQR,GAAR,CAAYyP,OAAO0M,UAAP,CAAkBtY,GAAlB,CAAsB,UAAUq9B,GAAV,EAAe;AAC/C,qBAAOA,IAAI13C,OAAJ,EAAP;AACD,aAFW,CAAZ,EAEIC,IAFJ,CAES,YAAY;AACnBgmB,qBAAOrB,GAAP,CAAW,YAAX,EAAyBxK,QAAQoY,IAAjC;AACAvM,qBAAOvH,IAAP,CAAY,EAAEwB,MAAM,YAAR,EAAsB+F,QAAQA,MAA9B,EAAZ;AACD,aALD;AAMD,WAxDD,MAwDO;;AAELvJ,kBAAMo0B,SAAN,CAAgBwG,WAAhB;;AAEA,gBAAIl9B,QAAQ09B,GAAZ,EAAiB;AACf/9B,iBAAG+9B,GAAH,CAAO19B,QAAQG,IAAf,EAAqBH,QAAQjS,OAA7B;AACD;;AAED,gBAAIiS,QAAQ7U,IAAR,IAAgB,IAApB,EAA0B;AACxBwU,iBAAGxU,IAAH,CAAQ6U,QAAQ7U,IAAhB;AACD;;AAED,gBAAI6U,QAAQ5U,GAAZ,EAAiB;AACfuU,iBAAGvU,GAAH,CAAO4U,QAAQ5U,GAAf;AACD;;AAEDygB,mBAAOrB,GAAP,CAAW,aAAX,EAA0BxK,QAAQiM,KAAlC;AACAJ,mBAAOvH,IAAP,CAAY,EAAEwB,MAAM,aAAR,EAAuB+F,QAAQA,MAA/B,EAAZ;;AAEAA,mBAAOrB,GAAP,CAAW,YAAX,EAAyBxK,QAAQoY,IAAjC;AACAvM,mBAAOvH,IAAP,CAAY,EAAEwB,MAAM,YAAR,EAAsB+F,QAAQA,MAA9B,EAAZ;AACD;;AAED,iBAAO,IAAP,CAvJ6D,CAuJhD;AACd,SA9KU;;AAgLXA,gBAAQ,SAASA,MAAT,CAAgB7L,OAAhB,EAAyB;AAC/B,cAAIL,KAAK,KAAKA,EAAL,EAAT;;AAEA,iBAAOA,GAAGk+B,UAAH,CAAc32C,KAAKgB,MAAL,CAAY,EAAZ,EAAgB8X,OAAhB,EAAyB;AAC5CG,kBAAM;AADsC,WAAzB,CAAd,CAAP;AAGD;;AAtLU,OAAb;;AA0LA;AACAS,aAAOk9B,YAAP,GAAsBl9B,OAAOi9B,UAAP,GAAoBj9B,OAAOiL,MAAjD;;AAEAvrB,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KAv5SG;AAw5SV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,eAASi9C,UAAT,CAAoBz2B,GAApB,EAAyB7jB,EAAzB,EAA6BsG,GAA7B,EAAkC;AAChC,YAAIiiB,KAAKjiB,IAAIpF,QAAb;AACA,YAAI4yB,QAAQvL,GAAG+xB,UAAH,GAAgB/xB,GAAG+xB,UAAH,IAAiB,EAA7C;AACA,YAAIn0C,GAAJ;;AAEA,YAAI,CAACA,MAAM2tB,MAAMjQ,GAAN,CAAP,KAAsB,IAA1B,EAAgC;AAC9B,iBAAO1d,GAAP;AACD,SAFD,MAEO;AACLA,gBAAM2tB,MAAMjQ,GAAN,IAAa7jB,GAAGsG,GAAH,CAAnB;;AAEA,iBAAOH,GAAP;AACD;AACF;;AAED,eAASo0C,kBAAT,CAA4B12B,GAA5B,EAAiC7jB,EAAjC,EAAqC;AACnC,eAAO,SAASw6C,mBAAT,CAA6Bl0C,GAA7B,EAAkC;AACvC,iBAAOg0C,WAAWz2B,GAAX,EAAgB7jB,EAAhB,EAAoBsG,GAApB,CAAP;AACD,SAFD;AAGD;;AAED,eAASm0C,2BAAT,CAAqC52B,GAArC,EAA0C7jB,EAA1C,EAA8C;AAC5C,YAAI06C,SAAS,SAASA,MAAT,CAAgBp0C,GAAhB,EAAqB;AAChC,iBAAOtG,GAAGvC,IAAH,CAAQ6I,GAAR,CAAP;AACD,SAFD;;AAIA,eAAO,SAASq0C,4BAAT,GAAwC;AAC7C,cAAIr0C,MAAM,KAAK,CAAL,CAAV;;AAEA,cAAIA,GAAJ,EAAS;AACP,mBAAOg0C,WAAWz2B,GAAX,EAAgB62B,MAAhB,EAAwBp0C,GAAxB,CAAP;AACD;AACF,SAND;AAOD;;AAED,UAAI6W,SAAS;;AAEXyzB,kCAA0B,SAASA,wBAAT,CAAkC3G,QAAlC,EAA4C;AACpE,cAAI/tB,KAAK,KAAKA,EAAL,EAAT;AACA,cAAIqB,WAAWrB,GAAGqB,QAAH,EAAf;AACA,cAAIiM,eAAetN,GAAGsN,YAAH,EAAnB;;AAEA,cAAIjM,YAAYiM,YAAhB,EAA8B;AAC5BjM,qBAASqzB,wBAAT,CAAkC,IAAlC,EAAwC3G,QAAxC;AACD;;AAED,iBAAO,IAAP;AACD,SAZU;;AAcX2Q,yBAAiB,SAASA,eAAT,GAA2B;AAC1C,cAAI1+B,KAAK,KAAKA,EAAL,EAAT;AACA,cAAI2+B,QAAQ,SAASA,KAAT,CAAev0C,GAAf,EAAoB;AAC9B,mBAAOA,IAAIpF,QAAJ,CAAao5C,UAAb,GAA0B,EAAjC;AACD,WAFD;;AAIA,cAAIp+B,GAAGiE,gBAAH,EAAJ,EAA2B;AACzB,gBAAIzD,OAAO,KAAK,CAAhB;;AAEAA,mBAAO,KAAKY,SAAL,GAAiBmD,KAAjB,CAAuB,KAAKyC,WAAL,EAAvB,EAA2CzC,KAA3C,CAAiD,KAAK8mB,OAAL,EAAjD,CAAP;;AAEA7qB,iBAAK+D,KAAL,CAAW/D,KAAK6E,cAAL,EAAX;;AAEA7E,iBAAKvV,OAAL,CAAa0zC,KAAb;AACD,WARD,MAQO;AACL,iBAAK1zC,OAAL,CAAa,UAAUb,GAAV,EAAe;AAC1Bu0C,oBAAMv0C,GAAN;;AAEAA,kBAAIib,cAAJ,GAAqBpa,OAArB,CAA6B0zC,KAA7B;AACD,aAJD;AAKD;;AAED,iBAAO,IAAP;AACD,SArCU;;AAuCX;AACAl6B,qBAAa,SAASA,WAAT,CAAqBhC,cAArB,EAAqC;AAChD,cAAIzC,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;;AAEA,cAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB,mBAAO,IAAP;AACD;;AAED,cAAItN,GAAGhb,QAAH,CAAYqqC,aAAhB,EAA+B;AAC7B,gBAAIuP,QAAQ5+B,GAAGhb,QAAH,CAAY65C,cAAxB;;AAEAD,kBAAMr6B,KAAN,CAAY,IAAZ;;AAEA,mBAAO,IAAP,CAL6B,CAKhB;AACd;;AAED,cAAI0nB,eAAejsB,GAAGiE,gBAAH,EAAnB;AACA,cAAI9e,QAAQ6a,GAAG7a,KAAH,EAAZ;AACA,cAAI25C,cAAc,IAAlB;;AAEAr8B,2BAAiBA,kBAAkBA,mBAAmB7d,SAArC,GAAiD,IAAjD,GAAwD,KAAzE;;AAEA,cAAIqnC,YAAJ,EAAkB;AAChB;AACA6S,0BAAc,KAAK19B,SAAL,GAAiBmD,KAAjB,CAAuB,KAAKyC,WAAL,EAAvB,EAA2CzC,KAA3C,CAAiD,KAAK8mB,OAAL,EAAjD,CAAd;AACD;;AAED,cAAI0T,cAAc55C,MAAM+C,KAAN,CAAY42C,WAAZ,CAAlB;;AAEAC,sBAAYL,eAAZ;AACAK,sBAAYv6B,wBAAZ;;AAEA,cAAI/B,cAAJ,EAAoB;AAClBs8B,wBAAYr6B,aAAZ,CAA0B,OAA1B,EADkB,CACkB;AACrC,WAFD,MAEO;AACLq6B,wBAAYp6B,IAAZ,CAAiB,OAAjB,EADK,CACsB;AAC5B;;AAED,iBAAO,IAAP,CArCgD,CAqCnC;AACd,SA9EU;;AAgFX;AACAq6B,uBAAe,SAASA,aAAT,CAAuBv8B,cAAvB,EAAuC;AACpD,cAAIzC,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;AACA,cAAI7a,QAAQ6a,GAAG7a,KAAH,EAAZ;AACAsd,2BAAiBA,kBAAkBA,mBAAmB7d,SAArC,GAAiD,IAAjD,GAAwD,KAAzE;;AAEA,cAAI,CAACob,GAAGsN,YAAH,EAAL,EAAwB;AACtB,mBAAO,IAAP;AACD;;AAED,cAAIyxB,cAAc55C,MAAM65C,aAAN,CAAoB,IAApB,CAAlB;;AAEAD,sBAAYL,eAAZ;AACAK,sBAAYv6B,wBAAZ;;AAEA,cAAI/B,cAAJ,EAAoB;AAClBs8B,wBAAYr6B,aAAZ,CAA0B,OAA1B,EADkB,CACkB;AACrC,WAFD,MAEO;AACLq6B,wBAAYp6B,IAAZ,CAAiB,OAAjB,EADK,CACsB;AAC5B;AACD,iBAAO,IAAP,CAnBoD,CAmBvC;AACd,SArGU;;AAuGX;AACAs6B,qBAAa,SAASA,WAAT,CAAqBx8C,QAArB,EAA+B;AAC1C,cAAI2H,MAAM,KAAK,CAAL,CAAV;AACA,cAAI4V,KAAK5V,IAAI4V,EAAJ,EAAT;;AAEA,cAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB;AACD;;AAED,cAAIljB,GAAJ,EAAS;AACP,mBAAOA,IAAIpF,QAAJ,CAAaG,KAAb,CAAmB1C,QAAnB,KAAgCud,GAAG7a,KAAH,GAAW+5C,kBAAX,CAA8Bz8C,QAA9B,CAAvC;AACD;AACF,SAnHU;;AAqHX08C,sBAAc,SAASA,YAAT,CAAsB18C,QAAtB,EAAgC;AAC5C,cAAI2H,MAAM,KAAK,CAAL,CAAV;;AAEA,cAAI,CAACA,IAAI4V,EAAJ,GAASsN,YAAT,EAAL,EAA8B;AAC5B;AACD;;AAED,cAAIljB,GAAJ,EAAS;AACP,gBAAI4nB,SAAS5nB,IAAI4nB,MAAJ,CAAWvvB,QAAX,CAAb;;AAEA,mBAAOuvB,OAAOyb,OAAP,KAAmB7oC,SAAnB,GAA+BotB,OAAOyb,OAAtC,GAAgDzb,OAAOtwB,KAA9D;AACD;AACF,SAjIU;;AAmIX09C,2BAAmB,SAASA,iBAAT,CAA2B38C,QAA3B,EAAqC;AACtD,cAAI2H,MAAM,KAAK,CAAL,CAAV;;AAEA,cAAI,CAACA,IAAI4V,EAAJ,GAASsN,YAAT,EAAL,EAA8B;AAC5B;AACD;;AAED,cAAIljB,GAAJ,EAAS;AACP,mBAAOA,IAAI4nB,MAAJ,CAAWvvB,QAAX,EAAqBisC,KAA5B;AACD;AACF,SA7IU;;AA+IX;AACA;AACA2Q,uBAAe,SAASA,aAAT,CAAuB58C,QAAvB,EAAiC;AAC9C,cAAIud,KAAK,KAAKA,EAAL,EAAT;AACA,cAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB,mBAAO,IAAP;AACD;;AAED,cAAIljB,MAAM,KAAK,CAAL,CAAV;;AAEA,cAAIA,GAAJ,EAAS;AACP,mBAAO4V,GAAG7a,KAAH,GAAWm6C,gBAAX,CAA4Bl1C,GAA5B,EAAiC3H,QAAjC,CAAP;AACD;AACF,SA5JU;;AA8JX;AACA0C,eAAO,SAASA,KAAT,CAAevD,IAAf,EAAqBF,KAArB,EAA4B;AACjC,cAAIse,KAAK,KAAKA,EAAL,EAAT;;AAEA,cAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB,mBAAO,IAAP;AACD;;AAED,cAAIiyB,oBAAoB,KAAxB;AACA,cAAIp6C,QAAQ6a,GAAG7a,KAAH,EAAZ;;AAEA,cAAItB,GAAGO,WAAH,CAAexC,IAAf,CAAJ,EAA0B;AACxB;AACA,gBAAI0lB,QAAQ1lB,IAAZ;AACAuD,kBAAM0sB,WAAN,CAAkB,IAAlB,EAAwBvK,KAAxB,EAA+Bi4B,iBAA/B;;AAEA,iBAAKb,eAAL;AACA,iBAAKl6B,wBAAL;;AAEA,iBAAKE,aAAL,CAAmB,OAAnB,EARwB,CAQK;AAC9B,WATD,MASO,IAAI7gB,GAAGG,MAAH,CAAUpC,IAAV,CAAJ,EAAqB;;AAE1B,gBAAIF,UAAUkD,SAAd,EAAyB;AACvB;AACA,kBAAIwF,MAAM,KAAK,CAAL,CAAV;;AAEA,kBAAIA,GAAJ,EAAS;AACP,uBAAOjF,MAAMq6C,qBAAN,CAA4Bp1C,GAA5B,EAAiCxI,IAAjC,CAAP;AACD,eAFD,MAEO;AACL;AACA;AACD;AACF,aAVD,MAUO;AACL;AACAuD,oBAAM0sB,WAAN,CAAkB,IAAlB,EAAwBjwB,IAAxB,EAA8BF,KAA9B,EAAqC69C,iBAArC;;AAEA,mBAAKb,eAAL;AACA,mBAAKl6B,wBAAL;;AAEA,mBAAKE,aAAL,CAAmB,OAAnB,EAPK,CAOwB;AAC9B;AACF,WArBM,MAqBA,IAAI9iB,SAASgD,SAAb,EAAwB;AAC7B,gBAAIoe,OAAO,KAAK,CAAL,CAAX;;AAEA,gBAAIA,IAAJ,EAAU;AACR,qBAAO7d,MAAMs6C,WAAN,CAAkBz8B,IAAlB,CAAP;AACD,aAFD,MAEO;AACL;AACA;AACD;AACF;;AAED,iBAAO,IAAP,CAnDiC,CAmDpB;AACd,SAnNU;;AAqNX08B,qBAAa,SAASA,WAAT,CAAqBC,KAArB,EAA4B;AACvC,cAAI3/B,KAAK,KAAKA,EAAL,EAAT;;AAEA,cAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB,mBAAO,IAAP;AACD;;AAED,cAAIiyB,oBAAoB,KAAxB;AACA,cAAIp6C,QAAQ6a,GAAG7a,KAAH,EAAZ;AACA,cAAIqb,OAAO,IAAX;;AAEA,cAAIm/B,UAAU/6C,SAAd,EAAyB;AACvB,iBAAK,IAAIvD,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,kBAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;;AAEA8D,oBAAMy6C,iBAAN,CAAwBx1C,GAAxB,EAA6Bm1C,iBAA7B;AACD;AACF,WAND,MAMO;AACLI,oBAAQA,MAAMv1B,KAAN,CAAY,KAAZ,CAAR;;AAEA,iBAAK,IAAIpR,KAAK,CAAd,EAAiBA,KAAKwH,KAAK5W,MAA3B,EAAmCoP,IAAnC,EAAyC;AACvC,kBAAIoL,QAAQ5D,KAAKxH,EAAL,CAAZ;;AAEA7T,oBAAM06C,cAAN,CAAqBz7B,KAArB,EAA4Bu7B,KAA5B,EAAmCJ,iBAAnC;AACD;AACF;;AAED,eAAKb,eAAL;AACA,eAAKl6B,wBAAL;;AAEA,eAAKE,aAAL,CAAmB,OAAnB,EA9BuC,CA8BV;;AAE7B,iBAAO,IAAP,CAhCuC,CAgC1B;AACd,SAtPU;;AAwPXo7B,cAAM,SAASA,IAAT,GAAgB;AACpB,eAAKluB,GAAL,CAAS,SAAT,EAAoB,SAApB;AACA,iBAAO,IAAP,CAFoB,CAEP;AACd,SA3PU;;AA6PXmuB,cAAM,SAASA,IAAT,GAAgB;AACpB,eAAKnuB,GAAL,CAAS,SAAT,EAAoB,MAApB;AACA,iBAAO,IAAP,CAFoB,CAEP;AACd,SAhQU;;AAkQXouB,0BAAkB,SAASA,gBAAT,GAA4B;AAC5C,cAAIhgC,KAAK,KAAKA,EAAL,EAAT;AACA,cAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB,mBAAO,CAAP;AACD;;AAED,cAAIrJ,mBAAmBjE,GAAGiE,gBAAH,EAAvB;AACA,cAAI7Z,MAAM,KAAK,CAAL,CAAV;;AAEA,cAAIA,GAAJ,EAAS;AACP,gBAAIiiB,KAAKjiB,IAAIpF,QAAb;AACA,gBAAIi7C,gBAAgB71C,IAAI4nB,MAAJ,CAAW,SAAX,EAAsBtwB,KAA1C;;AAEA,gBAAI,CAACuiB,gBAAL,EAAuB;AACrB,qBAAOg8B,aAAP;AACD;;AAED,gBAAI5U,UAAU,CAAChf,GAAGxN,IAAH,CAAQU,MAAT,GAAkB,IAAlB,GAAyBnV,IAAIihC,OAAJ,EAAvC;;AAEA,gBAAIA,OAAJ,EAAa;AACX,mBAAK,IAAIhqC,IAAI,CAAb,EAAgBA,IAAIgqC,QAAQzhC,MAA5B,EAAoCvI,GAApC,EAAyC;AACvC,oBAAIke,SAAS8rB,QAAQhqC,CAAR,CAAb;AACA,oBAAI6+C,UAAU3gC,OAAOyS,MAAP,CAAc,SAAd,EAAyBtwB,KAAvC;;AAEAu+C,gCAAgBC,UAAUD,aAA1B;AACD;AACF;;AAED,mBAAOA,aAAP;AACD;AACF,SAhSU;;AAkSX3qB,qBAAa,SAASA,WAAT,GAAuB;AAClC,cAAItV,KAAK,KAAKA,EAAL,EAAT;AACA,cAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB,mBAAO,KAAP;AACD;;AAED,cAAIljB,MAAM,KAAK,CAAL,CAAV;AACA,cAAI6Z,mBAAmB7Z,IAAI4V,EAAJ,GAASiE,gBAAT,EAAvB;;AAEA,cAAI7Z,GAAJ,EAAS;AACP,gBAAI,CAAC6Z,gBAAL,EAAuB;AACrB,qBAAO7Z,IAAI4nB,MAAJ,CAAW,SAAX,EAAsBtwB,KAAtB,KAAgC,CAAvC;AACD,aAFD,MAEO;AACL,qBAAO0I,IAAI41C,gBAAJ,OAA2B,CAAlC;AACD;AACF;AACF,SAlTU;;AAoTXvuB,uBAAe,SAASA,aAAT,GAAyB;AACtC,cAAIzR,KAAK,KAAKA,EAAL,EAAT;AACA,cAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB,mBAAO,KAAP;AACD;;AAED,cAAIljB,MAAM,KAAK,CAAL,CAAV;;AAEA,iBAAOA,IAAIpF,QAAJ,CAAaysB,aAAb,GAA6B,IAA7B,GAAoC,KAA3C;AACD;;AA7TU,OAAb;;AAiUA,eAAS0uB,aAAT,CAAuB/1C,GAAvB,EAA4Bg2C,QAA5B,EAAsC;AACpC,YAAI/zB,KAAKjiB,IAAIpF,QAAb;AACA,YAAIqmC,UAAUhf,GAAGxN,IAAH,CAAQU,MAAR,GAAiBnV,IAAIihC,OAAJ,EAAjB,GAAiC,IAA/C;;AAEA,YAAIA,OAAJ,EAAa;AACX,eAAK,IAAIhqC,IAAI,CAAb,EAAgBA,IAAIgqC,QAAQzhC,MAA5B,EAAoCvI,GAApC,EAAyC;AACvC,gBAAIke,SAAS8rB,QAAQhqC,CAAR,CAAb;;AAEA,gBAAI,CAAC++C,SAAS7gC,MAAT,CAAL,EAAuB;AACrB,qBAAO,KAAP;AACD;AACF;AACF;;AAED,eAAO,IAAP;AACD;;AAED,eAAS8gC,0BAAT,CAAoCC,KAApC,EAA2C;AACzC,YAAIC,KAAKD,MAAMC,EAAf;AACA,YAAIC,gBAAgBF,MAAME,aAAN,IAAuBF,MAAMC,EAAjD;AACA,YAAIH,WAAWE,MAAMF,QAAN,IAAkBE,MAAMC,EAAvC;;AAEA,eAAO,YAAY;AACjB,cAAIvgC,KAAK,KAAKA,EAAL,EAAT;AACA,cAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB,mBAAO,IAAP;AACD;;AAED,cAAIljB,MAAM,KAAK,CAAL,CAAV;AACA,cAAI6Z,mBAAmBjE,GAAGiE,gBAAH,EAAvB;;AAEA,cAAI7Z,GAAJ,EAAS;AACP,gBAAIiiB,KAAKjiB,IAAIpF,QAAb;;AAEA,gBAAI,CAACu7C,GAAGn2C,GAAH,CAAL,EAAc;AACZ,qBAAO,KAAP;AACD;;AAED,gBAAIA,IAAIyY,MAAJ,EAAJ,EAAkB;AAChB,qBAAO,CAACoB,gBAAD,IAAqBk8B,cAAc/1C,GAAd,EAAmBg2C,QAAnB,CAA5B;AACD,aAFD,MAEO;AACL,kBAAI78B,MAAM8I,GAAGjN,MAAb;AACA,kBAAI1V,MAAM2iB,GAAGhN,MAAb;;AAEA,qBAAOmhC,cAAcj9B,GAAd,MAAuB,CAACU,gBAAD,IAAqBk8B,cAAc58B,GAAd,EAAmBi9B,aAAnB,CAA5C,MAAmFj9B,QAAQ7Z,GAAR,IAAe82C,cAAc92C,GAAd,MAAuB,CAACua,gBAAD,IAAqBk8B,cAAcz2C,GAAd,EAAmB82C,aAAnB,CAA5C,CAAlG,CAAP;AACD;AACF;AACF,SAzBD;AA0BD;;AAED,UAAIC,kBAAkBpC,mBAAmB,iBAAnB,EAAsC,UAAUj0C,GAAV,EAAe;AACzE,eAAOA,IAAI4nB,MAAJ,CAAW,SAAX,EAAsBtwB,KAAtB,KAAgC,SAAhC,IAA6C0I,IAAIyE,KAAJ,OAAgB,CAA7D,KAAmEzE,IAAIyY,MAAJ,KAAezY,IAAI0E,MAAJ,OAAiB,CAAhC,GAAoC,IAAvG,CAAP;AACD,OAFqB,CAAtB;;AAIAmS,aAAOy/B,YAAP,GAAsBnC,4BAA4B,cAA5B,EAA4C8B,2BAA2B;AAC3FE,YAAIE;AADuF,OAA3B,CAA5C,CAAtB;;AAIA,UAAIE,iBAAiBtC,mBAAmB,gBAAnB,EAAqC,UAAUj0C,GAAV,EAAe;AACvE,eAAOA,IAAI4nB,MAAJ,CAAW,QAAX,EAAqBtwB,KAArB,KAA+B,KAA/B,IAAwC0I,IAAI4nB,MAAJ,CAAW,YAAX,EAAyBtwB,KAAzB,KAAmC,SAA3E,IAAwF++C,gBAAgBr2C,GAAhB,CAA/F;AACD,OAFoB,CAArB;;AAIA,UAAIw2C,oBAAoBvC,mBAAmB,mBAAnB,EAAwC,UAAU9+B,MAAV,EAAkB;AAChF,eAAOA,OAAOyS,MAAP,CAAc,YAAd,EAA4BtwB,KAA5B,KAAsC,SAAtC,IAAmD++C,gBAAgBlhC,MAAhB,CAA1D;AACD,OAFuB,CAAxB;;AAIA0B,aAAO4/B,WAAP,GAAqBtC,4BAA4B,aAA5B,EAA2C8B,2BAA2B;AACzFE,YAAII,cADqF;AAEzFP,kBAAUQ,iBAF+E;AAGzFJ,uBAAeC;AAH0E,OAA3B,CAA3C,CAArB;;AAMAx/B,aAAO6/B,cAAP,GAAwB,YAAY;AAClC,YAAI12C,MAAM,KAAK,CAAL,CAAV;;AAEA,YAAIA,GAAJ,EAAS;AACP,iBAAO,CAACA,IAAIy2C,WAAJ,EAAR;AACD;AACF,OAND;;AAQA,UAAIE,aAAa1C,mBAAmB,YAAnB,EAAiC,UAAUj0C,GAAV,EAAe;AAC/D,eAAOA,IAAI4nB,MAAJ,CAAW,YAAX,EAAyBtwB,KAAzB,KAAmC,SAAnC,IAAgD0I,IAAI4nB,MAAJ,CAAW,SAAX,EAAsByb,OAAtB,KAAkC,CAAlF,IAAuFgT,gBAAgBr2C,GAAhB,CAA9F;AACD,OAFgB,CAAjB;;AAIA,UAAI42C,qBAAqBP,eAAzB;;AAEAx/B,aAAOoU,OAAP,GAAiBkpB,4BAA4B,SAA5B,EAAuC8B,2BAA2B;AACjFE,YAAIQ,UAD6E;AAEjFP,uBAAeQ;AAFkE,OAA3B,CAAvC,CAAjB;;AAKA//B,aAAOggC,MAAP,GAAgB,YAAY;AAC1B,YAAI72C,MAAM,KAAK,CAAL,CAAV;;AAEA,YAAIA,GAAJ,EAAS;AACP,iBAAO,CAACA,IAAIirB,OAAJ,EAAR;AACD;AACF,OAND;;AAQApU,aAAOigC,MAAP,GAAgBjgC,OAAO2Q,GAAP,GAAa3Q,OAAO9b,KAApC;AACA8b,aAAOkgC,WAAP,GAAqBlgC,OAAOo+B,aAA5B;AACAp+B,aAAOmgC,YAAP,GAAsBngC,OAAOogC,SAAP,GAAmBpgC,OAAOy+B,WAAhD;AACAz+B,aAAO+Q,MAAP,GAAgB/Q,OAAOg+B,WAAvB;;AAEAt+C,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KA72TG;AA82TV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI8f,SAAS,EAAb;;AAEA,eAASqgC,oBAAT,CAA8B5uC,MAA9B,EAAsC;AACpC,eAAO,YAAY;AACjB,cAAI/I,OAAOxB,SAAX;AACA,cAAI42C,cAAc,EAAlB;;AAEA;AACA,cAAIp1C,KAAKC,MAAL,KAAgB,CAApB,EAAuB;AACrB,gBAAIiV,OAAOlV,KAAK,CAAL,CAAX;AACA,gBAAImgB,UAAUngB,KAAK,CAAL,CAAd;AACA,iBAAKghB,EAAL,CAAQjY,OAAOrN,KAAf,EAAsBwZ,IAAtB,EAA4BiL,OAA5B;AACD;;AAED;AANA,eAOK,IAAIngB,KAAKC,MAAL,KAAgB,CAApB,EAAuB;AACxB,kBAAI23C,WAAW53C,KAAK,CAAL,CAAf;AACA,mBAAKghB,EAAL,CAAQjY,OAAOrN,KAAf,EAAsBk8C,QAAtB;AACD;;AAED;AALG,iBAME,IAAI53C,KAAKC,MAAL,KAAgB,CAApB,EAAuB;AACxB,qBAAK,IAAIvI,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,sBAAI+I,MAAM,KAAK/I,CAAL,CAAV;AACA,sBAAImgD,OAAO,CAAC9uC,OAAO+uC,SAAR,IAAqBr3C,IAAIpF,QAAJ,CAAa0N,OAAO+uC,SAApB,CAAhC;AACA,sBAAI/X,UAAUt/B,IAAIpF,QAAJ,CAAa0N,OAAOoM,KAApB,KAA8BpM,OAAOhR,KAAnD;;AAEA,sBAAIgR,OAAOgvC,YAAX,EAAyB;AACvB,wBAAIA,eAAehvC,OAAOgvC,YAAP,CAAoBt3C,GAApB,CAAnB;;AAEA,wBAAIs3C,iBAAiB98C,SAArB,EAAgC;AAC9B48C,6BAAOE,YAAP;;AAEA,0BAAI,CAACA,YAAL,EAAmB;AACjB,+BAAO,IAAP;AACD,uBAL6B,CAK5B;AACH;AACF;;AAED,sBAAIF,IAAJ,EAAU;AACRp3C,wBAAIpF,QAAJ,CAAa0N,OAAOoM,KAApB,IAA6BpM,OAAOhR,KAApC;;AAEA,wBAAIgoC,OAAJ,EAAa;AACXqV,kCAAYv0C,IAAZ,CAAiBJ,GAAjB;AACD;AACF;AACF;;AAED,oBAAIu3C,cAAc,KAAKzgC,KAAL,CAAW69B,WAAX,CAAlB;AACA4C,4BAAYl9B,WAAZ,GA5BwB,CA4BG;AAC3Bk9B,4BAAYh9B,IAAZ,CAAiBjS,OAAOrN,KAAxB;AACD;;AAEL,iBAAO,IAAP;AACD,SAnDD;AAoDD;;AAED,eAASu8C,eAAT,CAAyBlvC,MAAzB,EAAiC;AAC/BuO,eAAOvO,OAAOoM,KAAd,IAAuB,YAAY;AACjC,cAAI1U,MAAM,KAAK,CAAL,CAAV;;AAEA,cAAIA,GAAJ,EAAS;AACP,gBAAIsI,OAAOmvC,aAAX,EAA0B;AACxB,kBAAI53C,MAAMyI,OAAOmvC,aAAP,CAAqBz3C,GAArB,CAAV;;AAEA,kBAAIH,QAAQrF,SAAZ,EAAuB;AACrB,uBAAOqF,GAAP;AACD;AACF;;AAED,mBAAOG,IAAIpF,QAAJ,CAAa0N,OAAOoM,KAApB,CAAP;AACD;AACF,SAdD;;AAgBAmC,eAAOvO,OAAOiY,EAAd,IAAoB22B,qBAAqB;AACvCj8C,iBAAOqN,OAAOiY,EADyB;AAEvC7L,iBAAOpM,OAAOoM,KAFyB;AAGvC2iC,qBAAW/uC,OAAO+uC,SAHqB;AAIvCC,wBAAchvC,OAAOgvC,YAJkB;AAKvChgD,iBAAO;AALgC,SAArB,CAApB;;AAQAuf,eAAOvO,OAAOqY,GAAd,IAAqBu2B,qBAAqB;AACxCj8C,iBAAOqN,OAAOqY,GAD0B;AAExCjM,iBAAOpM,OAAOoM,KAF0B;AAGxC2iC,qBAAW/uC,OAAO+uC,SAHsB;AAIxCC,wBAAchvC,OAAOgvC,YAJmB;AAKxChgD,iBAAO;AALiC,SAArB,CAArB;AAOD;;AAEDkgD,sBAAgB;AACd9iC,eAAO,QADO;AAEd+iC,uBAAe,SAASA,aAAT,CAAuBz3C,GAAvB,EAA4B;AACzC,iBAAOA,IAAI4V,EAAJ,GAASiN,QAAT,KAAsB,IAAtB,GAA6BroB,SAApC;AACD,SAJa;AAKd+lB,YAAI,MALU;AAMdI,aAAK;AANS,OAAhB;;AASA62B,sBAAgB;AACd9iC,eAAO,WADO;AAEd+iC,uBAAe,SAASA,aAAT,CAAuBz3C,GAAvB,EAA4B;AACzC,iBAAOA,IAAI4V,EAAJ,GAASmN,aAAT,KAA2B,KAA3B,GAAmCvoB,SAA1C;AACD,SAJa;AAKd+lB,YAAI,SALU;AAMdI,aAAK;AANS,OAAhB;;AASA62B,sBAAgB;AACd9iC,eAAO,UADO;AAEd2iC,mBAAW,YAFG;AAGdC,sBAAc,SAASA,YAAT,CAAsBt3C,GAAtB,EAA2B;AACvC,iBAAOA,IAAI4V,EAAJ,GAASqN,eAAT,KAA6B,KAA7B,GAAqCzoB,SAA5C;AACD,SALa;AAMd+lB,YAAI,QANU;AAOdI,aAAK;AAPS,OAAhB;;AAUA62B,sBAAgB;AACd9iC,eAAO,YADO;AAEd+iC,uBAAe,SAASA,aAAT,CAAuBz3C,GAAvB,EAA4B;AACzC,iBAAOA,IAAI4V,EAAJ,GAASqN,eAAT,KAA6B,KAA7B,GAAqCzoB,SAA5C;AACD,SAJa;AAKd+lB,YAAI,WALU;AAMdI,aAAK;AANS,OAAhB;;AASA9J,aAAO6gC,QAAP,GAAkB7gC,OAAO8gC,QAAzB;;AAEA9gC,aAAOoQ,OAAP,GAAiB,YAAY;AAC3B,YAAIjnB,MAAM,KAAK,CAAL,CAAV;AACA,YAAIA,GAAJ,EAAS;AACP,iBAAOA,IAAIpF,QAAJ,CAAaqsB,OAApB;AACD;AACF,OALD;;AAOAuwB,sBAAgB;AACd9iC,eAAO,QADO;AAEd6L,YAAI,UAFU;AAGdI,aAAK;AAHS,OAAhB;;AAMA9J,aAAO+gC,QAAP,GAAkB,YAAY;AAC5B,YAAI53C,MAAM,KAAK,CAAL,CAAV;AACA,YAAIA,GAAJ,EAAS;AACP,iBAAO,CAACA,IAAIpF,QAAJ,CAAassB,MAArB;AACD;AACF,OALD;;AAOA3wB,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KA5gUG;AA6gUV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAI8f,SAAS,EAAb;;AAEA,UAAI2W,QAAQ,SAASA,KAAT,CAAe9zB,EAAf,EAAmBlC,IAAnB,EAAyB;AACnC,eAAO,SAAS4vB,cAAT,CAAwBywB,IAAxB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0CC,IAA1C,EAAgD;AACrD,cAAIC,iBAAiBJ,IAArB;AACA,cAAIzhC,OAAO,IAAX;AACA,cAAImH,MAAM,KAAK,CAAf;;AAEA,cAAI06B,kBAAkB,IAAtB,EAA4B;AAC1B16B,kBAAM,MAAN;AACD,WAFD,MAEO,IAAI9jB,GAAGgB,mBAAH,CAAuBw9C,cAAvB,KAA0CA,eAAez4C,MAAf,KAA0B,CAAxE,EAA2E;AAChF+d,kBAAM,MAAM06B,eAAepnC,EAAf,EAAZ;AACD;;AAED,cAAIuF,KAAK5W,MAAL,KAAgB,CAAhB,IAAqB+d,GAAzB,EAA8B;AAC5B,gBAAI0E,KAAK7L,KAAK,CAAL,EAAQxb,QAAjB;AACA,gBAAIs9C,MAAMj2B,GAAGmF,cAAH,GAAoBnF,GAAGmF,cAAH,IAAqB,EAAnD;AACA,gBAAI+wB,KAAKD,IAAI1gD,IAAJ,IAAY0gD,IAAI1gD,IAAJ,KAAa,EAAlC;AACA,gBAAI4gD,WAAWD,GAAG56B,GAAH,CAAf;;AAEA,gBAAI66B,QAAJ,EAAc;AACZ,qBAAOA,QAAP;AACD,aAFD,MAEO;AACL,qBAAOD,GAAG56B,GAAH,IAAU7jB,GAAGvC,IAAH,CAAQif,IAAR,EAAcyhC,IAAd,EAAoBC,IAApB,EAA0BC,IAA1B,EAAgCC,IAAhC,CAAjB;AACD;AACF,WAXD,MAWO;AACL,mBAAOt+C,GAAGvC,IAAH,CAAQif,IAAR,EAAcyhC,IAAd,EAAoBC,IAApB,EAA0BC,IAA1B,EAAgCC,IAAhC,CAAP;AACD;AACF,SAzBD;AA0BD,OA3BD;;AA6BA;AACA;;AAEA,UAAIK,qBAAqB,SAASA,kBAAT,CAA4B/vC,MAA5B,EAAoC;AAC3D,eAAO,SAASgwC,gBAAT,CAA0BtlC,QAA1B,EAAoC;AACzC,cAAIoD,OAAO,IAAX;AACA,cAAI+J,MAAM,EAAV;;AAEA,eAAK,IAAIlpB,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;AACA,gBAAI,CAAC+I,IAAIyY,MAAJ,EAAL,EAAmB;AACjB;AACD;;AAED,gBAAI8/B,eAAe,KAAnB;AACA,gBAAI//B,QAAQxY,IAAIib,cAAJ,EAAZ;;AAEA,iBAAK,IAAIvb,IAAI,CAAb,EAAgBA,IAAI8Y,MAAMhZ,MAA1B,EAAkCE,GAAlC,EAAuC;AACrC,kBAAIqZ,OAAOP,MAAM9Y,CAAN,CAAX;AACA,kBAAIyZ,MAAMJ,KAAK/D,MAAL,EAAV;AACA,kBAAI1V,MAAMyZ,KAAK9D,MAAL,EAAV;;AAEA,kBAAI3M,OAAOkwC,eAAP,IAA0Bl5C,QAAQU,GAAlC,IAAyCmZ,QAAQnZ,GAAjD,IAAwDsI,OAAOmwC,eAAP,IAA0Bt/B,QAAQnZ,GAAlC,IAAyCV,QAAQU,GAA7G,EAAkH;AAChHu4C,+BAAe,IAAf;AACA;AACD;AACF;;AAED,gBAAI,CAACA,YAAL,EAAmB;AACjBp4B,kBAAI/f,IAAJ,CAASJ,GAAT;AACD;AACF;;AAED,iBAAO,KAAK8W,KAAL,CAAWqJ,GAAX,EAAgB,EAAEzJ,QAAQ,IAAV,EAAhB,EAAkCpD,MAAlC,CAAyCN,QAAzC,CAAP;AACD,SA9BD;AA+BD,OAhCD;;AAkCA,UAAI0lC,kBAAkB,SAASA,eAAT,CAAyBpwC,MAAzB,EAAiC;AACrD,eAAO,UAAU0K,QAAV,EAAoB;AACzB,cAAIoD,OAAO,IAAX;AACA,cAAIuiC,QAAQ,EAAZ;;AAEA,eAAK,IAAI1hD,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;;AAEA,gBAAI,CAAC+I,IAAIyY,MAAJ,EAAL,EAAmB;AACjB;AACD;;AAED,gBAAID,QAAQxY,IAAIib,cAAJ,EAAZ;AACA,iBAAK,IAAIvb,IAAI,CAAb,EAAgBA,IAAI8Y,MAAMhZ,MAA1B,EAAkCE,GAAlC,EAAuC;AACrC,kBAAIqZ,OAAOP,MAAM9Y,CAAN,CAAX;AACA,kBAAIyZ,MAAMJ,KAAK/D,MAAL,EAAV;AACA,kBAAI1V,MAAMyZ,KAAK9D,MAAL,EAAV;;AAEA,kBAAI3M,OAAOsxB,QAAP,IAAmBzgB,QAAQnZ,GAA/B,EAAoC;AAClC24C,sBAAMv4C,IAAN,CAAW2Y,IAAX;AACA4/B,sBAAMv4C,IAAN,CAAWd,GAAX;AACD,eAHD,MAGO,IAAIgJ,OAAOqxB,QAAP,IAAmBr6B,QAAQU,GAA/B,EAAoC;AACzC24C,sBAAMv4C,IAAN,CAAW2Y,IAAX;AACA4/B,sBAAMv4C,IAAN,CAAW+Y,GAAX;AACD;AACF;AACF;;AAED,iBAAO,KAAKrC,KAAL,CAAW6hC,KAAX,EAAkB,EAAEjiC,QAAQ,IAAV,EAAlB,EAAoCpD,MAApC,CAA2CN,QAA3C,CAAP;AACD,SA5BD;AA6BD,OA9BD;;AAgCA,UAAI4lC,mBAAmB,SAASA,gBAAT,CAA0BtwC,MAA1B,EAAkC;AACvD,eAAO,UAAU0K,QAAV,EAAoB;AACzB,cAAIoD,OAAO,IAAX;AACA,cAAIyiC,QAAQ,EAAZ;AACA,cAAIC,WAAW,EAAf;;AAEA,mBAAS;AACP,gBAAItnC,OAAOlJ,OAAOsxB,QAAP,GAAkBxjB,KAAK2f,QAAL,EAAlB,GAAoC3f,KAAK2iC,QAAL,EAA/C;;AAEA,gBAAIvnC,KAAKhS,MAAL,KAAgB,CAApB,EAAuB;AACrB;AACD,aALM,CAKL;;AAEF,gBAAIw5C,UAAU,KAAd;AACA,iBAAK,IAAI/hD,IAAI,CAAb,EAAgBA,IAAIua,KAAKhS,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,kBAAIe,IAAIwZ,KAAKva,CAAL,CAAR;AACA,kBAAIgiD,MAAMjhD,EAAE6Y,EAAF,EAAV;;AAEA,kBAAI,CAACioC,SAASG,GAAT,CAAL,EAAoB;AAClBH,yBAASG,GAAT,IAAgB,IAAhB;AACAJ,sBAAMz4C,IAAN,CAAWpI,CAAX;AACAghD,0BAAU,IAAV;AACD;AACF;;AAED,gBAAI,CAACA,OAAL,EAAc;AACZ;AACD,aArBM,CAqBL;;AAEF5iC,mBAAO5E,IAAP;AACD;;AAED,iBAAO,KAAKsF,KAAL,CAAW+hC,KAAX,EAAkB,EAAEniC,QAAQ,IAAV,EAAlB,EAAoCpD,MAApC,CAA2CN,QAA3C,CAAP;AACD,SAhCD;AAiCD,OAlCD;;AAoCA6D,aAAOgC,mBAAP,GAA6B,YAAY;AACvC,aAAK,IAAI5hB,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,eAAKA,CAAL,EAAQ2D,QAAR,CAAiBwsB,cAAjB,GAAkC,IAAlC;AACD;AACF,OAJD;;AAMAjqB,WAAKgB,MAAL,CAAY0Y,MAAZ,EAAoB;AAClB;AACAzO,eAAOiwC,mBAAmB,EAAEG,iBAAiB,IAAnB,EAAnB,CAFW;;AAIlB;AACAU,gBAAQb,mBAAmB,EAAEI,iBAAiB,IAAnB,EAAnB,CALU;;AAOlB;AACA;AACA1iB,kBAAUvI,MAAMkrB,gBAAgB,EAAE9e,UAAU,IAAZ,EAAhB,CAAN,EAA2C,UAA3C,CATQ;;AAWlB;AACAuf,oBAAYP,iBAAiB,EAAEhf,UAAU,IAAZ,EAAjB,CAZM;;AAclB;AACA;AACAmf,kBAAUvrB,MAAMkrB,gBAAgB,EAAE/e,UAAU,IAAZ,EAAhB,CAAN,EAA2C,UAA3C,CAhBQ;;AAkBlB;AACAyf,sBAAcR,iBAAiB,EAAEjf,UAAU,IAAZ,EAAjB;AAnBI,OAApB;;AAsBA;AACA;;AAEAx8B,WAAKgB,MAAL,CAAY0Y,MAAZ,EAAoB;AAClBokB,sBAAczN,MAAM,UAAUxa,QAAV,EAAoB;AACtC,cAAIgD,WAAW,EAAf;AACA,cAAIuC,QAAQ,KAAKA,KAAL,EAAZ;;AAEA,eAAK,IAAIthB,IAAI,CAAb,EAAgBA,IAAIshB,MAAM/Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC;AACA,gBAAIoiB,OAAOd,MAAMthB,CAAN,CAAX;AACA,gBAAIgkB,iBAAiB5B,KAAK4B,cAAL,EAArB;;AAEA;AACA,iBAAK,IAAIvb,IAAI,CAAb,EAAgBA,IAAIub,eAAezb,MAAnC,EAA2CE,GAA3C,EAAgD;AAC9C,kBAAIqZ,OAAOkC,eAAevb,CAAf,CAAX;AACA,kBAAIyZ,MAAMJ,KAAK/D,MAAL,EAAV;AACA,kBAAI1V,MAAMyZ,KAAK9D,MAAL,EAAV;AACA,kBAAIokC,YAAYhgC,SAASF,GAAT,GAAe7Z,GAAf,GAAqB6Z,GAArC;;AAEA;AACA,kBAAIkgC,UAAU75C,MAAV,GAAmB,CAAvB,EAA0B;AACxBwW,yBAAS5V,IAAT,CAAci5C,UAAU,CAAV,CAAd,EADwB,CACK;AAC9B;;AAED;AACArjC,uBAAS5V,IAAT,CAAc2Y,KAAK,CAAL,CAAd;AACD;AACF;;AAED,iBAAO,KAAKjC,KAAL,CAAWd,QAAX,EAAqB,EAAEU,QAAQ,IAAV,EAArB,EAAuCpD,MAAvC,CAA8CN,QAA9C,CAAP;AACD,SA3Ba,EA2BX,cA3BW,CADI;;AA8BlBsmC,4BAAoB,SAASA,kBAAT,CAA4BtmC,QAA5B,EAAsC;AACxD,iBAAO,KAAKioB,YAAL,GAAoBzkB,GAApB,CAAwB,IAAxB,EAA8BlD,MAA9B,CAAqCN,QAArC,CAAP;AACD,SAhCiB;;AAkClBgjB,0BAAkB,SAASA,gBAAT,CAA0BhjB,QAA1B,EAAoC;AACpD,iBAAO,KAAKioB,YAAL,CAAkBjoB,QAAlB,CAAP;AACD;AApCiB,OAApB;;AAuCA;AACA6D,aAAO0iC,aAAP,GAAuB1iC,OAAOokB,YAA9B;AACApkB,aAAO2iC,mBAAP,GAA6B3iC,OAAOyiC,kBAApC;AACAziC,aAAO4iC,iBAAP,GAA2B5iC,OAAOmf,gBAAlC;;AAEA;AACA;;AAEA74B,WAAKgB,MAAL,CAAY0Y,MAAZ,EAAoB;AAClB7B,gBAAQwY,MAAM,SAASksB,UAAT,CAAoB1mC,QAApB,EAA8B;AAC1C,cAAIhT,MAAM,KAAK,CAAL,CAAV;AACA,cAAImZ,MAAM,KAAK,CAAf;;AAEA,cAAInZ,GAAJ,EAAS;AACPmZ,kBAAMnZ,IAAIpF,QAAJ,CAAaoa,MAAb,IAAuBhV,IAAI4V,EAAJ,GAASjb,UAAT,EAA7B;AACD;;AAED,iBAAOwe,OAAOnG,QAAP,GAAkBmG,IAAI7F,MAAJ,CAAWN,QAAX,CAAlB,GAAyCmG,GAAhD;AACD,SATO,EASL,QATK,CADU;;AAYlBlE,gBAAQuY,MAAM,SAASmsB,UAAT,CAAoB3mC,QAApB,EAA8B;AAC1C,cAAIhT,MAAM,KAAK,CAAL,CAAV;AACA,cAAIV,MAAM,KAAK,CAAf;;AAEA,cAAIU,GAAJ,EAAS;AACPV,kBAAMU,IAAIpF,QAAJ,CAAaqa,MAAb,IAAuBjV,IAAI4V,EAAJ,GAASjb,UAAT,EAA7B;AACD;;AAED,iBAAO2E,OAAO0T,QAAP,GAAkB1T,IAAIgU,MAAJ,CAAWN,QAAX,CAAlB,GAAyC1T,GAAhD;AACD,SATO,EASL,QATK,CAZU;;AAuBlBs6C,iBAASC,qBAAqB;AAC5BxX,gBAAM;AADsB,SAArB,CAvBS;;AA2BlByX,iBAASD,qBAAqB;AAC5BxX,gBAAM;AADsB,SAArB;AA3BS,OAApB;;AAgCA,eAASwX,oBAAT,CAA8BvxC,MAA9B,EAAsC;AACpC,eAAO,SAASoxC,UAAT,CAAoB1mC,QAApB,EAA8B;AACnC,cAAI4mC,UAAU,EAAd;;AAEA,eAAK,IAAI3iD,IAAI,CAAb,EAAgBA,IAAI,KAAKuI,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAM,KAAK/I,CAAL,CAAV;AACA,gBAAIkiB,MAAMnZ,IAAIpF,QAAJ,CAAa0N,OAAO+5B,IAApB,CAAV;;AAEA,gBAAIlpB,GAAJ,EAAS;AACPygC,sBAAQx5C,IAAR,CAAa+Y,GAAb;AACD;AACF;;AAED,iBAAO,KAAKrC,KAAL,CAAW8iC,OAAX,EAAoB,EAAEljC,QAAQ,IAAV,EAApB,EAAsCpD,MAAtC,CAA6CN,QAA7C,CAAP;AACD,SAbD;AAcD;;AAED7V,WAAKgB,MAAL,CAAY0Y,MAAZ,EAAoB;AAClB8jB,mBAAWnN,MAAMusB,yBAAN,EAAiC,WAAjC,CADO;;AAGlBxjB,iBAAS/I,MAAMusB,wBAAwB;AACrCC,qBAAW;AAD0B,SAAxB,CAAN,EAEL,SAFK;AAHS,OAApB;;AAQA,eAASD,uBAAT,CAAiCzxC,MAAjC,EAAyC;;AAEvC,eAAO,SAAS2xC,aAAT,CAAuBC,UAAvB,EAAmC;AACxC,cAAIlkC,WAAW,EAAf;AACA,cAAIJ,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;AACA,cAAIpd,IAAI8P,UAAU,EAAlB;;AAEA;AACA,cAAI7O,GAAGG,MAAH,CAAUsgD,UAAV,CAAJ,EAA2B;AACzBA,yBAAatkC,GAAGk6B,CAAH,CAAKoK,UAAL,CAAb;AACD;;AAED,eAAK,IAAIx2C,IAAI,CAAb,EAAgBA,IAAIw2C,WAAW16C,MAA/B,EAAuCkE,GAAvC,EAA4C;AAC1C,gBAAI8U,QAAQ0hC,WAAWx2C,CAAX,EAAc9I,QAAd,CAAuB4d,KAAnC;;AAEA,iBAAK,IAAIvhB,IAAI,CAAb,EAAgBA,IAAIuhB,MAAMhZ,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,kBAAI8hB,OAAOP,MAAMvhB,CAAN,CAAX;AACA,kBAAIkjD,WAAWphC,KAAKne,QAAL,CAAc6Z,IAA7B;AACA,kBAAI2lC,cAAc,KAAKtkC,gBAAL,CAAsBqkC,SAASnlC,MAA/B,KAA0CklC,WAAWpkC,gBAAX,CAA4BqkC,SAASllC,MAArC,CAA5D;AACA,kBAAIolC,cAAcH,WAAWpkC,gBAAX,CAA4BqkC,SAASnlC,MAArC,KAAgD,KAAKc,gBAAL,CAAsBqkC,SAASllC,MAA/B,CAAlE;AACA,kBAAIqlC,2BAA2BF,eAAeC,WAA9C;;AAEA,kBAAI,CAACC,wBAAL,EAA+B;AAC7B;AACD;;AAED,kBAAI9hD,EAAEwhD,SAAF,IAAexhD,EAAE+hD,SAArB,EAAgC;AAC9B,oBAAI/hD,EAAEwhD,SAAF,IAAe,CAACI,WAApB,EAAiC;AAC/B;AACD;;AAED,oBAAI5hD,EAAE+hD,SAAF,IAAe,CAACF,WAApB,EAAiC;AAC/B;AACD;AACF;;AAEDrkC,uBAAS5V,IAAT,CAAc2Y,IAAd;AACD;AACF;;AAED,iBAAO,KAAKjC,KAAL,CAAWd,QAAX,EAAqB,EAAEU,QAAQ,IAAV,EAArB,CAAP;AACD,SAvCD;AAwCD;;AAEDvZ,WAAKgB,MAAL,CAAY0Y,MAAZ,EAAoB;AAClBoE,wBAAgBuS,MAAM,UAAUxa,QAAV,EAAoB;AACxC,cAAIi9B,UAAU,EAAd;;AAEA,cAAI75B,OAAO,IAAX;AACA,eAAK,IAAInf,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAIoiB,OAAOjD,KAAKnf,CAAL,CAAX;AACA,gBAAI,CAACoiB,KAAKZ,MAAL,EAAL,EAAoB;AAClB;AACD;;AAED,gBAAID,QAAQa,KAAKze,QAAL,CAAc4d,KAA1B;;AAEA,iBAAK,IAAI9Y,IAAI,CAAb,EAAgBA,IAAI8Y,MAAMhZ,MAA1B,EAAkCE,GAAlC,EAAuC;AACrC,kBAAIqZ,OAAOP,MAAM9Y,CAAN,CAAX;AACAuwC,sBAAQ7vC,IAAR,CAAa2Y,IAAb;AACD;AACF;;AAED,iBAAO,KAAKjC,KAAL,CAAWm5B,OAAX,EAAoB,EAAEv5B,QAAQ,IAAV,EAApB,EAAsCpD,MAAtC,CAA6CN,QAA7C,CAAP;AACD,SAnBe,EAmBb,gBAnBa,CADE;;AAsBlBkC,wBAAgBsY,MAAM,UAAUxa,QAAV,EAAoB;AACxC,cAAIi9B,UAAU,EAAd;;AAEA,cAAI75B,OAAO,IAAX;AACA,eAAK,IAAInf,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI8hB,OAAO3C,KAAKnf,CAAL,CAAX;AACA,gBAAI,CAAC8hB,KAAKD,MAAL,EAAL,EAAoB;AAClB;AACD;;AAEDm3B,oBAAQ7vC,IAAR,CAAa2Y,KAAK/D,MAAL,GAAc,CAAd,CAAb;AACAi7B,oBAAQ7vC,IAAR,CAAa2Y,KAAK9D,MAAL,GAAc,CAAd,CAAb;AACD;;AAED,iBAAO,KAAK6B,KAAL,CAAWm5B,OAAX,EAAoB,EAAEv5B,QAAQ,IAAV,EAApB,EAAsCpD,MAAtC,CAA6CN,QAA7C,CAAP;AACD,SAfe,EAeb,gBAfa,CAtBE;;AAuClBiH,uBAAeuT,MAAMgtB,6BAAN,EAAqC,eAArC,CAvCG;;AAyClBC,yBAAiBjtB,MAAMgtB,4BAA4B;AACjDE,sBAAY;AADqC,SAA5B,CAAN,EAEb,iBAFa;AAzCC,OAApB;;AA8CA,eAASF,2BAAT,CAAqClyC,MAArC,EAA6C;AAC3C,YAAIqW,WAAW;AACb+7B,sBAAY;AADC,SAAf;AAGApyC,iBAASnL,KAAKgB,MAAL,CAAY,EAAZ,EAAgBwgB,QAAhB,EAA0BrW,MAA1B,CAAT;;AAEA,eAAO,SAASqyC,iBAAT,CAA2B3nC,QAA3B,EAAqC;AAC1C;AACA,cAAIgD,WAAW,EAAf;AACA,cAAIwC,QAAQ,KAAKA,KAAL,EAAZ;AACA,cAAIhgB,IAAI8P,MAAR;;AAEA;AACA,eAAK,IAAIrR,IAAI,CAAb,EAAgBA,IAAIuhB,MAAMhZ,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,gBAAI2jD,QAAQpiC,MAAMvhB,CAAN,CAAZ;AACA,gBAAI4jD,UAAUD,MAAMhgD,QAApB;AACA,gBAAIkgD,OAAOD,QAAQ7lC,MAAnB;AACA,gBAAI+lC,SAASD,KAAKlgD,QAAL,CAAc6Z,IAAd,CAAmB5D,EAAhC;AACA,gBAAImqC,SAASH,QAAQpmC,IAAR,CAAaQ,MAA1B;AACA,gBAAIgmC,YAAYH,KAAKlgD,QAAL,CAAc4d,KAA9B;;AAEA;AACA,iBAAK,IAAI9Y,IAAI,CAAb,EAAgBA,IAAIu7C,UAAUz7C,MAA9B,EAAsCE,GAAtC,EAA2C;AACzC,kBAAIw7C,QAAQD,UAAUv7C,CAAV,CAAZ;AACA,kBAAIy7C,YAAYD,MAAMtgD,QAAN,CAAe6Z,IAA/B;AACA,kBAAI2mC,SAASD,UAAUlmC,MAAvB;AACA,kBAAIomC,SAASF,UAAUnmC,MAAvB;;AAEA,kBAAI0lC,aAAaU,WAAWJ,MAAX,IAAqBK,WAAWN,MAAjD;AACA,kBAAIO,cAAcP,WAAWK,MAAX,IAAqBJ,WAAWK,MAAlD;;AAEA,kBAAI7iD,EAAEkiD,UAAF,IAAgBA,UAAhB,IAA8B,CAACliD,EAAEkiD,UAAH,KAAkBA,cAAcY,WAAhC,CAAlC,EAAgF;AAC9EtlC,yBAAS5V,IAAT,CAAc86C,KAAd;AACD;AACF;AACF;;AAED,iBAAO,KAAKpkC,KAAL,CAAWd,QAAX,EAAqB,EAAEU,QAAQ,IAAV,EAArB,EAAuCpD,MAAvC,CAA8CN,QAA9C,CAAP;AACD,SAhCD;AAiCD;;AAED;AACA;;AAEA7V,WAAKgB,MAAL,CAAY0Y,MAAZ,EAAoB;AAClB0kC,oBAAY,SAASA,UAAT,GAAsB;AAChC,cAAItoC,OAAO,IAAX;AACA,cAAI2C,KAAK3C,KAAK2C,EAAL,EAAT;AACA,cAAI4lC,UAAUvoC,KAAK6D,KAAL,EAAd;AACA,cAAI2kC,YAAYxoC,KAAKsF,KAAL,GAAavB,SAAb,EAAhB;AACA,cAAIukC,aAAa,EAAjB;;AAEA,cAAIG,mBAAmB,SAASA,gBAAT,CAA0BriC,IAA1B,EAAgCsiC,SAAhC,EAA2C;AAChEH,oBAAQrhC,KAAR,CAAcd,IAAd;AACAoiC,sBAAU91B,OAAV,CAAkBtM,IAAlB;AACAsiC,sBAAUxhC,KAAV,CAAgBd,IAAhB;AACD,WAJD;;AAMA,cAAIoiC,UAAUhiC,KAAV,EAAJ,EAAuB;AACrB,mBAAOxG,KAAK6D,KAAL,EAAP;AACD;;AAED,cAAI8J,QAAQ,SAASA,KAAT,GAAiB;AAC3B,gBAAI+6B,YAAY/lC,GAAGjb,UAAH,EAAhB;AACA4gD,uBAAWn7C,IAAX,CAAgBu7C,SAAhB;;AAEA,gBAAIvlD,OAAOqlD,UAAU,CAAV,CAAX;AACAC,6BAAiBtlD,IAAjB,EAAuBulD,SAAvB;;AAEA1oC,iBAAK8jB,GAAL,CAAS;AACP9D,wBAAU,KADH;AAEP7qB,qBAAOhS,IAFA;AAGP8gC,qBAAO,SAASA,KAAT,CAAerB,CAAf,EAAkB5jB,CAAlB,EAAqBwoB,CAArB,EAAwBxjC,CAAxB,EAA2BqgC,KAA3B,EAAkC;AACvCokB,iCAAiB7lB,CAAjB,EAAoB8lB,SAApB;AACD;AALM,aAAT;AAOD,WAdD;;AAgBA,aAAG;AACD/6B;AACD,WAFD,QAES66B,UAAUj8C,MAAV,GAAmB,CAF5B;;AAIA,iBAAO+7C,WAAWrlC,GAAX,CAAe,UAAUylC,SAAV,EAAqB;AACzC,gBAAI1gC,iBAAiB0gC,UAAU1gC,cAAV,GAA2B+K,SAA3B,CAAqC,UAAUjN,IAAV,EAAgB;AACxE,qBAAO4iC,UAAU9d,OAAV,CAAkB9kB,KAAK/D,MAAL,EAAlB,KAAoC2mC,UAAU9d,OAAV,CAAkB9kB,KAAK9D,MAAL,EAAlB,CAA3C;AACD,aAFoB,CAArB;;AAIA,mBAAO0mC,UAAU7+B,KAAV,CAAgB7B,cAAhB,CAAP;AACD,WANM,CAAP;AAOD;AA7CiB,OAApB;;AAgDA1kB,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KA79UG;AA89UV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAIgf,aAAahf,oBAAoB,CAApB,CAAjB;AACA,UAAI0e,UAAU1e,oBAAoB,EAApB,CAAd;;AAEA,UAAIsuB,SAAS;AACX7O,aAAK,SAASA,GAAT,CAAaO,IAAb,EAAmB;;AAEtB,cAAIf,WAAW,KAAK,CAApB;AACA,cAAIJ,KAAK,IAAT;;AAEA;AACA,cAAInc,GAAGgB,mBAAH,CAAuBsc,IAAvB,CAAJ,EAAkC;AAChC,gBAAIX,OAAOW,IAAX;;AAEA,gBAAIX,KAAKxb,QAAL,CAAcgb,EAAd,KAAqBA,EAAzB,EAA6B;AAC3B;AACAI,yBAAWI,KAAKQ,OAAL,EAAX;AACD,aAHD,MAGO;AACL;AACA,kBAAIuB,QAAQ,EAAZ;;AAEA,mBAAK,IAAIlhB,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,oBAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;AACAkhB,sBAAM/X,IAAN,CAAWJ,IAAIsW,IAAJ,EAAX;AACD;;AAEDN,yBAAW,IAAID,UAAJ,CAAeH,EAAf,EAAmBuC,KAAnB,CAAX;AACD;AACF;;AAED;AAnBA,eAoBK,IAAI1e,GAAGI,KAAH,CAASkd,IAAT,CAAJ,EAAoB;AACrB,kBAAI2F,SAAS3F,IAAb;;AAEAf,yBAAW,IAAID,UAAJ,CAAeH,EAAf,EAAmB8G,MAAnB,CAAX;AACD;;AAED;AANG,iBAOE,IAAIjjB,GAAGO,WAAH,CAAe+c,IAAf,MAAyBtd,GAAGI,KAAH,CAASkd,KAAKwB,KAAd,KAAwB9e,GAAGI,KAAH,CAASkd,KAAKyB,KAAd,CAAjD,CAAJ,EAA4E;AAC7E,oBAAIojC,cAAc7kC,IAAlB;AACA,oBAAI8kC,UAAU,EAAd;;AAEA,oBAAI91B,MAAM,CAAC,OAAD,EAAU,OAAV,CAAV;AACA,qBAAK,IAAInX,KAAK,CAAT,EAAYuxB,KAAKpa,IAAIvmB,MAA1B,EAAkCoP,KAAKuxB,EAAvC,EAA2CvxB,IAA3C,EAAiD;AAC/C,sBAAIwE,QAAQ2S,IAAInX,EAAJ,CAAZ;AACA,sBAAIktC,YAAYF,YAAYxoC,KAAZ,CAAhB;;AAEA,sBAAI3Z,GAAGI,KAAH,CAASiiD,SAAT,CAAJ,EAAyB;;AAEvB,yBAAK,IAAIp8C,IAAI,CAAR,EAAWq8C,KAAKD,UAAUt8C,MAA/B,EAAuCE,IAAIq8C,EAA3C,EAA+Cr8C,GAA/C,EAAoD;AAClD,0BAAI4W,OAAOnZ,KAAKgB,MAAL,CAAY,EAAEiV,OAAOA,KAAT,EAAZ,EAA8B0oC,UAAUp8C,CAAV,CAA9B,CAAX;;AAEAm8C,8BAAQz7C,IAAR,CAAakW,IAAb;AACD;AACF;AACF;;AAEDN,2BAAW,IAAID,UAAJ,CAAeH,EAAf,EAAmBimC,OAAnB,CAAX;AACD;;AAED;AAtBG,mBAuBE;AACD,sBAAI7+B,QAAQjG,IAAZ;AACAf,6BAAW,IAAIP,OAAJ,CAAYG,EAAZ,EAAgBoH,KAAhB,EAAuBriB,UAAvB,EAAX;AACD;;AAEP,iBAAOqb,QAAP;AACD,SA/DU;;AAiEXyE,gBAAQ,SAASA,MAAT,CAAgB9f,UAAhB,EAA4B;AAClC,cAAIlB,GAAGgB,mBAAH,CAAuBE,UAAvB,CAAJ,EAAwC;AACtC;AACD,WAFD,MAEO,IAAIlB,GAAGG,MAAH,CAAUe,UAAV,CAAJ,EAA2B;AAChC,gBAAIqY,WAAWrY,UAAf;AACAA,yBAAa,KAAKm1C,CAAL,CAAO98B,QAAP,CAAb;AACD;;AAED,iBAAOrY,WAAW8f,MAAX,EAAP;AACD;AA1EU,OAAb;;AA6EAlkB,aAAOD,OAAP,GAAiB+uB,MAAjB;;AAEA;AAAO,KAxjVG;AAyjVV;AACA,SAAO,UAAS9uB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA;;AAEA;;AACA,eAASilD,mBAAT,CAA6BC,GAA7B,EAAkCC,GAAlC,EAAuCC,GAAvC,EAA4CC,GAA5C,EAAiD;AAC/C,YAAIC,oBAAoB,CAAxB;AAAA,YACIC,mBAAmB,KADvB;AAAA,YAEIC,wBAAwB,SAF5B;AAAA,YAGIC,6BAA6B,EAHjC;AAAA,YAIIC,mBAAmB,EAJvB;AAAA,YAKIC,kBAAkB,OAAOD,mBAAmB,GAA1B,CALtB;AAAA,YAMIE,wBAAwB,OAAOC,YAAP,KAAwB,WANpD;;AAQA;AACA,YAAI7+C,UAAUyB,MAAV,KAAqB,CAAzB,EAA4B;AAC1B,iBAAO,KAAP;AACD;;AAED;AACA,aAAK,IAAIvI,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuB,EAAEA,CAAzB,EAA4B;AAC1B,cAAI,OAAO8G,UAAU9G,CAAV,CAAP,KAAwB,QAAxB,IAAoCiD,MAAM6D,UAAU9G,CAAV,CAAN,CAApC,IAA2D,CAAC4lD,SAAS9+C,UAAU9G,CAAV,CAAT,CAAhE,EAAwF;AACtF,mBAAO,KAAP;AACD;AACF;;AAED;AACAglD,cAAM7hD,KAAKiJ,GAAL,CAAS44C,GAAT,EAAc,CAAd,CAAN;AACAE,cAAM/hD,KAAKiJ,GAAL,CAAS84C,GAAT,EAAc,CAAd,CAAN;AACAF,cAAM7hD,KAAKkJ,GAAL,CAAS24C,GAAT,EAAc,CAAd,CAAN;AACAE,cAAM/hD,KAAKkJ,GAAL,CAAS64C,GAAT,EAAc,CAAd,CAAN;;AAEA,YAAIW,gBAAgBH,wBAAwB,IAAIC,YAAJ,CAAiBH,gBAAjB,CAAxB,GAA6D,IAAI3iD,KAAJ,CAAU2iD,gBAAV,CAAjF;;AAEA,iBAASz5C,CAAT,CAAW+5C,GAAX,EAAgBC,GAAhB,EAAqB;AACnB,iBAAO,MAAM,MAAMA,GAAZ,GAAkB,MAAMD,GAA/B;AACD;;AAED,iBAAS95C,CAAT,CAAW85C,GAAX,EAAgBC,GAAhB,EAAqB;AACnB,iBAAO,MAAMA,GAAN,GAAY,MAAMD,GAAzB;AACD;;AAED,iBAAS75C,CAAT,CAAW65C,GAAX,EAAgB;AACd,iBAAO,MAAMA,GAAb;AACD;;AAED,iBAASE,UAAT,CAAoBC,EAApB,EAAwBH,GAAxB,EAA6BC,GAA7B,EAAkC;AAChC,iBAAO,CAAC,CAACh6C,EAAE+5C,GAAF,EAAOC,GAAP,IAAcE,EAAd,GAAmBj6C,EAAE85C,GAAF,EAAOC,GAAP,CAApB,IAAmCE,EAAnC,GAAwCh6C,EAAE65C,GAAF,CAAzC,IAAmDG,EAA1D;AACD;;AAED,iBAASC,QAAT,CAAkBD,EAAlB,EAAsBH,GAAtB,EAA2BC,GAA3B,EAAgC;AAC9B,iBAAO,MAAMh6C,EAAE+5C,GAAF,EAAOC,GAAP,CAAN,GAAoBE,EAApB,GAAyBA,EAAzB,GAA8B,MAAMj6C,EAAE85C,GAAF,EAAOC,GAAP,CAAN,GAAoBE,EAAlD,GAAuDh6C,EAAE65C,GAAF,CAA9D;AACD;;AAED,iBAASK,oBAAT,CAA8BC,EAA9B,EAAkCC,OAAlC,EAA2C;AACzC,eAAK,IAAI1uC,KAAK,CAAd,EAAiBA,KAAKytC,iBAAtB,EAAyC,EAAEztC,EAA3C,EAA+C;AAC7C,gBAAI2uC,eAAeJ,SAASG,OAAT,EAAkBrB,GAAlB,EAAuBE,GAAvB,CAAnB;;AAEA,gBAAIoB,iBAAiB,GAArB,EAA0B;AACxB,qBAAOD,OAAP;AACD;;AAED,gBAAI9uC,WAAWyuC,WAAWK,OAAX,EAAoBrB,GAApB,EAAyBE,GAAzB,IAAgCkB,EAA/C;AACAC,uBAAW9uC,WAAW+uC,YAAtB;AACD;;AAED,iBAAOD,OAAP;AACD;;AAED,iBAASE,gBAAT,GAA4B;AAC1B,eAAK,IAAI5tC,MAAM,CAAf,EAAkBA,MAAM6sC,gBAAxB,EAA0C,EAAE7sC,GAA5C,EAAiD;AAC/CktC,0BAAcltC,GAAd,IAAqBqtC,WAAWrtC,MAAM8sC,eAAjB,EAAkCT,GAAlC,EAAuCE,GAAvC,CAArB;AACD;AACF;;AAED,iBAASsB,eAAT,CAAyBJ,EAAzB,EAA6BK,EAA7B,EAAiCC,EAAjC,EAAqC;AACnC,cAAInvC,WAAW,KAAK,CAApB;AAAA,cACIovC,WAAW,KAAK,CADpB;AAAA,cAEI3mD,IAAI,CAFR;;AAIA,aAAG;AACD2mD,uBAAWF,KAAK,CAACC,KAAKD,EAAN,IAAY,GAA5B;AACAlvC,uBAAWyuC,WAAWW,QAAX,EAAqB3B,GAArB,EAA0BE,GAA1B,IAAiCkB,EAA5C;AACA,gBAAI7uC,WAAW,GAAf,EAAoB;AAClBmvC,mBAAKC,QAAL;AACD,aAFD,MAEO;AACLF,mBAAKE,QAAL;AACD;AACF,WARD,QAQSxjD,KAAKoO,GAAL,CAASgG,QAAT,IAAqB+tC,qBAArB,IAA8C,EAAEtlD,CAAF,GAAMulD,0BAR7D;;AAUA,iBAAOoB,QAAP;AACD;;AAED,iBAASC,QAAT,CAAkBR,EAAlB,EAAsB;AACpB,cAAIS,gBAAgB,GAApB;AAAA,cACIC,gBAAgB,CADpB;AAAA,cAEIC,aAAavB,mBAAmB,CAFpC;;AAIA,iBAAOsB,kBAAkBC,UAAlB,IAAgClB,cAAciB,aAAd,KAAgCV,EAAvE,EAA2E,EAAEU,aAA7E,EAA4F;AAC1FD,6BAAiBpB,eAAjB;AACD;;AAED,YAAEqB,aAAF;;AAEA,cAAI97C,OAAO,CAACo7C,KAAKP,cAAciB,aAAd,CAAN,KAAuCjB,cAAciB,gBAAgB,CAA9B,IAAmCjB,cAAciB,aAAd,CAA1E,CAAX;AAAA,cACIE,YAAYH,gBAAgB77C,OAAOy6C,eADvC;AAAA,cAEIwB,eAAef,SAASc,SAAT,EAAoBhC,GAApB,EAAyBE,GAAzB,CAFnB;;AAIA,cAAI+B,gBAAgB5B,gBAApB,EAAsC;AACpC,mBAAOc,qBAAqBC,EAArB,EAAyBY,SAAzB,CAAP;AACD,WAFD,MAEO,IAAIC,iBAAiB,GAArB,EAA0B;AAC/B,mBAAOD,SAAP;AACD,WAFM,MAEA;AACL,mBAAOR,gBAAgBJ,EAAhB,EAAoBS,aAApB,EAAmCA,gBAAgBpB,eAAnD,CAAP;AACD;AACF;;AAED,YAAIyB,eAAe,KAAnB;;AAEA,iBAASC,UAAT,GAAsB;AACpBD,yBAAe,IAAf;AACA,cAAIlC,QAAQC,GAAR,IAAeC,QAAQC,GAA3B,EAAgC;AAC9BoB;AACD;AACF;;AAED,YAAIxxC,IAAI,SAASA,CAAT,CAAWqxC,EAAX,EAAe;AACrB,cAAI,CAACc,YAAL,EAAmB;AACjBC;AACD;AACD,cAAInC,QAAQC,GAAR,IAAeC,QAAQC,GAA3B,EAAgC;AAC9B,mBAAOiB,EAAP;AACD;AACD,cAAIA,OAAO,CAAX,EAAc;AACZ,mBAAO,CAAP;AACD;AACD,cAAIA,OAAO,CAAX,EAAc;AACZ,mBAAO,CAAP;AACD;;AAED,iBAAOJ,WAAWY,SAASR,EAAT,CAAX,EAAyBnB,GAAzB,EAA8BE,GAA9B,CAAP;AACD,SAfD;;AAiBApwC,UAAEm/B,gBAAF,GAAqB,YAAY;AAC/B,iBAAO,CAAC;AACNzsC,eAAGu9C,GADG;AAENt9C,eAAGu9C;AAFG,WAAD,EAGJ;AACDx9C,eAAGy9C,GADF;AAEDx9C,eAAGy9C;AAFF,WAHI,CAAP;AAOD,SARD;;AAUA,YAAIpoC,MAAM,oBAAoB,CAACioC,GAAD,EAAMC,GAAN,EAAWC,GAAX,EAAgBC,GAAhB,CAApB,GAA2C,GAArD;AACApwC,UAAEhN,QAAF,GAAa,YAAY;AACvB,iBAAOgV,GAAP;AACD,SAFD;;AAIA,eAAOhI,CAAP;AACD;;AAEDzV,aAAOD,OAAP,GAAiB0lD,mBAAjB;;AAEA;AAAO,KAhuVG;AAiuVV;AACA,SAAO,UAASzlD,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,eAASsnD,aAAT,CAAuBtiC,IAAvB,EAA6BoS,KAA7B,EAAoC+D,GAApC,EAAyCosB,OAAzC,EAAkDC,QAAlD,EAA4D;AAC1D,YAAID,YAAY,CAAhB,EAAmB;AACjB,iBAAOpsB,GAAP;AACD;;AAED,YAAIryB,MAAM0+C,SAASpwB,KAAT,EAAgB+D,GAAhB,EAAqBosB,OAArB,CAAV;;AAEA,YAAIviC,QAAQ,IAAZ,EAAkB;AAChB,iBAAOlc,GAAP;AACD;;AAED,YAAIkc,KAAKyiC,UAAL,IAAmBziC,KAAK0iC,KAA5B,EAAmC;AACjC5+C,gBAAMzF,KAAKskD,KAAL,CAAW7+C,GAAX,CAAN;AACD;;AAED,YAAIkc,KAAK1Y,GAAL,KAAa7I,SAAjB,EAA4B;AAC1BqF,gBAAMzF,KAAKkJ,GAAL,CAASzD,GAAT,EAAckc,KAAK1Y,GAAnB,CAAN;AACD;;AAED,YAAI0Y,KAAKzY,GAAL,KAAa9I,SAAjB,EAA4B;AAC1BqF,gBAAMzF,KAAKiJ,GAAL,CAASxD,GAAT,EAAckc,KAAKzY,GAAnB,CAAN;AACD;;AAED,eAAOzD,GAAP;AACD;;AAED,eAAS8+C,IAAT,CAAcC,SAAd,EAAyBC,OAAzB,EAAkCP,OAAlC,EAA2CC,QAA3C,EAAqDO,QAArD,EAA+D;AAC7D,YAAI/iC,OAAO+iC,YAAY,IAAZ,GAAmBA,SAAS/iC,IAA5B,GAAmC,IAA9C;;AAEA,YAAIuiC,UAAU,CAAd,EAAiB;AACfA,oBAAU,CAAV;AACD,SAFD,MAEO,IAAIA,UAAU,CAAd,EAAiB;AACtBA,oBAAU,CAAV;AACD;;AAED,YAAInwB,QAAQ,KAAK,CAAjB;AAAA,YACI+D,MAAM,KAAK,CADf;;AAGA,YAAI0sB,UAAUvb,OAAV,IAAqB,IAArB,IAA6Bub,UAAUtnD,KAAV,IAAmB,IAApD,EAA0D;AACxD62B,kBAAQywB,UAAUvb,OAAV,IAAqB,IAArB,GAA4Bub,UAAUvb,OAAtC,GAAgDub,UAAUtnD,KAAlE;AACD,SAFD,MAEO;AACL62B,kBAAQywB,SAAR;AACD;;AAED,YAAIC,QAAQxb,OAAR,IAAmB,IAAnB,IAA2Bwb,QAAQvnD,KAAR,IAAiB,IAAhD,EAAsD;AACpD46B,gBAAM2sB,QAAQxb,OAAR,IAAmB,IAAnB,GAA0Bwb,QAAQxb,OAAlC,GAA4Cwb,QAAQvnD,KAA1D;AACD,SAFD,MAEO;AACL46B,gBAAM2sB,OAAN;AACD;;AAED,YAAIplD,GAAGQ,MAAH,CAAUk0B,KAAV,KAAoB10B,GAAGQ,MAAH,CAAUi4B,GAAV,CAAxB,EAAwC;AACtC,iBAAOmsB,cAActiC,IAAd,EAAoBoS,KAApB,EAA2B+D,GAA3B,EAAgCosB,OAAhC,EAAyCC,QAAzC,CAAP;AACD,SAFD,MAEO,IAAI9kD,GAAGI,KAAH,CAASs0B,KAAT,KAAmB10B,GAAGI,KAAH,CAASq4B,GAAT,CAAvB,EAAsC;AAC3C,cAAI6sB,WAAW,EAAf;;AAEA,eAAK,IAAI9nD,IAAI,CAAb,EAAgBA,IAAIi7B,IAAI1yB,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,gBAAI+nD,KAAK7wB,MAAMl3B,CAAN,CAAT;AACA,gBAAIgoD,KAAK/sB,IAAIj7B,CAAJ,CAAT;;AAEA,gBAAI+nD,MAAM,IAAN,IAAcC,MAAM,IAAxB,EAA8B;AAC5B,kBAAIp/C,MAAMw+C,cAActiC,IAAd,EAAoBijC,EAApB,EAAwBC,EAAxB,EAA4BX,OAA5B,EAAqCC,QAArC,CAAV;;AAEAQ,uBAAS3+C,IAAT,CAAcP,GAAd;AACD,aAJD,MAIO;AACLk/C,uBAAS3+C,IAAT,CAAc6+C,EAAd;AACD;AACF;;AAED,iBAAOF,QAAP;AACD;;AAED,eAAOvkD,SAAP;AACD;;AAEDjE,aAAOD,OAAP,GAAiBqoD,IAAjB;;AAEA;AAAO,KArzVG;AAszVV;AACA,SAAO,UAASpoD,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIilD,sBAAsBjlD,oBAAoB,EAApB,CAA1B;AACA,UAAImoD,oBAAoBnoD,oBAAoB,EAApB,CAAxB;;AAEA,UAAIooD,cAAc,SAASA,WAAT,CAAqBlzC,EAArB,EAAyBjL,EAAzB,EAA6BkL,EAA7B,EAAiCjL,EAAjC,EAAqC;AACrD,YAAIm+C,SAASpD,oBAAoB/vC,EAApB,EAAwBjL,EAAxB,EAA4BkL,EAA5B,EAAgCjL,EAAhC,CAAb;;AAEA,eAAO,UAAUktB,KAAV,EAAiB+D,GAAjB,EAAsBosB,OAAtB,EAA+B;AACpC,iBAAOnwB,QAAQ,CAAC+D,MAAM/D,KAAP,IAAgBixB,OAAOd,OAAP,CAA/B;AACD,SAFD;AAGD,OAND;;AAQA,UAAIe,UAAU;AACZ,kBAAU,SAASC,MAAT,CAAgBnxB,KAAhB,EAAuB+D,GAAvB,EAA4BosB,OAA5B,EAAqC;AAC7C,iBAAOnwB,QAAQ,CAAC+D,MAAM/D,KAAP,IAAgBmwB,OAA/B;AACD,SAHW;;AAKZ;AACA,gBAAQa,YAAY,IAAZ,EAAkB,GAAlB,EAAuB,IAAvB,EAA6B,CAA7B,CANI;AAOZ,mBAAWA,YAAY,IAAZ,EAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAPC;AAQZ,oBAAYA,YAAY,CAAZ,EAAe,CAAf,EAAkB,IAAlB,EAAwB,CAAxB,CARA;AASZ,uBAAeA,YAAY,IAAZ,EAAkB,CAAlB,EAAqB,IAArB,EAA2B,CAA3B,CATH;;AAWZ;AACA,wBAAgBA,YAAY,IAAZ,EAAkB,CAAlB,EAAqB,KAArB,EAA4B,KAA5B,CAZJ;AAaZ,yBAAiBA,YAAY,IAAZ,EAAkB,KAAlB,EAAyB,KAAzB,EAAgC,CAAhC,CAbL;AAcZ,4BAAoBA,YAAY,KAAZ,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,CAdR;;AAgBZ;AACA,wBAAgBA,YAAY,IAAZ,EAAkB,KAAlB,EAAyB,IAAzB,EAA+B,IAA/B,CAjBJ;AAkBZ,yBAAiBA,YAAY,IAAZ,EAAkB,IAAlB,EAAwB,IAAxB,EAA8B,IAA9B,CAlBL;AAmBZ,4BAAoBA,YAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,EAAgC,KAAhC,CAnBR;;AAqBZ;AACA,yBAAiBA,YAAY,IAAZ,EAAkB,KAAlB,EAAyB,KAAzB,EAAgC,IAAhC,CAtBL;AAuBZ,0BAAkBA,YAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,EAAgC,CAAhC,CAvBN;AAwBZ,6BAAqBA,YAAY,KAAZ,EAAmB,KAAnB,EAA0B,KAA1B,EAAiC,CAAjC,CAxBT;;AA0BZ;AACA,yBAAiBA,YAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,EAAgC,IAAhC,CA3BL;AA4BZ,0BAAkBA,YAAY,KAAZ,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,CAA/B,CA5BN;AA6BZ,6BAAqBA,YAAY,IAAZ,EAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B,CA7BT;;AA+BZ;AACA,yBAAiBA,YAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,EAAgC,IAAhC,CAhCL;AAiCZ,0BAAkBA,YAAY,IAAZ,EAAkB,CAAlB,EAAqB,IAArB,EAA2B,CAA3B,CAjCN;AAkCZ,6BAAqBA,YAAY,IAAZ,EAAkB,CAAlB,EAAqB,IAArB,EAA2B,CAA3B,CAlCT;;AAoCZ;AACA,wBAAgBA,YAAY,IAAZ,EAAkB,IAAlB,EAAwB,KAAxB,EAA+B,KAA/B,CArCJ;AAsCZ,yBAAiBA,YAAY,IAAZ,EAAkB,CAAlB,EAAqB,IAArB,EAA2B,CAA3B,CAtCL;AAuCZ,4BAAoBA,YAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CAvCR;;AAyCZ;AACA,wBAAgBA,YAAY,GAAZ,EAAiB,IAAjB,EAAuB,IAAvB,EAA6B,KAA7B,CA1CJ;AA2CZ,yBAAiBA,YAAY,KAAZ,EAAmB,IAAnB,EAAyB,KAAzB,EAAgC,CAAhC,CA3CL;AA4CZ,4BAAoBA,YAAY,KAAZ,EAAmB,KAAnB,EAA0B,IAA1B,EAAgC,IAAhC,CA5CR;;AA8CZ;;AAEA,kBAAU,SAASI,MAAT,CAAgBC,OAAhB,EAAyBC,QAAzB,EAAmCv1B,QAAnC,EAA6C;AACrD,cAAIA,aAAa,CAAjB,EAAoB;AAClB;AACA,mBAAOm1B,QAAQC,MAAf,CAFkB,CAEK;AACxB;;AAED,cAAIC,SAASL,kBAAkBM,OAAlB,EAA2BC,QAA3B,EAAqCv1B,QAArC,CAAb;;AAEA,iBAAO,UAAUiE,KAAV,EAAiB+D,GAAjB,EAAsBosB,OAAtB,EAA+B;AACpC,mBAAOnwB,QAAQ,CAAC+D,MAAM/D,KAAP,IAAgBoxB,OAAOjB,OAAP,CAA/B;AACD,WAFD;AAGD,SA3DW;;AA6DZ,wBAAgBa;AA7DJ,OAAd;;AAgEA5oD,aAAOD,OAAP,GAAiB+oD,OAAjB;;AAEA;AAAO,KAz4VG;AA04VV;AACA,SAAO,UAAS9oD,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIN,SAASM,oBAAoB,CAApB,CAAb;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI2oD,UAAU3oD,oBAAoB,EAApB,CAAd;;AAEA,UAAIsuB,SAAS;;AAEX;AACAiJ,iBAAS73B,OAAO63B,OAAP,EAHE;AAIXnL,mBAAW1sB,OAAO0sB,SAAP,EAJA;AAKXgI,kBAAU10B,OAAO00B,QAAP,EALC;AAMX+T,oBAAYzoC,OAAOyoC,UAAP,EAND;AAOXC,eAAO1oC,OAAO0oC,KAAP,EAPI;AAQXC,wBAAgB3oC,OAAO2oC,cAAP,EARL;AASX/Q,cAAM53B,OAAO43B,IAAP,EATK;;AAWX6C,4BAAoB,SAASA,kBAAT,CAA4B9a,IAA5B,EAAkC;AACpD,cAAIR,KAAK,IAAT;;AAEA,cAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB;AACD,WALmD,CAKlD;;AAEFtN,aAAGhb,QAAH,CAAYunB,OAAZ,CAAoBhI,KAApB,CAA0B/D,IAA1B;AACD,SAnBU;;AAqBXqP,2BAAmB,SAASA,iBAAT,GAA6B;AAC9C,eAAK7qB,QAAL,CAAc+kD,iBAAd,GAAkC,KAAlC;AACD,SAvBU;;AAyBXx6B,4BAAoB,SAASA,kBAAT,GAA8B;AAChD,cAAIvP,KAAK,IAAT;;AAEAA,aAAGhb,QAAH,CAAY+kD,iBAAZ,GAAgC,IAAhC;;AAEA,cAAI,CAAC/pC,GAAGsN,YAAH,EAAL,EAAwB;AACtB;AACD,WAP+C,CAO9C;;AAEF;AACA;;AAEA,mBAAS08B,YAAT,GAAwB;AACtB,gBAAI,CAAChqC,GAAGhb,QAAH,CAAY+kD,iBAAjB,EAAoC;AAClC;AACD;;AAEDxiD,iBAAK0iD,qBAAL,CAA2B,SAASC,aAAT,CAAuBn3B,GAAvB,EAA4B;AACrD+2B,sBAAQ/2B,GAAR,EAAa/S,EAAb;AACAgqC;AACD,aAHD;AAID;;AAED,cAAI3oC,WAAWrB,GAAGqB,QAAH,EAAf;;AAEA,cAAIA,YAAYA,SAAS6T,YAAzB,EAAuC;AACrC;AACA7T,qBAAS6T,YAAT,CAAsB,SAASi1B,qBAAT,CAA+Bx2B,QAA/B,EAAyCZ,GAAzC,EAA8C;AAClE+2B,sBAAQ/2B,GAAR,EAAa/S,EAAb;AACD,aAFD,EAEGqB,SAAS+oC,sBAAT,CAAgCxxB,UAFnC;AAGD,WALD,MAKO;AACL;AACAoxB,2BAFK,CAEW;AACjB;AACF;;AA3DU,OAAb;;AA+DArpD,aAAOD,OAAP,GAAiB+uB,MAAjB;;AAEA;AAAO,KAr9VG;AAs9VV;AACA,SAAO,UAAS9uB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA;AACA;;;AAEA,UAAImoD,oBAAoB,YAAY;AAClC,iBAASe,0BAAT,CAAoCnvC,KAApC,EAA2C;AACzC,iBAAO,CAACA,MAAM0uC,OAAP,GAAiB1uC,MAAMpS,CAAvB,GAA2BoS,MAAM2uC,QAAN,GAAiB3uC,MAAM+kB,CAAzD;AACD;;AAED,iBAASqqB,iCAAT,CAA2CC,YAA3C,EAAyDC,EAAzD,EAA6DC,UAA7D,EAAyE;AACvE,cAAIvvC,QAAQ;AACVpS,eAAGyhD,aAAazhD,CAAb,GAAiB2hD,WAAWj+C,EAAX,GAAgBg+C,EAD1B;AAEVvqB,eAAGsqB,aAAatqB,CAAb,GAAiBwqB,WAAWC,EAAX,GAAgBF,EAF1B;AAGVZ,qBAASW,aAAaX,OAHZ;AAIVC,sBAAUU,aAAaV;AAJb,WAAZ;;AAOA,iBAAO,EAAEr9C,IAAI0O,MAAM+kB,CAAZ,EAAeyqB,IAAIL,2BAA2BnvC,KAA3B,CAAnB,EAAP;AACD;;AAED,iBAASyvC,oBAAT,CAA8BzvC,KAA9B,EAAqCsvC,EAArC,EAAyC;AACvC,cAAIvhD,IAAI;AACNuD,gBAAI0O,MAAM+kB,CADJ;AAENyqB,gBAAIL,2BAA2BnvC,KAA3B;AAFE,WAAR;AAAA,cAIIhS,IAAIohD,kCAAkCpvC,KAAlC,EAAyCsvC,KAAK,GAA9C,EAAmDvhD,CAAnD,CAJR;AAAA,cAKIxH,IAAI6oD,kCAAkCpvC,KAAlC,EAAyCsvC,KAAK,GAA9C,EAAmDthD,CAAnD,CALR;AAAA,cAMIvH,IAAI2oD,kCAAkCpvC,KAAlC,EAAyCsvC,EAAzC,EAA6C/oD,CAA7C,CANR;AAAA,cAOImpD,OAAO,MAAM,GAAN,IAAa3hD,EAAEuD,EAAF,GAAO,OAAOtD,EAAEsD,EAAF,GAAO/K,EAAE+K,EAAhB,CAAP,GAA6B7K,EAAE6K,EAA5C,CAPX;AAAA,cAQIq+C,OAAO,MAAM,GAAN,IAAa5hD,EAAEyhD,EAAF,GAAO,OAAOxhD,EAAEwhD,EAAF,GAAOjpD,EAAEipD,EAAhB,CAAP,GAA6B/oD,EAAE+oD,EAA5C,CARX;;AAUAxvC,gBAAMpS,CAAN,GAAUoS,MAAMpS,CAAN,GAAU8hD,OAAOJ,EAA3B;AACAtvC,gBAAM+kB,CAAN,GAAU/kB,MAAM+kB,CAAN,GAAU4qB,OAAOL,EAA3B;;AAEA,iBAAOtvC,KAAP;AACD;;AAED,eAAO,SAAS4vC,gBAAT,CAA0BlB,OAA1B,EAAmCC,QAAnC,EAA6Cv1B,QAA7C,EAAuD;;AAE5D,cAAIy2B,YAAY;AACdjiD,eAAG,CAAC,CADU;AAEdm3B,eAAG,CAFW;AAGd2pB,qBAAS,IAHK;AAIdC,sBAAU;AAJI,WAAhB;AAAA,cAMI7rB,OAAO,CAAC,CAAD,CANX;AAAA,cAOIgtB,cAAc,CAPlB;AAAA,cAQI55C,YAAY,IAAI,KARpB;AAAA,cASI65C,KAAK,KAAK,IATd;AAAA,cAUIC,gBAAgB,KAAK,CAVzB;AAAA,cAWIV,KAAK,KAAK,CAXd;AAAA,cAYIW,aAAa,KAAK,CAZtB;;AAcAvB,oBAAUwB,WAAWxB,OAAX,KAAuB,GAAjC;AACAC,qBAAWuB,WAAWvB,QAAX,KAAwB,EAAnC;AACAv1B,qBAAWA,YAAY,IAAvB;;AAEAy2B,oBAAUnB,OAAV,GAAoBA,OAApB;AACAmB,oBAAUlB,QAAV,GAAqBA,QAArB;;AAEAqB,0BAAgB52B,aAAa,IAA7B;;AAEA;AACA,cAAI42B,aAAJ,EAAmB;AACjB;AACAF,0BAAcF,iBAAiBlB,OAAjB,EAA0BC,QAA1B,CAAd;AACA;AACAW,iBAAKQ,cAAc12B,QAAd,GAAyB22B,EAA9B;AACD,WALD,MAKO;AACLT,iBAAKS,EAAL;AACD;;AAED,mBAAS;AACP;AACAE,yBAAaR,qBAAqBQ,cAAcJ,SAAnC,EAA8CP,EAA9C,CAAb;AACA;AACAxsB,iBAAKxzB,IAAL,CAAU,IAAI2gD,WAAWriD,CAAzB;AACAkiD,2BAAe,EAAf;AACA;AACA,gBAAI,EAAExmD,KAAKoO,GAAL,CAASu4C,WAAWriD,CAApB,IAAyBsI,SAAzB,IAAsC5M,KAAKoO,GAAL,CAASu4C,WAAWlrB,CAApB,IAAyB7uB,SAAjE,CAAJ,EAAiF;AAC/E;AACD;AACF;;AAED;;AAEA,iBAAO,CAAC85C,aAAD,GAAiBF,WAAjB,GAA+B,UAAUK,eAAV,EAA2B;AAC/D,mBAAOrtB,KAAKqtB,mBAAmBrtB,KAAKp0B,MAAL,GAAc,CAAjC,IAAsC,CAA3C,CAAP;AACD,WAFD;AAGD,SApDD;AAqDD,OAtFuB,EAAxB;;AAwFAjJ,aAAOD,OAAP,GAAiB4oD,iBAAjB;;AAEA;AAAO,KAzjWG;AA0jWV;AACA,SAAO,UAAS3oD,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,eAASmqD,cAAT,CAAwBjuC,IAAxB,EAA8BsgC,GAA9B,EAAmC5qB,GAAnC,EAAwCw4B,MAAxC,EAAgD;AAC9C,YAAIC,SAAS,CAACD,MAAd;AACA,YAAInhD,MAAMiT,IAAV;AACA,YAAIouC,QAAQ9N,IAAI34C,QAAhB;AACA,YAAIgb,KAAKurC,SAASluC,IAAT,GAAgBA,KAAK2C,EAAL,EAAzB;AACA,YAAI7a,QAAQ6a,GAAG7a,KAAH,EAAZ;;AAEA,YAAIqmD,MAAJ,EAAY;AACV,cAAI3iD,MAAMuB,IAAIuX,QAAJ,EAAV;;AAEA8pC,gBAAMC,aAAN,GAAsBD,MAAMC,aAAN,IAAuB;AAC3C5iD,eAAGD,IAAIC,CADoC;AAE3CC,eAAGF,IAAIE;AAFoC,WAA7C;;AAKA0iD,gBAAMtvB,UAAN,GAAmBsvB,MAAMtvB,UAAN,IAAoBh3B,MAAMwmD,sBAAN,CAA6BvhD,GAA7B,EAAkCqhD,MAAMtmD,KAAxC,CAAvC;AACD;;AAED,YAAIomD,MAAJ,EAAY;AACV,cAAI9/C,MAAMuU,GAAGhb,QAAH,CAAYyG,GAAtB;;AAEAggD,gBAAMG,QAAN,GAAiBH,MAAMG,QAAN,IAAkB;AACjC9iD,eAAG2C,IAAI3C,CAD0B;AAEjCC,eAAG0C,IAAI1C;AAF0B,WAAnC;;AAKA0iD,gBAAMI,SAAN,GAAkBJ,MAAMI,SAAN,IAAmB,IAAnB,GAA0BJ,MAAMI,SAAhC,GAA4C7rC,GAAGhb,QAAH,CAAYwG,IAA1E;AACD;;AAEDigD,cAAM9wB,OAAN,GAAgB,IAAhB;AACA8wB,cAAM53B,SAAN,GAAkBd,MAAM04B,MAAM1wB,QAAN,GAAiB0wB,MAAMn3B,QAA/C;AACD;;AAED3zB,aAAOD,OAAP,GAAiB4qD,cAAjB;;AAEA;AAAO,KAnmWG;AAomWV;AACA,SAAO,UAAS3qD,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI2qD,OAAO3qD,oBAAoB,EAApB,CAAX;AACA,UAAImqD,iBAAiBnqD,oBAAoB,EAApB,CAArB;;AAEA,eAAS2oD,OAAT,CAAiB/2B,GAAjB,EAAsB/S,EAAtB,EAA0B;AACxB,YAAIQ,OAAOR,GAAGhb,QAAH,CAAYunB,OAAvB;AACA,YAAIw/B,WAAW,EAAf;;AAEA,iBAASC,OAAT,CAAiB5hD,GAAjB,EAAsBmhD,MAAtB,EAA8B;AAC5B,cAAIl/B,KAAKjiB,IAAIpF,QAAb;AACA,cAAIwoB,UAAUnB,GAAGkB,SAAH,CAAaC,OAA3B;AACA,cAAIC,QAAQpB,GAAGkB,SAAH,CAAaE,KAAzB;AACA,cAAIw+B,UAAU,KAAd;;AAEA;AACA,cAAI,CAACV,MAAD,IAAWnhD,IAAI4nB,MAAJ,CAAW,SAAX,EAAsBtwB,KAAtB,KAAgC,MAA/C,EAAuD;AACrD;AACA;AACA8rB,sBAAUA,QAAQljB,MAAR,CAAe,CAAf,EAAkBkjB,QAAQ5jB,MAA1B,EAAkCkZ,MAAlC,CAAyC2K,MAAMnjB,MAAN,CAAa,CAAb,EAAgBmjB,MAAM7jB,MAAtB,CAAzC,CAAV;;AAEA;AACA,iBAAK,IAAIvI,IAAI,CAAb,EAAgBA,IAAImsB,QAAQ5jB,MAA5B,EAAoCvI,GAApC,EAAyC;AACvCmsB,sBAAQnsB,CAAR,EAAWo3B,IAAX;AACD;AACF;;AAED;AACA,cAAIjL,QAAQ5jB,MAAR,KAAmB,CAAvB,EAA0B;AACxB,gBAAIgS,OAAO6R,MAAMgU,KAAN,EAAX;;AAEA,gBAAI7lB,IAAJ,EAAU;AACR4R,sBAAQhjB,IAAR,CAAaoR,IAAb;AACD;AACF;;AAED,cAAIswC,YAAY,SAASA,SAAT,CAAmBC,UAAnB,EAA+B;AAC7C,iBAAK,IAAIriD,IAAIqiD,WAAWviD,MAAX,GAAoB,CAAjC,EAAoCE,KAAK,CAAzC,EAA4CA,GAA5C,EAAiD;AAC/C,kBAAIqS,KAAKgwC,WAAWriD,CAAX,CAAT;;AAEAqS;AACD;;AAEDgwC,uBAAW7hD,MAAX,CAAkB,CAAlB,EAAqB6hD,WAAWviD,MAAhC;AACD,WARD;;AAUA;AACA,eAAK,IAAIoP,KAAKwU,QAAQ5jB,MAAR,GAAiB,CAA/B,EAAkCoP,MAAM,CAAxC,EAA2CA,IAA3C,EAAiD;AAC/C,gBAAI2kC,MAAMnwB,QAAQxU,EAAR,CAAV;AACA,gBAAIyyC,QAAQ9N,IAAI34C,QAAhB;;AAEA,gBAAIymD,MAAMjwB,OAAV,EAAmB;AACjBhO,sBAAQljB,MAAR,CAAe0O,EAAf,EAAmB,CAAnB;;AAEAyyC,oBAAM5wB,MAAN,GAAe,KAAf;AACA4wB,oBAAM7wB,OAAN,GAAgB,KAAhB;AACA6wB,oBAAM9wB,OAAN,GAAgB,KAAhB;;AAEAuxB,wBAAUT,MAAMxwB,MAAhB;;AAEA;AACD;;AAED,gBAAI,CAACwwB,MAAM7wB,OAAP,IAAkB,CAAC6wB,MAAM3wB,QAA7B,EAAuC;AACrC;AACD;;AAED;AACA,gBAAI2wB,MAAM7wB,OAAN,IAAiB6wB,MAAM3wB,QAA3B,EAAqC;AACnC2wB,oBAAM3wB,QAAN,GAAiB,KAAjB;AACD;;AAED,gBAAI,CAAC2wB,MAAM9wB,OAAX,EAAoB;AAClB2wB,6BAAelhD,GAAf,EAAoBuzC,GAApB,EAAyB5qB,GAAzB,EAA8Bw4B,MAA9B;AACD;;AAEDO,iBAAK1hD,GAAL,EAAUuzC,GAAV,EAAe5qB,GAAf,EAAoBw4B,MAApB;;AAEA,gBAAIE,MAAM3wB,QAAV,EAAoB;AAClB2wB,oBAAM3wB,QAAN,GAAiB,KAAjB;AACD;;AAEDoxB,sBAAUT,MAAMxwB,MAAhB;;AAEA,gBAAI0iB,IAAI7hB,SAAJ,EAAJ,EAAqB;AACnBtO,sBAAQljB,MAAR,CAAe0O,EAAf,EAAmB,CAAnB;;AAEAyyC,oBAAM5wB,MAAN,GAAe,KAAf;AACA4wB,oBAAM7wB,OAAN,GAAgB,KAAhB;AACA6wB,oBAAM9wB,OAAN,GAAgB,KAAhB;;AAEAuxB,wBAAUT,MAAMzwB,SAAhB;AACD;;AAEDixB,sBAAU,IAAV;AACD;;AAED,cAAI,CAACV,MAAD,IAAW/9B,QAAQ5jB,MAAR,KAAmB,CAA9B,IAAmC6jB,MAAM7jB,MAAN,KAAiB,CAAxD,EAA2D;AACzDmiD,qBAASvhD,IAAT,CAAcJ,GAAd;AACD;;AAED,iBAAO6hD,OAAP;AACD,SAjGuB,CAiGtB;;AAEF;AACA,YAAIG,YAAY,KAAhB;AACA,aAAK,IAAI/vC,IAAI,CAAb,EAAgBA,IAAImE,KAAK5W,MAAzB,EAAiCyS,GAAjC,EAAsC;AACpC,cAAIjS,MAAMoW,KAAKnE,CAAL,CAAV;AACA,cAAIgwC,iBAAiBL,QAAQ5hD,GAAR,CAArB;;AAEAgiD,sBAAYA,aAAaC,cAAzB;AACD,SA1GuB,CA0GtB;;AAEF,YAAIC,aAAaN,QAAQhsC,EAAR,EAAY,IAAZ,CAAjB;;AAEA;AACA,YAAIosC,aAAaE,UAAjB,EAA6B;AAC3B,cAAI9rC,KAAK5W,MAAL,GAAc,CAAlB,EAAqB;AACnB4W,iBAAKgE,wBAAL;;AAEAxE,eAAGkG,MAAH,CAAU;AACRC,oBAAM,MADE;AAER3F,oBAAMA;AAFE,aAAV;AAID,WAPD,MAOO;AACLR,eAAGkG,MAAH,CAAU;AACRC,oBAAM;AADE,aAAV;AAGD;AACF;;AAED;AACA3F,aAAKuP,OAAL,CAAag8B,QAAb;;AAEA/rC,WAAG2E,IAAH,CAAQ,MAAR;AACD,OA1IqD,CA0IpD;;AAEFhkB,aAAOD,OAAP,GAAiBopD,OAAjB;;AAEA;AAAO,KAnvWG;AAovWV;AACA,SAAO,UAASnpD,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIsoD,UAAUtoD,oBAAoB,EAApB,CAAd;AACA,UAAI4nD,OAAO5nD,oBAAoB,EAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,eAAS2qD,IAAT,CAAczuC,IAAd,EAAoBsgC,GAApB,EAAyB5qB,GAAzB,EAA8Bw4B,MAA9B,EAAsC;AACpC,YAAIC,SAAS,CAACD,MAAd;AACA,YAAIl/B,KAAKhP,KAAKrY,QAAd;AACA,YAAIymD,QAAQ9N,IAAI34C,QAAhB;AACA,YAAIunD,UAAUd,MAAM5N,MAApB;AACA,YAAIhqB,YAAY43B,MAAM53B,SAAtB;AACA,YAAI7T,KAAKurC,SAASluC,IAAT,GAAgBA,KAAK2C,EAAL,EAAzB;AACA,YAAI7a,QAAQ6a,GAAG7a,KAAH,EAAZ;;AAEA,YAAI,CAACsmD,MAAMe,UAAX,EAAuB;;AAErB,cAAID,WAAW,IAAf,EAAqB;AACnB;AACAd,kBAAMe,UAAN,GAAmB/C,QAAQ,QAAR,CAAnB;AACD,WAHD,MAGO;AACL;AACA,gBAAIgD,aAAa,KAAK,CAAtB;;AAEA,gBAAI5oD,GAAGG,MAAH,CAAUuoD,OAAV,CAAJ,EAAwB;AACtB,kBAAIG,aAAavnD,MAAMwY,KAAN,CAAY,4BAAZ,EAA0C4uC,OAA1C,CAAjB;;AAEAE,2BAAaC,WAAWhrD,KAAxB;AACD,aAJD,MAIO;AACL;AACA+qD,2BAAaF,OAAb;AACD;;AAED,gBAAI3qD,OAAO,KAAK,CAAhB;AAAA,gBACI+H,OAAO,KAAK,CADhB;;AAGA,gBAAI9F,GAAGG,MAAH,CAAUyoD,UAAV,CAAJ,EAA2B;AACzB7qD,qBAAO6qD,UAAP;AACA9iD,qBAAO,EAAP;AACD,aAHD,MAGO;AACL/H,qBAAO6qD,WAAW,CAAX,CAAP;AACA9iD,qBAAO8iD,WAAWhkD,KAAX,CAAiB,CAAjB,EAAoB6X,GAApB,CAAwB,UAAUle,CAAV,EAAa;AAC1C,uBAAO,CAACA,CAAR;AACD,eAFM,CAAP;AAGD;;AAED,gBAAIuH,KAAKC,MAAL,GAAc,CAAlB,EAAqB;AACnB;AACA,kBAAIhI,SAAS,QAAb,EAAuB;AACrB+H,qBAAKa,IAAL,CAAUihD,MAAMn3B,QAAhB,EADqB,CACM;AAC5B;;AAEDm3B,oBAAMe,UAAN,GAAmB/C,QAAQ7nD,IAAR,EAAcsG,KAAd,CAAoB,IAApB,EAA0ByB,IAA1B,CAAnB;AACD,aAPD,MAOO;AACL;AACA8hD,oBAAMe,UAAN,GAAmB/C,QAAQ7nD,IAAR,CAAnB;AACD;AACF;AACF;;AAED,YAAIi8C,SAAS4N,MAAMe,UAAnB;AACA,YAAI9D,UAAU,KAAK,CAAnB;;AAEA,YAAI+C,MAAMn3B,QAAN,KAAmB,CAAvB,EAA0B;AACxBo0B,oBAAU,CAAV;AACD,SAFD,MAEO;AACLA,oBAAU,CAAC31B,MAAMc,SAAP,IAAoB43B,MAAMn3B,QAApC;AACD;;AAED,YAAIm3B,MAAM3wB,QAAV,EAAoB;AAClB4tB,oBAAU+C,MAAM1wB,QAAhB;AACD;;AAED,YAAI2tB,UAAU,CAAd,EAAiB;AACfA,oBAAU,CAAV;AACD,SAFD,MAEO,IAAIA,UAAU,CAAd,EAAiB;AACtBA,oBAAU,CAAV;AACD;;AAED,YAAI+C,MAAMliB,KAAN,IAAe,IAAnB,EAAyB;AACvB;;AAEA,cAAIojB,WAAWlB,MAAMC,aAArB;AACA,cAAIkB,SAASnB,MAAM9pC,QAAnB;;AAEA,cAAIirC,UAAUpB,MAAV,IAAoB,CAACnuC,KAAK+E,MAAL,EAAzB,EAAwC;AACtC,gBAAIvZ,MAAMwU,KAAKsE,QAAL,EAAV;;AAEA,gBAAI9D,MAAM8uC,SAAS7jD,CAAf,EAAkB8jD,OAAO9jD,CAAzB,CAAJ,EAAiC;AAC/BD,kBAAIC,CAAJ,GAAQigD,KAAK4D,SAAS7jD,CAAd,EAAiB8jD,OAAO9jD,CAAxB,EAA2B4/C,OAA3B,EAAoC7K,MAApC,CAAR;AACD;;AAED,gBAAIhgC,MAAM8uC,SAAS5jD,CAAf,EAAkB6jD,OAAO7jD,CAAzB,CAAJ,EAAiC;AAC/BF,kBAAIE,CAAJ,GAAQggD,KAAK4D,SAAS5jD,CAAd,EAAiB6jD,OAAO7jD,CAAxB,EAA2B2/C,OAA3B,EAAoC7K,MAApC,CAAR;AACD;;AAEDxgC,iBAAKsH,IAAL,CAAU,UAAV;AACD;;AAED,cAAIinC,WAAWH,MAAMG,QAArB;AACA,cAAIiB,SAASpB,MAAMhgD,GAAnB;AACA,cAAIA,MAAM4gB,GAAG5gB,GAAb;AACA,cAAIqhD,eAAeD,UAAU,IAAV,IAAkBtB,MAArC;AACA,cAAIuB,YAAJ,EAAkB;AAChB,gBAAIjvC,MAAM+tC,SAAS9iD,CAAf,EAAkB+jD,OAAO/jD,CAAzB,CAAJ,EAAiC;AAC/B2C,kBAAI3C,CAAJ,GAAQigD,KAAK6C,SAAS9iD,CAAd,EAAiB+jD,OAAO/jD,CAAxB,EAA2B4/C,OAA3B,EAAoC7K,MAApC,CAAR;AACD;;AAED,gBAAIhgC,MAAM+tC,SAAS7iD,CAAf,EAAkB8jD,OAAO9jD,CAAzB,CAAJ,EAAiC;AAC/B0C,kBAAI1C,CAAJ,GAAQggD,KAAK6C,SAAS7iD,CAAd,EAAiB8jD,OAAO9jD,CAAxB,EAA2B2/C,OAA3B,EAAoC7K,MAApC,CAAR;AACD;;AAEDxgC,iBAAKsH,IAAL,CAAU,KAAV;AACD;;AAED,cAAIknC,YAAYJ,MAAMI,SAAtB;AACA,cAAIkB,UAAUtB,MAAMjgD,IAApB;AACA,cAAIwhD,gBAAgBD,WAAW,IAAX,IAAmBxB,MAAvC;AACA,cAAIyB,aAAJ,EAAmB;AACjB,gBAAInvC,MAAMguC,SAAN,EAAiBkB,OAAjB,CAAJ,EAA+B;AAC7B1gC,iBAAG7gB,IAAH,GAAUu9C,KAAK8C,SAAL,EAAgBkB,OAAhB,EAAyBrE,OAAzB,EAAkC7K,MAAlC,CAAV;AACD;;AAEDxgC,iBAAKsH,IAAL,CAAU,MAAV;AACD;;AAED,cAAImoC,gBAAgBE,aAApB,EAAmC;AACjC3vC,iBAAKsH,IAAL,CAAU,UAAV;AACD;;AAED,cAAI2C,QAAQmkC,MAAMtmD,KAAlB;AACA,cAAImiB,SAASA,MAAM1d,MAAN,GAAe,CAAxB,IAA6B4hD,MAAjC,EAAyC;AACvC,iBAAK,IAAInqD,IAAI,CAAb,EAAgBA,IAAIimB,MAAM1d,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,kBAAIw1B,OAAOvP,MAAMjmB,CAAN,CAAX;AACA,kBAAIi5B,QAAQzD,KAAKj1B,IAAjB;AACA,kBAAI06B,MAAMzF,IAAV;AACA,kBAAI0B,QAAQkzB,MAAMtvB,UAAN,CAAiB7B,KAAjB,CAAZ;AACA,kBAAI4uB,WAAW/jD,MAAMwxB,UAAN,CAAiB4B,MAAM32B,IAAvB,CAAf;AACA,kBAAIqrD,WAAWlE,KAAKxwB,KAAL,EAAY+D,GAAZ,EAAiBosB,OAAjB,EAA0B7K,MAA1B,EAAkCqL,QAAlC,CAAf;;AAEA/jD,oBAAM+nD,cAAN,CAAqB7vC,IAArB,EAA2Bid,KAA3B,EAAkC2yB,QAAlC;AACD,aAVsC,CAUrC;;AAEF5vC,iBAAKsH,IAAL,CAAU,OAAV;AACD,WAjEsB,CAiErB;AACH;;AAED8mC,cAAM1wB,QAAN,GAAiB2tB,OAAjB;;AAEA,eAAOA,OAAP;AACD;;AAED,eAAS7qC,KAAT,CAAe0a,KAAf,EAAsB+D,GAAtB,EAA2B;AACzB,YAAI/D,SAAS,IAAT,IAAiB+D,OAAO,IAA5B,EAAkC;AAChC,iBAAO,KAAP;AACD;;AAED,YAAIz4B,GAAGQ,MAAH,CAAUk0B,KAAV,KAAoB10B,GAAGQ,MAAH,CAAUi4B,GAAV,CAAxB,EAAwC;AACtC,iBAAO,IAAP;AACD,SAFD,MAEO,IAAI/D,SAAS+D,GAAb,EAAkB;AACvB,iBAAO,IAAP;AACD;;AAED,eAAO,KAAP;AACD;;AAED37B,aAAOD,OAAP,GAAiBorD,IAAjB;;AAEA;AAAO,KAh6WG;AAi6WV;AACA,SAAO,UAASnrD,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIuoB,UAAUvoB,oBAAoB,EAApB,CAAd;AACA,UAAIN,SAASM,oBAAoB,CAApB,CAAb;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAIgc,WAAWhc,oBAAoB,CAApB,CAAf;;AAEA,UAAI43C,iBAAiB;AACnB/vB,0BAAkB,SAASA,gBAAT,CAA0BgwB,SAA1B,EAAqCC,SAArC,EAAgD;AAChE,cAAID,aAAa,IAAb,IAAqBC,aAAa,IAAtC,EAA4C;AAC1C,mBAAOD,aAAa,IAAb,IAAqBC,aAAa,IAAzC;AACD,WAFD,MAEO;AACL,mBAAOD,UAAU/6B,QAAV,CAAmBg7B,SAAnB,CAAP;AACD;AACF,SAPkB;AAQnB9vB,sBAAc,SAASA,YAAT,CAAsBnJ,EAAtB,EAA0BiL,QAA1B,EAAoCP,QAApC,EAA8C;AAC1D,cAAItN,WAAW6N,SAASjB,SAAxB;;AAEA,cAAI5M,YAAY,IAAhB,EAAsB;AACpB,mBAAO4C,OAAO0K,SAASrL,MAAhB,IAA0Bxb,GAAGiB,OAAH,CAAW4lB,SAASrL,MAApB,CAA1B,IAAyDjC,SAASgY,OAAT,CAAiB1K,SAASrL,MAA1B,CAAhE;AACD;;AAED,iBAAO,IAAP;AACD,SAhBkB;AAiBnB+J,qBAAa,SAASA,WAAT,CAAqBpJ,EAArB,EAAyB;AACpC,iBAAO;AACLA,gBAAIA,EADC;AAELX,oBAAQW;AAFH,WAAP;AAID,SAtBkB;AAuBnBqJ,yBAAiB,SAASA,eAAT,CAAyBrJ,EAAzB,EAA6BiL,QAA7B,EAAuCP,QAAvC,EAAiD;AAChE,iBAAOO,SAASjB,SAAT,IAAsB,IAAtB,GAA6BU,SAASrL,MAAtC,GAA+CW,EAAtD;AACD;AAzBkB,OAArB;;AA4BA,UAAIm5B,cAAc,SAASA,WAAT,CAAqBC,GAArB,EAA0B;AAC1C,YAAIv1C,GAAGG,MAAH,CAAUo1C,GAAV,CAAJ,EAAoB;AAClB,iBAAO,IAAIj8B,QAAJ,CAAai8B,GAAb,CAAP;AACD,SAFD,MAEO;AACL,iBAAOA,GAAP;AACD;AACF,OAND;;AAQA,UAAIn4B,SAAS;AACXyM,uBAAe,SAASA,aAAT,GAAyB;AACtC,cAAIrB,KAAK,KAAKrnB,QAAd;;AAEA,cAAI,CAACqnB,GAAGuD,OAAR,EAAiB;AACfvD,eAAGuD,OAAH,GAAa,IAAIlG,OAAJ,CAAYniB,KAAKkC,MAAL,CAAY;AACnC6f,uBAAS;AAD0B,aAAZ,EAEtByvB,cAFsB,CAAZ,CAAb;AAGD;;AAED,iBAAO,IAAP;AACD,SAXU;;AAaXnpB,iBAAS,SAASA,OAAT,GAAmB;AAC1B,iBAAO,KAAK5qB,QAAL,CAAc4qB,OAArB;AACD,SAfU;;AAiBXjF,YAAI,SAASA,EAAT,CAAYZ,MAAZ,EAAoB3M,QAApB,EAA8BsL,QAA9B,EAAwC;AAC1C,eAAKkH,OAAL,GAAejF,EAAf,CAAkBZ,MAAlB,EAA0BovB,YAAY/7B,QAAZ,CAA1B,EAAiDsL,QAAjD;;AAEA,iBAAO,IAAP;AACD,SArBU;;AAuBXoC,wBAAgB,SAASA,cAAT,CAAwBf,MAAxB,EAAgC3M,QAAhC,EAA0CsL,QAA1C,EAAoD;AAClE,eAAKkH,OAAL,GAAe9E,cAAf,CAA8Bf,MAA9B,EAAsCovB,YAAY/7B,QAAZ,CAAtC,EAA6DsL,QAA7D;;AAEA,iBAAO,IAAP;AACD,SA3BU;;AA6BXmC,aAAK,SAASA,GAAT,CAAad,MAAb,EAAqB3M,QAArB,EAA+BsL,QAA/B,EAAyC;AAC5C,eAAKkH,OAAL,GAAe/E,GAAf,CAAmBd,MAAnB,EAA2BovB,YAAY/7B,QAAZ,CAA3B,EAAkDsL,QAAlD;;AAEA,iBAAO,IAAP;AACD,SAjCU;;AAmCXoQ,cAAM,SAASA,IAAT,CAAc/O,MAAd,EAAsB3M,QAAtB,EAAgCsL,QAAhC,EAA0C;AAC9C,eAAKkH,OAAL,GAAe/E,GAAf,CAAmBd,MAAnB,EAA2BovB,YAAY/7B,QAAZ,CAA3B,EAAkDsL,QAAlD;;AAEA,iBAAO,IAAP;AACD,SAvCU;;AAyCX/D,cAAM,SAASA,IAAT,CAAcoF,MAAd,EAAsBoB,WAAtB,EAAmC;AACvC,eAAKyE,OAAL,GAAejL,IAAf,CAAoBoF,MAApB,EAA4BoB,WAA5B;;AAEA,iBAAO,IAAP;AACD;AA7CU,OAAb;;AAgDAtqB,aAAOk4B,cAAP,CAAsB9X,MAAtB;;AAEAtgB,aAAOD,OAAP,GAAiBugB,MAAjB;;AAEA;AAAO,KArgXG;AAsgXV;AACA,SAAO,UAAStgB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIsuB,SAAS;;AAEX09B,aAAK,SAASA,GAAT,CAAa9sC,OAAb,EAAsB;AACzB,cAAIgB,WAAW,KAAKrc,QAAL,CAAcqc,QAA7B;AACAhB,oBAAUA,WAAW,EAArB;;AAEA,iBAAOgB,SAAS8rC,GAAT,CAAa9sC,OAAb,CAAP;AACD,SAPU;;AASX+sC,aAAK,SAASA,GAAT,CAAa/sC,OAAb,EAAsB;AACzB,cAAIgB,WAAW,KAAKrc,QAAL,CAAcqc,QAA7B;AACAhB,oBAAUA,WAAW,EAArB;;AAEAA,kBAAQgtC,EAAR,GAAahtC,QAAQgtC,EAAR,IAAc,MAA3B;;AAEA,iBAAOhsC,SAAS+rC,GAAT,CAAa/sC,OAAb,CAAP;AACD;;AAhBU,OAAb;;AAoBAoP,aAAO69B,IAAP,GAAc79B,OAAO29B,GAArB;;AAEAzsD,aAAOD,OAAP,GAAiB+uB,MAAjB;;AAEA;AAAO,KApiXG;AAqiXV;AACA,SAAO,UAAS9uB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAIsuB,SAAS;;AAEXvD,gBAAQ,SAASA,MAAT,CAAgB7L,OAAhB,EAAyB;AAC/B,cAAIL,KAAK,IAAT;;AAEA,cAAIK,WAAW,IAAf,EAAqB;AACnB9Y,iBAAKQ,KAAL,CAAW,mDAAX;AACA;AACD;;AAED,cAAIsY,QAAQze,IAAR,IAAgB,IAApB,EAA0B;AACxB2F,iBAAKQ,KAAL,CAAW,6CAAX;AACA;AACD;;AAED,cAAInG,OAAOye,QAAQze,IAAnB;AACA,cAAIu2B,SAASnY,GAAGka,SAAH,CAAa,QAAb,EAAuBt4B,IAAvB,CAAb;;AAEA,cAAIu2B,UAAU,IAAd,EAAoB;AAClB5wB,iBAAKQ,KAAL,CAAW,2CAA2CnG,IAA3C,GAAkD,uCAA7D;AACA;AACD;;AAED,cAAI4e,OAAO,KAAK,CAAhB;AACA,cAAI3c,GAAGG,MAAH,CAAUqc,QAAQG,IAAlB,CAAJ,EAA6B;AAC3BA,mBAAOR,GAAGk6B,CAAH,CAAK75B,QAAQG,IAAb,CAAP;AACD,WAFD,MAEO;AACLA,mBAAOH,QAAQG,IAAR,IAAgB,IAAhB,GAAuBH,QAAQG,IAA/B,GAAsCR,GAAGk6B,CAAH,EAA7C;AACD;;AAED,cAAIhuB,SAAS,IAAIiM,MAAJ,CAAW5wB,KAAKgB,MAAL,CAAY,EAAZ,EAAgB8X,OAAhB,EAAyB;AAC/CL,gBAAIA,EAD2C;AAE/CQ,kBAAMA;AAFyC,WAAzB,CAAX,CAAb;;AAKA,iBAAO0L,MAAP;AACD;;AApCU,OAAb;;AAwCAuD,aAAO0uB,YAAP,GAAsB1uB,OAAOyuB,UAAP,GAAoBzuB,OAAOvD,MAAjD;;AAEAvrB,aAAOD,OAAP,GAAiB+uB,MAAjB;;AAEA;AAAO,KA1lXG;AA2lXV;AACA,SAAO,UAAS9uB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIsuB,SAAS;AACXvJ,gBAAQ,SAASA,MAAT,CAAgBxT,MAAhB,EAAwB;AAC9B,cAAI2Z,KAAK,KAAKrnB,QAAd;;AAEA,cAAIqnB,GAAGkhC,cAAP,EAAuB;AACrB,gBAAI3O,QAAQvyB,GAAGmhC,eAAf;AACA,gBAAIC,SAASphC,GAAGqhC,gBAAhB;;AAEA,gBAAIh7C,OAAO8N,IAAX,EAAiB;AACfo+B,oBAAMr6B,KAAN,CAAY7R,OAAO8N,IAAnB;AACD;;AAED,gBAAI,CAACitC,OAAOvuC,GAAP,CAAWxM,OAAOyT,IAAlB,CAAL,EAA8B;AAC5BsnC,qBAAOjjD,IAAP,CAAYkI,OAAOyT,IAAnB;AACAsnC,qBAAOvuC,GAAP,CAAWxM,OAAOyT,IAAlB,IAA0B,IAA1B;AACD;;AAED,mBAbqB,CAab;AACT;;AAED,cAAI,CAACkG,GAAGI,oBAAR,EAA8B;AAC5B;AACD,WArB6B,CAqB5B;;AAEF,cAAIpL,WAAW,KAAKA,QAAL,EAAf;;AAEA;AACA,cAAI,KAAKsO,WAAL,MAAsB,CAACtO,QAA3B,EAAqC;AACnC;AACD;;AAEDA,mBAAS6E,MAAT,CAAgBxT,MAAhB;AACD,SAhCU;;AAkCXoc,uBAAe,SAASA,aAAT,CAAuBpqB,IAAvB,EAA6B;AAC1C,cAAI9B,IAAI,KAAKoC,QAAb;;AAEA,cAAIN,SAASE,SAAb,EAAwB;AACtB,mBAAOhC,EAAE6pB,oBAAT;AACD,WAFD,MAEO;AACL7pB,cAAE6pB,oBAAF,GAAyB/nB,OAAO,IAAP,GAAc,KAAvC;AACD;AACF,SA1CU;;AA4CXipD,yBAAiB,SAASA,eAAT,CAAyBjlC,QAAzB,EAAmC;AAClD,eAAKoG,aAAL,CAAmB,KAAnB;AACApG;AACA,eAAKoG,aAAL,CAAmB,IAAnB;AACD,SAhDU;;AAkDXue,kBAAU,SAASA,QAAT,GAAoB;AAC5B,iBAAO,KAAKroC,QAAL,CAAc4oD,UAAd,GAA2B,CAAlC;AACD,SApDU;;AAsDXlsC,oBAAY,SAASA,UAAT,GAAsB;AAChC,cAAI2K,KAAK,KAAKrnB,QAAd;;AAEA,cAAIqnB,GAAGuhC,UAAH,IAAiB,IAArB,EAA2B;AACzBvhC,eAAGuhC,UAAH,GAAgB,CAAhB;AACD;;AAED,cAAIvhC,GAAGuhC,UAAH,KAAkB,CAAtB,EAAyB;AACvBvhC,eAAGgjB,aAAH,GAAmBhjB,GAAGkhC,cAAH,GAAoB,IAAvC;AACAlhC,eAAGwyB,cAAH,GAAoB,KAAK95C,UAAL,EAApB;AACAsnB,eAAGmhC,eAAH,GAAqB,KAAKzoD,UAAL,EAArB;AACAsnB,eAAGqhC,gBAAH,GAAsB,EAAtB;AACArhC,eAAGqhC,gBAAH,CAAoBxuC,GAApB,GAA0B,EAA1B;AACD;;AAEDmN,aAAGuhC,UAAH;;AAEA,iBAAO,IAAP;AACD,SAxEU;;AA0EX5rC,kBAAU,SAASA,QAAT,GAAoB;AAC5B,cAAIqK,KAAK,KAAKrnB,QAAd;;AAEAqnB,aAAGuhC,UAAH;;AAEA,cAAIvhC,GAAGuhC,UAAH,KAAkB,CAAtB,EAAyB;AACvB;AACAvhC,eAAGgjB,aAAH,GAAmB,KAAnB;AACAhjB,eAAGwyB,cAAH,CAAkBp6B,WAAlB;;AAEA;AACA4H,eAAGkhC,cAAH,GAAoB,KAApB;AACA,iBAAKrnC,MAAL,CAAY;AACVC,oBAAMkG,GAAGqhC,gBADC;AAEVltC,oBAAM6L,GAAGmhC;AAFC,aAAZ;AAID;;AAED,iBAAO,IAAP;AACD,SA7FU;;AA+FXK,eAAO,SAASA,KAAT,CAAenlC,QAAf,EAAyB;AAC9B,eAAKhH,UAAL;AACAgH;AACA,eAAK1G,QAAL;;AAEA,iBAAO,IAAP;AACD,SArGU;;AAuGX;AACA8rC,mBAAW,SAASA,SAAT,CAAmBxtC,GAAnB,EAAwB;AACjC,cAAIN,KAAK,IAAT;;AAEA,iBAAO,KAAK6tC,KAAL,CAAW,YAAY;AAC5B,gBAAI3uC,MAAMnd,OAAO8H,IAAP,CAAYyW,GAAZ,CAAV;;AAEA,iBAAK,IAAIjf,IAAI,CAAb,EAAgBA,IAAI6d,IAAItV,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,kBAAI4Z,KAAKiE,IAAI7d,CAAJ,CAAT;AACA,kBAAIwd,OAAOyB,IAAIrF,EAAJ,CAAX;AACA,kBAAI7Q,MAAM4V,GAAGsB,cAAH,CAAkBrG,EAAlB,CAAV;;AAEA7Q,kBAAIyU,IAAJ,CAASA,IAAT;AACD;AACF,WAVM,CAAP;AAWD;AAtHU,OAAb;;AAyHAle,aAAOD,OAAP,GAAiB+uB,MAAjB;;AAEA;AAAO,KA5tXG;AA6tXV;AACA,SAAO,UAAS9uB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAIsuB,SAAS;;AAEXs+B,kBAAU,SAASA,QAAT,CAAkBzkC,OAAlB,EAA2B9d,IAA3B,EAAiCC,GAAjC,EAAsCuiD,OAAtC,EAA+C;AACvD,cAAIv8C,IAAI,KAAKzM,QAAL,CAAcqc,QAAtB;;AAEA5P,YAAEs8C,QAAF,CAAWzkC,OAAX,EAAoB9d,IAApB,EAA0BC,GAA1B,EAA+BuiD,OAA/B;AACA,iBAAO,IAAP;AACD,SAPU;;AASX3sC,kBAAU,SAASA,QAAT,GAAoB;AAC5B,iBAAO,KAAKrc,QAAL,CAAcqc,QAArB;AACD,SAXU;;AAaX4sC,qBAAa,SAASA,WAAT,GAAuB;AAClC,eAAK/nC,MAAL,CAAY;AACVC,kBAAM;AADI,WAAZ;;AAIA,iBAAO,IAAP;AACD,SAnBU;;AAqBX+nC,gBAAQ,SAASA,MAAT,GAAkB;AACxB,eAAKC,cAAL;;AAEA,eAAKjoC,MAAL,CAAY;AACVC,kBAAM;AADI,WAAZ;;AAIA,eAAKxB,IAAL,CAAU,QAAV;;AAEA,iBAAO,IAAP;AACD,SA/BU;;AAiCXuJ,sBAAc,SAASA,YAAT,CAAsB7N,OAAtB,EAA+B;AAC3C,cAAIL,KAAK,IAAT;;AAEA,cAAIouC,gBAAgBpuC,GAAGka,SAAH,CAAa,UAAb,EAAyB7Z,QAAQze,IAAjC,CAApB;AACA,cAAIwsD,iBAAiB,IAArB,EAA2B;AACzB7mD,iBAAKQ,KAAL,CAAW,+EAAX,EAA4FsY,QAAQze,IAApG;AACA;AACD;;AAEDoe,aAAGhb,QAAH,CAAYqc,QAAZ,GAAuB,IAAI+sC,aAAJ,CAAkB7mD,KAAKgB,MAAL,CAAY,EAAZ,EAAgB8X,OAAhB,EAAyB,EAAEL,IAAIA,EAAN,EAAzB,CAAlB,CAAvB;;AAEA,eAAKkG,MAAL,CAAY,EAAEC,MAAM,MAAR,EAAZ;AACD,SA7CU;;AA+CX2J,yBAAiB,SAASA,eAAT,GAA2B;AAC1C,cAAI9P,KAAK,IAAT;;AAEAA,aAAGkG,MAAH,CAAU,EAAEC,MAAM,SAAR,EAAV,EAH0C,CAGV;;AAEhC,cAAIkoC,SAASruC,GAAG2L,SAAH,EAAb;AACA,cAAI0iC,MAAJ,EAAY;AACVA,mBAAOxiC,MAAP,GAAgB,IAAhB;;AAEA,mBAAOwiC,OAAOC,UAAP,CAAkB1kD,MAAlB,GAA2B,CAAlC,EAAqC;AACnCykD,qBAAOE,WAAP,CAAmBF,OAAOC,UAAP,CAAkB,CAAlB,CAAnB;AACD;AACF;;AAEDtuC,aAAGhb,QAAH,CAAYqc,QAAZ,GAAuB,IAAvB,CAd0C,CAcb;AAC9B,SA9DU;;AAgEXmtC,kBAAU,SAASA,QAAT,CAAkB1qD,EAAlB,EAAsB;AAC9B,iBAAO,KAAK6mB,EAAL,CAAQ,QAAR,EAAkB7mB,EAAlB,CAAP;AACD,SAlEU;;AAoEX2qD,mBAAW,SAASA,SAAT,CAAmB3qD,EAAnB,EAAuB;AAChC,iBAAO,KAAKinB,GAAL,CAAS,QAAT,EAAmBjnB,EAAnB,CAAP;AACD;;AAtEU,OAAb;;AA0EA2rB,aAAOi/B,oBAAP,GAA8Bj/B,OAAOy+B,MAArC;;AAEAvtD,aAAOD,OAAP,GAAiB+uB,MAAjB;;AAEA;AAAO,KAnzXG;AAozXV;AACA,SAAO,UAAS9uB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIgf,aAAahf,oBAAoB,CAApB,CAAjB;;AAEA,UAAIsuB,SAAS;;AAEX;AACA;AACA;AACA;AACA1qB,oBAAY,SAASA,UAAT,CAAoByb,IAApB,EAA0BW,IAA1B,EAAgC;;AAE1C,cAAItd,GAAGG,MAAH,CAAUwc,IAAV,CAAJ,EAAqB;AACnB,mBAAO,KAAK05B,CAAL,CAAO15B,IAAP,CAAP;AACD,WAFD,MAEO,IAAI3c,GAAGgB,mBAAH,CAAuB2b,IAAvB,CAAJ,EAAkC;AACvC,mBAAOA,KAAKzb,UAAL,EAAP;AACD,WAFM,MAEA,IAAIlB,GAAGI,KAAH,CAASuc,IAAT,CAAJ,EAAoB;AACzB,mBAAO,IAAIL,UAAJ,CAAe,IAAf,EAAqBK,IAArB,EAA2BW,IAA3B,CAAP;AACD;;AAED,iBAAO,IAAIhB,UAAJ,CAAe,IAAf,CAAP;AACD,SAjBU;;AAmBXwC,eAAO,SAASA,KAAT,CAAevF,QAAf,EAAyB;AAC9B,cAAIuF,QAAQ,KAAKu3B,CAAL,CAAO,UAAU9vC,GAAV,EAAe;AAChC,mBAAOA,IAAIyY,MAAJ,EAAP;AACD,WAFW,CAAZ;;AAIA,cAAIzF,QAAJ,EAAc;AACZ,mBAAOuF,MAAMjF,MAAN,CAAaN,QAAb,CAAP;AACD;;AAED,iBAAOuF,KAAP;AACD,SA7BU;;AA+BXC,eAAO,SAASA,KAAT,CAAexF,QAAf,EAAyB;AAC9B,cAAIwF,QAAQ,KAAKs3B,CAAL,CAAO,UAAU9vC,GAAV,EAAe;AAChC,mBAAOA,IAAI8Y,MAAJ,EAAP;AACD,WAFW,CAAZ;;AAIA,cAAI9F,QAAJ,EAAc;AACZ,mBAAOwF,MAAMlF,MAAN,CAAaN,QAAb,CAAP;AACD;;AAED,iBAAOwF,KAAP;AACD,SAzCU;;AA2CX;AACAs3B,WAAG,SAASA,CAAT,CAAW98B,QAAX,EAAqB;AACtB,cAAIoD,OAAO,KAAKxb,QAAL,CAAcob,QAAzB;;AAEA,cAAIhD,QAAJ,EAAc;AACZ,mBAAOoD,KAAK9C,MAAL,CAAYN,QAAZ,CAAP;AACD,WAFD,MAEO;AACL,mBAAOoD,KAAKY,SAAL,EAAP;AACD;AACF,SApDU;;AAsDX4N,yBAAiB,SAASA,eAAT,GAA2B;AAC1C,iBAAO,KAAKhqB,QAAL,CAAcob,QAArB;AACD;;AAxDU,OAAb;;AA4DA;AACAqP,aAAOrP,QAAP,GAAkBqP,OAAO/R,MAAP,GAAgB+R,OAAOyqB,CAAzC;;AAEAv5C,aAAOD,OAAP,GAAiB+uB,MAAjB;;AAEA;AAAO,KA93XG;AA+3XV;AACA,SAAO,UAAS9uB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIi1B,QAAQj1B,oBAAoB,EAApB,CAAZ;;AAEA,UAAIsuB,SAAS;;AAEXtqB,eAAO,SAASA,KAAT,CAAeqxB,QAAf,EAAyB;AAC9B,cAAIA,QAAJ,EAAc;AACZ,gBAAI3zB,IAAI,KAAKorB,QAAL,CAAcuI,QAAd,CAAR;;AAEA3zB,cAAE0qC,MAAF;AACD;;AAED,iBAAO,KAAKvoC,QAAL,CAAcG,KAArB;AACD,SAVU;;AAYX8oB,kBAAU,SAASA,QAAT,CAAkB9oB,KAAlB,EAAyB;AACjC,cAAIknB,KAAK,KAAKrnB,QAAd;;AAEA,cAAInB,GAAGuB,UAAH,CAAcD,KAAd,CAAJ,EAA0B;AACxBknB,eAAGlnB,KAAH,GAAWA,MAAMq1B,aAAN,CAAoB,IAApB,CAAX;AACD,WAFD,MAEO,IAAI32B,GAAGI,KAAH,CAASkB,KAAT,CAAJ,EAAqB;AAC1BknB,eAAGlnB,KAAH,GAAWixB,MAAMmB,QAAN,CAAe,IAAf,EAAqBpyB,KAArB,CAAX;AACD,WAFM,MAEA,IAAItB,GAAGG,MAAH,CAAUmB,KAAV,CAAJ,EAAsB;AAC3BknB,eAAGlnB,KAAH,GAAWixB,MAAMoB,UAAN,CAAiB,IAAjB,EAAuBryB,KAAvB,CAAX;AACD,WAFM,MAEA;AACLknB,eAAGlnB,KAAH,GAAWixB,MAAM,IAAN,CAAX;AACD;;AAED,iBAAO/J,GAAGlnB,KAAV;AACD;AA1BU,OAAb;;AA6BAxE,aAAOD,OAAP,GAAiB+uB,MAAjB;;AAEA;AAAO,KAv6XG;AAw6XV;AACA,SAAO,UAAS9uB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIgC,SAAShC,oBAAoB,CAApB,CAAb;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;;AAEA,UAAIsuB,SAAS;;AAEXxC,kBAAU,SAASA,QAAT,CAAkBvoB,IAAlB,EAAwB;AAChC,cAAIA,SAASE,SAAb,EAAwB;AACtB,iBAAKI,QAAL,CAAcioB,QAAd,GAAyBvoB,OAAO,IAAP,GAAc,KAAvC;AACD,WAFD,MAEO;AACL,mBAAO,KAAKM,QAAL,CAAcioB,QAArB;AACD;;AAED,iBAAO,IAAP,CAPgC,CAOnB;AACd,SAVU;;AAYXE,uBAAe,SAASA,aAAT,CAAuBzoB,IAAvB,EAA6B;AAC1C,cAAIA,SAASE,SAAb,EAAwB;AACtB,iBAAKI,QAAL,CAAcmoB,aAAd,GAA8BzoB,OAAO,IAAP,GAAc,KAA5C;AACD,WAFD,MAEO;AACL,mBAAO,KAAKM,QAAL,CAAcmoB,aAArB;AACD;;AAED,iBAAO,IAAP,CAP0C,CAO7B;AACd,SApBU;;AAsBXE,yBAAiB,SAASA,eAAT,CAAyB3oB,IAAzB,EAA+B;AAC9C,cAAIA,SAASE,SAAb,EAAwB;AACtB,iBAAKI,QAAL,CAAcqoB,eAAd,GAAgC3oB,OAAO,IAAP,GAAc,KAA9C;AACD,WAFD,MAEO;AACL,mBAAO,KAAKM,QAAL,CAAcqoB,eAArB;AACD;;AAED,iBAAO,IAAP,CAP8C,CAOjC;AACd,SA9BU;;AAgCXP,wBAAgB,SAASA,cAAT,CAAwBpoB,IAAxB,EAA8B;AAC5C,cAAIA,SAASE,SAAb,EAAwB;AACtB,iBAAKI,QAAL,CAAc8nB,cAAd,GAA+BpoB,OAAO,IAAP,GAAc,KAA7C;AACD,WAFD,MAEO;AACL,mBAAO,KAAKM,QAAL,CAAc8nB,cAArB;AACD;;AAED,iBAAO,IAAP,CAP4C,CAO/B;AACd,SAxCU;;AA0CXC,4BAAoB,SAASA,kBAAT,CAA4BroB,IAA5B,EAAkC;AACpD,cAAIA,SAASE,SAAb,EAAwB;AACtB,iBAAKI,QAAL,CAAc+nB,kBAAd,GAAmCroB,OAAO,IAAP,GAAc,KAAjD;AACD,WAFD,MAEO;AACL,mBAAO,KAAKM,QAAL,CAAc+nB,kBAArB;AACD;;AAED,iBAAO,IAAP,CAPoD,CAOvC;AACd,SAlDU;;AAoDXH,wBAAgB,SAASA,cAAT,CAAwBloB,IAAxB,EAA8B;AAC5C,cAAIA,SAASE,SAAb,EAAwB;AACtB,iBAAKI,QAAL,CAAc4nB,cAAd,GAA+BloB,OAAO,IAAP,GAAc,KAA7C;AACD,WAFD,MAEO;AACL,mBAAO,KAAKM,QAAL,CAAc4nB,cAArB;AACD;;AAED,iBAAO,IAAP,CAP4C,CAO/B;AACd,SA5DU;;AA8DXC,4BAAoB,SAASA,kBAAT,CAA4BnoB,IAA5B,EAAkC;AACpD,cAAIA,SAASE,SAAb,EAAwB;AACtB,iBAAKI,QAAL,CAAc6nB,kBAAd,GAAmCnoB,OAAO,IAAP,GAAc,KAAjD;AACD,WAFD,MAEO;AACL,mBAAO,KAAKM,QAAL,CAAc6nB,kBAArB;AACD;;AAED,iBAAO,IAAP,CAPoD,CAOvC;AACd,SAtEU;;AAwEXG,6BAAqB,SAASA,mBAAT,CAA6BtoB,IAA7B,EAAmC;AACtD,cAAIA,SAASE,SAAb,EAAwB;AACtB,iBAAKI,QAAL,CAAcgoB,mBAAd,GAAoCtoB,OAAO,IAAP,GAAc,KAAlD;AACD,WAFD,MAEO;AACL,mBAAO,KAAKM,QAAL,CAAcgoB,mBAArB;AACD;;AAED,iBAAO,IAAP,CAPsD,CAOzC;AACd,SAhFU;;AAkFXvhB,aAAK,SAASA,GAAT,GAAe;AAClB,cAAI9B,OAAOxB,SAAX;AACA,cAAIsD,MAAM,KAAKzG,QAAL,CAAcyG,GAAxB;AACA,cAAI0rC,MAAM,KAAK,CAAf;AAAA,cACIltC,MAAM,KAAK,CADf;AAAA,cAEI0kD,OAAO,KAAK,CAFhB;AAAA,cAGI7lD,IAAI,KAAK,CAHb;AAAA,cAIIC,IAAI,KAAK,CAJb;;AAMA,kBAAQY,KAAKC,MAAb;AACE,iBAAK,CAAL;AACE;AACA,qBAAO6B,GAAP;;AAEF,iBAAK,CAAL;;AAEE,kBAAI5H,GAAGG,MAAH,CAAU2F,KAAK,CAAL,CAAV,CAAJ,EAAwB;AACtB;AACAwtC,sBAAMxtC,KAAK,CAAL,CAAN;AACA,uBAAO8B,IAAI0rC,GAAJ,CAAP;AACD,eAJD,MAIO,IAAItzC,GAAGO,WAAH,CAAeuF,KAAK,CAAL,CAAf,CAAJ,EAA6B;AAClC;AACA,oBAAI,CAAC,KAAK3E,QAAL,CAAc8nB,cAAnB,EAAmC;AACjC,yBAAO,IAAP;AACD;;AAED6hC,uBAAOhlD,KAAK,CAAL,CAAP;AACAb,oBAAI6lD,KAAK7lD,CAAT;AACAC,oBAAI4lD,KAAK5lD,CAAT;;AAEA,oBAAIlF,GAAGQ,MAAH,CAAUyE,CAAV,CAAJ,EAAkB;AAChB2C,sBAAI3C,CAAJ,GAAQA,CAAR;AACD;;AAED,oBAAIjF,GAAGQ,MAAH,CAAU0E,CAAV,CAAJ,EAAkB;AAChB0C,sBAAI1C,CAAJ,GAAQA,CAAR;AACD;;AAED,qBAAK4b,IAAL,CAAU,cAAV;AACD;AACD;;AAEF,iBAAK,CAAL;AACE;AACA,kBAAI,CAAC,KAAK3f,QAAL,CAAc8nB,cAAnB,EAAmC;AACjC,uBAAO,IAAP;AACD;;AAEDqqB,oBAAMxtC,KAAK,CAAL,CAAN;AACAM,oBAAMN,KAAK,CAAL,CAAN;;AAEA,kBAAI,CAACwtC,QAAQ,GAAR,IAAeA,QAAQ,GAAxB,KAAgCtzC,GAAGQ,MAAH,CAAU4F,GAAV,CAApC,EAAoD;AAClDwB,oBAAI0rC,GAAJ,IAAWltC,GAAX;AACD;;AAED,mBAAK0a,IAAL,CAAU,cAAV;AACA;;AAEF;AACE,oBAlDJ,CAkDW;AAlDX;;AAqDA,eAAKuB,MAAL,CAAY,EAAE;AACZC,kBAAM;AADI,WAAZ;;AAIA,iBAAO,IAAP,CAlEkB,CAkEL;AACd,SArJU;;AAuJXyoC,eAAO,SAASA,KAAT,CAAeC,IAAf,EAAqB5M,IAArB,EAA2B;AAChC,cAAIt4C,OAAOxB,SAAX;AACA,cAAIsD,MAAM,KAAKzG,QAAL,CAAcyG,GAAxB;AACA,cAAI0rC,MAAM,KAAK,CAAf;AAAA,cACIltC,MAAM,KAAK,CADf;AAAA,cAEI0kD,OAAO,KAAK,CAFhB;AAAA,cAGI7lD,IAAI,KAAK,CAHb;AAAA,cAIIC,IAAI,KAAK,CAJb;;AAMA,cAAI,CAAC,KAAK/D,QAAL,CAAc8nB,cAAnB,EAAmC;AACjC,mBAAO,IAAP;AACD;;AAED,kBAAQnjB,KAAKC,MAAb;AACE,iBAAK,CAAL;;AAEE,kBAAI/F,GAAGO,WAAH,CAAeyqD,IAAf,CAAJ,EAA0B;AACxB;AACAF,uBAAOhlD,KAAK,CAAL,CAAP;AACAb,oBAAI6lD,KAAK7lD,CAAT;AACAC,oBAAI4lD,KAAK5lD,CAAT;;AAEA,oBAAIlF,GAAGQ,MAAH,CAAUyE,CAAV,CAAJ,EAAkB;AAChB2C,sBAAI3C,CAAJ,IAASA,CAAT;AACD;;AAED,oBAAIjF,GAAGQ,MAAH,CAAU0E,CAAV,CAAJ,EAAkB;AAChB0C,sBAAI1C,CAAJ,IAASA,CAAT;AACD;;AAED,qBAAK4b,IAAL,CAAU,cAAV;AACD;AACD;;AAEF,iBAAK,CAAL;AACE;AACAwyB,oBAAM0X,IAAN;AACA5kD,oBAAMg4C,IAAN;;AAEA,kBAAI,CAAC9K,QAAQ,GAAR,IAAeA,QAAQ,GAAxB,KAAgCtzC,GAAGQ,MAAH,CAAU4F,GAAV,CAApC,EAAoD;AAClDwB,oBAAI0rC,GAAJ,KAAYltC,GAAZ;AACD;;AAED,mBAAK0a,IAAL,CAAU,cAAV;AACA;;AAEF;AACE,oBAlCJ,CAkCW;AAlCX;;AAqCA,eAAKuB,MAAL,CAAY,EAAE;AACZC,kBAAM;AADI,WAAZ;;AAIA,iBAAO,IAAP,CAtDgC,CAsDnB;AACd,SA9MU;;AAgNX43B,aAAK,SAASA,GAAT,CAAa39B,QAAb,EAAuBhS,OAAvB,EAAgC;AACnC,cAAI0gD,gBAAgB,KAAKC,cAAL,CAAoB3uC,QAApB,EAA8BhS,OAA9B,CAApB;;AAEA,cAAI0gD,aAAJ,EAAmB;AACjB,gBAAIziC,KAAK,KAAKrnB,QAAd;AACAqnB,eAAG7gB,IAAH,GAAUsjD,cAActjD,IAAxB;AACA6gB,eAAG5gB,GAAH,GAASqjD,cAAcrjD,GAAvB;;AAEA,iBAAKkZ,IAAL,CAAU,mBAAV;;AAEA,iBAAKuB,MAAL,CAAY,EAAE;AACZC,oBAAM;AADI,aAAZ;AAGD;;AAED,iBAAO,IAAP,CAfmC,CAetB;AACd,SAhOU;;AAkOX4oC,wBAAgB,SAASA,cAAT,CAAwB3uC,QAAxB,EAAkChS,OAAlC,EAA2C;AACzD,cAAIvK,GAAGQ,MAAH,CAAU+b,QAAV,KAAuBhS,YAAYxJ,SAAvC,EAAkD;AAChD;AACAwJ,sBAAUgS,QAAV;AACAA,uBAAWxb,SAAX;AACD;;AAED,cAAI,CAAC,KAAKI,QAAL,CAAc8nB,cAAf,IAAiC,CAAC,KAAK9nB,QAAL,CAAc4nB,cAApD,EAAoE;AAClE;AACD;;AAED,cAAIjf,KAAK,KAAK,CAAd;;AAEA,cAAI9J,GAAGG,MAAH,CAAUoc,QAAV,CAAJ,EAAyB;AACvB,gBAAI1B,MAAM0B,QAAV;AACAA,uBAAW,KAAK85B,CAAL,CAAOx7B,GAAP,CAAX;AACD,WAHD,MAGO,IAAI7a,GAAG+B,WAAH,CAAewa,QAAf,CAAJ,EAA8B;AACnC;AACA,gBAAI4uC,MAAM5uC,QAAV;AACAzS,iBAAK;AACH9H,kBAAImpD,IAAInpD,EADL;AAEHE,kBAAIipD,IAAIjpD,EAFL;AAGHD,kBAAIkpD,IAAIlpD,EAHL;AAIHE,kBAAIgpD,IAAIhpD;AAJL,aAAL;;AAOA2H,eAAGE,CAAH,GAAOF,GAAG7H,EAAH,GAAQ6H,GAAG9H,EAAlB;AACA8H,eAAGG,CAAH,GAAOH,GAAG3H,EAAH,GAAQ2H,GAAG5H,EAAlB;AACD,WAZM,MAYA,IAAI,CAAClC,GAAGgB,mBAAH,CAAuBub,QAAvB,CAAL,EAAuC;AAC5CA,uBAAW,KAAK4O,eAAL,EAAX;AACD;;AAED,cAAInrB,GAAGgB,mBAAH,CAAuBub,QAAvB,KAAoCA,SAASyD,KAAT,EAAxC,EAA0D;AACxD;AACD,WAlCwD,CAkCvD;;AAEFlW,eAAKA,MAAMyS,SAASxa,WAAT,EAAX;;AAEA,cAAIiI,IAAI,KAAKgB,KAAL,EAAR;AACA,cAAIf,IAAI,KAAKgB,MAAL,EAAR;AACA,cAAItD,OAAO,KAAK,CAAhB;AACA4C,oBAAUvK,GAAGQ,MAAH,CAAU+J,OAAV,IAAqBA,OAArB,GAA+B,CAAzC;;AAEA,cAAI,CAAC9J,MAAMuJ,CAAN,CAAD,IAAa,CAACvJ,MAAMwJ,CAAN,CAAd,IAA0BD,IAAI,CAA9B,IAAmCC,IAAI,CAAvC,IAA4C,CAACxJ,MAAMqJ,GAAGE,CAAT,CAA7C,IAA4D,CAACvJ,MAAMqJ,GAAGG,CAAT,CAA7D,IAA4EH,GAAGE,CAAH,GAAO,CAAnF,IAAwFF,GAAGG,CAAH,GAAO,CAAnG,EAAsG;AACpGtC,mBAAOhH,KAAKiJ,GAAL,CAAS,CAACI,IAAI,IAAIO,OAAT,IAAoBT,GAAGE,CAAhC,EAAmC,CAACC,IAAI,IAAIM,OAAT,IAAoBT,GAAGG,CAA1D,CAAP;;AAEA;AACAtC,mBAAOA,OAAO,KAAKxG,QAAL,CAAc2nB,OAArB,GAA+B,KAAK3nB,QAAL,CAAc2nB,OAA7C,GAAuDnhB,IAA9D;AACAA,mBAAOA,OAAO,KAAKxG,QAAL,CAAc0nB,OAArB,GAA+B,KAAK1nB,QAAL,CAAc0nB,OAA7C,GAAuDlhB,IAA9D;;AAEA,gBAAIC,MAAM,EAAE;AACV3C,iBAAG,CAAC+E,IAAIrC,QAAQmC,GAAG9H,EAAH,GAAQ8H,GAAG7H,EAAnB,CAAL,IAA+B,CAD1B;AAERiD,iBAAG,CAAC+E,IAAItC,QAAQmC,GAAG5H,EAAH,GAAQ4H,GAAG3H,EAAnB,CAAL,IAA+B;AAF1B,aAAV;;AAKA,mBAAO;AACLwF,oBAAMA,IADD;AAELC,mBAAKA;AAFA,aAAP;AAID;;AAED;AACD,SAhSU;;AAkSXihB,iBAAS,SAASA,OAAT,CAAiBlhB,IAAjB,EAAuB;AAC9B,cAAIA,SAAS5G,SAAb,EAAwB;AACtB,mBAAO,KAAKI,QAAL,CAAc0nB,OAArB;AACD,WAFD,MAEO,IAAI7oB,GAAGQ,MAAH,CAAUmH,IAAV,CAAJ,EAAqB;AAC1B,iBAAKxG,QAAL,CAAc0nB,OAAd,GAAwBlhB,IAAxB;AACD;;AAED,iBAAO,IAAP;AACD,SA1SU;;AA4SXmhB,iBAAS,SAASA,OAAT,CAAiBnhB,IAAjB,EAAuB;AAC9B,cAAIA,SAAS5G,SAAb,EAAwB;AACtB,mBAAO,KAAKI,QAAL,CAAc2nB,OAArB;AACD,WAFD,MAEO,IAAI9oB,GAAGQ,MAAH,CAAUmH,IAAV,CAAJ,EAAqB;AAC1B,iBAAKxG,QAAL,CAAc2nB,OAAd,GAAwBnhB,IAAxB;AACD;;AAED,iBAAO,IAAP;AACD,SApTU;;AAsTXyjD,2BAAmB,SAASA,iBAAT,CAA2Bv8C,MAA3B,EAAmC;AACpD,cAAI2Z,KAAK,KAAKrnB,QAAd;AACA,cAAIkqD,aAAa7iC,GAAG5gB,GAApB;AACA,cAAI0jD,cAAc9iC,GAAG7gB,IAArB;AACA,cAAI3C,MAAM,KAAK,CAAf,CAJoD,CAIlC;AAClB,cAAI2C,OAAO,KAAK,CAAhB;AACA,cAAI4jD,OAAO,KAAX;;AAEA,cAAI,CAAC/iC,GAAGO,cAAR,EAAwB;AACtB;AACAwiC,mBAAO,IAAP;AACD;;AAED,cAAIvrD,GAAGQ,MAAH,CAAUqO,MAAV,CAAJ,EAAuB;AACrB;AACAlH,mBAAOkH,MAAP;AACD,WAHD,MAGO,IAAI7O,GAAGO,WAAH,CAAesO,MAAf,CAAJ,EAA4B;AACjC;AACAlH,mBAAOkH,OAAO28C,KAAd;;AAEA,gBAAI38C,OAAOiP,QAAP,IAAmB,IAAvB,EAA6B;AAC3B9Y,oBAAMvB,KAAKiE,uBAAL,CAA6BmH,OAAOiP,QAApC,EAA8CwtC,WAA9C,EAA2DD,UAA3D,CAAN;AACD,aAFD,MAEO,IAAIx8C,OAAOgf,gBAAP,IAA2B,IAA/B,EAAqC;AAC1C7oB,oBAAM6J,OAAOgf,gBAAb;AACD;;AAED,gBAAI7oB,OAAO,IAAP,IAAe,CAACwjB,GAAGS,cAAvB,EAAuC;AACrC;AACAsiC,qBAAO,IAAP;AACD;AACF;;AAED;AACA5jD,iBAAOA,OAAO6gB,GAAGM,OAAV,GAAoBN,GAAGM,OAAvB,GAAiCnhB,IAAxC;AACAA,iBAAOA,OAAO6gB,GAAGK,OAAV,GAAoBL,GAAGK,OAAvB,GAAiClhB,IAAxC;;AAEA;AACA,cAAI4jD,QAAQ,CAACvrD,GAAGQ,MAAH,CAAUmH,IAAV,CAAT,IAA4BA,SAAS2jD,WAArC,IAAoDtmD,OAAO,IAAP,KAAgB,CAAChF,GAAGQ,MAAH,CAAUwE,IAAIC,CAAd,CAAD,IAAqB,CAACjF,GAAGQ,MAAH,CAAUwE,IAAIE,CAAd,CAAtC,CAAxD,EAAiH;AAC/G,mBAAO,IAAP;AACD;;AAED,cAAIF,OAAO,IAAX,EAAiB;AACf;AACA,gBAAIymD,OAAOJ,UAAX;AACA,gBAAIK,QAAQJ,WAAZ;AACA,gBAAIK,QAAQhkD,IAAZ;;AAEA,gBAAIikD,OAAO;AACT3mD,iBAAG,CAAC0mD,KAAD,GAASD,KAAT,IAAkB1mD,IAAIC,CAAJ,GAAQwmD,KAAKxmD,CAA/B,IAAoCD,IAAIC,CADlC;AAETC,iBAAG,CAACymD,KAAD,GAASD,KAAT,IAAkB1mD,IAAIE,CAAJ,GAAQumD,KAAKvmD,CAA/B,IAAoCF,IAAIE;AAFlC,aAAX;;AAKA,mBAAO;AACL2mD,sBAAQ,IADH;AAELC,sBAAQ,IAFH;AAGLnkD,oBAAMgkD,KAHD;AAIL/jD,mBAAKgkD;AAJA,aAAP;AAMD,WAjBD,MAiBO;AACL;AACA,mBAAO;AACLC,sBAAQ,IADH;AAELC,sBAAQ,KAFH;AAGLnkD,oBAAMA,IAHD;AAILC,mBAAKyjD;AAJA,aAAP;AAMD;AACF,SAzXU;;AA2XX1jD,cAAM,SAASA,IAAT,CAAckH,MAAd,EAAsB;AAC1B,cAAIA,WAAW9N,SAAf,EAA0B;AACxB;AACA,mBAAO,KAAKI,QAAL,CAAcwG,IAArB;AACD,WAHD,MAGO;AACL;AACA,gBAAIokD,KAAK,KAAKX,iBAAL,CAAuBv8C,MAAvB,CAAT;AACA,gBAAI2Z,KAAK,KAAKrnB,QAAd;;AAEA,gBAAI4qD,MAAM,IAAN,IAAc,CAACA,GAAGF,MAAtB,EAA8B;AAC5B,qBAAO,IAAP;AACD;;AAEDrjC,eAAG7gB,IAAH,GAAUokD,GAAGpkD,IAAb;;AAEA,gBAAIokD,GAAGD,MAAP,EAAe;AACbtjC,iBAAG5gB,GAAH,CAAO3C,CAAP,GAAW8mD,GAAGnkD,GAAH,CAAO3C,CAAlB;AACAujB,iBAAG5gB,GAAH,CAAO1C,CAAP,GAAW6mD,GAAGnkD,GAAH,CAAO1C,CAAlB;AACD;;AAED,iBAAK4b,IAAL,CAAU,UAAUirC,GAAGD,MAAH,GAAY,MAAZ,GAAqB,EAA/B,IAAqC,WAA/C;;AAEA,iBAAKzpC,MAAL,CAAY,EAAE;AACZC,oBAAM;AADI,aAAZ;;AAIA,mBAAO,IAAP,CAtBK,CAsBQ;AACd;AACF,SAvZU;;AAyZX0pC,kBAAU,SAASA,QAAT,CAAkB1uC,IAAlB,EAAwB;AAChC,cAAIkL,KAAK,KAAKrnB,QAAd;AACA,cAAI8qD,WAAW,IAAf;AACA,cAAIC,UAAU,IAAd;AACA,cAAIhmC,SAAS,EAAb,CAJgC,CAIf;AACjB,cAAIimC,aAAa,KAAjB;AACA,cAAIC,YAAY,KAAhB;;AAEA,cAAI,CAAC9uC,IAAL,EAAW;AACT,mBAAO,IAAP;AACD;AACD,cAAI,CAACtd,GAAGQ,MAAH,CAAU8c,KAAK3V,IAAf,CAAL,EAA2B;AACzBskD,uBAAW,KAAX;AACD;AACD,cAAI,CAACjsD,GAAGO,WAAH,CAAe+c,KAAK1V,GAApB,CAAL,EAA+B;AAC7BskD,sBAAU,KAAV;AACD;AACD,cAAI,CAACD,QAAD,IAAa,CAACC,OAAlB,EAA2B;AACzB,mBAAO,IAAP;AACD;;AAED,cAAID,QAAJ,EAAc;AACZ,gBAAII,IAAI/uC,KAAK3V,IAAb;;AAEA,gBAAI0kD,IAAI7jC,GAAGK,OAAP,IAAkBwjC,IAAI7jC,GAAGM,OAAzB,IAAoC,CAACN,GAAGO,cAA5C,EAA4D;AAC1DojC,2BAAa,IAAb;AACD,aAFD,MAEO;AACL3jC,iBAAG7gB,IAAH,GAAU0kD,CAAV;;AAEAnmC,qBAAOvf,IAAP,CAAY,MAAZ;AACD;AACF;;AAED,cAAIulD,YAAY,CAACC,UAAD,IAAe,CAAC7uC,KAAKgvC,kBAAjC,KAAwD9jC,GAAGS,cAA/D,EAA+E;AAC7E,gBAAIlqB,IAAIue,KAAK1V,GAAb;;AAEA,gBAAI5H,GAAGQ,MAAH,CAAUzB,EAAEkG,CAAZ,CAAJ,EAAoB;AAClBujB,iBAAG5gB,GAAH,CAAO3C,CAAP,GAAWlG,EAAEkG,CAAb;AACAmnD,0BAAY,KAAZ;AACD;;AAED,gBAAIpsD,GAAGQ,MAAH,CAAUzB,EAAEmG,CAAZ,CAAJ,EAAoB;AAClBsjB,iBAAG5gB,GAAH,CAAO1C,CAAP,GAAWnG,EAAEmG,CAAb;AACAknD,0BAAY,KAAZ;AACD;;AAED,gBAAI,CAACA,SAAL,EAAgB;AACdlmC,qBAAOvf,IAAP,CAAY,KAAZ;AACD;AACF;;AAED,cAAIuf,OAAOngB,MAAP,GAAgB,CAApB,EAAuB;AACrBmgB,mBAAOvf,IAAP,CAAY,UAAZ;AACA,iBAAKma,IAAL,CAAUoF,OAAOoM,IAAP,CAAY,GAAZ,CAAV;;AAEA,iBAAKjQ,MAAL,CAAY;AACVC,oBAAM;AADI,aAAZ;AAGD;;AAED,iBAAO,IAAP,CA5DgC,CA4DnB;AACd,SAtdU;;AAwdX+2B,gBAAQ,SAASA,MAAT,CAAgB98B,QAAhB,EAA0B;AAChC,cAAI3U,MAAM,KAAK2kD,YAAL,CAAkBhwC,QAAlB,CAAV;;AAEA,cAAI3U,GAAJ,EAAS;AACP,iBAAKzG,QAAL,CAAcyG,GAAd,GAAoBA,GAApB;;AAEA,iBAAKkZ,IAAL,CAAU,cAAV;;AAEA,iBAAKuB,MAAL,CAAY,EAAE;AACZC,oBAAM;AADI,aAAZ;AAGD;;AAED,iBAAO,IAAP,CAbgC,CAanB;AACd,SAteU;;AAweXiqC,sBAAc,SAASA,YAAT,CAAsBhwC,QAAtB,EAAgC5U,IAAhC,EAAsC;AAClD,cAAI,CAAC,KAAKxG,QAAL,CAAc8nB,cAAnB,EAAmC;AACjC;AACD;;AAED,cAAIjpB,GAAGG,MAAH,CAAUoc,QAAV,CAAJ,EAAyB;AACvB,gBAAIhD,WAAWgD,QAAf;AACAA,uBAAW,KAAK4O,eAAL,GAAuBtR,MAAvB,CAA8BN,QAA9B,CAAX;AACD,WAHD,MAGO,IAAI,CAACvZ,GAAGgB,mBAAH,CAAuBub,QAAvB,CAAL,EAAuC;AAC5CA,uBAAW,KAAK4O,eAAL,EAAX;AACD;;AAED,cAAI5O,SAASxW,MAAT,KAAoB,CAAxB,EAA2B;AACzB;AACD,WAdiD,CAchD;;AAEF,cAAI+D,KAAKyS,SAASxa,WAAT,EAAT;AACA,cAAIiI,IAAI,KAAKgB,KAAL,EAAR;AACA,cAAIf,IAAI,KAAKgB,MAAL,EAAR;AACAtD,iBAAOA,SAAS5G,SAAT,GAAqB,KAAKI,QAAL,CAAcwG,IAAnC,GAA0CA,IAAjD;;AAEA,cAAIC,MAAM,EAAE;AACV3C,eAAG,CAAC+E,IAAIrC,QAAQmC,GAAG9H,EAAH,GAAQ8H,GAAG7H,EAAnB,CAAL,IAA+B,CAD1B;AAERiD,eAAG,CAAC+E,IAAItC,QAAQmC,GAAG5H,EAAH,GAAQ4H,GAAG3H,EAAnB,CAAL,IAA+B;AAF1B,WAAV;;AAKA,iBAAOyF,GAAP;AACD,SAngBU;;AAqgBX4kD,eAAO,SAASA,KAAT,GAAiB;AACtB,cAAI,CAAC,KAAKrrD,QAAL,CAAc8nB,cAAf,IAAiC,CAAC,KAAK9nB,QAAL,CAAc4nB,cAApD,EAAoE;AAClE,mBAAO,IAAP;AACD;;AAED,eAAKijC,QAAL,CAAc;AACZpkD,iBAAK,EAAE3C,GAAG,CAAL,EAAQC,GAAG,CAAX,EADO;AAEZyC,kBAAM;AAFM,WAAd;;AAKA,iBAAO,IAAP,CAVsB,CAUT;AACd,SAhhBU;;AAkhBX2iD,wBAAgB,SAASA,cAAT,GAA0B;AACxC,eAAKnpD,QAAL,CAAcsrD,SAAd,GAA0B,IAA1B;AACD,SAphBU;;AAshBXvyC,cAAM,SAASA,IAAT,GAAgB;AACpB,cAAIsO,KAAK,KAAKrnB,QAAd;AACA,cAAI2mB,YAAYU,GAAGV,SAAnB;;AAEA,iBAAOU,GAAGikC,SAAH,GAAejkC,GAAGikC,SAAH,KAAiB3kC,YAAY,YAAY;AAC7D,gBAAIxmB,QAAQhC,OAAOotD,gBAAP,CAAwB5kC,SAAxB,CAAZ;AACA,gBAAI1hB,MAAM,SAASA,GAAT,CAAarI,IAAb,EAAmB;AAC3B,qBAAOwpD,WAAWjmD,MAAMqrD,gBAAN,CAAuB5uD,IAAvB,CAAX,CAAP;AACD,aAFD;;AAIA,mBAAO;AACLiN,qBAAO8c,UAAU8kC,WAAV,GAAwBxmD,IAAI,cAAJ,CAAxB,GAA8CA,IAAI,eAAJ,CADhD;AAEL6E,sBAAQ6c,UAAU+kC,YAAV,GAAyBzmD,IAAI,aAAJ,CAAzB,GAA8CA,IAAI,gBAAJ;AAFjD,aAAP;AAID,WAVkD,EAAZ,GAUjC,EAAE;AACN4E,mBAAO,CADH;AAEJC,oBAAQ;AAFJ,WAVgB,CAAtB;AAcD,SAxiBU;;AA0iBXD,eAAO,SAASA,KAAT,GAAiB;AACtB,iBAAO,KAAKkP,IAAL,GAAYlP,KAAnB;AACD,SA5iBU;;AA8iBXC,gBAAQ,SAASA,MAAT,GAAkB;AACxB,iBAAO,KAAKiP,IAAL,GAAYjP,MAAnB;AACD,SAhjBU;;AAkjBXslB,gBAAQ,SAASA,MAAT,GAAkB;AACxB,cAAI3oB,MAAM,KAAKzG,QAAL,CAAcyG,GAAxB;AACA,cAAID,OAAO,KAAKxG,QAAL,CAAcwG,IAAzB;AACA,cAAImlD,KAAK,KAAKC,cAAL,EAAT;;AAEA,cAAI1nD,IAAI;AACNrD,gBAAI,CAAC8qD,GAAG9qD,EAAH,GAAQ4F,IAAI3C,CAAb,IAAkB0C,IADhB;AAEN1F,gBAAI,CAAC6qD,GAAG7qD,EAAH,GAAQ2F,IAAI3C,CAAb,IAAkB0C,IAFhB;AAGNzF,gBAAI,CAAC4qD,GAAG5qD,EAAH,GAAQ0F,IAAI1C,CAAb,IAAkByC,IAHhB;AAINxF,gBAAI,CAAC2qD,GAAG3qD,EAAH,GAAQyF,IAAI1C,CAAb,IAAkByC;AAJhB,WAAR;;AAOAtC,YAAE2E,CAAF,GAAM3E,EAAEpD,EAAF,GAAOoD,EAAErD,EAAf;AACAqD,YAAE4E,CAAF,GAAM5E,EAAElD,EAAF,GAAOkD,EAAEnD,EAAf;;AAEA,iBAAOmD,CAAP;AACD,SAlkBU;;AAokBX0nD,wBAAgB,SAASA,cAAT,GAA0B;AACxC,cAAI/hD,QAAQ,KAAKA,KAAL,EAAZ;AACA,cAAIC,SAAS,KAAKA,MAAL,EAAb;;AAEA,iBAAO;AACLjJ,gBAAI,CADC;AAELE,gBAAI,CAFC;AAGLD,gBAAI+I,KAHC;AAIL7I,gBAAI8I,MAJC;AAKLjB,eAAGgB,KALE;AAMLf,eAAGgB;AANE,WAAP;AAQD;AAhlBU,OAAb;;AAmlBA;AACA2gB,aAAOohC,MAAP,GAAgBphC,OAAOytB,MAAvB;;AAEA;AACAztB,aAAOvC,aAAP,GAAuBuC,OAAOxC,QAA9B;AACAwC,aAAOrC,kBAAP,GAA4BqC,OAAOtC,aAAnC;;AAEAxsB,aAAOD,OAAP,GAAiB+uB,MAAjB;;AAEA;AAAO,KA9gZG;AA+gZV;AACA,SAAO,UAAS9uB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAIs5B,YAAYt5B,oBAAoB,EAApB,CAAhB;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAIN,SAAS;;AAEX00B,kBAAU,SAASA,QAAT,GAAoB;AAC5B,iBAAO,SAASu7B,YAAT,GAAwB;AAC7B,gBAAIzzC,OAAO,IAAX;AACA,gBAAI0zC,kBAAkB1zC,KAAKzT,MAAL,KAAgBhF,SAAtC;AACA,gBAAI6X,MAAMs0C,kBAAkB1zC,IAAlB,GAAyB,CAACA,IAAD,CAAnC,CAH6B,CAGc;AAC3C,gBAAI2C,KAAK,KAAKhb,QAAL,CAAcgb,EAAd,IAAoB,IAA7B;;AAEA,gBAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB,qBAAO,KAAP;AACD;;AAED,gBAAIljB,MAAMqS,IAAI,CAAJ,CAAV;;AAEA,gBAAIrS,GAAJ,EAAS;AACP,qBAAOA,IAAIpF,QAAJ,CAAauoB,SAAb,CAAuBC,OAAvB,CAA+B5jB,MAA/B,GAAwC,CAA/C;AACD;AACF,WAfD;AAgBD,SAnBU,EAmBR;;AAEH0/B,oBAAY,SAASA,UAAT,GAAsB;AAChC,iBAAO,SAAS0nB,cAAT,GAA0B;AAC/B,gBAAI3zC,OAAO,IAAX;AACA,gBAAI0zC,kBAAkB1zC,KAAKzT,MAAL,KAAgBhF,SAAtC;AACA,gBAAI6X,MAAMs0C,kBAAkB1zC,IAAlB,GAAyB,CAACA,IAAD,CAAnC,CAH+B,CAGY;AAC3C,gBAAI2C,KAAK,KAAKhb,QAAL,CAAcgb,EAAd,IAAoB,IAA7B;;AAEA,gBAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB,qBAAO,IAAP;AACD;;AAED,iBAAK,IAAIjsB,IAAI,CAAb,EAAgBA,IAAIob,IAAI7S,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,kBAAI+I,MAAMqS,IAAIpb,CAAJ,CAAV;AACA+I,kBAAIpF,QAAJ,CAAauoB,SAAb,CAAuBE,KAAvB,GAA+B,EAA/B;AACD;;AAED,mBAAO,IAAP;AACD,WAhBD;AAiBD,SAvCU,EAuCR;;AAEH8b,eAAO,SAASA,KAAT,GAAiB;AACtB,iBAAO,SAAS0nB,SAAT,CAAmBr1B,IAAnB,EAAyBV,QAAzB,EAAmC;AACxC,gBAAIlb,KAAK,KAAKhb,QAAL,CAAcgb,EAAd,IAAoB,IAA7B;;AAEA,gBAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB,qBAAO,IAAP;AACD;;AAED,mBAAO,KAAKoL,OAAL,CAAa;AAClB6Q,qBAAO3N,IADW;AAElBtH,wBAAUsH,IAFQ;AAGlBV,wBAAUA;AAHQ,aAAb,CAAP;AAKD,WAZD;AAaD,SAvDU,EAuDR;;AAEHsO,wBAAgB,SAASA,cAAT,GAA0B;AACxC,iBAAO,SAAS0nB,kBAAT,CAA4Bt1B,IAA5B,EAAkCV,QAAlC,EAA4C;AACjD,gBAAIlb,KAAK,KAAKhb,QAAL,CAAcgb,EAAd,IAAoB,IAA7B;;AAEA,gBAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB,qBAAO,IAAP;AACD;;AAED,mBAAO,KAAKC,SAAL,CAAe;AACpBgc,qBAAO3N,IADa;AAEpBtH,wBAAUsH,IAFU;AAGpBV,wBAAUA;AAHU,aAAf,CAAP;AAKD,WAZD;AAaD,SAvEU,EAuER;;AAEH3N,mBAAW,SAASA,SAAT,GAAqB;AAC9B,iBAAO,SAAS4jC,aAAT,CAAuBx6B,UAAvB,EAAmCjkB,MAAnC,EAA2C;AAChD,gBAAI2K,OAAO,IAAX;AACA,gBAAI0zC,kBAAkB1zC,KAAKzT,MAAL,KAAgBhF,SAAtC;AACA,gBAAI6X,MAAMs0C,kBAAkB1zC,IAAlB,GAAyB,CAACA,IAAD,CAAnC,CAHgD,CAGL;AAC3C,gBAAI2C,KAAK,KAAKhb,QAAL,CAAcgb,EAAd,IAAoB,IAA7B;AACA,gBAAIurC,SAAS,CAACwF,eAAd;AACA,gBAAIvF,SAAS,CAACD,MAAd;;AAEA,gBAAI,CAACvrC,GAAGsN,YAAH,EAAL,EAAwB;AACtB,qBAAO,IAAP;AACD;;AAED,gBAAInoB,QAAQ6a,GAAG7a,KAAH,EAAZ;;AAEAwxB,yBAAapvB,KAAKkC,MAAL,CAAY,EAAZ,EAAgBktB,UAAhB,EAA4BjkB,MAA5B,CAAb;;AAEA,gBAAI0+C,kBAAkBrvD,OAAO8H,IAAP,CAAY8sB,UAAZ,EAAwB/sB,MAAxB,KAAmC,CAAzD;;AAEA,gBAAIwnD,eAAJ,EAAqB;AACnB,qBAAO,IAAI32B,SAAJ,CAAche,IAAI,CAAJ,CAAd,EAAsBka,UAAtB,CAAP,CADmB,CACuB;AAC3C;;AAED,gBAAIA,WAAWrC,QAAX,KAAwB1vB,SAA5B,EAAuC;AACrC+xB,yBAAWrC,QAAX,GAAsB,GAAtB;AACD;;AAED,oBAAQqC,WAAWrC,QAAnB;AACE,mBAAK,MAAL;AACEqC,2BAAWrC,QAAX,GAAsB,GAAtB;AACA;AACF,mBAAK,MAAL;AACEqC,2BAAWrC,QAAX,GAAsB,GAAtB;AACA;AANJ;;AASA,gBAAIk3B,MAAJ,EAAY;AACV70B,yBAAWxxB,KAAX,GAAmBA,MAAMksD,YAAN,CAAmB16B,WAAWxxB,KAAX,IAAoBwxB,WAAW/E,GAAlD,CAAnB;;AAEA+E,yBAAW/E,GAAX,GAAiBhtB,SAAjB;AACD;;AAED,gBAAI4mD,UAAU70B,WAAWjF,gBAAX,IAA+B,IAA7C,EAAmD;AACjD,kBAAIC,OAAOgF,WAAWjF,gBAAtB;AACA,kBAAIjmB,MAAMuU,GAAGvU,GAAH,EAAV;AACA,kBAAID,OAAOwU,GAAGxU,IAAH,EAAX;;AAEAmrB,yBAAWhV,QAAX,GAAsBra,KAAKoE,uBAAL,CAA6BimB,IAA7B,EAAmCnmB,IAAnC,EAAyCC,GAAzC,CAAtB;AACD;;AAED;AACA,gBAAI8/C,UAAU50B,WAAWi4B,KAAX,IAAoB,IAAlC,EAAwC;AACtC,kBAAIA,QAAQj4B,WAAWi4B,KAAvB;AACA,kBAAI0C,QAAQtxC,GAAGvU,GAAH,EAAZ;;AAEAkrB,yBAAWlrB,GAAX,GAAiB;AACf3C,mBAAGwoD,MAAMxoD,CAAN,GAAU8lD,MAAM9lD,CADJ;AAEfC,mBAAGuoD,MAAMvoD,CAAN,GAAU6lD,MAAM7lD;AAFJ,eAAjB;AAID;;AAED;AACA,gBAAIm0C,SAASvmB,WAAWumB,MAAX,IAAqBvmB,WAAWk6B,MAA7C;AACA,gBAAItF,UAAUrO,UAAU,IAAxB,EAA8B;AAC5B,kBAAIqU,YAAYvxC,GAAGowC,YAAH,CAAgBlT,OAAO18B,IAAvB,EAA6BmW,WAAWnrB,IAAxC,CAAhB;;AAEA,kBAAI+lD,aAAa,IAAjB,EAAuB;AACrB56B,2BAAWlrB,GAAX,GAAiB8lD,SAAjB;AACD;AACF;;AAED;AACA,gBAAIhG,UAAU50B,WAAWonB,GAAX,IAAkB,IAAhC,EAAsC;AACpC,kBAAIA,MAAMpnB,WAAWonB,GAArB;AACA,kBAAIyT,QAAQxxC,GAAG+uC,cAAH,CAAkBhR,IAAIv9B,IAAJ,IAAYu9B,IAAIn4C,WAAlC,EAA+Cm4C,IAAI3vC,OAAnD,CAAZ;;AAEA,kBAAIojD,SAAS,IAAb,EAAmB;AACjB76B,2BAAWlrB,GAAX,GAAiB+lD,MAAM/lD,GAAvB;AACAkrB,2BAAWnrB,IAAX,GAAkBgmD,MAAMhmD,IAAxB;AACD;AACF;;AAED;AACA,gBAAI+/C,UAAU1nD,GAAGO,WAAH,CAAeuyB,WAAWnrB,IAA1B,CAAd,EAA+C;AAC7C,kBAAIokD,KAAK5vC,GAAGivC,iBAAH,CAAqBt4B,WAAWnrB,IAAhC,CAAT;;AAEA,kBAAIokD,MAAM,IAAV,EAAgB;AACd,oBAAIA,GAAGF,MAAP,EAAe;AACb/4B,6BAAWnrB,IAAX,GAAkBokD,GAAGpkD,IAArB;AACD;;AAED,oBAAIokD,GAAGD,MAAP,EAAe;AACbh5B,6BAAWlrB,GAAX,GAAiBmkD,GAAGnkD,GAApB;AACD;AACF;AACF;;AAED,mBAAO,IAAIgvB,SAAJ,CAAche,IAAI,CAAJ,CAAd,EAAsBka,UAAtB,CAAP;AACD,WAjGD;AAkGD,SA5KU,EA4KR;;AAEH+B,iBAAS,SAASA,OAAT,GAAmB;AAC1B,iBAAO,SAAS+4B,WAAT,CAAqB96B,UAArB,EAAiCjkB,MAAjC,EAAyC;AAC9C,gBAAI2K,OAAO,IAAX;AACA,gBAAI0zC,kBAAkB1zC,KAAKzT,MAAL,KAAgBhF,SAAtC;AACA,gBAAI6X,MAAMs0C,kBAAkB1zC,IAAlB,GAAyB,CAACA,IAAD,CAAnC,CAH8C,CAGH;AAC3C,gBAAI2C,KAAK,KAAKhb,QAAL,CAAcgb,EAAd,IAAoB,IAA7B;;AAEA,gBAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB,qBAAO,IAAP;AACD;;AAED,gBAAI5a,MAAJ,EAAY;AACVikB,2BAAapvB,KAAKgB,MAAL,CAAY,EAAZ,EAAgBouB,UAAhB,EAA4BjkB,MAA5B,CAAb;AACD;;AAED;AACA,iBAAK,IAAIrR,IAAI,CAAb,EAAgBA,IAAIob,IAAI7S,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,kBAAI+I,MAAMqS,IAAIpb,CAAJ,CAAV;AACA,kBAAIosB,QAAQrjB,IAAImrB,QAAJ,OAAmBoB,WAAWlJ,KAAX,KAAqB7oB,SAArB,IAAkC+xB,WAAWlJ,KAAhE,CAAZ;;AAEA,kBAAIkwB,MAAMvzC,IAAImjB,SAAJ,CAAcoJ,UAAd,EAA0BlJ,QAAQ,EAAEA,OAAO,IAAT,EAAR,GAA0B7oB,SAApD,CAAV;;AAEA+4C,kBAAIpiB,IAAJ;AACD;;AAED,mBAAO,IAAP,CAxB8C,CAwBjC;AACd,WAzBD;AA0BD,SAzMU,EAyMR;;AAEH9C,cAAM,SAASA,IAAT,GAAgB;AACpB,iBAAO,SAASi5B,QAAT,CAAkBpoB,UAAlB,EAA8BqoB,SAA9B,EAAyC;AAC9C,gBAAIt0C,OAAO,IAAX;AACA,gBAAI0zC,kBAAkB1zC,KAAKzT,MAAL,KAAgBhF,SAAtC;AACA,gBAAI6X,MAAMs0C,kBAAkB1zC,IAAlB,GAAyB,CAACA,IAAD,CAAnC,CAH8C,CAGH;AAC3C,gBAAI2C,KAAK,KAAKhb,QAAL,CAAcgb,EAAd,IAAoB,IAA7B;;AAEA,gBAAI,CAACA,GAAGsN,YAAH,EAAL,EAAwB;AACtB,qBAAO,IAAP;AACD;;AAED,iBAAK,IAAIjsB,IAAI,CAAb,EAAgBA,IAAIob,IAAI7S,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,kBAAI+I,MAAMqS,IAAIpb,CAAJ,CAAV;AACA,kBAAIgrB,KAAKjiB,IAAIpF,QAAb;AACA,kBAAI2zB,OAAOtM,GAAGkB,SAAH,CAAaC,OAAxB;;AAEA,mBAAK,IAAI1jB,IAAI,CAAb,EAAgBA,IAAI6uB,KAAK/uB,MAAzB,EAAiCE,GAAjC,EAAsC;AACpC,oBAAI6zC,MAAMhlB,KAAK7uB,CAAL,CAAV;AACA,oBAAI2hD,QAAQ9N,IAAI34C,QAAhB;;AAEA,oBAAI2sD,SAAJ,EAAe;AACb;AACA;AACAlG,wBAAMn3B,QAAN,GAAiB,CAAjB;AACD;AACF;;AAED;AACA,kBAAIgV,UAAJ,EAAgB;AACdjd,mBAAGkB,SAAH,CAAaE,KAAb,GAAqB,EAArB;AACD;;AAED,kBAAI,CAACkkC,SAAL,EAAgB;AACdtlC,mBAAGkB,SAAH,CAAaC,OAAb,GAAuB,EAAvB;AACD;AACF;;AAED;AACAxN,eAAGkG,MAAH,CAAU;AACR1F,oBAAM,IADE;AAER2F,oBAAM;AAFE,aAAV;;AAKA,mBAAO,IAAP;AACD,WA3CD;AA4CD,SAxPU,CAwPT;;AAxPS,OAAb,CAVsD,CAoQnD;;AAEHxlB,aAAOD,OAAP,GAAiBG,MAAjB;;AAEA;AAAO,KAxxZG;AAyxZV;AACA,SAAO,UAASF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,eAASywD,eAAT,CAAyB3uD,GAAzB,EAA8B0kB,GAA9B,EAAmCjmB,KAAnC,EAA0C;AAAE,YAAIimB,OAAO1kB,GAAX,EAAgB;AAAElB,iBAAOC,cAAP,CAAsBiB,GAAtB,EAA2B0kB,GAA3B,EAAgC,EAAEjmB,OAAOA,KAAT,EAAgBQ,YAAY,IAA5B,EAAkCD,cAAc,IAAhD,EAAsDylB,UAAU,IAAhE,EAAhC;AAA0G,SAA5H,MAAkI;AAAEzkB,cAAI0kB,GAAJ,IAAWjmB,KAAX;AAAmB,SAAC,OAAOuB,GAAP;AAAa;;AAEjN,UAAIsE,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAIN,SAAS;;AAEX;AACAge,cAAM,SAASA,IAAT,CAAcnM,MAAd,EAAsB;AAC1B,cAAIqW,WAAW;AACbjK,mBAAO,MADM;AAEbuR,0BAAc,MAFD;AAGbC,0BAAc,KAHD;AAIbC,0BAAc,KAJD;AAKbI,0BAAc,KALD;AAMbH,0BAAc,MAND;AAObC,kCAAsB,KAPT;AAQbC,2BAAe,SARF;AASb6b,2BAAe,EATF,EASM;AACnB9nB,yBAAa,KAVA;AAWbiyB,uBAAW,SAASA,SAAT,CAAmBr5B,IAAnB,EAAyB,CAAE,CAXzB;AAYbs5B,uBAAW,SAASA,SAAT,CAAmBt5B,IAAnB,EAAyBpa,GAAzB,EAA8B,CAAE,CAZ9B;AAab2zC,mBAAO,SAASA,KAAT,CAAev5B,IAAf,EAAqB,CAAE,CAbjB;AAcbw5B,oBAAQ,SAASA,MAAT,CAAgBx5B,IAAhB,EAAsB;AAC5B,qBAAO,IAAP;AACD;AAhBY,WAAf;AAkBA3K,mBAASnL,KAAKgB,MAAL,CAAY,EAAZ,EAAgBwgB,QAAhB,EAA0BrW,MAA1B,CAAT;;AAEA,iBAAO,SAASm/C,QAAT,CAAkBjwD,IAAlB,EAAwBF,KAAxB,EAA+B;AACpC,gBAAIkB,IAAI8P,MAAR;AACA,gBAAI2K,OAAO,IAAX;AACA,gBAAI0zC,kBAAkB1zC,KAAKzT,MAAL,KAAgBhF,SAAtC;AACA,gBAAI6X,MAAMs0C,kBAAkB1zC,IAAlB,GAAyB,CAACA,IAAD,CAAnC,CAJoC,CAIO;AAC3C,gBAAIpY,SAAS8rD,kBAAkB1zC,KAAK,CAAL,CAAlB,GAA4BA,IAAzC;;AAEA;AACA,gBAAIxZ,GAAGG,MAAH,CAAUpC,IAAV,CAAJ,EAAqB;AACnB;;AAEA;AACA,kBAAIgB,EAAE+tB,YAAF,IAAkBjvB,UAAUkD,SAAhC,EAA2C;AACzC;;AAEA,oBAAI2lB,MAAM,KAAK,CAAf;AACA,oBAAItlB,MAAJ,EAAY;AACVrC,oBAAE8zC,SAAF,CAAYzxC,MAAZ;;AAEAslB,wBAAMtlB,OAAOD,QAAP,CAAgBpC,EAAEkc,KAAlB,EAAyBld,IAAzB,CAAN;AACD;AACD,uBAAO2oB,GAAP;;AAEA;AACD,eAZD,MAYO,IAAI3nB,EAAE2tB,YAAF,IAAkB7uB,UAAUkD,SAAhC,EAA2C;AAChD;AACA,oBAAIiZ,QAAQ,CAACjb,EAAE2pC,aAAF,CAAgB3qC,IAAhB,CAAb;AACA,oBAAIic,KAAJ,EAAW;AACT,sBAAIi0C,SAASF,gBAAgB,EAAhB,EAAoBhwD,IAApB,EAA0BF,KAA1B,CAAb;;AAEAkB,oBAAE+zC,SAAF,CAAYt5B,IAAZ,EAAkBy0C,MAAlB;;AAEA,uBAAK,IAAIzwD,IAAI,CAAR,EAAWC,IAAImb,IAAI7S,MAAxB,EAAgCvI,IAAIC,CAApC,EAAuCD,GAAvC,EAA4C;AAC1C,wBAAI+I,MAAMqS,IAAIpb,CAAJ,CAAV;;AAEA,wBAAIuB,EAAEi0C,MAAF,CAASzsC,GAAT,CAAJ,EAAmB;AACjBA,0BAAIpF,QAAJ,CAAapC,EAAEkc,KAAf,EAAsBld,IAAtB,IAA8BF,KAA9B;AACD;AACF;;AAED;AACA,sBAAIkB,EAAE6hB,WAAN,EAAmB;AACjBpH,yBAAKoH,WAAL;AACD;;AAED;AACA7hB,oBAAEg0C,KAAF,CAAQv5B,IAAR;;AAEA,sBAAIza,EAAE6tB,oBAAN,EAA4B;AAC1BpT,yBAAKza,EAAE8tB,aAAP,EAAsB9tB,EAAE4tB,YAAxB;AACD;AACF;AACF;;AAED;AACD,aA/CD,MA+CO,IAAI5tB,EAAE2tB,YAAF,IAAkB1sB,GAAGO,WAAH,CAAexC,IAAf,CAAtB,EAA4C;AACjD;AACA,kBAAIqB,MAAMrB,IAAV;AACA,kBAAImI,IAAI,KAAK,CAAb;AAAA,kBACIk2B,IAAI,KAAK,CADb;AAEA,kBAAIp2B,OAAO9H,OAAO8H,IAAP,CAAY5G,GAAZ,CAAX;;AAEAL,gBAAE+zC,SAAF,CAAYt5B,IAAZ,EAAkBpa,GAAlB;;AAEA,mBAAK,IAAI+V,KAAK,CAAd,EAAiBA,KAAKnP,KAAKD,MAA3B,EAAmCoP,IAAnC,EAAyC;AACvCjP,oBAAIF,KAAKmP,EAAL,CAAJ;AACAinB,oBAAIh9B,IAAI8G,CAAJ,CAAJ;;AAEA,oBAAIgoD,SAAS,CAACnvD,EAAE2pC,aAAF,CAAgBxiC,CAAhB,CAAd;AACA,oBAAIgoD,MAAJ,EAAY;AACV,uBAAK,IAAIjoD,IAAI,CAAb,EAAgBA,IAAI2S,IAAI7S,MAAxB,EAAgCE,GAAhC,EAAqC;AACnC,wBAAIkZ,OAAOvG,IAAI3S,CAAJ,CAAX;;AAEA,wBAAIlH,EAAEi0C,MAAF,CAAS7zB,IAAT,CAAJ,EAAoB;AAClBA,2BAAKhe,QAAL,CAAcpC,EAAEkc,KAAhB,EAAuB/U,CAAvB,IAA4Bk2B,CAA5B;AACD;AACF;AACF;AACF;;AAED;AACA,kBAAIr9B,EAAE6hB,WAAN,EAAmB;AACjBpH,qBAAKoH,WAAL;AACD;;AAED;AACA7hB,gBAAEg0C,KAAF,CAAQv5B,IAAR;;AAEA,kBAAIza,EAAE6tB,oBAAN,EAA4B;AAC1BpT,qBAAKza,EAAE8tB,aAAP,EAAsB9tB,EAAE4tB,YAAxB;AACD;;AAED;AACD,aAtCM,MAsCA,IAAI5tB,EAAE0tB,YAAF,IAAkBzsB,GAAGC,EAAH,CAAMlC,IAAN,CAAtB,EAAmC;AACxC;AACA,kBAAIkC,KAAKlC,IAAT;AACAyb,mBAAKsN,EAAL,CAAQ/nB,EAAEytB,YAAV,EAAwBvsB,EAAxB;;AAEA;AACD,aANM,MAMA,IAAIlB,EAAE+tB,YAAF,IAAkB/uB,SAASgD,SAA/B,EAA0C;AAC/C;AACA,kBAAIotD,OAAO,KAAK,CAAhB;AACA,kBAAI/sD,MAAJ,EAAY;AACVrC,kBAAE8zC,SAAF,CAAYzxC,MAAZ;;AAEA+sD,uBAAO/sD,OAAOD,QAAP,CAAgBpC,EAAEkc,KAAlB,CAAP;AACD;AACD,qBAAOkzC,IAAP;AACD;;AAED,mBAAO30C,IAAP,CA9GoC,CA8GvB;AACd,WA/GD,CArB0B,CAoIvB;AACJ,SAxIU,EAwIR;;AAEH;AACAwT,oBAAY,SAASA,UAAT,CAAoBne,MAApB,EAA4B;AACtC,cAAIqW,WAAW;AACbjK,mBAAO,MADM;AAEbzZ,mBAAO,MAFM;AAGbqrB,2BAAe,SAHF;AAIbI,0BAAc,KAJD;AAKbyb,2BAAe,EALF,CAKK;AALL,WAAf;AAOA75B,mBAASnL,KAAKgB,MAAL,CAAY,EAAZ,EAAgBwgB,QAAhB,EAA0BrW,MAA1B,CAAT;;AAEA,iBAAO,SAASu/C,cAAT,CAAwBtS,KAAxB,EAA+B;AACpC,gBAAI/8C,IAAI8P,MAAR;AACA,gBAAI2K,OAAO,IAAX;AACA,gBAAI0zC,kBAAkB1zC,KAAKzT,MAAL,KAAgBhF,SAAtC;AACA,gBAAI6X,MAAMs0C,kBAAkB1zC,IAAlB,GAAyB,CAACA,IAAD,CAAnC,CAJoC,CAIO;;AAE3C;AACA,gBAAIxZ,GAAGG,MAAH,CAAU27C,KAAV,CAAJ,EAAsB;AACpB;AACA,kBAAI91C,OAAO81C,MAAMv1B,KAAN,CAAY,KAAZ,CAAX;AACA,kBAAI9oB,IAAIuI,KAAKD,MAAb;;AAEA,mBAAK,IAAIvI,IAAI,CAAb,EAAgBA,IAAIC,CAApB,EAAuBD,GAAvB,EAA4B;AAC1B;AACA,oBAAIsmB,MAAM9d,KAAKxI,CAAL,CAAV;AACA,oBAAIwC,GAAG2B,WAAH,CAAemiB,GAAf,CAAJ,EAAyB;AACvB;AACD;;AAED,oBAAI9J,QAAQ,CAACjb,EAAE2pC,aAAF,CAAgB5kB,GAAhB,CAAb,CAP0B,CAOS;AACnC,oBAAI9J,KAAJ,EAAW;AACT,uBAAK,IAAIq0C,MAAM,CAAV,EAAaC,MAAM11C,IAAI7S,MAA5B,EAAoCsoD,MAAMC,GAA1C,EAA+CD,KAA/C,EAAsD;AACpDz1C,wBAAIy1C,GAAJ,EAASltD,QAAT,CAAkBpC,EAAEkc,KAApB,EAA2B6I,GAA3B,IAAkC/iB,SAAlC;AACD;AACF;AACF;;AAED,kBAAIhC,EAAEkuB,YAAN,EAAoB;AAClBzT,qBAAKza,EAAE8tB,aAAP,EAAsB9tB,EAAEyC,KAAxB;AACD;;AAED;AACD,aAzBD,MAyBO,IAAIs6C,UAAU/6C,SAAd,EAAyB;AAC9B;;AAEA,mBAAK,IAAIwtD,OAAO,CAAX,EAAcC,OAAO51C,IAAI7S,MAA9B,EAAsCwoD,OAAOC,IAA7C,EAAmDD,MAAnD,EAA2D;AACzD,oBAAIE,iBAAiB71C,IAAI21C,IAAJ,EAAUptD,QAAV,CAAmBpC,EAAEkc,KAArB,CAArB;AACA,oBAAIyzC,QAAQxwD,OAAO8H,IAAP,CAAYyoD,cAAZ,CAAZ;;AAEA,qBAAK,IAAIt4C,MAAM,CAAf,EAAkBA,MAAMu4C,MAAM3oD,MAA9B,EAAsCoQ,KAAtC,EAA6C;AAC3C,sBAAIw4C,OAAOD,MAAMv4C,GAAN,CAAX;AACA,sBAAIy4C,mBAAmB,CAAC7vD,EAAE2pC,aAAF,CAAgBimB,IAAhB,CAAxB;;AAEA,sBAAIC,gBAAJ,EAAsB;AACpBH,mCAAeE,IAAf,IAAuB5tD,SAAvB;AACD;AACF;AACF;;AAED,kBAAIhC,EAAEkuB,YAAN,EAAoB;AAClBzT,qBAAKza,EAAE8tB,aAAP,EAAsB9tB,EAAEyC,KAAxB;AACD;AACF;;AAED,mBAAOgY,IAAP,CAtDoC,CAsDvB;AACd,WAvDD,CAVsC,CAiEnC;AACJ,SA7MU,CA6MT;AA7MS,OAAb,CAVsD,CAwNnD;;AAEH1c,aAAOD,OAAP,GAAiBG,MAAjB;;AAEA;AAAO,KAt/ZG;AAu/ZV;AACA,SAAO,UAASF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI8b,UAAU9b,oBAAoB,CAApB,CAAd;;AAEA,UAAIN,SAAS;;AAEXk4B,wBAAgB,SAASA,cAAT,CAAwBO,KAAxB,EAA+B;AAC7C,cAAI12B,IAAI02B,KAAR;;AAEA12B,YAAEgoB,WAAF,GAAgBhoB,EAAE8vD,MAAF,GAAW9vD,EAAE0G,IAAF,GAAS1G,EAAE+nB,EAAtC;AACA/nB,YAAE+vD,QAAF,GAAa/vD,EAAEgwD,MAAF,GAAWhwD,EAAEmoB,GAAF,GAAQnoB,EAAEkoB,cAAlC;AACAloB,YAAEsoB,OAAF,GAAYtoB,EAAE+hB,IAAd;;AAEA;AACA/hB,YAAEiwD,GAAF,GAAQjwD,EAAEkwD,SAAF,GAAc,UAAU/oC,MAAV,EAAkB3M,QAAlB,EAA4B;AAChD,gBAAIC,OAAO,IAAX;AACA,gBAAI1T,OAAOzF,MAAMxB,SAAN,CAAgB+F,KAAhB,CAAsBlH,IAAtB,CAA2B4G,SAA3B,EAAsC,CAAtC,CAAX;;AAEA,mBAAO,IAAI8U,OAAJ,CAAY,UAAUX,OAAV,EAAmBb,MAAnB,EAA2B;AAC5C,kBAAIiN,WAAW,SAASA,QAAT,CAAkBrM,CAAlB,EAAqB;AAClCgB,qBAAK0N,GAAL,CAAS7iB,KAAT,CAAemV,IAAf,EAAqB01C,OAArB;;AAEAz2C,wBAAQD,CAAR;AACD,eAJD;;AAMA,kBAAI22C,SAASrpD,KAAKmZ,MAAL,CAAY,CAAC4F,QAAD,CAAZ,CAAb;AACA,kBAAIqqC,UAAUC,OAAOlwC,MAAP,CAAc,EAAd,CAAd;;AAEAzF,mBAAKsN,EAAL,CAAQziB,KAAR,CAAcmV,IAAd,EAAoB21C,MAApB;AACD,aAXM,CAAP;AAYD,WAhBD;AAiBD;;AA3BU,OAAb,CAPsD,CAoCnD;;AAEHryD,aAAOD,OAAP,GAAiBG,MAAjB;;AAEA;AAAO,KAhiaG;AAiiaV;AACA,SAAO,UAASF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGAR,aAAOD,OAAP,GAAiB,CAAC;AAChBylB,cAAM,QADU;AAEhB2R,oBAAY32B,oBAAoB,EAApB;AAFI,OAAD,EAGd;AACDglB,cAAM,UADL;AAED2R,oBAAY32B,oBAAoB,GAApB;AAFX,OAHc,CAAjB;;AAQA;AAAO,KA/iaG;AAgjaV;AACA,SAAO,UAASR,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAI4nB,WAAW;AACbg1B,aAAK,IADQ,EACF;AACX1gB,kBAAU,KAFG,EAEI;AACjBjvB,iBAAS,EAHI,EAGA;AACb6kD,gBAAQ,KAJK,EAIE;AACf5V,uBAAe,IALF,EAKQ;AACrBz3C,qBAAahB,SANA,EAMW;AACxBsuD,sBAAc,IAPD,EAOO;AACpBzW,qCAA6B,KARhB,EAQuB;AACpCjqC,eAAO5N,SATM,EASK;AAClBuuD,4BAAoB,CAVP,EAUU;AACvBz6B,iBAAS,KAXI,EAWG;AAChBklB,2BAAmB,GAZN,EAYW;AACxBE,yBAAiBl5C,SAbJ,EAae;AAC5B84C,uBAAe,SAASA,aAAT,CAAuBj6B,IAAvB,EAA6BpiB,CAA7B,EAAgC;AAC7C,iBAAO,IAAP;AACD,SAhBY,EAgBV;AACHirB,eAAO1nB,SAjBM,EAiBK;AAClB6zB,cAAM7zB,SAlBO,EAkBI;AACjB44C,mBAAW,SAASA,SAAT,CAAmB/5B,IAAnB,EAAyB9B,QAAzB,EAAmC;AAC5C,iBAAOA,QAAP;AACD,SArBY,CAqBX;AArBW,OAAf;;AAwBA,eAASyxC,kBAAT,CAA4B/yC,OAA5B,EAAqC;AACnC,aAAKA,OAAL,GAAe9Y,KAAKgB,MAAL,CAAY,EAAZ,EAAgBwgB,QAAhB,EAA0B1I,OAA1B,CAAf;AACD;;AAED+yC,yBAAmB1wD,SAAnB,CAA6BwsB,GAA7B,GAAmC,YAAY;AAC7C,YAAIxc,SAAS,KAAK2N,OAAlB;AACA,YAAIA,UAAU3N,MAAd;;AAEA,YAAIsN,KAAKtN,OAAOsN,EAAhB;AACA,YAAIQ,OAAOH,QAAQG,IAAnB;AACA,YAAImC,QAAQnC,KAAKmC,KAAL,GAAakf,GAAb,CAAiB,SAAjB,CAAZ;AACA,YAAIwxB,QAAQ7yC,IAAZ;;AAEA,YAAI7S,KAAKrG,KAAK+B,eAAL,CAAqBgX,QAAQza,WAAR,GAAsBya,QAAQza,WAA9B,GAA4C;AACxEC,cAAI,CADoE,EACjEE,IAAI,CAD6D,EAC1D8H,GAAGmS,GAAGnR,KAAH,EADuD,EAC3Cf,GAAGkS,GAAGlR,MAAH;AADwC,SAAjE,CAAT;;AAIA,YAAI0D,QAAQ,KAAK,CAAjB;AACA,YAAI3O,GAAGgB,mBAAH,CAAuBwb,QAAQ7N,KAA/B,CAAJ,EAA2C;AACzCA,kBAAQ6N,QAAQ7N,KAAhB;AACD,SAFD,MAEO,IAAI3O,GAAGI,KAAH,CAASoc,QAAQ7N,KAAjB,CAAJ,EAA6B;AAClC,cAAI8gD,aAAa,EAAjB;;AAEA,eAAK,IAAIjyD,IAAI,CAAb,EAAgBA,IAAIgf,QAAQ7N,KAAR,CAAc5I,MAAlC,EAA0CvI,GAA1C,EAA+C;AAC7C,gBAAI4Z,KAAKoF,QAAQ7N,KAAR,CAAcnR,CAAd,CAAT;AACA,gBAAI+I,MAAM4V,GAAGsB,cAAH,CAAkBrG,EAAlB,CAAV;AACAq4C,uBAAW9oD,IAAX,CAAgBJ,GAAhB;AACD;;AAEDoI,kBAAQwN,GAAGjb,UAAH,CAAcuuD,UAAd,CAAR;AACD,SAVM,MAUA,IAAIzvD,GAAGG,MAAH,CAAUqc,QAAQ7N,KAAlB,CAAJ,EAA8B;AACnCA,kBAAQwN,GAAGk6B,CAAH,CAAK75B,QAAQ7N,KAAb,CAAR;AACD,SAFM,MAEA;AACL,cAAI6N,QAAQgd,QAAZ,EAAsB;AACpB7qB,oBAAQmQ,MAAMnQ,KAAN,EAAR;AACD,WAFD,MAEO;AACL,gBAAImzC,aAAa,EAAjB;AACA,gBAAI4N,iBAAiB5wC,KAArB;;AAEA,gBAAIqI,QAAQ,SAASA,KAAT,GAAiB;AAC3B,kBAAIwoC,WAAWxzC,GAAGjb,UAAH,EAAf;;AAEAyb,mBAAK2gB,GAAL,CAAS;AACP3uB,uBAAO+gD,eAAe,CAAf,CADA;AAEPjyB,uBAAO,SAASA,KAAT,CAAe7d,IAAf,EAAqBN,IAArB,EAA2BswC,KAA3B,EAAkCpyD,CAAlC,EAAqCqgC,KAArC,EAA4C;AACjD8xB,6BAAWA,SAAS5yC,GAAT,CAAa6C,IAAb,CAAX;AACD,iBAJM;AAKP4Z,0BAAU;AALH,eAAT;;AAQAk2B,+BAAiBA,eAAe1xB,GAAf,CAAmB2xB,QAAnB,CAAjB;AACA7N,yBAAWn7C,IAAX,CAAgBgpD,QAAhB;AACD,aAbD;;AAeA,mBAAOD,eAAe3pD,MAAf,GAAwB,CAA/B,EAAkC;AAChCohB;AACD;;AAEDxY,oBAAQwN,GAAGjb,UAAH,EAAR;;AAEA,gBAAIumB,SAAS,SAASA,MAAT,CAAgBtS,EAAhB,EAAoB;AAC/B,kBAAI06C,OAAO/N,WAAW3sC,EAAX,CAAX;AACA,kBAAIkqB,YAAYwwB,KAAKxwB,SAAL,CAAe,KAAf,CAAhB;AACA,kBAAIywB,YAAYD,KAAKh2C,MAAL,CAAY,UAAUtT,GAAV,EAAe;AACzC,uBAAOA,IAAIi5B,MAAJ,CAAW,KAAX,MAAsBH,SAA7B;AACD,eAFe,CAAhB;;AAIA1wB,sBAAQA,MAAMoO,GAAN,CAAU+yC,SAAV,CAAR;AACD,aARD;;AAUA,iBAAK,IAAI36C,KAAK,CAAd,EAAiBA,KAAK2sC,WAAW/7C,MAAjC,EAAyCoP,IAAzC,EAA+C;AAC7CsS,qBAAOtS,EAAP;AACD;AACF;AACF;;AAED,YAAI46C,SAAS,EAAb;AACA,YAAIC,aAAa,EAAjB;AACA,YAAIryB,WAAW,EAAf;AACA,YAAII,WAAW,EAAf;AACA,YAAID,WAAW,EAAf;AACA,YAAI4hB,aAAa,EAAjB;;AAEA;AACA8P,cAAMlyB,GAAN,CAAU;AACR3uB,iBAAOA,KADC;AAER6qB,oBAAUhd,QAAQgd,QAFV;AAGRiE,iBAAO,SAASA,KAAT,CAAe7d,IAAf,EAAqBN,IAArB,EAA2BswC,KAA3B,EAAkCpyD,CAAlC,EAAqCqgC,KAArC,EAA4C;AACjD,gBAAIt3B,MAAMqZ,KAAK,CAAL,CAAV;AACA,gBAAIxI,KAAK7Q,IAAI6Q,EAAJ,EAAT;;AAEA,gBAAI,CAAC24C,OAAOlyB,KAAP,CAAL,EAAoB;AAClBkyB,qBAAOlyB,KAAP,IAAgB,EAAhB;AACD;;AAEDkyB,mBAAOlyB,KAAP,EAAcl3B,IAAd,CAAmBJ,GAAnB;AACAypD,uBAAW54C,EAAX,IAAiB,IAAjB;AACAumB,qBAASvmB,EAAT,IAAeymB,KAAf;AACAE,qBAAS3mB,EAAT,IAAew4C,KAAf;AACA9xB,qBAAS1mB,EAAT,IAAekI,IAAf;;AAEA,gBAAIswC,KAAJ,EAAW;AACT,kBAAIK,SAASL,MAAMx4C,EAAN,EAAb;AACA,kBAAI84C,OAAOxQ,WAAWuQ,MAAX,IAAqBvQ,WAAWuQ,MAAX,KAAsB,EAAtD;;AAEAC,mBAAKvpD,IAAL,CAAUiZ,IAAV;AACD;AACF;AAvBO,SAAV;;AA0BA;AACA,YAAIuwC,cAAc,EAAlB;AACA,aAAK,IAAIh6C,MAAM,CAAf,EAAkBA,MAAM2I,MAAM/Y,MAA9B,EAAsCoQ,KAAtC,EAA6C;AAC3C,cAAIgJ,OAAOL,MAAM3I,GAAN,CAAX;;AAEA,cAAI65C,WAAW7wC,KAAK/H,EAAL,EAAX,CAAJ,EAA2B;AACzB;AACD,WAFD,MAEO;AACL+4C,wBAAYxpD,IAAZ,CAAiBwY,IAAjB;AACD;AACF;;AAED;AACA,YAAIixC,YAAYD,YAAYpqD,MAAZ,GAAqB,CAArC;AACA,YAAIsqD,SAAS,CAAb;AACA,eAAOF,YAAYpqD,MAAZ,KAAuB,CAAvB,IAA4BsqD,SAASD,SAA5C,EAAuD;AACrD,cAAIxwC,OAAOuwC,YAAYvyB,KAAZ,EAAX;AACA,cAAI2D,YAAY3hB,KAAK4hB,YAAL,GAAoB1iB,KAApB,EAAhB;AACA,cAAIwxC,gBAAgB,KAApB;;AAEA,eAAK,IAAIl6C,MAAM,CAAf,EAAkBA,MAAMmrB,UAAUx7B,MAAlC,EAA0CqQ,KAA1C,EAAiD;AAC/C,gBAAIynB,QAAQF,SAAS4D,UAAUnrB,GAAV,EAAegB,EAAf,EAAT,CAAZ;;AAEA,gBAAIymB,UAAU98B,SAAd,EAAyB;AACvBgvD,qBAAOlyB,KAAP,EAAcl3B,IAAd,CAAmBiZ,IAAnB;AACA0wC,8BAAgB,IAAhB;AACA;AACD;AACF;;AAED,cAAI,CAACA,aAAL,EAAoB;AAClBH,wBAAYxpD,IAAZ,CAAiBiZ,IAAjB;AACD;;AAEDywC;AACD;;AAED;AACA,eAAOF,YAAYpqD,MAAZ,KAAuB,CAA9B,EAAiC;AAC/B,cAAIwqD,QAAQJ,YAAYvyB,KAAZ,EAAZ;AACA;AACA,cAAI4yB,iBAAiB,KAArB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAI,CAACA,cAAL,EAAqB;AACnB;AACA,gBAAIT,OAAOhqD,MAAP,KAAkB,CAAtB,EAAyB;AACvBgqD,qBAAOppD,IAAP,CAAY,EAAZ;AACD;;AAEDopD,mBAAO,CAAP,EAAUppD,IAAV,CAAe4pD,KAAf;AACD;AACF;;AAED;AACA,YAAIE,qBAAqB,SAASA,kBAAT,GAA8B;AACrD,eAAK,IAAInwC,MAAM,CAAf,EAAkBA,MAAMyvC,OAAOhqD,MAA/B,EAAuCua,KAAvC,EAA8C;AAC5C,gBAAIowC,QAAQX,OAAOzvC,GAAP,CAAZ;;AAEA,iBAAK,IAAIra,IAAI,CAAb,EAAgBA,IAAIyqD,MAAM3qD,MAA1B,EAAkCE,GAAlC,EAAuC;AACrC,kBAAIsa,QAAQmwC,MAAMzqD,CAAN,CAAZ;;AAEA,kBAAIsa,SAAS,IAAb,EAAmB;AACjBmwC,sBAAMjqD,MAAN,CAAaR,CAAb,EAAgB,CAAhB;AACAA;AACA;AACD;;AAEDsa,oBAAMpf,QAAN,CAAe4hB,OAAf,CAAuB4tC,YAAvB,GAAsC;AACpC9yB,uBAAOvd,GAD6B;AAEpCxR,uBAAO7I;AAF6B,eAAtC;AAID;AACF;AACF,SAnBD;AAoBAwqD;;AAEA,YAAIG,kBAAkB,SAASA,eAAT,CAAyBhxC,IAAzB,EAA+B;AACnD;AACA,cAAIb,QAAQa,KAAK4B,cAAL,CAAoB,UAAUjb,GAAV,EAAe;AAC7C,mBAAOA,IAAIyU,IAAJ,CAAS,QAAT,MAAuB4E,KAAKxI,EAAL,EAA9B;AACD,WAFW,CAAZ;AAGA,cAAIy5C,WAAWjxC,KAAKze,QAAL,CAAc4hB,OAAd,CAAsB4tC,YAArC;AACA,cAAIG,sBAAsB,CAA1B;AACA,cAAIC,eAAe,KAAK,CAAxB;AACA,eAAK,IAAIjvC,MAAM,CAAf,EAAkBA,MAAM/C,MAAMhZ,MAA9B,EAAsC+b,KAAtC,EAA6C;AAC3C,gBAAIxC,OAAOP,MAAM+C,GAAN,CAAX;AACA,gBAAI89B,YAAYtgC,KAAK/D,MAAL,GAAc,CAAd,CAAhB;AACA,gBAAIy1C,YAAYpR,UAAUz+C,QAAV,CAAmB4hB,OAAnB,CAA2B4tC,YAA3C;;AAEA,gBAAIE,SAAShzB,KAAT,IAAkBmzB,UAAUnzB,KAA5B,IAAqCizB,sBAAsBE,UAAUnzB,KAAzE,EAAgF;AAC9EizB,oCAAsBE,UAAUnzB,KAAhC;AACAkzB,6BAAenR,SAAf;AACD;AACF;;AAED,iBAAOmR,YAAP;AACD,SApBD;;AAsBA;AACA,aAAK,IAAIE,MAAM,CAAf,EAAkBA,MAAMz0C,QAAQ8yC,kBAAhC,EAAoD2B,KAApD,EAA2D;;AAEzD,cAAIC,UAAUnB,OAAOhqD,MAArB;AACA,cAAIorD,aAAa,EAAjB;AACA,eAAK,IAAIlvC,MAAM,CAAf,EAAkBA,MAAMivC,OAAxB,EAAiCjvC,KAAjC,EAAwC;AACtC,gBAAImvC,SAASrB,OAAO9tC,GAAP,CAAb;;AAEA,gBAAIovC,SAASD,OAAOrrD,MAApB;AACA,iBAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIorD,MAApB,EAA4BprD,GAA5B,EAAiC;AAC/B,kBAAI8b,QAAQqvC,OAAOnrD,CAAP,CAAZ;AACA,kBAAIqrD,OAAOvvC,MAAM5gB,QAAN,CAAe4hB,OAAf,CAAuB4tC,YAAlC;AACA,kBAAIY,SAASX,gBAAgB7uC,KAAhB,CAAb;;AAEA,kBAAIwvC,MAAJ,EAAY;AACVD,qBAAKC,MAAL,GAAcA,MAAd;AACAJ,2BAAWxqD,IAAX,CAAgBob,KAAhB;AACD;AACF;AACF;;AAED,eAAK,IAAIQ,MAAM,CAAf,EAAkBA,MAAM4uC,WAAWprD,MAAnC,EAA2Cwc,KAA3C,EAAkD;AAChD,gBAAIL,QAAQivC,WAAW5uC,GAAX,CAAZ;AACA,gBAAIivC,QAAQtvC,MAAM/gB,QAAN,CAAe4hB,OAAf,CAAuB4tC,YAAnC;AACA,gBAAIc,UAAUD,MAAMD,MAApB;AACA,gBAAIG,UAAUD,QAAQtwD,QAAR,CAAiB4hB,OAAjB,CAAyB4tC,YAAvC;;AAEAZ,mBAAOyB,MAAM3zB,KAAb,EAAoB2zB,MAAM1iD,KAA1B,IAAmC,IAAnC,CANgD,CAMP;;AAEzC;AACA,gBAAI6iD,WAAWD,QAAQ7zB,KAAR,GAAgB,CAA/B;AACA,mBAAO8zB,WAAW5B,OAAOhqD,MAAP,GAAgB,CAAlC,EAAqC;AACnCgqD,qBAAOppD,IAAP,CAAY,EAAZ;AACD;AACDopD,mBAAO4B,QAAP,EAAiBhrD,IAAjB,CAAsBub,KAAtB;;AAEAsvC,kBAAM3zB,KAAN,GAAc8zB,QAAd;AACAH,kBAAM1iD,KAAN,GAAcihD,OAAO4B,QAAP,EAAiB5rD,MAAjB,GAA0B,CAAxC;AACD;;AAED0qD;AACD;;AAED;AACA,YAAImB,cAAc,CAAlB;AACA,YAAIp1C,QAAQ6yC,YAAZ,EAA0B;AACxB,eAAK,IAAI/rC,MAAM,CAAf,EAAkBA,MAAMxE,MAAM/Y,MAA9B,EAAsCud,KAAtC,EAA6C;AAC3C,gBAAI/kB,IAAIugB,MAAMwE,GAAN,CAAR;AACA,gBAAIuuC,MAAMtzD,EAAEo6C,gBAAF,CAAmBn8B,OAAnB,CAAV;AACA,gBAAIxS,IAAI6nD,IAAI7nD,CAAZ;AACA,gBAAIC,IAAI4nD,IAAI5nD,CAAZ;;AAEA2nD,0BAAcjxD,KAAKkJ,GAAL,CAAS+nD,WAAT,EAAsB5nD,CAAtB,EAAyBC,CAAzB,CAAd;AACD;AACF;;AAED;AACA,YAAI6nD,wBAAwB,EAA5B;AACA,YAAIC,qBAAqB,SAASA,kBAAT,CAA4BxrD,GAA5B,EAAiC;AACxD,cAAIurD,sBAAsBvrD,IAAI6Q,EAAJ,EAAtB,CAAJ,EAAqC;AACnC,mBAAO06C,sBAAsBvrD,IAAI6Q,EAAJ,EAAtB,CAAP;AACD;;AAED,cAAI46C,WAAWzrD,IAAIpF,QAAJ,CAAa4hB,OAAb,CAAqB4tC,YAArB,CAAkC9yB,KAAjD;AACA,cAAI0D,YAAYh7B,IAAIi7B,YAAJ,GAAmB1iB,KAAnB,GAA2Bkf,GAA3B,CAA+B,SAA/B,EAA0C5sB,YAA1C,CAAuD0N,KAAvD,CAAhB;AACA,cAAI+lC,UAAU,CAAd;AACA,cAAIoN,UAAU,CAAd;;AAEA,eAAK,IAAIC,MAAM,CAAf,EAAkBA,MAAM3wB,UAAUx7B,MAAlC,EAA0CmsD,KAA1C,EAAiD;AAC/C,gBAAIC,WAAW5wB,UAAU2wB,GAAV,CAAf;AACA,gBAAIE,KAAKD,SAAShxD,QAAT,CAAkB4hB,OAAlB,CAA0B4tC,YAAnC;AACA,gBAAI7hD,QAAQsjD,GAAGtjD,KAAf;AACA,gBAAIujD,UAAUD,GAAGv0B,KAAjB;AACA,gBAAIy0B,UAAUvC,OAAOsC,OAAP,EAAgBtsD,MAA9B;;AAEA,gBAAIisD,WAAWK,OAAX,IAAsBL,aAAa,CAAvC,EAA0C;AACxC;AACAnN,yBAAW/1C,QAAQwjD,OAAnB;AACAL;AACD;AACF;;AAEDA,oBAAUtxD,KAAKkJ,GAAL,CAAS,CAAT,EAAYooD,OAAZ,CAAV;AACApN,oBAAUA,UAAUoN,OAApB;;AAEA,cAAIA,YAAY,CAAhB,EAAmB;AACjB;AACApN,sBAAU9jD,SAAV;AACD;;AAED+wD,gCAAsBvrD,IAAI6Q,EAAJ,EAAtB,IAAkCytC,OAAlC;AACA,iBAAOA,OAAP;AACD,SAlCD;;AAoCA;;AAEA,YAAIxM,SAAS,SAASA,MAAT,CAAgBjzC,CAAhB,EAAmBC,CAAnB,EAAsB;AACjC,cAAIktD,OAAOR,mBAAmB3sD,CAAnB,CAAX;AACA,cAAIotD,OAAOT,mBAAmB1sD,CAAnB,CAAX;;AAEA,iBAAOktD,OAAOC,IAAd;AACD,SALD;;AAOA,aAAK,IAAIC,QAAQ,CAAjB,EAAoBA,QAAQ,CAA5B,EAA+BA,OAA/B,EAAwC;AACtC;;AAEA,eAAK,IAAIC,OAAO,CAAhB,EAAmBA,OAAO3C,OAAOhqD,MAAjC,EAAyC2sD,MAAzC,EAAiD;AAC/C3C,mBAAO2C,IAAP,IAAe3C,OAAO2C,IAAP,EAAa1gC,IAAb,CAAkBqmB,MAAlB,CAAf;AACD;AACDoY,+BANsC,CAMhB;AACvB;;AAED,YAAIkC,mBAAmB,CAAvB;AACA,aAAK,IAAIC,OAAO,CAAhB,EAAmBA,OAAO7C,OAAOhqD,MAAjC,EAAyC6sD,MAAzC,EAAiD;AAC/CD,6BAAmBhyD,KAAKkJ,GAAL,CAASkmD,OAAO6C,IAAP,EAAa7sD,MAAtB,EAA8B4sD,gBAA9B,CAAnB;AACD;;AAED,YAAItZ,SAAS;AACXp0C,aAAG6E,GAAG9H,EAAH,GAAQ8H,GAAGE,CAAH,GAAO,CADP;AAEX9E,aAAG4E,GAAG9H,EAAH,GAAQ8H,GAAGG,CAAH,GAAO;AAFP,SAAb;;AAKA,YAAI4oD,cAAc,SAASA,WAAT,CAAqBtsD,GAArB,EAA0BusD,aAA1B,EAAyC;AACzD,cAAIxB,OAAO/qD,IAAIpF,QAAJ,CAAa4hB,OAAb,CAAqB4tC,YAAhC;AACA,cAAI9yB,QAAQyzB,KAAKzzB,KAAjB;AACA,cAAI/uB,QAAQwiD,KAAKxiD,KAAjB;AACA,cAAIikD,YAAYhD,OAAOlyB,KAAP,EAAc93B,MAA9B;;AAEA,cAAIitD,YAAYryD,KAAKkJ,GAAL,CAASC,GAAGE,CAAH,IAAQ+oD,YAAY,CAApB,CAAT,EAAiCnB,WAAjC,CAAhB;AACA,cAAIqB,YAAYtyD,KAAKkJ,GAAL,CAASC,GAAGG,CAAH,IAAQ8lD,OAAOhqD,MAAP,GAAgB,CAAxB,CAAT,EAAqC6rD,WAArC,CAAhB;AACA,cAAIsB,iBAAiBvyD,KAAKiJ,GAAL,CAASE,GAAGE,CAAH,GAAO,CAAP,GAAW+lD,OAAOhqD,MAA3B,EAAmC+D,GAAGG,CAAH,GAAO,CAAP,GAAW8lD,OAAOhqD,MAArD,CAArB;AACAmtD,2BAAiBvyD,KAAKkJ,GAAL,CAASqpD,cAAT,EAAyBtB,WAAzB,CAAjB;;AAEA,cAAI,CAACp1C,QAAQ4yC,MAAb,EAAqB;;AAEnB,gBAAI+D,OAAO;AACTluD,iBAAGo0C,OAAOp0C,CAAP,GAAW,CAAC6J,QAAQ,CAAR,GAAY,CAACikD,YAAY,CAAb,IAAkB,CAA/B,IAAoCC,SADzC;AAET9tD,iBAAG,CAAC24B,QAAQ,CAAT,IAAco1B;AAFR,aAAX;;AAKA,gBAAIH,aAAJ,EAAmB;AACjB,qBAAOK,IAAP;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAOA,IAAP;AACD,WA3BD,MA2BO;AACL,gBAAI32C,QAAQ4yC,MAAZ,EAAoB;AAClB,kBAAI98C,SAAS4gD,iBAAiBr1B,KAAjB,GAAyBq1B,cAAzB,IAA2CnD,OAAOhqD,MAAP,GAAgB,CAAhB,IAAqBgqD,OAAO,CAAP,EAAUhqD,MAAV,IAAoB,CAAzC,GAA6CmtD,iBAAiB,CAA9D,GAAkE,CAA7G,CAAb;AACA,kBAAInlB,QAAQ,IAAIptC,KAAKsH,EAAT,GAAc8nD,OAAOlyB,KAAP,EAAc93B,MAA5B,GAAqC+I,KAAjD;;AAEA,kBAAI+uB,UAAU,CAAV,IAAekyB,OAAO,CAAP,EAAUhqD,MAAV,KAAqB,CAAxC,EAA2C;AACzCuM,yBAAS,CAAT;AACD;;AAED,qBAAO;AACLrN,mBAAGo0C,OAAOp0C,CAAP,GAAWqN,SAAS3R,KAAK8N,GAAL,CAASs/B,KAAT,CADlB;AAEL7oC,mBAAGm0C,OAAOn0C,CAAP,GAAWoN,SAAS3R,KAAK2P,GAAL,CAASy9B,KAAT;AAFlB,eAAP;AAID,aAZD,MAYO;AACL,qBAAO;AACL9oC,mBAAGo0C,OAAOp0C,CAAP,GAAW,CAAC6J,QAAQ,CAAR,GAAY,CAACikD,YAAY,CAAb,IAAkB,CAA/B,IAAoCC,SAD7C;AAEL9tD,mBAAG,CAAC24B,QAAQ,CAAT,IAAco1B;AAFZ,eAAP;AAID;AACF;AACF,SA1DD;;AA4DA;AACA,YAAIjuD,MAAM,EAAV;AACA,aAAK,IAAIouD,OAAOrD,OAAOhqD,MAAP,GAAgB,CAAhC,EAAmCqtD,QAAQ,CAA3C,EAA8CA,MAA9C,EAAsD;AACpD,cAAIC,UAAUtD,OAAOqD,IAAP,CAAd;;AAEA,eAAK,IAAIE,KAAK,CAAd,EAAiBA,KAAKD,QAAQttD,MAA9B,EAAsCutD,IAAtC,EAA4C;AAC1C,gBAAIC,SAASF,QAAQC,EAAR,CAAb;;AAEAtuD,gBAAIuuD,OAAOn8C,EAAP,EAAJ,IAAmBy7C,YAAYU,MAAZ,EAAoBH,SAASrD,OAAOhqD,MAAP,GAAgB,CAA7C,CAAnB;AACD;AACF;;AAED+Y,cAAMg6B,eAAN,CAAsB,IAAtB,EAA4Bt8B,OAA5B,EAAqC,UAAUoD,IAAV,EAAgB;AACnD,iBAAO5a,IAAI4a,KAAKxI,EAAL,EAAJ,CAAP;AACD,SAFD;;AAIA,eAAO,IAAP,CA5Z6C,CA4ZhC;AACd,OA7ZD;;AA+ZAta,aAAOD,OAAP,GAAiB0yD,kBAAjB;;AAEA;AAAO,KAv/aG;AAw/aV;AACA,SAAO,UAASzyD,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAI4nB,WAAW;AACbg1B,aAAK,IADQ,EACF;AACX3vC,iBAAS,EAFI,EAEA;AACbxI,qBAAahB,SAHA,EAGW;AACxBsuD,sBAAc,IAJD,EAIO;AACpBzW,qCAA6B,KALhB,EAKuB;AACpCY,uBAAez4C,SANF,EAMa;AAC1BuR,gBAAQvR,SAPK,EAOM;AACnBuV,oBAAY,IAAI,CAAJ,GAAQ3V,KAAKsH,EARZ,EAQgB;AAC7BurD,eAAOzyD,SATM,EASK;AAClB0yD,mBAAW,IAVE,EAUI;AACjBzhC,cAAMjxB,SAXO,EAWI;AACjB8zB,iBAAS,KAZI,EAYG;AAChBklB,2BAAmB,GAbN,EAaW;AACxBE,yBAAiBl5C,SAdJ,EAce;AAC5B84C,uBAAe,SAASA,aAAT,CAAuBj6B,IAAvB,EAA6BpiB,CAA7B,EAAgC;AAC7C,iBAAO,IAAP;AACD,SAjBY,EAiBV;AACHirB,eAAO1nB,SAlBM,EAkBK;AAClB6zB,cAAM7zB,SAnBO,EAmBI;AACjB44C,mBAAW,SAASA,SAAT,CAAmB/5B,IAAnB,EAAyB9B,QAAzB,EAAmC;AAC5C,iBAAOA,QAAP;AACD,SAtBY,CAsBX;;AAtBW,OAAf;;AA0BA,eAAS41C,YAAT,CAAsBl3C,OAAtB,EAA+B;AAC7B,aAAKA,OAAL,GAAe9Y,KAAKgB,MAAL,CAAY,EAAZ,EAAgBwgB,QAAhB,EAA0B1I,OAA1B,CAAf;AACD;;AAEDk3C,mBAAa70D,SAAb,CAAuBwsB,GAAvB,GAA6B,YAAY;AACvC,YAAIxc,SAAS,KAAK2N,OAAlB;AACA,YAAIA,UAAU3N,MAAd;;AAEA,YAAIsN,KAAKtN,OAAOsN,EAAhB;AACA,YAAIQ,OAAOH,QAAQG,IAAnB;;AAEA,YAAI82C,YAAYj3C,QAAQm3C,gBAAR,KAA6B5yD,SAA7B,GAAyC,CAACyb,QAAQm3C,gBAAlD,GAAqEn3C,QAAQi3C,SAA7F;;AAEA,YAAI30C,QAAQnC,KAAKmC,KAAL,GAAakf,GAAb,CAAiB,SAAjB,CAAZ;;AAEA,YAAIxhB,QAAQwV,IAAZ,EAAkB;AAChBlT,kBAAQA,MAAMkT,IAAN,CAAWxV,QAAQwV,IAAnB,CAAR;AACD;;AAED,YAAIloB,KAAKrG,KAAK+B,eAAL,CAAqBgX,QAAQza,WAAR,GAAsBya,QAAQza,WAA9B,GAA4C;AACxEC,cAAI,CADoE,EACjEE,IAAI,CAD6D,EAC1D8H,GAAGmS,GAAGnR,KAAH,EADuD,EAC3Cf,GAAGkS,GAAGlR,MAAH;AADwC,SAAjE,CAAT;;AAIA,YAAIouC,SAAS;AACXp0C,aAAG6E,GAAG9H,EAAH,GAAQ8H,GAAGE,CAAH,GAAO,CADP;AAEX9E,aAAG4E,GAAG5H,EAAH,GAAQ4H,GAAGG,CAAH,GAAO;AAFP,SAAb;;AAKA,YAAIupD,QAAQh3C,QAAQg3C,KAAR,KAAkBzyD,SAAlB,GAA8B,IAAIJ,KAAKsH,EAAT,GAAc,IAAItH,KAAKsH,EAAT,GAAc6W,MAAM/Y,MAAhE,GAAyEyW,QAAQg3C,KAA7F;AACA,YAAII,SAASJ,QAAQ7yD,KAAKkJ,GAAL,CAAS,CAAT,EAAYiV,MAAM/Y,MAAN,GAAe,CAA3B,CAArB;AACA,YAAI6H,IAAI,KAAK,CAAb;;AAEA,YAAIgkD,cAAc,CAAlB;AACA,aAAK,IAAIp0D,IAAI,CAAb,EAAgBA,IAAIshB,MAAM/Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,cAAIe,IAAIugB,MAAMthB,CAAN,CAAR;AACA,cAAIq0D,MAAMtzD,EAAEo6C,gBAAF,CAAmBn8B,OAAnB,CAAV;AACA,cAAIxS,IAAI6nD,IAAI7nD,CAAZ;AACA,cAAIC,IAAI4nD,IAAI5nD,CAAZ;;AAEA2nD,wBAAcjxD,KAAKkJ,GAAL,CAAS+nD,WAAT,EAAsB5nD,CAAtB,EAAyBC,CAAzB,CAAd;AACD;;AAED,YAAIjK,GAAGQ,MAAH,CAAUgc,QAAQlK,MAAlB,CAAJ,EAA+B;AAC7B1E,cAAI4O,QAAQlK,MAAZ;AACD,SAFD,MAEO,IAAIwM,MAAM/Y,MAAN,IAAgB,CAApB,EAAuB;AAC5B6H,cAAI,CAAJ;AACD,SAFM,MAEA;AACLA,cAAIjN,KAAKiJ,GAAL,CAASE,GAAGG,CAAZ,EAAeH,GAAGE,CAAlB,IAAuB,CAAvB,GAA2B4nD,WAA/B;AACD;;AAED;AACA,YAAI9yC,MAAM/Y,MAAN,GAAe,CAAf,IAAoByW,QAAQ6yC,YAAhC,EAA8C;AAC5C;AACAuC,yBAAe,IAAf,CAF4C,CAEvB;;AAErB,cAAIiC,OAAOlzD,KAAK8N,GAAL,CAASmlD,MAAT,IAAmBjzD,KAAK8N,GAAL,CAAS,CAAT,CAA9B;AACA,cAAIqlD,OAAOnzD,KAAK2P,GAAL,CAASsjD,MAAT,IAAmBjzD,KAAK2P,GAAL,CAAS,CAAT,CAA9B;AACA,cAAIyjD,OAAOpzD,KAAK8H,IAAL,CAAUmpD,cAAcA,WAAd,IAA6BiC,OAAOA,IAAP,GAAcC,OAAOA,IAAlD,CAAV,CAAX,CAN4C,CAMmC;AAC/ElmD,cAAIjN,KAAKkJ,GAAL,CAASkqD,IAAT,EAAenmD,CAAf,CAAJ;AACD;;AAED,YAAIomD,SAAS,SAASA,MAAT,CAAgBztD,GAAhB,EAAqB/I,CAArB,EAAwB;AACnC,cAAIuwC,QAAQvxB,QAAQlG,UAAR,GAAqB9Y,IAAIo2D,MAAJ,IAAcH,YAAY,CAAZ,GAAgB,CAAC,CAA/B,CAAjC;;AAEA,cAAIQ,KAAKrmD,IAAIjN,KAAK8N,GAAL,CAASs/B,KAAT,CAAb;AACA,cAAImmB,KAAKtmD,IAAIjN,KAAK2P,GAAL,CAASy9B,KAAT,CAAb;AACA,cAAI/oC,MAAM;AACRC,eAAGo0C,OAAOp0C,CAAP,GAAWgvD,EADN;AAER/uD,eAAGm0C,OAAOn0C,CAAP,GAAWgvD;AAFN,WAAV;;AAKA,iBAAOlvD,GAAP;AACD,SAXD;;AAaA8Z,cAAMg6B,eAAN,CAAsB,IAAtB,EAA4Bt8B,OAA5B,EAAqCw3C,MAArC;;AAEA,eAAO,IAAP,CAxEuC,CAwE1B;AACd,OAzED;;AA2EAl3D,aAAOD,OAAP,GAAiB62D,YAAjB;;AAEA;AAAO,KA7mbG;AA8mbV;AACA,SAAO,UAAS52D,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;;AAEA,UAAI4nB,WAAW;AACbg1B,aAAK,IADQ,EACF;AACX3vC,iBAAS,EAFI,EAEA;AACb+L,oBAAY,IAAI,CAAJ,GAAQ3V,KAAKsH,EAHZ,EAGgB;AAC7BurD,eAAOzyD,SAJM,EAIK;AAClB0yD,mBAAW,IALE,EAKI;AACjBU,qBAAa,KANA,EAMO;AACpBC,wBAAgB,EAPH,EAOO;AACpBryD,qBAAahB,SARA,EAQW;AACxBsuD,sBAAc,IATD,EASO;AACpBzW,qCAA6B,KAVhB,EAUuB;AACpC3tC,gBAAQlK,SAXK,EAWM;AACnBiK,eAAOjK,SAZM,EAYK;AAClBy4C,uBAAez4C,SAbF,EAaa;AAC1BszD,oBAAY,SAASA,UAAT,CAAoBz0C,IAApB,EAA0B;AACpC;AACA,iBAAOA,KAAK4f,MAAL,EAAP;AACD,SAjBY;AAkBb80B,oBAAY,SAASA,UAAT,CAAoBx1C,KAApB,EAA2B;AACrC;AACA,iBAAOA,MAAMugB,SAAN,KAAoB,CAA3B;AACD,SArBY;AAsBbxK,iBAAS,KAtBI,EAsBG;AAChBklB,2BAAmB,GAvBN,EAuBW;AACxBE,yBAAiBl5C,SAxBJ,EAwBe;AAC5B84C,uBAAe,SAASA,aAAT,CAAuBj6B,IAAvB,EAA6BpiB,CAA7B,EAAgC;AAC7C,iBAAO,IAAP;AACD,SA3BY,EA2BV;AACHirB,eAAO1nB,SA5BM,EA4BK;AAClB6zB,cAAM7zB,SA7BO,EA6BI;AACjB44C,mBAAW,SAASA,SAAT,CAAmB/5B,IAAnB,EAAyB9B,QAAzB,EAAmC;AAC5C,iBAAOA,QAAP;AACD,SAhCY,CAgCX;AAhCW,OAAf;;AAmCA,eAASy2C,gBAAT,CAA0B/3C,OAA1B,EAAmC;AACjC,aAAKA,OAAL,GAAe9Y,KAAKgB,MAAL,CAAY,EAAZ,EAAgBwgB,QAAhB,EAA0B1I,OAA1B,CAAf;AACD;;AAED+3C,uBAAiB11D,SAAjB,CAA2BwsB,GAA3B,GAAiC,YAAY;AAC3C,YAAIxc,SAAS,KAAK2N,OAAlB;AACA,YAAIA,UAAU3N,MAAd;;AAEA,YAAI4kD,YAAYj3C,QAAQm3C,gBAAR,KAA6B5yD,SAA7B,GAAyC,CAACyb,QAAQm3C,gBAAlD,GAAqEn3C,QAAQi3C,SAA7F;;AAEA,YAAIt3C,KAAKtN,OAAOsN,EAAhB;;AAEA,YAAIQ,OAAOH,QAAQG,IAAnB;AACA,YAAImC,QAAQnC,KAAKmC,KAAL,GAAakf,GAAb,CAAiB,SAAjB,CAAZ;;AAEA,YAAIl0B,KAAKrG,KAAK+B,eAAL,CAAqBgX,QAAQza,WAAR,GAAsBya,QAAQza,WAA9B,GAA4C;AACxEC,cAAI,CADoE,EACjEE,IAAI,CAD6D,EAC1D8H,GAAGmS,GAAGnR,KAAH,EADuD,EAC3Cf,GAAGkS,GAAGlR,MAAH;AADwC,SAAjE,CAAT;;AAIA,YAAIouC,SAAS;AACXp0C,aAAG6E,GAAG9H,EAAH,GAAQ8H,GAAGE,CAAH,GAAO,CADP;AAEX9E,aAAG4E,GAAG5H,EAAH,GAAQ4H,GAAGG,CAAH,GAAO;AAFP,SAAb;;AAKA,YAAIuqD,aAAa,EAAjB,CApB2C,CAoBtB;AACrB,YAAIzmB,QAAQvxB,QAAQlG,UAApB;AACA,YAAIm+C,cAAc,CAAlB;;AAEA,aAAK,IAAIj3D,IAAI,CAAb,EAAgBA,IAAIshB,MAAM/Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,cAAIoiB,OAAOd,MAAMthB,CAAN,CAAX;AACA,cAAIK,QAAQ,KAAK,CAAjB;;AAEA;AACAA,kBAAQ2e,QAAQ63C,UAAR,CAAmBz0C,IAAnB,CAAR;AACA40C,qBAAW7tD,IAAX,CAAgB;AACd9I,mBAAOA,KADO;AAEd+hB,kBAAMA;AAFQ,WAAhB;;AAKA;AACAA,eAAKze,QAAL,CAAc4hB,OAAd,CAAsBsxC,UAAtB,GAAmCx2D,KAAnC;AACD;;AAED;AACAihB,cAAM8B,WAAN;;AAEA;AACA,aAAK,IAAIzL,KAAK,CAAd,EAAiBA,KAAK2J,MAAM/Y,MAA5B,EAAoCoP,IAApC,EAA0C;AACxC,cAAIo7C,QAAQzxC,MAAM3J,EAAN,CAAZ;AACA,cAAI08C,MAAMtB,MAAM5X,gBAAN,CAAuBn8B,OAAvB,CAAV;;AAEAi4C,wBAAc9zD,KAAKkJ,GAAL,CAAS4qD,WAAT,EAAsB5C,IAAI7nD,CAA1B,EAA6B6nD,IAAI5nD,CAAjC,CAAd;AACD;;AAED;AACAuqD,mBAAWxiC,IAAX,CAAgB,UAAU5sB,CAAV,EAAaC,CAAb,EAAgB;AAC9B,iBAAOA,EAAExH,KAAF,GAAUuH,EAAEvH,KAAnB;AACD,SAFD;;AAIA,YAAIy2D,aAAa93C,QAAQ83C,UAAR,CAAmBx1C,KAAnB,CAAjB;;AAEA;AACA,YAAI41C,SAAS,CAAC,EAAD,CAAb;AACA,YAAIC,eAAeD,OAAO,CAAP,CAAnB;AACA,aAAK,IAAIv+C,MAAM,CAAf,EAAkBA,MAAMq+C,WAAWzuD,MAAnC,EAA2CoQ,KAA3C,EAAkD;AAChD,cAAI/P,MAAMouD,WAAWr+C,GAAX,CAAV;;AAEA,cAAIw+C,aAAa5uD,MAAb,GAAsB,CAA1B,EAA6B;AAC3B,gBAAIu/B,OAAO3kC,KAAKoO,GAAL,CAAS4lD,aAAa,CAAb,EAAgB92D,KAAhB,GAAwBuI,IAAIvI,KAArC,CAAX;;AAEA,gBAAIynC,QAAQgvB,UAAZ,EAAwB;AACtBK,6BAAe,EAAf;AACAD,qBAAO/tD,IAAP,CAAYguD,YAAZ;AACD;AACF;;AAEDA,uBAAahuD,IAAb,CAAkBP,GAAlB;AACD;;AAED;;AAEA,YAAIwuD,UAAUH,cAAcj4C,QAAQ43C,cAApC,CA7E2C,CA6ES;;AAEpD,YAAI,CAAC53C,QAAQ6yC,YAAb,EAA2B;AACzB;AACA,cAAIwF,mBAAmBH,OAAO3uD,MAAP,GAAgB,CAAhB,IAAqB2uD,OAAO,CAAP,EAAU3uD,MAAV,GAAmB,CAA/D;AACA,cAAI+uD,OAAOn0D,KAAKiJ,GAAL,CAASE,GAAGE,CAAZ,EAAeF,GAAGG,CAAlB,IAAuB,CAAvB,GAA2B2qD,OAAtC;AACA,cAAIG,QAAQD,QAAQJ,OAAO3uD,MAAP,GAAgB8uD,gBAAhB,GAAmC,CAAnC,GAAuC,CAA/C,CAAZ;;AAEAD,oBAAUj0D,KAAKiJ,GAAL,CAASgrD,OAAT,EAAkBG,KAAlB,CAAV;AACD;;AAED;AACA,YAAInnD,IAAI,CAAR;AACA,aAAK,IAAIwI,MAAM,CAAf,EAAkBA,MAAMs+C,OAAO3uD,MAA/B,EAAuCqQ,KAAvC,EAA8C;AAC5C,cAAIo1C,QAAQkJ,OAAOt+C,GAAP,CAAZ;AACA,cAAIo9C,QAAQh3C,QAAQg3C,KAAR,KAAkBzyD,SAAlB,GAA8B,IAAIJ,KAAKsH,EAAT,GAAc,IAAItH,KAAKsH,EAAT,GAAcujD,MAAMzlD,MAAhE,GAAyEyW,QAAQg3C,KAA7F;AACA,cAAII,SAASpI,MAAMoI,MAAN,GAAeJ,QAAQ7yD,KAAKkJ,GAAL,CAAS,CAAT,EAAY2hD,MAAMzlD,MAAN,GAAe,CAA3B,CAApC;;AAEA;AACA,cAAIylD,MAAMzlD,MAAN,GAAe,CAAf,IAAoByW,QAAQ6yC,YAAhC,EAA8C;AAC5C;AACA,gBAAIwE,OAAOlzD,KAAK8N,GAAL,CAASmlD,MAAT,IAAmBjzD,KAAK8N,GAAL,CAAS,CAAT,CAA9B;AACA,gBAAIqlD,OAAOnzD,KAAK2P,GAAL,CAASsjD,MAAT,IAAmBjzD,KAAK2P,GAAL,CAAS,CAAT,CAA9B;AACA,gBAAIyjD,OAAOpzD,KAAK8H,IAAL,CAAUmsD,UAAUA,OAAV,IAAqBf,OAAOA,IAAP,GAAcC,OAAOA,IAA1C,CAAV,CAAX,CAJ4C,CAI2B;;AAEvElmD,gBAAIjN,KAAKkJ,GAAL,CAASkqD,IAAT,EAAenmD,CAAf,CAAJ;AACD;;AAED49C,gBAAM59C,CAAN,GAAUA,CAAV;;AAEAA,eAAKgnD,OAAL;AACD;;AAED,YAAIp4C,QAAQ23C,WAAZ,EAAyB;AACvB,cAAIa,YAAY,CAAhB;AACA,cAAIC,KAAK,CAAT;;AAEA,eAAK,IAAI30C,MAAM,CAAf,EAAkBA,MAAMo0C,OAAO3uD,MAA/B,EAAuCua,KAAvC,EAA8C;AAC5C,gBAAI40C,SAASR,OAAOp0C,GAAP,CAAb;AACA,gBAAI60C,SAASD,OAAOtnD,CAAP,GAAWqnD,EAAxB;;AAEAD,wBAAYr0D,KAAKkJ,GAAL,CAASmrD,SAAT,EAAoBG,MAApB,CAAZ;AACD;;AAEDF,eAAK,CAAL;AACA,eAAK,IAAInzC,MAAM,CAAf,EAAkBA,MAAM4yC,OAAO3uD,MAA/B,EAAuC+b,KAAvC,EAA8C;AAC5C,gBAAIszC,UAAUV,OAAO5yC,GAAP,CAAd;;AAEA,gBAAIA,QAAQ,CAAZ,EAAe;AACbmzC,mBAAKG,QAAQxnD,CAAb;AACD;;AAEDwnD,oBAAQxnD,CAAR,GAAYqnD,EAAZ;;AAEAA,kBAAMD,SAAN;AACD;AACF;;AAED;AACA,YAAIhwD,MAAM,EAAV,CAxI2C,CAwI7B;AACd,aAAK,IAAIid,MAAM,CAAf,EAAkBA,MAAMyyC,OAAO3uD,MAA/B,EAAuCkc,KAAvC,EAA8C;AAC5C,cAAIozC,UAAUX,OAAOzyC,GAAP,CAAd;AACA,cAAIqzC,UAAUD,QAAQzB,MAAtB;AACA,cAAI2B,MAAMF,QAAQznD,CAAlB;;AAEA,eAAK,IAAI3H,IAAI,CAAb,EAAgBA,IAAIovD,QAAQtvD,MAA5B,EAAoCE,GAApC,EAAyC;AACvC,gBAAIuvD,OAAOH,QAAQpvD,CAAR,CAAX;AACA,gBAAIwvD,SAASj5C,QAAQlG,UAAR,GAAqB,CAACm9C,YAAY,CAAZ,GAAgB,CAAC,CAAlB,IAAuB6B,OAAvB,GAAiCrvD,CAAnE;;AAEA,gBAAIlH,IAAI;AACNkG,iBAAGo0C,OAAOp0C,CAAP,GAAWswD,MAAM50D,KAAK8N,GAAL,CAASgnD,MAAT,CADd;AAENvwD,iBAAGm0C,OAAOn0C,CAAP,GAAWqwD,MAAM50D,KAAK2P,GAAL,CAASmlD,MAAT;AAFd,aAAR;;AAKAzwD,gBAAIwwD,KAAK51C,IAAL,CAAUxI,EAAV,EAAJ,IAAsBrY,CAAtB;AACD;AACF;;AAED;AACA+f,cAAMg6B,eAAN,CAAsB,IAAtB,EAA4Bt8B,OAA5B,EAAqC,UAAUjW,GAAV,EAAe;AAClD,cAAI6Q,KAAK7Q,IAAI6Q,EAAJ,EAAT;;AAEA,iBAAOpS,IAAIoS,EAAJ,CAAP;AACD,SAJD;;AAMA,eAAO,IAAP,CAlK2C,CAkK9B;AACd,OAnKD;;AAqKAta,aAAOD,OAAP,GAAiB03D,gBAAjB;;AAEA;AAAO,KAr0bG;AAs0bV;AACA,SAAO,UAASz3D,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA;;;;;;;;;;AAUA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAI8b,UAAU9b,oBAAoB,CAApB,CAAd;;AAEA,UAAIo4D,KAAJ;;AAEA;;;AAGA,UAAIxwC,WAAW;AACb;AACAuD,eAAO,SAASA,KAAT,GAAiB,CAAE,CAFb;;AAIb;AACAmM,cAAM,SAASA,IAAT,GAAgB,CAAE,CALX;;AAOb;AACA;AACA;AACA;AACAC,iBAAS,IAXI;;AAab;AACAolB,yBAAiBl5C,SAdJ;;AAgBb;AACAg5C,2BAAmBh5C,SAjBN;;AAmBb;AACA;AACA;AACA84C,uBAAe,SAASA,aAAT,CAAuBj6B,IAAvB,EAA6BpiB,CAA7B,EAAgC;AAC7C,iBAAO,IAAP;AACD,SAxBY;;AA0Bb;AACA;AACAm4D,4BAAoB,GA5BP;;AA8Bb;AACA;AACAC,iBAAS,EAhCI;;AAkCb;AACA1b,aAAK,IAnCQ;;AAqCb;AACA3vC,iBAAS,EAtCI;;AAwCb;AACAxI,qBAAahB,SAzCA;;AA2Cb;AACA63C,qCAA6B,KA5ChB;;AA8Cb;AACAid,mBAAW,KA/CE;;AAiDb;AACAC,0BAAkB,EAlDL;;AAoDb;AACAC,uBAAe,SAASA,aAAT,CAAuBn2C,IAAvB,EAA6B;AAC1C,iBAAO,IAAP;AACD,SAvDY;;AAyDb;AACAo2C,qBAAa,CA1DA;;AA4Db;AACAC,yBAAiB,SAASA,eAAT,CAAyB32C,IAAzB,EAA+B;AAC9C,iBAAO,EAAP;AACD,SA/DY;;AAiEb;AACA42C,wBAAgB,SAASA,cAAT,CAAwB52C,IAAxB,EAA8B;AAC5C,iBAAO,EAAP;AACD,SApEY;;AAsEb;AACA62C,uBAAe,GAvEF;;AAyEb;AACAC,iBAAS,CA1EI;;AA4Eb;AACApzB,iBAAS,IA7EI;;AA+Eb;AACAqzB,qBAAa,IAhFA;;AAkFb;AACAC,uBAAe,IAnFF;;AAqFb;AACAC,iBAAS,GAtFI;;AAwFb;AACAC,gBAAQ;AAzFK,OAAf;;AA4FA;;;;AAIA,eAASC,UAAT,CAAoBj6C,OAApB,EAA6B;AAC3B,aAAKA,OAAL,GAAe9Y,KAAKgB,MAAL,CAAY,EAAZ,EAAgBwgB,QAAhB,EAA0B1I,OAA1B,CAAf;;AAEA,aAAKA,OAAL,CAAa6L,MAAb,GAAsB,IAAtB;AACD;;AAED;;;AAGAouC,iBAAW53D,SAAX,CAAqBwsB,GAArB,GAA2B,YAAY;AACrC,YAAI7O,UAAU,KAAKA,OAAnB;AACA,YAAIL,KAAKK,QAAQL,EAAjB;AACA,YAAIkM,SAAS,IAAb;AACA,YAAI5mB,SAAS,KAAKA,MAAlB;AACA,YAAIi1D,SAASl6C,QAAQg6C,MAAR,GAAiBh6C,QAAQg6C,MAAR,CAAeE,MAAhC,GAAyC,IAAtD;;AAEA,YAAIC,cAAc,EAAE;AAClB7wC,qBAAW,EADK;AAEhBgB,cAAI,SAASA,EAAT,CAAYtO,CAAZ,EAAeF,EAAf,EAAmB;AACrB,iBAAKwN,SAAL,CAAenf,IAAf,CAAoB,EAAEnF,OAAOgX,CAAT,EAAYqM,UAAUvM,EAAtB,EAApB;;AAEA,mBAAO,IAAP;AACD,WANe;AAOhB+O,mBAAS,SAASA,OAAT,CAAiB7O,CAAjB,EAAoB;AAC3B,gBAAIxY,GAAGG,MAAH,CAAUqY,CAAV,CAAJ,EAAkB;AAChBA,kBAAI,EAAE8J,MAAM9J,CAAR,EAAJ;AACD;;AAED,gBAAIo+C,eAAe,SAASA,YAAT,CAAsBn5D,CAAtB,EAAyB;AAC1C,qBAAOA,EAAE+D,KAAF,KAAYgX,EAAE8J,IAArB;AACD,aAFD;AAGA,gBAAI+E,UAAU,SAASA,OAAT,CAAiB5pB,CAAjB,EAAoB;AAChCA,gBAAEonB,QAAF,CAAWrM,CAAX;AACD,aAFD;;AAIA,iBAAKsN,SAAL,CAAejM,MAAf,CAAsB+8C,YAAtB,EAAoCxvD,OAApC,CAA4CigB,OAA5C;;AAEA,mBAAO,IAAP;AACD,WAtBe;AAuBhBwvC,gBAAM,SAASA,IAAT,CAAc77C,IAAd,EAAoB;AACxB,iBAAK67C,IAAL,GAAY77C,IAAZ;;AAEA,mBAAO,IAAP;AACD,WA3Be;AA4BhBqQ,eAAK,SAASA,GAAT,CAAa/S,EAAb,EAAiB;AACpB,gBAAIu+C,OAAO,KAAKA,IAAhB;;AAEA,mBAAO,IAAIz9C,OAAJ,CAAY,UAAUX,OAAV,EAAmB;AACpCA,sBAAQH,GAAGu+C,IAAH,CAAR;AACD,aAFM,CAAP;AAGD,WAlCe;AAmChBjiC,gBAAM,SAASA,IAAT,GAAgB;AACpB,mBAAO,IAAP;AACD;AArCe,SAAlB;;AAwCA,iBAASkiC,SAAT,CAAmBC,OAAnB,EAA4B;AAC1B;AACA,cAAIv+C,IAAI,EAAE8J,MAAM,SAAR,EAAmBy0C,SAASA,OAA5B,EAAR;;AAEAJ,sBAAYtvC,OAAZ,CAAoB7O,CAApB;AACD;;AAED,YAAI,CAAC/W,MAAD,IAAWA,OAAOk2B,OAAP,EAAf,EAAiC;AAC/Bl2B,mBAAS,KAAKA,MAAL,GAAci1D,SAAS,IAAIA,MAAJ,EAAT,GAAwBC,WAA/C;AACD;;AAEDtuC,eAAOsP,OAAP,GAAiB,KAAjB;;AAEA,YAAInb,QAAQqY,OAAR,KAAoB,IAApB,IAA4BrY,QAAQqY,OAAR,KAAoB,KAApD,EAA2D;AACzDxM,iBAAOvH,IAAP,CAAY,EAAEwB,MAAM,aAAR,EAAuB+F,QAAQA,MAA/B,EAAZ;AACD;;AAED;AACA,YAAI,SAAS7L,QAAQw6C,KAArB,EAA4B;AAC1BtB,kBAAQ,IAAR;AACD,SAFD,MAEO;AACLA,kBAAQ,KAAR;AACD;;AAED;AACA,YAAIuB,aAAaC,iBAAiB/6C,EAAjB,EAAqBkM,MAArB,EAA6B7L,OAA7B,CAAjB;;AAEA;AACA,YAAIk5C,KAAJ,EAAW;AACTyB,0BAAgBF,UAAhB;AACD;;AAED;AACA,YAAIz6C,QAAQq5C,SAAZ,EAAuB;AACrBuB,6BAAmBH,UAAnB,EAA+B96C,EAA/B;AACD;;AAED,YAAI6T,YAAYf,KAAKC,GAAL,EAAhB;AACA,YAAImoC,mBAAmB,KAAvB;AACA,YAAIzB,UAAU,SAASA,OAAT,CAAiB0B,KAAjB,EAAwB;AACpCA,kBAAQA,SAAS,EAAjB;;AAEA,cAAID,oBAAoB,CAACC,MAAMv/C,IAA/B,EAAqC;AACnC;AACD;;AAED,cAAI,CAACu/C,MAAMC,KAAP,IAAgBtoC,KAAKC,GAAL,KAAac,SAAb,GAAyBxT,QAAQm5C,kBAArD,EAAyE;AACvE;AACD;;AAED0B,6BAAmB,IAAnB;;AAEA3zD,eAAK0iD,qBAAL,CAA2B,YAAY;AACrCoR,6BAAiBP,UAAjB,EAA6B96C,EAA7B,EAAiCK,OAAjC;;AAEA;AACA,gBAAI,SAASA,QAAQ09B,GAArB,EAA0B;AACxB/9B,iBAAG+9B,GAAH,CAAO19B,QAAQjS,OAAf;AACD;;AAED8sD,+BAAmB,KAAnB;;AAEA,gBAAIC,MAAMv/C,IAAV,EAAgB;AACdu/C,oBAAMv/C,IAAN;AACD;AACF,WAbD;AAcD,SA3BD;;AA6BAtW,eAAOqlB,EAAP,CAAU,SAAV,EAAqB,UAAUtO,CAAV,EAAa;AAChC,cAAIi/C,cAAcj/C,EAAEu+C,OAApB;;AAEAE,qBAAWQ,WAAX,GAAyBA,WAAzB;AACA7B;AACD,SALD;;AAOAn0D,eAAOo1D,IAAP,CAAY;AACVI,sBAAYA,UADF;AAEVz6C,mBAAS;AACPqY,qBAASrY,QAAQqY,OADV;AAEP+gC,qBAASp5C,QAAQo5C,OAFV;AAGPE,8BAAkBt5C,QAAQs5C,gBAHnB;AAIPE,yBAAax5C,QAAQw5C,WAJd;AAKPG,2BAAe35C,QAAQ25C,aALhB;AAMPC,qBAAS55C,QAAQ45C,OANV;AAOPpzB,qBAASxmB,QAAQwmB,OAPV;AAQPqzB,yBAAa75C,QAAQ65C,WARd;AASPC,2BAAe95C,QAAQ85C,aAThB;AAUPC,qBAAS/5C,QAAQ+5C;AAVV;AAFC,SAAZ,EAcGlrC,GAdH,CAcO,UAAUwrC,IAAV,EAAgB;AACrB,cAAII,aAAaJ,KAAKI,UAAtB;AACA,cAAIz6C,UAAUq6C,KAAKr6C,OAAnB;AACA,cAAImb,UAAU,KAAd;;AAEA;;;;;;AAMA,cAAIswB,OAAO,SAASA,IAAT,CAAcgP,UAAd,EAA0Bz6C,OAA1B,EAAmCk7C,KAAnC,EAA0C;AACnD;AACA;AACA;AACA;;AAEA;AACAC,gCAAoBV,UAApB,EAAgCz6C,OAAhC;AACA;AACAo7C,gCAAoBX,UAApB,EAAgCz6C,OAAhC;AACA;AACAq7C,mCAAuBZ,UAAvB,EAAmCz6C,OAAnC;AACA;AACAs7C,4BAAgBb,UAAhB,EAA4Bz6C,OAA5B;AACA;AACAu7C,4BAAgBd,UAAhB,EAA4Bz6C,OAA5B;AACD,WAhBD;;AAkBA;;;AAGA,cAAIm7C,sBAAsB,SAASA,mBAAT,CAA6BV,UAA7B,EAAyCz6C,OAAzC,EAAkD;AAC1E;AACA;AACA;AACA;AACA,iBAAK,IAAIhf,IAAI,CAAb,EAAgBA,IAAIy5D,WAAWe,QAAX,CAAoBjyD,MAAxC,EAAgDvI,GAAhD,EAAqD;AACnD,kBAAIgyD,QAAQyH,WAAWe,QAAX,CAAoBx6D,CAApB,CAAZ;AACA,kBAAIk9B,WAAW80B,MAAMzpD,MAArB;;AAEA;AACA;;AAEA;AACA;AACA,mBAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIy0B,QAApB,EAA8Bz0B,GAA9B,EAAmC;AACjC,oBAAIgyD,QAAQhB,WAAWQ,WAAX,CAAuBR,WAAWiB,SAAX,CAAqB1I,MAAMvpD,CAAN,CAArB,CAAvB,CAAZ;;AAEA,qBAAK,IAAIC,IAAID,IAAI,CAAjB,EAAoBC,IAAIw0B,QAAxB,EAAkCx0B,GAAlC,EAAuC;AACrC,sBAAIiyD,QAAQlB,WAAWQ,WAAX,CAAuBR,WAAWiB,SAAX,CAAqB1I,MAAMtpD,CAAN,CAArB,CAAvB,CAAZ;;AAEA6vD,gCAAckC,KAAd,EAAqBE,KAArB,EAA4BlB,UAA5B,EAAwCz6C,OAAxC;AACD;AACF;AACF;AACF,WAxBD;;AA0BA,cAAI47C,iBAAiB,SAASA,cAAT,CAAwBvuD,GAAxB,EAA6B;AAChD,mBAAO,CAACA,GAAD,GAAO,IAAIA,GAAJ,GAAUlJ,KAAK2E,MAAL,EAAxB;AACD,WAFD;;AAIA;;;AAGA,cAAIywD,gBAAgB,SAASA,aAAT,CAAuBkC,KAAvB,EAA8BE,KAA9B,EAAqClB,UAArC,EAAiDz6C,OAAjD,EAA0D;AAC5E;;AAEA,gBAAI67C,UAAUJ,MAAMK,MAApB;AACA,gBAAIC,UAAUJ,MAAMG,MAApB;;AAEA,gBAAID,YAAYE,OAAZ,IAAuB,CAACtB,WAAWuB,UAAvC,EAAmD;AACjD;AACD;;AAED;AACA,gBAAIC,aAAaN,MAAMO,SAAN,GAAkBT,MAAMS,SAAzC;AACA,gBAAIC,aAAaR,MAAMS,SAAN,GAAkBX,MAAMW,SAAzC;AACA,gBAAIC,cAAc,CAAlB;AACA;;AAEA;AACA,gBAAI,MAAMJ,UAAN,IAAoB,MAAME,UAA9B,EAA0C;AACxCF,2BAAaL,eAAeS,WAAf,CAAb;AACAF,2BAAaP,eAAeS,WAAf,CAAb;AACD;;AAED,gBAAIC,UAAUC,aAAad,KAAb,EAAoBE,KAApB,EAA2BM,UAA3B,EAAuCE,UAAvC,CAAd;;AAEA,gBAAIG,UAAU,CAAd,EAAiB;AACf;AACA;AACA;AACA;AACA,kBAAIvB,QAAQ/6C,QAAQw5C,WAAR,GAAsB8C,OAAlC;;AAEA;AACA,kBAAIxlD,WAAW3S,KAAK8H,IAAL,CAAUgwD,aAAaA,UAAb,GAA0BE,aAAaA,UAAjD,CAAf;AACA;AACA,kBAAIK,SAASzB,QAAQkB,UAAR,GAAqBnlD,QAAlC;AACA,kBAAI2lD,SAAS1B,QAAQoB,UAAR,GAAqBrlD,QAAlC;AACD,aAZD,MAYO;AACL;AACA;AACA;;AAEA;AACA,kBAAI4lD,SAASC,kBAAkBlB,KAAlB,EAAyBQ,UAAzB,EAAqCE,UAArC,CAAb;AACA,kBAAIS,SAASD,kBAAkBhB,KAAlB,EAAyB,CAAC,CAAD,GAAKM,UAA9B,EAA0C,CAAC,CAAD,GAAKE,UAA/C,CAAb;;AAEA;AACA,kBAAI3F,YAAYoG,OAAOn0D,CAAP,GAAWi0D,OAAOj0D,CAAlC;AACA,kBAAIguD,YAAYmG,OAAOl0D,CAAP,GAAWg0D,OAAOh0D,CAAlC;AACA,kBAAIm0D,cAAcrG,YAAYA,SAAZ,GAAwBC,YAAYA,SAAtD;AACA,kBAAI3/C,WAAW3S,KAAK8H,IAAL,CAAU4wD,WAAV,CAAf;AACA;;AAEA;AACA,kBAAI9B,QAAQ,CAACU,MAAMlC,aAAN,GAAsBoC,MAAMpC,aAA7B,IAA8CsD,WAA1D;AACA,kBAAIL,SAASzB,QAAQvE,SAAR,GAAoB1/C,QAAjC;AACA,kBAAI2lD,SAAS1B,QAAQtE,SAAR,GAAoB3/C,QAAjC;AACD;;AAED;AACA,gBAAI,CAAC2kD,MAAMqB,QAAX,EAAqB;AACnBrB,oBAAMvmD,OAAN,IAAiBsnD,MAAjB;AACAf,oBAAMtmD,OAAN,IAAiBsnD,MAAjB;AACD;;AAED,gBAAI,CAACd,MAAMmB,QAAX,EAAqB;AACnBnB,oBAAMzmD,OAAN,IAAiBsnD,MAAjB;AACAb,oBAAMxmD,OAAN,IAAiBsnD,MAAjB;AACD;;AAED;AACA;;AAEA;AACD,WAzED;;AA2EA;;;;AAIA,cAAIF,eAAe,SAASA,YAAT,CAAsBd,KAAtB,EAA6BE,KAA7B,EAAoCoB,EAApC,EAAwCC,EAAxC,EAA4C;;AAE7D,gBAAID,KAAK,CAAT,EAAY;AACV,kBAAIE,WAAWxB,MAAMliD,IAAN,GAAaoiD,MAAMtiD,IAAlC;AACD,aAFD,MAEO;AACL,kBAAI4jD,WAAWtB,MAAMpiD,IAAN,GAAakiD,MAAMpiD,IAAlC;AACD;;AAED,gBAAI2jD,KAAK,CAAT,EAAY;AACV,kBAAIE,WAAWzB,MAAMjiD,IAAN,GAAamiD,MAAMriD,IAAlC;AACD,aAFD,MAEO;AACL,kBAAI4jD,WAAWvB,MAAMniD,IAAN,GAAaiiD,MAAMniD,IAAlC;AACD;;AAED,gBAAI2jD,YAAY,CAAZ,IAAiBC,YAAY,CAAjC,EAAoC;AAClC,qBAAO/4D,KAAK8H,IAAL,CAAUgxD,WAAWA,QAAX,GAAsBC,WAAWA,QAA3C,CAAP;AACD,aAFD,MAEO;AACL,qBAAO,CAAP;AACD;AACF,WAnBD;;AAqBA;;;;AAIA,cAAIP,oBAAoB,SAASA,iBAAT,CAA2Bv5C,IAA3B,EAAiC25C,EAAjC,EAAqCC,EAArC,EAAyC;;AAE/D;AACA,gBAAIG,IAAI/5C,KAAK84C,SAAb;AACA,gBAAIkB,IAAIh6C,KAAKg5C,SAAb;AACA,gBAAIiB,IAAIj6C,KAAK3U,MAAL,IAAe,CAAvB;AACA,gBAAI6uD,IAAIl6C,KAAK5U,KAAL,IAAc,CAAtB;AACA,gBAAI+uD,WAAWP,KAAKD,EAApB;AACA,gBAAIS,YAAYH,IAAIC,CAApB;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAIv+B,MAAM,EAAV;;AAEA;AACA,gBAAI,MAAMg+B,EAAN,IAAY,IAAIC,EAApB,EAAwB;AACtBj+B,kBAAIt2B,CAAJ,GAAQ00D,CAAR;AACA;AACAp+B,kBAAIr2B,CAAJ,GAAQ00D,IAAIC,IAAI,CAAhB;;AAEA,qBAAOt+B,GAAP;AACD;;AAED;AACA,gBAAI,MAAMg+B,EAAN,IAAY,IAAIC,EAApB,EAAwB;AACtBj+B,kBAAIt2B,CAAJ,GAAQ00D,CAAR;AACAp+B,kBAAIr2B,CAAJ,GAAQ00D,IAAIC,IAAI,CAAhB;AACA;;AAEA,qBAAOt+B,GAAP;AACD;;AAED;AACA,gBAAI,IAAIg+B,EAAJ,IAAU,CAAC,CAAD,GAAKS,SAAL,IAAkBD,QAA5B,IAAwCA,YAAYC,SAAxD,EAAmE;AACjEz+B,kBAAIt2B,CAAJ,GAAQ00D,IAAIG,IAAI,CAAhB;AACAv+B,kBAAIr2B,CAAJ,GAAQ00D,IAAIE,IAAIN,EAAJ,GAAS,CAAT,GAAaD,EAAzB;AACA;;AAEA,qBAAOh+B,GAAP;AACD;;AAED;AACA,gBAAI,IAAIg+B,EAAJ,IAAU,CAAC,CAAD,GAAKS,SAAL,IAAkBD,QAA5B,IAAwCA,YAAYC,SAAxD,EAAmE;AACjEz+B,kBAAIt2B,CAAJ,GAAQ00D,IAAIG,IAAI,CAAhB;AACAv+B,kBAAIr2B,CAAJ,GAAQ00D,IAAIE,IAAIN,EAAJ,GAAS,CAAT,GAAaD,EAAzB;AACA;;AAEA,qBAAOh+B,GAAP;AACD;;AAED;AACA,gBAAI,IAAIi+B,EAAJ,KAAWO,YAAY,CAAC,CAAD,GAAKC,SAAjB,IAA8BD,YAAYC,SAArD,CAAJ,EAAqE;AACnEz+B,kBAAIt2B,CAAJ,GAAQ00D,IAAIE,IAAIN,EAAJ,GAAS,CAAT,GAAaC,EAAzB;AACAj+B,kBAAIr2B,CAAJ,GAAQ00D,IAAIC,IAAI,CAAhB;AACA;;AAEA,qBAAOt+B,GAAP;AACD;;AAED;AACA,gBAAI,IAAIi+B,EAAJ,KAAWO,YAAY,CAAC,CAAD,GAAKC,SAAjB,IAA8BD,YAAYC,SAArD,CAAJ,EAAqE;AACnEz+B,kBAAIt2B,CAAJ,GAAQ00D,IAAIE,IAAIN,EAAJ,GAAS,CAAT,GAAaC,EAAzB;AACAj+B,kBAAIr2B,CAAJ,GAAQ00D,IAAIC,IAAI,CAAhB;AACA;;AAEA,qBAAOt+B,GAAP;AACD;;AAED;AACA;AACA,mBAAOA,GAAP;AACD,WA1ED;;AA4EA;;;AAGA,cAAIq8B,sBAAsB,SAASA,mBAAT,CAA6BX,UAA7B,EAAyCz6C,OAAzC,EAAkD;AAC1E;AACA,iBAAK,IAAIhf,IAAI,CAAb,EAAgBA,IAAIy5D,WAAWgD,QAA/B,EAAyCz8D,GAAzC,EAA8C;AAC5C;AACA,kBAAI8hB,OAAO23C,WAAWiD,WAAX,CAAuB18D,CAAvB,CAAX;AACA,kBAAI28D,WAAWlD,WAAWiB,SAAX,CAAqB54C,KAAK86C,QAA1B,CAAf;AACA,kBAAI7+C,SAAS07C,WAAWQ,WAAX,CAAuB0C,QAAvB,CAAb;AACA,kBAAIE,WAAWpD,WAAWiB,SAAX,CAAqB54C,KAAKg7C,QAA1B,CAAf;AACA,kBAAI9+C,SAASy7C,WAAWQ,WAAX,CAAuB4C,QAAvB,CAAb;;AAEA;AACA,kBAAI5B,aAAaj9C,OAAOk9C,SAAP,GAAmBn9C,OAAOm9C,SAA3C;AACA,kBAAIC,aAAan9C,OAAOo9C,SAAP,GAAmBr9C,OAAOq9C,SAA3C;;AAEA;AACA;AACA,kBAAI,MAAMH,UAAN,IAAoB,MAAME,UAA9B,EAA0C;AACxC;AACD;;AAED;AACA,kBAAIO,SAASC,kBAAkB59C,MAAlB,EAA0Bk9C,UAA1B,EAAsCE,UAAtC,CAAb;AACA,kBAAIS,SAASD,kBAAkB39C,MAAlB,EAA0B,CAAC,CAAD,GAAKi9C,UAA/B,EAA2C,CAAC,CAAD,GAAKE,UAAhD,CAAb;;AAEA,kBAAI4B,KAAKnB,OAAOn0D,CAAP,GAAWi0D,OAAOj0D,CAA3B;AACA,kBAAIu1D,KAAKpB,OAAOl0D,CAAP,GAAWg0D,OAAOh0D,CAA3B;AACA,kBAAIzH,IAAIkD,KAAK8H,IAAL,CAAU8xD,KAAKA,EAAL,GAAUC,KAAKA,EAAzB,CAAR;;AAEA,kBAAIjD,QAAQ52D,KAAK6N,GAAL,CAAS8Q,KAAKm7C,WAAL,GAAmBh9D,CAA5B,EAA+B,CAA/B,IAAoC6hB,KAAKo7C,UAArD;;AAEA,kBAAI,MAAMj9D,CAAV,EAAa;AACX,oBAAIu7D,SAASzB,QAAQgD,EAAR,GAAa98D,CAA1B;AACA,oBAAIw7D,SAAS1B,QAAQiD,EAAR,GAAa/8D,CAA1B;AACD,eAHD,MAGO;AACL,oBAAIu7D,SAAS,CAAb;AACA,oBAAIC,SAAS,CAAb;AACD;;AAED;AACA,kBAAI,CAAC19C,OAAO+9C,QAAZ,EAAsB;AACpB/9C,uBAAO7J,OAAP,IAAkBsnD,MAAlB;AACAz9C,uBAAO5J,OAAP,IAAkBsnD,MAAlB;AACD;;AAED,kBAAI,CAACz9C,OAAO89C,QAAZ,EAAsB;AACpB99C,uBAAO9J,OAAP,IAAkBsnD,MAAlB;AACAx9C,uBAAO7J,OAAP,IAAkBsnD,MAAlB;AACD;;AAED;AACA;AACA;AACD;AACF,WArDD;;AAuDA;;;AAGA,cAAIpB,yBAAyB,SAASA,sBAAT,CAAgCZ,UAAhC,EAA4Cz6C,OAA5C,EAAqD;AAChF,gBAAIm+C,gBAAgB,CAApB;;AAEA;AACA;AACA,iBAAK,IAAIn9D,IAAI,CAAb,EAAgBA,IAAIy5D,WAAWe,QAAX,CAAoBjyD,MAAxC,EAAgDvI,GAAhD,EAAqD;AACnD,kBAAIgyD,QAAQyH,WAAWe,QAAX,CAAoBx6D,CAApB,CAAZ;AACA,kBAAIk9B,WAAW80B,MAAMzpD,MAArB;;AAEA;AACA;;AAEA;AACA,kBAAI,MAAMvI,CAAV,EAAa;AACX,oBAAIwS,UAAUinD,WAAWpK,YAAX,GAA0B,CAAxC;AACA,oBAAI58C,UAAUgnD,WAAWrK,WAAX,GAAyB,CAAvC;AACD,eAHD,MAGO;AACL;AACA,oBAAI1xB,OAAO+7B,WAAWQ,WAAX,CAAuBR,WAAWiB,SAAX,CAAqB1I,MAAM,CAAN,CAArB,CAAvB,CAAX;AACA,oBAAI9zC,SAASu7C,WAAWQ,WAAX,CAAuBR,WAAWiB,SAAX,CAAqBh9B,KAAKpb,QAA1B,CAAvB,CAAb;AACA,oBAAI9P,UAAU0L,OAAOg9C,SAArB;AACA,oBAAIzoD,UAAUyL,OAAOk9C,SAArB;AACD;AACD;AACA;;AAEA;AACA,mBAAK,IAAI3yD,IAAI,CAAb,EAAgBA,IAAIy0B,QAApB,EAA8Bz0B,GAA9B,EAAmC;AACjC,oBAAI2Z,OAAOq3C,WAAWQ,WAAX,CAAuBR,WAAWiB,SAAX,CAAqB1I,MAAMvpD,CAAN,CAArB,CAAvB,CAAX;AACA;;AAEA,oBAAI2Z,KAAK05C,QAAT,EAAmB;AACjB;AACD;;AAED,oBAAI3wD,KAAKqH,UAAU4P,KAAK84C,SAAxB;AACA,oBAAI9vD,KAAKqH,UAAU2P,KAAKg5C,SAAxB;AACA,oBAAI96D,IAAI6C,KAAK8H,IAAL,CAAUE,KAAKA,EAAL,GAAUC,KAAKA,EAAzB,CAAR;AACA,oBAAI9K,IAAI68D,aAAR,EAAuB;AACrB,sBAAIC,KAAKp+C,QAAQ45C,OAAR,GAAkBztD,EAAlB,GAAuB7K,CAAhC;AACA,sBAAI+8D,KAAKr+C,QAAQ45C,OAAR,GAAkBxtD,EAAlB,GAAuB9K,CAAhC;AACA8hB,uBAAKlO,OAAL,IAAgBkpD,EAAhB;AACAh7C,uBAAKjO,OAAL,IAAgBkpD,EAAhB;AACA;AACD,iBAND,MAMO,CAAE;AACP;;AAEA;AACH;AACF;AACF,WAlDD;;AAoDA;;;;;;;AAOA,cAAI/C,kBAAkB,SAASA,eAAT,CAAyBb,UAAzB,EAAqCz6C,OAArC,EAA8C;AAClE;AACA,gBAAIoN,QAAQ,EAAZ;AACA,gBAAI8K,QAAQ,CAAZ,CAHkE,CAGnD;AACf,gBAAI+D,MAAM,CAAC,CAAX,CAJkE,CAIpD;;AAEd;;AAEA;AACA7O,kBAAMjjB,IAAN,CAAWtC,KAAX,CAAiBulB,KAAjB,EAAwBqtC,WAAWe,QAAX,CAAoB,CAApB,CAAxB;AACAv/B,mBAAOw+B,WAAWe,QAAX,CAAoB,CAApB,EAAuBjyD,MAA9B;;AAEA;AACA,mBAAO2uB,SAAS+D,GAAhB,EAAqB;AACnB;AACA,kBAAI+M,SAAS5b,MAAM8K,OAAN,CAAb;AACA,kBAAIomC,YAAY7D,WAAWiB,SAAX,CAAqB1yB,MAArB,CAAhB;AACA,kBAAI5lB,OAAOq3C,WAAWQ,WAAX,CAAuBqD,SAAvB,CAAX;AACA,kBAAI36C,WAAWP,KAAKO,QAApB;;AAEA;AACA,kBAAI,IAAIA,SAASpa,MAAb,IAAuB,CAAC6Z,KAAK05C,QAAjC,EAA2C;AACzC,oBAAIyB,OAAOn7C,KAAKlO,OAAhB;AACA,oBAAIspD,OAAOp7C,KAAKjO,OAAhB;;AAEA;AACA;AACA;AACA;;AAEA,qBAAK,IAAInU,IAAI,CAAb,EAAgBA,IAAI2iB,SAASpa,MAA7B,EAAqCvI,GAArC,EAA0C;AACxC,sBAAIy9D,YAAYhE,WAAWQ,WAAX,CAAuBR,WAAWiB,SAAX,CAAqB/3C,SAAS3iB,CAAT,CAArB,CAAvB,CAAhB;AACA;AACAy9D,4BAAUvpD,OAAV,IAAqBqpD,IAArB;AACAE,4BAAUtpD,OAAV,IAAqBqpD,IAArB;AACA;AACApxC,wBAAM,EAAE6O,GAAR,IAAetY,SAAS3iB,CAAT,CAAf;AACD;;AAED;AACAoiB,qBAAKlO,OAAL,GAAe,CAAf;AACAkO,qBAAKjO,OAAL,GAAe,CAAf;AACD;AACF;AACF,WA5CD;;AA8CA;;;;AAIA,cAAIomD,kBAAkB,SAASA,eAAT,CAAyBd,UAAzB,EAAqCz6C,OAArC,EAA8C;AAClE;AACA;;AAEA;AACA,iBAAK,IAAIhf,IAAI,CAAb,EAAgBA,IAAIy5D,WAAWiE,QAA/B,EAAyC19D,GAAzC,EAA8C;AAC5C,kBAAIe,IAAI04D,WAAWQ,WAAX,CAAuBj6D,CAAvB,CAAR;AACA,kBAAI,IAAIe,EAAE4hB,QAAF,CAAWpa,MAAnB,EAA2B;AACzB;AACAxH,kBAAEwX,IAAF,GAAShV,SAAT;AACAxC,kBAAEsX,IAAF,GAAS9U,SAAT;AACAxC,kBAAEyX,IAAF,GAASjV,SAAT;AACAxC,kBAAEuX,IAAF,GAAS/U,SAAT;AACD;AACF;;AAED,iBAAK,IAAIvD,IAAI,CAAb,EAAgBA,IAAIy5D,WAAWiE,QAA/B,EAAyC19D,GAAzC,EAA8C;AAC5C,kBAAIe,IAAI04D,WAAWQ,WAAX,CAAuBj6D,CAAvB,CAAR;AACA,kBAAI,IAAIe,EAAE4hB,QAAF,CAAWpa,MAAf,IAAyBxH,EAAE+6D,QAA/B,EAAyC;AACvC;AACA;AACA;AACD;AACD;AACA;;AAEA;AACA,kBAAI6B,YAAYC,WAAW78D,EAAEmT,OAAb,EAAsBnT,EAAEoT,OAAxB,EAAiCslD,WAAWoE,WAA5C,CAAhB;AACA98D,gBAAEm6D,SAAF,IAAeyC,UAAUl2D,CAAzB;AACA1G,gBAAEq6D,SAAF,IAAeuC,UAAUj2D,CAAzB;AACA3G,gBAAEmT,OAAF,GAAY,CAAZ;AACAnT,gBAAEoT,OAAF,GAAY,CAAZ;AACApT,gBAAEsX,IAAF,GAAStX,EAAEm6D,SAAF,GAAcn6D,EAAEyM,KAAzB;AACAzM,gBAAEwX,IAAF,GAASxX,EAAEm6D,SAAF,GAAcn6D,EAAEyM,KAAzB;AACAzM,gBAAEuX,IAAF,GAASvX,EAAEq6D,SAAF,GAAcr6D,EAAE0M,MAAzB;AACA1M,gBAAEyX,IAAF,GAASzX,EAAEq6D,SAAF,GAAcr6D,EAAE0M,MAAzB;AACA;AACA;;AAEA;AACAqwD,uCAAyB/8D,CAAzB,EAA4B04D,UAA5B;AACD;;AAED;AACA,iBAAK,IAAIz5D,IAAI,CAAb,EAAgBA,IAAIy5D,WAAWiE,QAA/B,EAAyC19D,GAAzC,EAA8C;AAC5C,kBAAIe,IAAI04D,WAAWQ,WAAX,CAAuBj6D,CAAvB,CAAR;AACA,kBAAI,IAAIe,EAAE4hB,QAAF,CAAWpa,MAAf,IAAyB,CAACxH,EAAE+6D,QAAhC,EAA0C;AACxC/6D,kBAAEm6D,SAAF,GAAc,CAACn6D,EAAEwX,IAAF,GAASxX,EAAEsX,IAAZ,IAAoB,CAAlC;AACAtX,kBAAEq6D,SAAF,GAAc,CAACr6D,EAAEyX,IAAF,GAASzX,EAAEuX,IAAZ,IAAoB,CAAlC;AACAvX,kBAAEyM,KAAF,GAAUzM,EAAEwX,IAAF,GAASxX,EAAEsX,IAArB;AACAtX,kBAAE0M,MAAF,GAAW1M,EAAEyX,IAAF,GAASzX,EAAEuX,IAAtB;AACA;AACA;AACA;AACA;AACD;AACF;AACF,WAzDD;;AA2DA;;;;;AAKA,cAAIslD,aAAa,SAASA,UAAT,CAAoBpC,MAApB,EAA4BC,MAA5B,EAAoCpvD,GAApC,EAAyC;AACxD;AACA,gBAAI0tD,QAAQ52D,KAAK8H,IAAL,CAAUuwD,SAASA,MAAT,GAAkBC,SAASA,MAArC,CAAZ;;AAEA,gBAAI1B,QAAQ1tD,GAAZ,EAAiB;AACf,kBAAI0xB,MAAM;AACRt2B,mBAAG4E,MAAMmvD,MAAN,GAAezB,KADV;AAERryD,mBAAG2E,MAAMovD,MAAN,GAAe1B;AAFV,eAAV;AAID,aALD,MAKO;AACL,kBAAIh8B,MAAM;AACRt2B,mBAAG+zD,MADK;AAER9zD,mBAAG+zD;AAFK,eAAV;AAID;;AAED;AACA;;AAEA,mBAAO19B,GAAP;AACD,WApBD;;AAsBA;;;;AAIA,cAAI+/B,2BAA2B,SAASA,wBAAT,CAAkC17C,IAAlC,EAAwCq3C,UAAxC,EAAoD;AACjF;AACA,gBAAIn3C,WAAWF,KAAKE,QAApB;AACA,gBAAI,QAAQA,QAAZ,EAAsB;AACpB;AACA;AACA;AACA;AACD;;AAED;AACA,gBAAI/gB,IAAIk4D,WAAWQ,WAAX,CAAuBR,WAAWiB,SAAX,CAAqBp4C,QAArB,CAAvB,CAAR;AACA,gBAAIib,OAAO,KAAX;;AAEA;AACA,gBAAI,QAAQh8B,EAAEgX,IAAV,IAAkB6J,KAAK7J,IAAL,GAAYhX,EAAEw8D,QAAd,GAAyBx8D,EAAEgX,IAAjD,EAAuD;AACrDhX,gBAAEgX,IAAF,GAAS6J,KAAK7J,IAAL,GAAYhX,EAAEw8D,QAAvB;AACAxgC,qBAAO,IAAP;AACA;AACD;;AAED;AACA,gBAAI,QAAQh8B,EAAE8W,IAAV,IAAkB+J,KAAK/J,IAAL,GAAY9W,EAAEy8D,OAAd,GAAwBz8D,EAAE8W,IAAhD,EAAsD;AACpD9W,gBAAE8W,IAAF,GAAS+J,KAAK/J,IAAL,GAAY9W,EAAEy8D,OAAvB;AACAzgC,qBAAO,IAAP;AACA;AACD;;AAED;AACA,gBAAI,QAAQh8B,EAAEiX,IAAV,IAAkB4J,KAAK5J,IAAL,GAAYjX,EAAE08D,SAAd,GAA0B18D,EAAEiX,IAAlD,EAAwD;AACtDjX,gBAAEiX,IAAF,GAAS4J,KAAK5J,IAAL,GAAYjX,EAAE08D,SAAvB;AACA1gC,qBAAO,IAAP;AACA;AACD;;AAED;AACA,gBAAI,QAAQh8B,EAAE+W,IAAV,IAAkB8J,KAAK9J,IAAL,GAAY/W,EAAE28D,MAAd,GAAuB38D,EAAE+W,IAA/C,EAAqD;AACnD/W,gBAAE+W,IAAF,GAAS8J,KAAK9J,IAAL,GAAY/W,EAAE28D,MAAvB;AACA3gC,qBAAO,IAAP;AACA;AACD;;AAED;AACA,gBAAIA,IAAJ,EAAU;AACR;AACA,qBAAOugC,yBAAyBv8D,CAAzB,EAA4Bk4D,UAA5B,CAAP;AACD;;AAED;AACA;AACA;AACD,WAnDD;;AAqDA,cAAI0E,qBAAqB,SAASA,kBAAT,CAA4BC,SAA5B,EAAuCp/C,OAAvC,EAAgD;AACvE,gBAAIsC,QAAQm4C,WAAWQ,WAAvB;AACA,gBAAI3V,aAAa,EAAjB;;AAEA,iBAAK,IAAItkD,IAAI,CAAb,EAAgBA,IAAIshB,MAAM/Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,kBAAIoiB,OAAOd,MAAMthB,CAAN,CAAX;AACA,kBAAIq+D,MAAMj8C,KAAK04C,MAAf;AACA,kBAAIpW,YAAYJ,WAAW+Z,GAAX,IAAkB/Z,WAAW+Z,GAAX,KAAmB,EAArD;;AAEA3Z,wBAAUv7C,IAAV,CAAeiZ,IAAf;AACD;;AAED,gBAAIk8C,SAAS,CAAb;;AAEA,iBAAK,IAAIt+D,IAAI,CAAb,EAAgBA,IAAIskD,WAAW/7C,MAA/B,EAAuCvI,GAAvC,EAA4C;AAC1C,kBAAII,IAAIkkD,WAAWtkD,CAAX,CAAR;;AAEA,kBAAI,CAACI,CAAL,EAAQ;AACN;AACD;;AAEDA,gBAAEoE,EAAF,GAAO+H,QAAP;AACAnM,gBAAEqE,EAAF,GAAO,CAAC8H,QAAR;AACAnM,gBAAEsE,EAAF,GAAO6H,QAAP;AACAnM,gBAAEuE,EAAF,GAAO,CAAC4H,QAAR;;AAEA,mBAAK,IAAI9D,IAAI,CAAb,EAAgBA,IAAIrI,EAAEmI,MAAtB,EAA8BE,GAA9B,EAAmC;AACjC,oBAAI1H,IAAIX,EAAEqI,CAAF,CAAR;;AAEArI,kBAAEoE,EAAF,GAAOrB,KAAKiJ,GAAL,CAAShM,EAAEoE,EAAX,EAAezD,EAAEm6D,SAAF,GAAcn6D,EAAEyM,KAAF,GAAU,CAAvC,CAAP;AACApN,kBAAEqE,EAAF,GAAOtB,KAAKkJ,GAAL,CAASjM,EAAEqE,EAAX,EAAe1D,EAAEm6D,SAAF,GAAcn6D,EAAEyM,KAAF,GAAU,CAAvC,CAAP;AACApN,kBAAEsE,EAAF,GAAOvB,KAAKiJ,GAAL,CAAShM,EAAEsE,EAAX,EAAe3D,EAAEq6D,SAAF,GAAcr6D,EAAE0M,MAAF,GAAW,CAAxC,CAAP;AACArN,kBAAEuE,EAAF,GAAOxB,KAAKkJ,GAAL,CAASjM,EAAEuE,EAAX,EAAe5D,EAAEq6D,SAAF,GAAcr6D,EAAE0M,MAAF,GAAW,CAAxC,CAAP;AACD;;AAEDrN,gBAAEoM,CAAF,GAAMpM,EAAEqE,EAAF,GAAOrE,EAAEoE,EAAf;AACApE,gBAAEqM,CAAF,GAAMrM,EAAEuE,EAAF,GAAOvE,EAAEsE,EAAf;;AAEA45D,wBAAUl+D,EAAEoM,CAAF,GAAMpM,EAAEqM,CAAlB;AACD;;AAED63C,uBAAW9vB,IAAX,CAAgB,UAAU+pC,EAAV,EAAcC,EAAd,EAAkB;AAChC,qBAAOA,GAAGhyD,CAAH,GAAOgyD,GAAG/xD,CAAV,GAAc8xD,GAAG/xD,CAAH,GAAO+xD,GAAG9xD,CAA/B;AACD,aAFD;;AAIA,gBAAIhF,IAAI,CAAR;AACA,gBAAIC,IAAI,CAAR;AACA,gBAAI+2D,QAAQ,CAAZ;AACA,gBAAIC,OAAO,CAAX;AACA,gBAAIC,UAAUx7D,KAAK8H,IAAL,CAAUqzD,MAAV,IAAoB7E,WAAWrK,WAA/B,GAA6CqK,WAAWpK,YAAtE;;AAEA,iBAAK,IAAIrvD,IAAI,CAAb,EAAgBA,IAAIskD,WAAW/7C,MAA/B,EAAuCvI,GAAvC,EAA4C;AAC1C,kBAAII,IAAIkkD,WAAWtkD,CAAX,CAAR;;AAEA,kBAAI,CAACI,CAAL,EAAQ;AACN;AACD;;AAED,mBAAK,IAAIqI,IAAI,CAAb,EAAgBA,IAAIrI,EAAEmI,MAAtB,EAA8BE,GAA9B,EAAmC;AACjC,oBAAI1H,IAAIX,EAAEqI,CAAF,CAAR;;AAEA,oBAAI,CAAC1H,EAAE+6D,QAAP,EAAiB;AACf/6D,oBAAEm6D,SAAF,IAAezzD,CAAf;AACA1G,oBAAEq6D,SAAF,IAAe1zD,CAAf;AACD;AACF;;AAEDD,mBAAKrH,EAAEoM,CAAF,GAAMwS,QAAQs5C,gBAAnB;AACAmG,uBAASr+D,EAAEoM,CAAF,GAAMwS,QAAQs5C,gBAAvB;AACAoG,qBAAOv7D,KAAKkJ,GAAL,CAASqyD,IAAT,EAAet+D,EAAEqM,CAAjB,CAAP;;AAEA,kBAAIgyD,QAAQE,OAAZ,EAAqB;AACnBj3D,qBAAKg3D,OAAO1/C,QAAQs5C,gBAApB;AACA7wD,oBAAI,CAAJ;AACAg3D,wBAAQ,CAAR;AACAC,uBAAO,CAAP;AACD;AACF;AACF,WA9ED;;AAgFA,cAAIE,WAAW,SAASA,QAAT,CAAkB5+D,CAAlB,EAAqB;AAClC,gBAAIm6B,OAAJ,EAAa;AACX;AACA,qBAAO,KAAP;AACD;;AAED;AACAswB,iBAAKgP,UAAL,EAAiBz6C,OAAjB,EAA0Bhf,CAA1B;;AAEA;AACAy5D,uBAAWoE,WAAX,GAAyBpE,WAAWoE,WAAX,GAAyB7+C,QAAQ85C,aAA1D;AACA;;AAEA,gBAAIW,WAAWoE,WAAX,GAAyB7+C,QAAQ+5C,OAArC,EAA8C;AAC5C;AACA,qBAAO,KAAP;AACD;;AAED,mBAAO,IAAP;AACD,WAnBD;;AAqBA,cAAI/4D,IAAI,CAAR;AACA,cAAI6+D,OAAJ;;AAEA,aAAG;AACD,gBAAI9pD,IAAI,CAAR;;AAEA,mBAAOA,IAAIiK,QAAQo5C,OAAZ,IAAuBp4D,IAAIgf,QAAQwmB,OAA1C,EAAmD;AACjD,kBAAIq5B,UAAUD,SAAS5+D,CAAT,CAAd;AACA,kBAAI,CAAC6+D,OAAL,EAAc;AACZ;AACD;;AAED9pD;AACA/U;AACD;;AAED,gBAAIgf,QAAQqY,OAAR,KAAoB,IAAxB,EAA8B;AAC5BiiC,wBAAUG,WAAWQ,WAArB,EAD4B,CACO;AACpC;AACF,WAhBD,QAgBS4E,WAAW7+D,IAAI,CAAJ,GAAQgf,QAAQwmB,OAhBpC;;AAkBA24B,6BAAmB1E,UAAnB,EAA+Bz6C,OAA/B;;AAEA,iBAAOy6C,UAAP;AACD,SAzrBD,EAyrBG50D,IAzrBH,CAyrBQ,UAAUi6D,iBAAV,EAA6B;AACnCrF,qBAAWQ,WAAX,GAAyB6E,kBAAkB7E,WAA3C,CADmC,CACqB;;AAExDh2D,iBAAOmzB,IAAP;AACAjJ;AACD,SA9rBD;;AAgsBA,YAAIA,OAAO,SAASA,IAAT,GAAgB;AACzB,cAAInP,QAAQqY,OAAR,KAAoB,IAApB,IAA4BrY,QAAQqY,OAAR,KAAoB,KAApD,EAA2D;AACzD+gC,oBAAQ;AACN2B,qBAAO,IADD;AAENx/C,oBAAM,SAASA,IAAT,GAAgB;AACpB;AACAsQ,uBAAOrB,GAAP,CAAW,YAAX,EAAyBxK,QAAQoY,IAAjC;AACAvM,uBAAOvH,IAAP,CAAY,EAAEwB,MAAM,YAAR,EAAsB+F,QAAQA,MAA9B,EAAZ;AACD;AANK,aAAR;AAQD,WATD,MASO;AACL7L,oBAAQG,IAAR,CAAamC,KAAb,GAAqBg6B,eAArB,CAAqCzwB,MAArC,EAA6C7L,OAA7C,EAAsD,UAAUoD,IAAV,EAAgB;AACpE,kBAAI28C,QAAQtF,WAAWQ,WAAX,CAAuBR,WAAWiB,SAAX,CAAqBt4C,KAAK5E,IAAL,CAAU,IAAV,CAArB,CAAvB,CAAZ;;AAEA,qBAAO,EAAE/V,GAAGs3D,MAAM7D,SAAX,EAAsBxzD,GAAGq3D,MAAM3D,SAA/B,EAAP;AACD,aAJD;AAKD;AACF,SAjBD;;AAmBA,eAAO,IAAP,CA70BqC,CA60BxB;AACd,OA90BD;;AAg1BA;;;AAGAnC,iBAAW53D,SAAX,CAAqB+1B,IAArB,GAA4B,YAAY;AACtC,aAAK+C,OAAL,GAAe,IAAf;;AAEA,YAAI,KAAKl2B,MAAT,EAAiB;AACf,eAAKA,MAAL,CAAYmzB,IAAZ;AACD;;AAED,aAAK9T,IAAL,CAAU,YAAV;;AAEA,eAAO,IAAP,CATsC,CASzB;AACd,OAVD;;AAYA21C,iBAAW53D,SAAX,CAAqBopB,OAArB,GAA+B,YAAY;AACzC,YAAI,KAAKxmB,MAAT,EAAiB;AACf,eAAKA,MAAL,CAAYmzB,IAAZ;AACD;;AAED,eAAO,IAAP,CALyC,CAK5B;AACd,OAND;;AAQA;;;;;;AAMA,UAAIsiC,mBAAmB,SAASA,gBAAT,CAA0B/6C,EAA1B,EAA8BkM,MAA9B,EAAsC7L,OAAtC,EAA+C;AACpE;AACA,YAAIuC,QAAQvC,QAAQG,IAAR,CAAaoC,KAAb,EAAZ;AACA,YAAID,QAAQtC,QAAQG,IAAR,CAAamC,KAAb,EAAZ;;AAEA,YAAIm4C,aAAa;AACfuB,sBAAYr8C,GAAGiE,gBAAH,EADG;AAEfq3C,uBAAa,EAFE;AAGfS,qBAAW,EAHI;AAIfgD,oBAAUp8C,MAAM5E,IAAN,EAJK;AAKf89C,oBAAU,EALK;AAMfwE,wBAAc,EANC;AAOftC,uBAAa,EAPE;AAQfD,oBAAUl7C,MAAM7E,IAAN,EARK;AASfmhD,uBAAa7+C,QAAQ65C,WATN;AAUfzJ,uBAAazwC,GAAGnR,KAAH,EAVE;AAWf6hD,wBAAc1wC,GAAGnR,KAAH,EAXC;AAYfjJ,uBAAa0B,KAAK+B,eAAL,CAAqBgX,QAAQza,WAAR,GAAsBya,QAAQza,WAA9B,GAA4C;AAC5EC,gBAAI,CADwE,EACrEE,IAAI,CADiE,EAC9D8H,GAAGmS,GAAGnR,KAAH,EAD2D,EAC/Cf,GAAGkS,GAAGlR,MAAH;AAD4C,WAAjE;AAZE,SAAjB;;AAiBA,YAAI62C,aAAatlC,QAAQG,IAAR,CAAamlC,UAAb,EAAjB;AACA,YAAI2a,YAAY,EAAhB;;AAEA,aAAK,IAAIj/D,IAAI,CAAb,EAAgBA,IAAIskD,WAAW/7C,MAA/B,EAAuCvI,GAAvC,EAA4C;AAC1C,cAAI0kD,YAAYJ,WAAWtkD,CAAX,CAAhB;;AAEA,eAAK,IAAIyI,IAAI,CAAb,EAAgBA,IAAIi8C,UAAUn8C,MAA9B,EAAsCE,GAAtC,EAA2C;AACzC,gBAAI2Z,OAAOsiC,UAAUj8C,CAAV,CAAX;;AAEAw2D,sBAAU78C,KAAKxI,EAAL,EAAV,IAAuB5Z,CAAvB;AACD;AACF;;AAED;AACA,aAAK,IAAIA,IAAI,CAAb,EAAgBA,IAAIy5D,WAAWiE,QAA/B,EAAyC19D,GAAzC,EAA8C;AAC5C,cAAIe,IAAIugB,MAAMthB,CAAN,CAAR;AACA,cAAIq0D,MAAMtzD,EAAEo6C,gBAAF,CAAmBn8B,OAAnB,CAAV;;AAEA,cAAIkgD,WAAW,EAAf;AACAA,mBAASpD,QAAT,GAAoB/6D,EAAEggB,MAAF,EAApB;AACAm+C,mBAAStlD,EAAT,GAAc7Y,EAAEyc,IAAF,CAAO,IAAP,CAAd;AACA0hD,mBAAS58C,QAAT,GAAoBvhB,EAAEyc,IAAF,CAAO,QAAP,CAApB;AACA0hD,mBAASpE,MAAT,GAAkBmE,UAAUl+D,EAAE6Y,EAAF,EAAV,CAAlB;AACAslD,mBAASv8C,QAAT,GAAoB,EAApB;AACAu8C,mBAAShE,SAAT,GAAqBn6D,EAAEuf,QAAF,CAAW,GAAX,CAArB;AACA4+C,mBAAS9D,SAAT,GAAqBr6D,EAAEuf,QAAF,CAAW,GAAX,CAArB;AACA4+C,mBAAShrD,OAAT,GAAmB,CAAnB;AACAgrD,mBAAS/qD,OAAT,GAAmB,CAAnB;AACA+qD,mBAASzxD,MAAT,GAAkB4mD,IAAI7nD,CAAtB;AACA0yD,mBAAS1xD,KAAT,GAAiB6mD,IAAI5nD,CAArB;AACAyyD,mBAAS3mD,IAAT,GAAgB2mD,SAAShE,SAAT,GAAqBgE,SAAS1xD,KAAT,GAAiB,CAAtD;AACA0xD,mBAAS7mD,IAAT,GAAgB6mD,SAAShE,SAAT,GAAqBgE,SAAS1xD,KAAT,GAAiB,CAAtD;AACA0xD,mBAAS1mD,IAAT,GAAgB0mD,SAAS9D,SAAT,GAAqB8D,SAASzxD,MAAT,GAAkB,CAAvD;AACAyxD,mBAAS5mD,IAAT,GAAgB4mD,SAAS9D,SAAT,GAAqB8D,SAASzxD,MAAT,GAAkB,CAAvD;AACAyxD,mBAASlB,OAAT,GAAmBjU,WAAWhpD,EAAE+C,KAAF,CAAQ,SAAR,CAAX,CAAnB;AACAo7D,mBAASnB,QAAT,GAAoBhU,WAAWhpD,EAAE+C,KAAF,CAAQ,SAAR,CAAX,CAApB;AACAo7D,mBAAShB,MAAT,GAAkBnU,WAAWhpD,EAAE+C,KAAF,CAAQ,SAAR,CAAX,CAAlB;AACAo7D,mBAASjB,SAAT,GAAqBlU,WAAWhpD,EAAE+C,KAAF,CAAQ,SAAR,CAAX,CAArB;;AAEA;AACAo7D,mBAAS3G,aAAT,GAAyB/1D,GAAGC,EAAH,CAAMuc,QAAQu5C,aAAd,IAA+Bv5C,QAAQu5C,aAAR,CAAsBx3D,CAAtB,CAA/B,GAA0Die,QAAQu5C,aAA3F;;AAEA;AACAkB,qBAAWQ,WAAX,CAAuB9wD,IAAvB,CAA4B+1D,QAA5B;AACA;AACAzF,qBAAWiB,SAAX,CAAqBwE,SAAStlD,EAA9B,IAAoC5Z,CAApC;AACD;;AAED;AACA,YAAIosB,QAAQ,EAAZ;AACA,YAAI8K,QAAQ,CAAZ,CAxEoE,CAwErD;AACf,YAAI+D,MAAM,CAAC,CAAX,CAzEoE,CAyEtD;;AAEd,YAAIkkC,YAAY,EAAhB;;AAEA;AACA;AACA,aAAK,IAAIn/D,IAAI,CAAb,EAAgBA,IAAIy5D,WAAWiE,QAA/B,EAAyC19D,GAAzC,EAA8C;AAC5C,cAAIe,IAAI04D,WAAWQ,WAAX,CAAuBj6D,CAAvB,CAAR;AACA,cAAIo/D,OAAOr+D,EAAEuhB,QAAb;AACA;AACA,cAAI,QAAQ88C,IAAZ,EAAkB;AAChB;AACA3F,uBAAWQ,WAAX,CAAuBR,WAAWiB,SAAX,CAAqB0E,IAArB,CAAvB,EAAmDz8C,QAAnD,CAA4DxZ,IAA5D,CAAiEpI,EAAE6Y,EAAnE;AACD,WAHD,MAGO;AACL;AACAwS,kBAAM,EAAE6O,GAAR,IAAel6B,EAAE6Y,EAAjB;AACAulD,sBAAUh2D,IAAV,CAAepI,EAAE6Y,EAAjB;AACD;AACF;;AAED;AACA6/C,mBAAWe,QAAX,CAAoBrxD,IAApB,CAAyBg2D,SAAzB;;AAEA;AACA,eAAOjoC,SAAS+D,GAAhB,EAAqB;AACnB;AACA,cAAIokC,UAAUjzC,MAAM8K,OAAN,CAAd;AACA,cAAIooC,UAAU7F,WAAWiB,SAAX,CAAqB2E,OAArB,CAAd;AACA,cAAIj9C,OAAOq3C,WAAWQ,WAAX,CAAuBqF,OAAvB,CAAX;AACA,cAAI38C,WAAWP,KAAKO,QAApB;AACA,cAAIA,SAASpa,MAAT,GAAkB,CAAtB,EAAyB;AACvB;AACAkxD,uBAAWe,QAAX,CAAoBrxD,IAApB,CAAyBwZ,QAAzB;AACA;AACA,iBAAK,IAAI3iB,IAAI,CAAb,EAAgBA,IAAI2iB,SAASpa,MAA7B,EAAqCvI,GAArC,EAA0C;AACxCosB,oBAAM,EAAE6O,GAAR,IAAetY,SAAS3iB,CAAT,CAAf;AACD;AACF;AACF;;AAED;AACA,aAAK,IAAIA,IAAI,CAAb,EAAgBA,IAAIy5D,WAAWe,QAAX,CAAoBjyD,MAAxC,EAAgDvI,GAAhD,EAAqD;AACnD,cAAIgyD,QAAQyH,WAAWe,QAAX,CAAoBx6D,CAApB,CAAZ;AACA,eAAK,IAAIyI,IAAI,CAAb,EAAgBA,IAAIupD,MAAMzpD,MAA1B,EAAkCE,GAAlC,EAAuC;AACrC,gBAAI6I,QAAQmoD,WAAWiB,SAAX,CAAqB1I,MAAMvpD,CAAN,CAArB,CAAZ;AACAgxD,uBAAWuF,YAAX,CAAwB1tD,KAAxB,IAAiCtR,CAAjC;AACD;AACF;;AAED;AACA,aAAK,IAAIA,IAAI,CAAb,EAAgBA,IAAIy5D,WAAWgD,QAA/B,EAAyCz8D,GAAzC,EAA8C;AAC5C,cAAIgb,IAAIuG,MAAMvhB,CAAN,CAAR;AACA,cAAIu/D,WAAW,EAAf;AACAA,mBAAS3lD,EAAT,GAAcoB,EAAEwC,IAAF,CAAO,IAAP,CAAd;AACA+hD,mBAAS3C,QAAT,GAAoB5hD,EAAEwC,IAAF,CAAO,QAAP,CAApB;AACA+hD,mBAASzC,QAAT,GAAoB9hD,EAAEwC,IAAF,CAAO,QAAP,CAApB;;AAEA;AACA,cAAIy/C,cAAcz6D,GAAGC,EAAH,CAAMuc,QAAQy5C,eAAd,IAAiCz5C,QAAQy5C,eAAR,CAAwBz9C,CAAxB,CAAjC,GAA8DgE,QAAQy5C,eAAxF;AACA,cAAIyE,aAAa16D,GAAGC,EAAH,CAAMuc,QAAQ05C,cAAd,IAAgC15C,QAAQ05C,cAAR,CAAuB19C,CAAvB,CAAhC,GAA4DgE,QAAQ05C,cAArF;;AAEA;AACA,cAAIiE,WAAWlD,WAAWiB,SAAX,CAAqB6E,SAAS3C,QAA9B,CAAf;AACA,cAAIC,WAAWpD,WAAWiB,SAAX,CAAqB6E,SAASzC,QAA9B,CAAf;AACA,cAAI0C,cAAc/F,WAAWuF,YAAX,CAAwBrC,QAAxB,CAAlB;AACA,cAAI8C,cAAchG,WAAWuF,YAAX,CAAwBnC,QAAxB,CAAlB;;AAEA,cAAI2C,eAAeC,WAAnB,EAAgC;AAC9B;AACA,gBAAIC,MAAMC,QAAQJ,SAAS3C,QAAjB,EAA2B2C,SAASzC,QAApC,EAA8CrD,UAA9C,CAAV;;AAEA;AACA,gBAAImG,WAAWnG,WAAWe,QAAX,CAAoBkF,GAApB,CAAf;AACA,gBAAIr/B,QAAQ,CAAZ;;AAEA;AACA,gBAAI6+B,WAAWzF,WAAWQ,WAAX,CAAuB0C,QAAvB,CAAf;AACA,mBAAO,CAAC,CAAD,KAAOiD,SAAS5iC,OAAT,CAAiBkiC,SAAStlD,EAA1B,CAAd,EAA6C;AAC3CslD,yBAAWzF,WAAWQ,WAAX,CAAuBR,WAAWiB,SAAX,CAAqBwE,SAAS58C,QAA9B,CAAvB,CAAX;AACA+d;AACD;;AAED;AACA6+B,uBAAWzF,WAAWQ,WAAX,CAAuB4C,QAAvB,CAAX;AACA,mBAAO,CAAC,CAAD,KAAO+C,SAAS5iC,OAAT,CAAiBkiC,SAAStlD,EAA1B,CAAd,EAA6C;AAC3CslD,yBAAWzF,WAAWQ,WAAX,CAAuBR,WAAWiB,SAAX,CAAqBwE,SAAS58C,QAA9B,CAAvB,CAAX;AACA+d;AACD;;AAED;AACA;AACA;;AAEA;AACA48B,2BAAe58B,QAAQrhB,QAAQ25C,aAA/B;AACD;;AAED4G,mBAAStC,WAAT,GAAuBA,WAAvB;AACAsC,mBAASrC,UAAT,GAAsBA,UAAtB;;AAEAzD,qBAAWiD,WAAX,CAAuBvzD,IAAvB,CAA4Bo2D,QAA5B;AACD;;AAED;AACA,eAAO9F,UAAP;AACD,OAlLD;;AAoLA;;;;;;;;;;;AAWA,UAAIkG,UAAU,SAASA,OAAT,CAAiBlF,KAAjB,EAAwBE,KAAxB,EAA+BlB,UAA/B,EAA2C;AACvD;AACA,YAAI17B,MAAM8hC,YAAYpF,KAAZ,EAAmBE,KAAnB,EAA0B,CAA1B,EAA6BlB,UAA7B,CAAV;AACA,YAAI,IAAI17B,IAAI+hC,KAAZ,EAAmB;AACjB;AACA;AACA,iBAAO,CAAP;AACD,SAJD,MAIO;AACL,iBAAO/hC,IAAIi0B,KAAX;AACD;AACF,OAVD;;AAYA;;;;;;;;;;;;;;AAcA,UAAI6N,cAAc,SAASA,WAAT,CAAqBpF,KAArB,EAA4BE,KAA5B,EAAmCoF,OAAnC,EAA4CtG,UAA5C,EAAwD;AACxE,YAAIzH,QAAQyH,WAAWe,QAAX,CAAoBuF,OAApB,CAAZ;AACA;AACA,YAAI,CAAC,CAAD,GAAK/N,MAAMh1B,OAAN,CAAcy9B,KAAd,CAAL,IAA6B,CAAC,CAAD,GAAKzI,MAAMh1B,OAAN,CAAc29B,KAAd,CAAtC,EAA4D;AAC1D,iBAAO,EAAEmF,OAAO,CAAT,EAAY9N,OAAO+N,OAAnB,EAAP;AACD;;AAED;AACA,YAAI3/D,IAAI,CAAR;AACA,aAAK,IAAIJ,IAAI,CAAb,EAAgBA,IAAIgyD,MAAMzpD,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,cAAIgoC,SAASgqB,MAAMhyD,CAAN,CAAb;AACA,cAAIggE,SAASvG,WAAWiB,SAAX,CAAqB1yB,MAArB,CAAb;AACA,cAAIrlB,WAAW82C,WAAWQ,WAAX,CAAuB+F,MAAvB,EAA+Br9C,QAA9C;;AAEA;AACA,cAAI,MAAMA,SAASpa,MAAnB,EAA2B;AACzB;AACD;;AAED,cAAI03D,eAAexG,WAAWuF,YAAX,CAAwBvF,WAAWiB,SAAX,CAAqB/3C,SAAS,CAAT,CAArB,CAAxB,CAAnB;AACA,cAAIjS,SAASmvD,YAAYpF,KAAZ,EAAmBE,KAAnB,EAA0BsF,YAA1B,EAAwCxG,UAAxC,CAAb;AACA,cAAI,MAAM/oD,OAAOovD,KAAjB,EAAwB;AACtB;AACA;AACD,WAHD,MAGO,IAAI,MAAMpvD,OAAOovD,KAAjB,EAAwB;AAC7B;AACA1/D;AACA,gBAAI,MAAMA,CAAV,EAAa;AACX;AACA;AACD;AACF,WAPM,MAOA;AACL;AACA,mBAAOsQ,MAAP;AACD;AACF;;AAED,eAAO,EAAEovD,OAAO1/D,CAAT,EAAY4xD,OAAO+N,OAAnB,EAAP;AACD,OAtCD;;AAwCA;;;;AAIA,UAAIpG,kBAAkB,SAASA,eAAT,CAAyBF,UAAzB,EAAqC;AACzD;;AAEA,YAAI,CAACvB,KAAL,EAAY;AACV;AACD;AACDtxD,gBAAQ4yD,KAAR,CAAc,cAAd;AACA,aAAK,IAAIx5D,IAAI,CAAb,EAAgBA,IAAIy5D,WAAWiE,QAA/B,EAAyC19D,GAAzC,EAA8C;AAC5C,cAAIe,IAAI04D,WAAWQ,WAAX,CAAuBj6D,CAAvB,CAAR;AACA,cAAIwB,IAAI,cAAcxB,CAAd,GAAkB,QAAlB,GAA6Be,EAAE6Y,EAA/B,GAAoC,cAApC,GAAqD7Y,EAAE4hB,QAAF,CAAW5a,QAAX,EAArD,GAA6E,cAA7E,GAA8FhH,EAAEuhB,QAAhG,GAA2G,eAA3G,GAA6HvhB,EAAEm6D,SAA/H,GAA2I,eAA3I,GAA6Jn6D,EAAEq6D,SAA/J,GAA2K,aAA3K,GAA2Lr6D,EAAEmT,OAA7L,GAAuM,aAAvM,GAAuNnT,EAAEoT,OAAzN,GAAmO,aAAnO,GAAmPpT,EAAEi9D,OAArP,GAA+P,cAA/P,GAAgRj9D,EAAEg9D,QAAlR,GAA6R,YAA7R,GAA4Sh9D,EAAEm9D,MAA9S,GAAuT,eAAvT,GAAyUn9D,EAAEk9D,SAAnV;;AAEAr3D,kBAAQ4yD,KAAR,CAAch4D,CAAd;AACD;;AAEDoF,gBAAQ4yD,KAAR,CAAc,WAAd;AACA,aAAK,IAAIx5D,CAAT,IAAcy5D,WAAWiB,SAAzB,EAAoC;AAClC9zD,kBAAQ4yD,KAAR,CAAc,SAASx5D,CAAT,GAAa,WAAb,GAA2By5D,WAAWiB,SAAX,CAAqB16D,CAArB,CAAzC;AACD;;AAED4G,gBAAQ4yD,KAAR,CAAc,WAAd;AACA,YAAI95C,MAAM+5C,WAAWe,QAArB;AACA,aAAK,IAAIx6D,IAAI,CAAb,EAAgBA,IAAI0f,IAAInX,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC4G,kBAAQ4yD,KAAR,CAAc,WAAWx5D,CAAX,GAAe,IAAf,GAAsB0f,IAAI1f,CAAJ,EAAO+H,QAAP,EAApC;AACD;;AAED,YAAIvG,IAAI,cAAR;AACA,aAAK,IAAIxB,IAAI,CAAb,EAAgBA,IAAIy5D,WAAWuF,YAAX,CAAwBz2D,MAA5C,EAAoDvI,GAApD,EAAyD;AACvDwB,eAAK,eAAexB,CAAf,GAAmB,UAAnB,GAAgCy5D,WAAWuF,YAAX,CAAwBh/D,CAAxB,CAArC;AACD;AACD4G,gBAAQ4yD,KAAR,CAAch4D,CAAd;;AAEAA,YAAI,cAAJ;AACA,aAAK,IAAIxB,IAAI,CAAb,EAAgBA,IAAIy5D,WAAWiD,WAAX,CAAuBn0D,MAA3C,EAAmDvI,GAAnD,EAAwD;AACtD,cAAIgb,IAAIy+C,WAAWiD,WAAX,CAAuB18D,CAAvB,CAAR;AACAwB,eAAK,mBAAmBxB,CAAnB,GAAuB,OAAvB,GAAiCgb,EAAEpB,EAAnC,GAAwC,YAAxC,GAAuDoB,EAAE4hD,QAAzD,GAAoE,aAApE,GAAoF5hD,EAAE8hD,QAAtF,GAAiG,iBAAjG,GAAqH9hD,EAAEiiD,WAA5H;AACD;AACDr2D,gBAAQ4yD,KAAR,CAAch4D,CAAd;;AAEAA,YAAI,eAAei4D,WAAWiE,QAA9B;AACAl8D,aAAK,iBAAiBi4D,WAAWgD,QAAjC;AACAj7D,aAAK,oBAAoBi4D,WAAWoE,WAApC;AACAj3D,gBAAQ4yD,KAAR,CAAch4D,CAAd;;AAEA;AACA;AACD,OA7CD;;AA+CA;;;AAGA,UAAIo4D,qBAAqB,SAASA,kBAAT,CAA4BH,UAA5B,EAAwC96C,EAAxC,EAA4C;AACnE,YAAInR,QAAQisD,WAAWrK,WAAvB;AACA,YAAI3hD,SAASgsD,WAAWpK,YAAxB;;AAEA,aAAK,IAAIrvD,IAAI,CAAb,EAAgBA,IAAIy5D,WAAWiE,QAA/B,EAAyC19D,GAAzC,EAA8C;AAC5C,cAAIe,IAAI04D,WAAWQ,WAAX,CAAuBj6D,CAAvB,CAAR;;AAEA;AACA,cAAI,MAAMe,EAAE4hB,QAAF,CAAWpa,MAAjB,IAA2B,CAACxH,EAAE+6D,QAAlC,EAA4C;AAC1C/6D,cAAEm6D,SAAF,GAAc/3D,KAAK2E,MAAL,KAAgB0F,KAA9B;AACAzM,cAAEq6D,SAAF,GAAcj4D,KAAK2E,MAAL,KAAgB2F,MAA9B;AACD;AACF;AACF,OAbD;;AAeA;;;;;;AAMA,UAAIusD,mBAAmB,SAASA,gBAAT,CAA0BP,UAA1B,EAAsC96C,EAAtC,EAA0CK,OAA1C,EAAmD;AACxE;AACA;;AAEA,YAAI6L,SAAS7L,QAAQ6L,MAArB;AACA,YAAIvJ,QAAQtC,QAAQG,IAAR,CAAamC,KAAb,EAAZ;AACA,YAAIhV,KAAKmtD,WAAWl1D,WAApB;AACA,YAAI27D,SAAS,EAAE17D,IAAI+H,QAAN,EAAgB9H,IAAI,CAAC8H,QAArB,EAA+B7H,IAAI6H,QAAnC,EAA6C5H,IAAI,CAAC4H,QAAlD,EAAb;;AAEA,YAAIyS,QAAQza,WAAZ,EAAyB;AACvB+c,gBAAM1X,OAAN,CAAc,UAAUwY,IAAV,EAAgB;AAC5B,gBAAI28C,QAAQtF,WAAWQ,WAAX,CAAuBR,WAAWiB,SAAX,CAAqBt4C,KAAK5E,IAAL,CAAU,IAAV,CAArB,CAAvB,CAAZ;;AAEA0iD,mBAAO17D,EAAP,GAAYrB,KAAKiJ,GAAL,CAAS8zD,OAAO17D,EAAhB,EAAoBu6D,MAAM7D,SAA1B,CAAZ;AACAgF,mBAAOz7D,EAAP,GAAYtB,KAAKkJ,GAAL,CAAS6zD,OAAOz7D,EAAhB,EAAoBs6D,MAAM7D,SAA1B,CAAZ;;AAEAgF,mBAAOx7D,EAAP,GAAYvB,KAAKiJ,GAAL,CAAS8zD,OAAOx7D,EAAhB,EAAoBq6D,MAAM3D,SAA1B,CAAZ;AACA8E,mBAAOv7D,EAAP,GAAYxB,KAAKkJ,GAAL,CAAS6zD,OAAOv7D,EAAhB,EAAoBo6D,MAAM3D,SAA1B,CAAZ;AACD,WARD;;AAUA8E,iBAAO1zD,CAAP,GAAW0zD,OAAOz7D,EAAP,GAAYy7D,OAAO17D,EAA9B;AACA07D,iBAAOzzD,CAAP,GAAWyzD,OAAOv7D,EAAP,GAAYu7D,OAAOx7D,EAA9B;AACD;;AAED4c,cAAMo0B,SAAN,CAAgB,UAAU3sC,GAAV,EAAe/I,CAAf,EAAkB;AAChC,cAAI++D,QAAQtF,WAAWQ,WAAX,CAAuBR,WAAWiB,SAAX,CAAqB3xD,IAAIyU,IAAJ,CAAS,IAAT,CAArB,CAAvB,CAAZ;AACA;AACA;AACA;;AAEA,cAAIwB,QAAQza,WAAZ,EAAyB;AACvB;AACA,gBAAI47D,OAAO,CAACpB,MAAM7D,SAAN,GAAkBgF,OAAO17D,EAA1B,IAAgC07D,OAAO1zD,CAAlD;AACA,gBAAI4zD,OAAO,CAACrB,MAAM3D,SAAN,GAAkB8E,OAAOx7D,EAA1B,IAAgCw7D,OAAOzzD,CAAlD;;AAEA,mBAAO;AACLhF,iBAAG6E,GAAG9H,EAAH,GAAQ27D,OAAO7zD,GAAGE,CADhB;AAEL9E,iBAAG4E,GAAG5H,EAAH,GAAQ07D,OAAO9zD,GAAGG;AAFhB,aAAP;AAID,WATD,MASO;AACL,mBAAO;AACLhF,iBAAGs3D,MAAM7D,SADJ;AAELxzD,iBAAGq3D,MAAM3D;AAFJ,aAAP;AAID;AACF,SArBD;;AAuBA;AACA,YAAI,SAAS3B,WAAWxuC,KAAxB,EAA+B;AAC7B;AACA;AACAwuC,qBAAWxuC,KAAX,GAAmB,IAAnB;AACAJ,iBAAOrB,GAAP,CAAW,aAAX,EAA0BxK,QAAQiM,KAAlC;AACAJ,iBAAOvH,IAAP,CAAY,EAAEwB,MAAM,aAAR,EAAuB+F,QAAQ,IAA/B,EAAZ;AACD;AACF,OAvDD;;AAyDA;;;AAGA;AACA;AACA;AACA;AACA;;AAEAvrB,aAAOD,OAAP,GAAiB45D,UAAjB;;AAEA;AAAO,KAtseG;AAuseV;AACA,SAAO,UAAS35D,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;;AAEA,UAAI4nB,WAAW;AACbg1B,aAAK,IADQ,EACF;AACX3vC,iBAAS,EAFI,EAEA;AACbxI,qBAAahB,SAHA,EAGW;AACxBsuD,sBAAc,IAJD,EAIO;AACpBwO,6BAAqB,EALR,EAKY;AACzBjlB,qCAA6B,KANhB,EAMuB;AACpCY,uBAAez4C,SAPF,EAOa;AAC1B+8D,kBAAU,KARG,EAQI;AACjBC,cAAMh9D,SATO,EASI;AACjBi9D,cAAMj9D,SAVO,EAUI;AACjB+c,kBAAU,SAASA,QAAT,CAAkB8B,IAAlB,EAAwB,CAAE,CAXvB,EAWyB;AACtCoS,cAAMjxB,SAZO,EAYI;AACjB8zB,iBAAS,KAbI,EAaG;AAChBklB,2BAAmB,GAdN,EAcW;AACxBE,yBAAiBl5C,SAfJ,EAee;AAC5B84C,uBAAe,SAASA,aAAT,CAAuBj6B,IAAvB,EAA6BpiB,CAA7B,EAAgC;AAC7C,iBAAO,IAAP;AACD,SAlBY,EAkBV;AACHirB,eAAO1nB,SAnBM,EAmBK;AAClB6zB,cAAM7zB,SApBO,EAoBI;AACjB44C,mBAAW,SAASA,SAAT,CAAmB/5B,IAAnB,EAAyB9B,QAAzB,EAAmC;AAC5C,iBAAOA,QAAP;AACD,SAvBY,CAuBX;AAvBW,OAAf;;AA0BA,eAASmgD,UAAT,CAAoBzhD,OAApB,EAA6B;AAC3B,aAAKA,OAAL,GAAe9Y,KAAKgB,MAAL,CAAY,EAAZ,EAAgBwgB,QAAhB,EAA0B1I,OAA1B,CAAf;AACD;;AAEDyhD,iBAAWp/D,SAAX,CAAqBwsB,GAArB,GAA2B,YAAY;AACrC,YAAIxc,SAAS,KAAK2N,OAAlB;AACA,YAAIA,UAAU3N,MAAd;;AAEA,YAAIsN,KAAKtN,OAAOsN,EAAhB;AACA,YAAIQ,OAAOH,QAAQG,IAAnB;AACA,YAAImC,QAAQnC,KAAKmC,KAAL,GAAakf,GAAb,CAAiB,SAAjB,CAAZ;;AAEA,YAAIxhB,QAAQwV,IAAZ,EAAkB;AAChBlT,kBAAQA,MAAMkT,IAAN,CAAWxV,QAAQwV,IAAnB,CAAR;AACD;;AAED,YAAIloB,KAAKrG,KAAK+B,eAAL,CAAqBgX,QAAQza,WAAR,GAAsBya,QAAQza,WAA9B,GAA4C;AACxEC,cAAI,CADoE,EACjEE,IAAI,CAD6D,EAC1D8H,GAAGmS,GAAGnR,KAAH,EADuD,EAC3Cf,GAAGkS,GAAGlR,MAAH;AADwC,SAAjE,CAAT;;AAIA,YAAInB,GAAGG,CAAH,KAAS,CAAT,IAAcH,GAAGE,CAAH,KAAS,CAA3B,EAA8B;AAC5B8U,gBAAMg6B,eAAN,CAAsB,IAAtB,EAA4Bt8B,OAA5B,EAAqC,UAAUjW,GAAV,EAAe;AAClD,mBAAO,EAAEtB,GAAG6E,GAAG9H,EAAR,EAAYkD,GAAG4E,GAAG5H,EAAlB,EAAP;AACD,WAFD;AAGD,SAJD,MAIO;;AAEL;AACA,cAAIg8D,QAAQp/C,MAAM5E,IAAN,EAAZ;AACA,cAAIikD,SAASx9D,KAAK8H,IAAL,CAAUy1D,QAAQp0D,GAAGG,CAAX,GAAeH,GAAGE,CAA5B,CAAb;AACA,cAAI+zD,OAAOp9D,KAAKskD,KAAL,CAAWkZ,MAAX,CAAX;AACA,cAAIH,OAAOr9D,KAAKskD,KAAL,CAAWn7C,GAAGE,CAAH,GAAOF,GAAGG,CAAV,GAAck0D,MAAzB,CAAX;;AAEA,cAAIC,QAAQ,SAASA,KAAT,CAAeh4D,GAAf,EAAoB;AAC9B,gBAAIA,OAAO,IAAX,EAAiB;AACf,qBAAOzF,KAAKiJ,GAAL,CAASm0D,IAAT,EAAeC,IAAf,CAAP;AACD,aAFD,MAEO;AACL,kBAAIp0D,MAAMjJ,KAAKiJ,GAAL,CAASm0D,IAAT,EAAeC,IAAf,CAAV;AACA,kBAAIp0D,OAAOm0D,IAAX,EAAiB;AACfA,uBAAO33D,GAAP;AACD,eAFD,MAEO;AACL43D,uBAAO53D,GAAP;AACD;AACF;AACF,WAXD;;AAaA,cAAIi4D,QAAQ,SAASA,KAAT,CAAej4D,GAAf,EAAoB;AAC9B,gBAAIA,OAAO,IAAX,EAAiB;AACf,qBAAOzF,KAAKkJ,GAAL,CAASk0D,IAAT,EAAeC,IAAf,CAAP;AACD,aAFD,MAEO;AACL,kBAAIn0D,MAAMlJ,KAAKkJ,GAAL,CAASk0D,IAAT,EAAeC,IAAf,CAAV;AACA,kBAAIn0D,OAAOk0D,IAAX,EAAiB;AACfA,uBAAO33D,GAAP;AACD,eAFD,MAEO;AACL43D,uBAAO53D,GAAP;AACD;AACF;AACF,WAXD;;AAaA,cAAIk4D,QAAQ9hD,QAAQuhD,IAApB;AACA,cAAIQ,QAAQ/hD,QAAQwhD,IAAR,IAAgB,IAAhB,GAAuBxhD,QAAQwhD,IAA/B,GAAsCxhD,QAAQgiD,OAA1D;;AAEA;AACA,cAAIF,SAAS,IAAT,IAAiBC,SAAS,IAA9B,EAAoC;AAClCR,mBAAOO,KAAP;AACAN,mBAAOO,KAAP;AACD,WAHD,MAGO,IAAID,SAAS,IAAT,IAAiBC,SAAS,IAA9B,EAAoC;AACzCR,mBAAOO,KAAP;AACAN,mBAAOr9D,KAAKsiC,IAAL,CAAUi7B,QAAQH,IAAlB,CAAP;AACD,WAHM,MAGA,IAAIO,SAAS,IAAT,IAAiBC,SAAS,IAA9B,EAAoC;AACzCP,mBAAOO,KAAP;AACAR,mBAAOp9D,KAAKsiC,IAAL,CAAUi7B,QAAQF,IAAlB,CAAP;AACD;;AAED;;AAEA;AAPO,eAQF,IAAIA,OAAOD,IAAP,GAAcG,KAAlB,EAAyB;AAC1B,kBAAIO,KAAKL,OAAT;AACA,kBAAIM,KAAKL,OAAT;;AAEA;AACA,kBAAI,CAACI,KAAK,CAAN,IAAWC,EAAX,IAAiBR,KAArB,EAA4B;AAC1BE,sBAAMK,KAAK,CAAX;AACD,eAFD,MAEO,IAAI,CAACC,KAAK,CAAN,IAAWD,EAAX,IAAiBP,KAArB,EAA4B;AACjCG,sBAAMK,KAAK,CAAX;AACD;AACF,aAVE,MAUI;;AAEL;AACA,qBAAOV,OAAOD,IAAP,GAAcG,KAArB,EAA4B;AAC1B,oBAAIS,MAAMP,OAAV;AACA,oBAAIQ,MAAMP,OAAV;;AAEA;AACA,oBAAI,CAACO,MAAM,CAAP,IAAYD,GAAZ,IAAmBT,KAAvB,EAA8B;AAC5BG,wBAAMO,MAAM,CAAZ;AACD,iBAFD,MAEO;AACLR,wBAAMO,MAAM,CAAZ;AACD;AACF;AACF;;AAEH,cAAIE,YAAY/0D,GAAGE,CAAH,GAAOg0D,IAAvB;AACA,cAAIc,aAAah1D,GAAGG,CAAH,GAAO8zD,IAAxB;;AAEA,cAAIvhD,QAAQshD,QAAZ,EAAsB;AACpBe,wBAAY,CAAZ;AACAC,yBAAa,CAAb;AACD;;AAED,cAAItiD,QAAQ6yC,YAAZ,EAA0B;AACxB,iBAAK,IAAI7xD,IAAI,CAAb,EAAgBA,IAAIshB,MAAM/Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,kBAAIoiB,OAAOd,MAAMthB,CAAN,CAAX;AACA,kBAAIwH,MAAM4a,KAAKze,QAAL,CAAc2c,QAAxB;;AAEA,kBAAI9Y,IAAIC,CAAJ,IAAS,IAAT,IAAiBD,IAAIE,CAAJ,IAAS,IAA9B,EAAoC;AAClC;AACAF,oBAAIC,CAAJ,GAAQ,CAAR;AACAD,oBAAIE,CAAJ,GAAQ,CAAR;AACD;;AAED,kBAAI2sD,MAAMjyC,KAAK+4B,gBAAL,CAAsBn8B,OAAtB,CAAV;AACA,kBAAIzd,IAAIyd,QAAQqhD,mBAAhB;;AAEA,kBAAI7zD,IAAI6nD,IAAI7nD,CAAJ,GAAQjL,CAAhB;AACA,kBAAIkL,IAAI4nD,IAAI5nD,CAAJ,GAAQlL,CAAhB;;AAEA8/D,0BAAYl+D,KAAKkJ,GAAL,CAASg1D,SAAT,EAAoB70D,CAApB,CAAZ;AACA80D,2BAAan+D,KAAKkJ,GAAL,CAASi1D,UAAT,EAAqB70D,CAArB,CAAb;AACD;AACF;;AAED,cAAI80D,WAAW,EAAf,CA5GK,CA4Gc;;AAEnB,cAAIC,OAAO,SAASA,IAAT,CAAcC,GAAd,EAAmB9oB,GAAnB,EAAwB;AACjC,mBAAO4oB,SAAS,OAAOE,GAAP,GAAa,GAAb,GAAmB9oB,GAA5B,IAAmC,IAAnC,GAA0C,KAAjD;AACD,WAFD;;AAIA,cAAI+oB,MAAM,SAASA,GAAT,CAAaD,GAAb,EAAkB9oB,GAAlB,EAAuB;AAC/B4oB,qBAAS,OAAOE,GAAP,GAAa,GAAb,GAAmB9oB,GAA5B,IAAmC,IAAnC;AACD,WAFD;;AAIA;AACA,cAAI8oB,MAAM,CAAV;AACA,cAAI9oB,MAAM,CAAV;AACA,cAAIgpB,iBAAiB,SAASA,cAAT,GAA0B;AAC7ChpB;AACA,gBAAIA,OAAO6nB,IAAX,EAAiB;AACf7nB,oBAAM,CAAN;AACA8oB;AACD;AACF,WAND;;AAQA;AACA,cAAIG,YAAY,EAAhB;AACA,eAAK,IAAIjqD,KAAK,CAAd,EAAiBA,KAAK2J,MAAM/Y,MAA5B,EAAoCoP,IAApC,EAA0C;AACxC,gBAAIo7C,QAAQzxC,MAAM3J,EAAN,CAAZ;AACA,gBAAIkqD,QAAQ7iD,QAAQsB,QAAR,CAAiByyC,KAAjB,CAAZ;;AAEA,gBAAI8O,UAAUA,MAAMJ,GAAN,KAAcl+D,SAAd,IAA2Bs+D,MAAMlpB,GAAN,KAAcp1C,SAAnD,CAAJ,EAAmE;AACjE;AACA,kBAAIqwC,OAAO;AACT6tB,qBAAKI,MAAMJ,GADF;AAET9oB,qBAAKkpB,MAAMlpB;AAFF,eAAX;;AAKA,kBAAI/E,KAAK+E,GAAL,KAAap1C,SAAjB,EAA4B;AAC1B;AACAqwC,qBAAK+E,GAAL,GAAW,CAAX;;AAEA,uBAAO6oB,KAAK5tB,KAAK6tB,GAAV,EAAe7tB,KAAK+E,GAApB,CAAP,EAAiC;AAC/B/E,uBAAK+E,GAAL;AACD;AACF,eAPD,MAOO,IAAI/E,KAAK6tB,GAAL,KAAal+D,SAAjB,EAA4B;AACjC;AACAqwC,qBAAK6tB,GAAL,GAAW,CAAX;;AAEA,uBAAOD,KAAK5tB,KAAK6tB,GAAV,EAAe7tB,KAAK+E,GAApB,CAAP,EAAiC;AAC/B/E,uBAAK6tB,GAAL;AACD;AACF;;AAEDG,wBAAU7O,MAAMn5C,EAAN,EAAV,IAAwBg6B,IAAxB;AACA8tB,kBAAI9tB,KAAK6tB,GAAT,EAAc7tB,KAAK+E,GAAnB;AACD;AACF;;AAED,cAAI6d,SAAS,SAASA,MAAT,CAAgB/yD,OAAhB,EAAyBzD,CAAzB,EAA4B;AACvC,gBAAIyH,IAAI,KAAK,CAAb;AAAA,gBACIC,IAAI,KAAK,CADb;;AAGA,gBAAIjE,QAAQsd,MAAR,MAAoBtd,QAAQkhB,QAAR,EAAxB,EAA4C;AAC1C,qBAAO,KAAP;AACD;;AAED;AACA,gBAAIk9C,QAAQD,UAAUn+D,QAAQmW,EAAR,EAAV,CAAZ;AACA,gBAAIioD,KAAJ,EAAW;AACTp6D,kBAAIo6D,MAAMlpB,GAAN,GAAY0oB,SAAZ,GAAwBA,YAAY,CAApC,GAAwC/0D,GAAG9H,EAA/C;AACAkD,kBAAIm6D,MAAMJ,GAAN,GAAYH,UAAZ,GAAyBA,aAAa,CAAtC,GAA0Ch1D,GAAG5H,EAAjD;AACD,aAHD,MAGO;AACL;;AAEA,qBAAO88D,KAAKC,GAAL,EAAU9oB,GAAV,CAAP,EAAuB;AACrBgpB;AACD;;AAEDl6D,kBAAIkxC,MAAM0oB,SAAN,GAAkBA,YAAY,CAA9B,GAAkC/0D,GAAG9H,EAAzC;AACAkD,kBAAI+5D,MAAMH,UAAN,GAAmBA,aAAa,CAAhC,GAAoCh1D,GAAG5H,EAA3C;AACAg9D,kBAAID,GAAJ,EAAS9oB,GAAT;;AAEAgpB;AACD;;AAED,mBAAO,EAAEl6D,GAAGA,CAAL,EAAQC,GAAGA,CAAX,EAAP;AACD,WA5BD;;AA8BA4Z,gBAAMg6B,eAAN,CAAsB,IAAtB,EAA4Bt8B,OAA5B,EAAqCw3C,MAArC;AACD;;AAED,eAAO,IAAP,CAxNqC,CAwNxB;AACd,OAzND;;AA2NAl3D,aAAOD,OAAP,GAAiBohE,UAAjB;;AAEA;AAAO,KA38eG;AA48eV;AACA,SAAO,UAASnhE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGAR,aAAOD,OAAP,GAAiB,CAAC,EAAEkB,MAAM,cAAR,EAAwBu4B,MAAMh5B,oBAAoB,EAApB,CAA9B,EAAD,EAA0D,EAAES,MAAM,QAAR,EAAkBu4B,MAAMh5B,oBAAoB,EAApB,CAAxB,EAA1D,EAA6G,EAAES,MAAM,YAAR,EAAsBu4B,MAAMh5B,oBAAoB,EAApB,CAA5B,EAA7G,EAAoK,EAAES,MAAM,MAAR,EAAgBu4B,MAAMh5B,oBAAoB,EAApB,CAAtB,EAApK,EAAqN,EAAES,MAAM,MAAR,EAAgBu4B,MAAMh5B,oBAAoB,EAApB,CAAtB,EAArN,EAAsQ,EAAES,MAAM,MAAR,EAAgBu4B,MAAMh5B,oBAAoB,EAApB,CAAtB,EAAtQ,EAAuT,EAAES,MAAM,QAAR,EAAkBu4B,MAAMh5B,oBAAoB,EAApB,CAAxB,EAAvT,EAA0W,EAAES,MAAM,QAAR,EAAkBu4B,MAAMh5B,oBAAoB,EAApB,CAAxB,EAA1W,CAAjB;;AAEA;AAAO,KAp9eG;AAq9eV;AACA,SAAO,UAASR,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA;AACA,UAAI4nB,WAAW;AACbuD,eAAO,SAASA,KAAT,GAAiB,CAAE,CADb,EACe;AAC5BmM,cAAM,SAASA,IAAT,GAAgB,CAAE,CAFX,CAEY;AAFZ,OAAf;;AAKA;AACA;AACA,eAAS0qC,UAAT,CAAoB9iD,OAApB,EAA6B;AAC3B,aAAKA,OAAL,GAAe9Y,KAAKgB,MAAL,CAAY,EAAZ,EAAgBwgB,QAAhB,EAA0B1I,OAA1B,CAAf;AACD;;AAED;AACA8iD,iBAAWzgE,SAAX,CAAqBwsB,GAArB,GAA2B,YAAY;AACrC,YAAI7O,UAAU,KAAKA,OAAnB;AACA,YAAIG,OAAOH,QAAQG,IAAnB,CAFqC,CAEZ;AACzB,YAAI0L,SAAS,IAAb;;AAEA;AACA,YAAIlM,KAAKK,QAAQL,EAAjB,CANqC,CAMhB;;AAErBkM,eAAOvH,IAAP,CAAY,aAAZ;;AAEA;AACAnE,aAAKmC,KAAL,GAAao0B,SAAb,CAAuB,YAAY;AACjC,iBAAO;AACLjuC,eAAG,CADE;AAELC,eAAG;AAFE,WAAP;AAID,SALD;;AAOA;AACAmjB,eAAOrB,GAAP,CAAW,aAAX,EAA0BxK,QAAQiM,KAAlC;AACAJ,eAAOvH,IAAP,CAAY,aAAZ;;AAEA;AACAuH,eAAOrB,GAAP,CAAW,YAAX,EAAyBxK,QAAQoY,IAAjC;AACAvM,eAAOvH,IAAP,CAAY,YAAZ;;AAEA,eAAO,IAAP,CA1BqC,CA0BxB;AACd,OA3BD;;AA6BA;AACAw+C,iBAAWzgE,SAAX,CAAqB+1B,IAArB,GAA4B,YAAY;AACtC,eAAO,IAAP,CADsC,CACzB;AACd,OAFD;;AAIA93B,aAAOD,OAAP,GAAiByiE,UAAjB;;AAEA;AAAO,KA9gfG;AA+gfV;AACA,SAAO,UAASxiE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAI4nB,WAAW;AACbguB,mBAAWnyC,SADE,EACS;AACtB4G,cAAM5G,SAFO,EAEI;AACjB6G,aAAK7G,SAHQ,EAGG;AAChBm5C,aAAK,IAJQ,EAIF;AACX3vC,iBAAS,EALI,EAKA;AACbsqB,iBAAS,KANI,EAMG;AAChBklB,2BAAmB,GAPN,EAOW;AACxBE,yBAAiBl5C,SARJ,EAQe;AAC5B84C,uBAAe,SAASA,aAAT,CAAuBj6B,IAAvB,EAA6BpiB,CAA7B,EAAgC;AAC7C,iBAAO,IAAP;AACD,SAXY,EAWV;AACHirB,eAAO1nB,SAZM,EAYK;AAClB6zB,cAAM7zB,SAbO,EAaI;AACjB44C,mBAAW,SAASA,SAAT,CAAmB/5B,IAAnB,EAAyB9B,QAAzB,EAAmC;AAC5C,iBAAOA,QAAP;AACD,SAhBY,CAgBX;AAhBW,OAAf;;AAmBA,eAASyhD,YAAT,CAAsB/iD,OAAtB,EAA+B;AAC7B,aAAKA,OAAL,GAAe9Y,KAAKgB,MAAL,CAAY,EAAZ,EAAgBwgB,QAAhB,EAA0B1I,OAA1B,CAAf;AACD;;AAED+iD,mBAAa1gE,SAAb,CAAuBwsB,GAAvB,GAA6B,YAAY;AACvC,YAAI7O,UAAU,KAAKA,OAAnB;AACA,YAAIG,OAAOH,QAAQG,IAAnB;;AAEA,YAAImC,QAAQnC,KAAKmC,KAAL,EAAZ;AACA,YAAI0gD,UAAUx/D,GAAGC,EAAH,CAAMuc,QAAQ02B,SAAd,CAAd;;AAEA,iBAAS2f,WAAT,CAAqBjzC,IAArB,EAA2B;AACzB,cAAIpD,QAAQ02B,SAAR,IAAqB,IAAzB,EAA+B;AAC7B,mBAAO,IAAP;AACD;;AAED,cAAIssB,OAAJ,EAAa;AACX,mBAAOhjD,QAAQ02B,SAAR,CAAkBtzB,IAAlB,CAAP;AACD;;AAED,cAAI5a,MAAMwX,QAAQ02B,SAAR,CAAkBtzB,KAAKze,QAAL,CAAc6Z,IAAd,CAAmB5D,EAArC,CAAV;;AAEA,cAAIpS,OAAO,IAAX,EAAiB;AACf,mBAAO,IAAP;AACD;;AAED,iBAAOA,GAAP;AACD;;AAED8Z,cAAMg6B,eAAN,CAAsB,IAAtB,EAA4Bt8B,OAA5B,EAAqC,UAAUoD,IAAV,EAAgBpiB,CAAhB,EAAmB;AACtD,cAAIsgB,WAAW+0C,YAAYjzC,IAAZ,CAAf;;AAEA,cAAIA,KAAKrB,MAAL,MAAiBT,YAAY,IAAjC,EAAuC;AACrC,mBAAO,KAAP;AACD;;AAED,iBAAOA,QAAP;AACD,SARD;;AAUA,eAAO,IAAP,CAnCuC,CAmC1B;AACd,OApCD;;AAsCAhhB,aAAOD,OAAP,GAAiB0iE,YAAjB;;AAEA;AAAO,KAvlfG;AAwlfV;AACA,SAAO,UAASziE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;;AAEA,UAAI4nB,WAAW;AACbg1B,aAAK,IADQ,EACF;AACX3vC,iBAAS,EAFI,EAEA;AACbxI,qBAAahB,SAHA,EAGW;AACxB8zB,iBAAS,KAJI,EAIG;AAChBklB,2BAAmB,GALN,EAKW;AACxBE,yBAAiBl5C,SANJ,EAMe;AAC5B84C,uBAAe,SAASA,aAAT,CAAuBj6B,IAAvB,EAA6BpiB,CAA7B,EAAgC;AAC7C,iBAAO,IAAP;AACD,SATY,EASV;AACHirB,eAAO1nB,SAVM,EAUK;AAClB6zB,cAAM7zB,SAXO,EAWI;AACjB44C,mBAAW,SAASA,SAAT,CAAmB/5B,IAAnB,EAAyB9B,QAAzB,EAAmC;AAC5C,iBAAOA,QAAP;AACD,SAdY,CAcX;AAdW,OAAf;;AAiBA,eAAS2hD,YAAT,CAAsBjjD,OAAtB,EAA+B;AAC7B,aAAKA,OAAL,GAAe9Y,KAAKgB,MAAL,CAAY,EAAZ,EAAgBwgB,QAAhB,EAA0B1I,OAA1B,CAAf;AACD;;AAEDijD,mBAAa5gE,SAAb,CAAuBwsB,GAAvB,GAA6B,YAAY;AACvC,YAAI7O,UAAU,KAAKA,OAAnB;AACA,YAAIL,KAAKK,QAAQL,EAAjB;AACA,YAAIQ,OAAOH,QAAQG,IAAnB;AACA,YAAImC,QAAQnC,KAAKmC,KAAL,GAAakf,GAAb,CAAiB,SAAjB,CAAZ;;AAEA,YAAIl0B,KAAKrG,KAAK+B,eAAL,CAAqBgX,QAAQza,WAAR,GAAsBya,QAAQza,WAA9B,GAA4C;AACxEC,cAAI,CADoE,EACjEE,IAAI,CAD6D,EAC1D8H,GAAGmS,GAAGnR,KAAH,EADuD,EAC3Cf,GAAGkS,GAAGlR,MAAH;AADwC,SAAjE,CAAT;;AAIA,YAAI+oD,SAAS,SAASA,MAAT,CAAgBp0C,IAAhB,EAAsBpiB,CAAtB,EAAyB;AACpC,iBAAO;AACLyH,eAAG6E,GAAG9H,EAAH,GAAQrB,KAAKskD,KAAL,CAAWtkD,KAAK2E,MAAL,KAAgBwE,GAAGE,CAA9B,CADN;AAEL9E,eAAG4E,GAAG5H,EAAH,GAAQvB,KAAKskD,KAAL,CAAWtkD,KAAK2E,MAAL,KAAgBwE,GAAGG,CAA9B;AAFN,WAAP;AAID,SALD;;AAOA6U,cAAMg6B,eAAN,CAAsB,IAAtB,EAA4Bt8B,OAA5B,EAAqCw3C,MAArC;;AAEA,eAAO,IAAP,CAnBuC,CAmB1B;AACd,OApBD;;AAsBAl3D,aAAOD,OAAP,GAAiB4iE,YAAjB;;AAEA;AAAO,KA9ofG;AA+ofV;AACA,SAAO,UAAS3iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAIoiE,MAAM,EAAV;;AAEAA,UAAIC,eAAJ,GAAsB,GAAtB;;AAEAD,UAAIE,mBAAJ,GAA0B,YAAY;AACpC,YAAIC,cAAc,KAAKA,WAAL,GAAmB,EAArC;AACA,YAAIriD,WAAW,IAAf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAIsiD,YAAY,SAASA,SAAT,CAAmB76D,CAAnB,EAAsBC,CAAtB,EAAyBgV,IAAzB,EAA+B9J,KAA/B,EAAsC2vD,WAAtC,EAAmDC,SAAnD,EAA8Dz1D,OAA9D,EAAuE;AACrF,cAAIvI,KAAK+9D,YAAY96D,CAAZ,GAAgBiV,OAAO,CAAvB,GAA2B3P,OAApC;AACA,cAAItI,KAAK89D,YAAY96D,CAAZ,GAAgBiV,OAAO,CAAvB,GAA2B3P,OAApC;AACA,cAAIrI,KAAK69D,YAAY76D,CAAZ,GAAgBgV,OAAO,CAAvB,GAA2B3P,OAApC;AACA,cAAIpI,KAAK49D,YAAY76D,CAAZ,GAAgBgV,OAAO,CAAvB,GAA2B3P,OAApC;;AAEA,cAAIwW,SAAS/e,MAAMiD,CAAN,IAAWA,KAAKhD,EAAhB,IAAsBC,MAAMgD,CAA5B,IAAiCA,KAAK/C,EAAnD;;AAEA,iBAAO4e,MAAP;AACD,SATD;;AAWA,YAAI44B,YAAY,SAASA,SAAT,CAAmB10C,CAAnB,EAAsBC,CAAtB,EAAyBgV,IAAzB,EAA+B9J,KAA/B,EAAsC2vD,WAAtC,EAAmD;AACjE,cAAIE,WAAWh7D,IAAItE,KAAK8N,GAAL,CAAS2B,KAAT,CAAJ,GAAsBlL,IAAIvE,KAAK2P,GAAL,CAASF,KAAT,CAAzC;AACA,cAAI8vD,WAAWj7D,IAAItE,KAAK2P,GAAL,CAASF,KAAT,CAAJ,GAAsBlL,IAAIvE,KAAK8N,GAAL,CAAS2B,KAAT,CAAzC;;AAEA,cAAI+vD,UAAUF,WAAW/lD,IAAzB;AACA,cAAIkmD,UAAUF,WAAWhmD,IAAzB;;AAEA,cAAImmD,cAAcF,UAAUJ,YAAY96D,CAAxC;AACA,cAAIq7D,cAAcF,UAAUL,YAAY76D,CAAxC;;AAEA,iBAAO;AACLD,eAAGo7D,WADE;AAELn7D,eAAGo7D;AAFE,WAAP;AAID,SAdD;;AAgBA,YAAIC,kBAAkB,SAASA,eAAT,CAAyB9wB,GAAzB,EAA8Bv1B,IAA9B,EAAoC9J,KAApC,EAA2C2vD,WAA3C,EAAwD;AAC5E,cAAIS,SAAS,EAAb;;AAEA,eAAK,IAAIhjE,IAAI,CAAb,EAAgBA,IAAIiyC,IAAI1pC,MAAxB,EAAgCvI,KAAK,CAArC,EAAwC;AACtC,gBAAIyH,IAAIwqC,IAAIjyC,CAAJ,CAAR;AACA,gBAAI0H,IAAIuqC,IAAIjyC,IAAI,CAAR,CAAR;;AAEAgjE,mBAAO75D,IAAP,CAAYgzC,UAAU10C,CAAV,EAAaC,CAAb,EAAgBgV,IAAhB,EAAsB9J,KAAtB,EAA6B2vD,WAA7B,CAAZ;AACD;;AAED,iBAAOS,MAAP;AACD,SAXD;;AAaA,YAAIC,cAAc,SAASA,WAAT,CAAqBhxB,GAArB,EAA0B;AAC1C,cAAI/oB,MAAM,EAAV;;AAEA,eAAK,IAAIlpB,IAAI,CAAb,EAAgBA,IAAIiyC,IAAI1pC,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,gBAAIuB,IAAI0wC,IAAIjyC,CAAJ,CAAR;;AAEAkpB,gBAAI/f,IAAJ,CAAS5H,EAAEkG,CAAX,EAAclG,EAAEmG,CAAhB;AACD;;AAED,iBAAOwhB,GAAP;AACD,SAVD;;AAYA,YAAIg6C,cAAc,SAASA,WAAT,CAAqBphD,IAArB,EAA2B;AAC3C,iBAAOA,KAAK6O,MAAL,CAAY,OAAZ,EAAqByb,OAArB,GAA+BtqB,KAAK6O,MAAL,CAAY,aAAZ,EAA2Byb,OAA1D,GAAoE,CAA3E;AACD,SAFD;;AAIA,YAAI+2B,mBAAmB,SAASA,gBAAT,CAA0B5iE,IAA1B,EAAgC6iE,IAAhC,EAAsC;AAC3D,cAAI5gE,GAAGG,MAAH,CAAUygE,IAAV,CAAJ,EAAqB;AACnBA,mBAAOf,YAAYe,IAAZ,CAAP;AACD;;AAEDf,sBAAY9hE,IAAZ,IAAoB2F,KAAKgB,MAAL,CAAY;AAC9B3G,kBAAMA,IADwB;;AAG9B6R,oBAAQ,CAAC,CAAC,IAAF,EAAQ,CAAC,GAAT,EAAc,IAAd,EAAoB,CAAC,GAArB,EAA0B,IAA1B,EAAgC,GAAhC,EAAqC,CAAC,IAAtC,EAA4C,GAA5C,CAHsB;;AAK9BixD,qBAAS,SAASA,OAAT,CAAiB57D,CAAjB,EAAoBC,CAApB,EAAuBgV,IAAvB,EAA6B9J,KAA7B,EAAoC2vD,WAApC,EAAiDx1D,OAAjD,EAA0D;AACjE,kBAAIqF,SAAS6wD,YAAYF,gBAAgB,KAAK3wD,MAArB,EAA6BsK,OAAO,IAAI3P,OAAxC,EAAiD6F,KAAjD,EAAwD2vD,WAAxD,CAAZ,CAAb;AACA,kBAAIh/C,SAAStd,KAAKkM,wBAAL,CAA8B1K,CAA9B,EAAiCC,CAAjC,EAAoC0K,MAApC,CAAb;;AAEA,qBAAOmR,MAAP;AACD,aAV6B;;AAY9B+/C,0BAAchB,SAZgB;;AAc9BiB,kBAAM,SAASA,IAAT,CAAct7C,OAAd,EAAuBvL,IAAvB,EAA6B9J,KAA7B,EAAoC2vD,WAApC,EAAiD;AACrD,kBAAInwD,SAAS2wD,gBAAgB,KAAK3wD,MAArB,EAA6BsK,IAA7B,EAAmC9J,KAAnC,EAA0C2vD,WAA1C,CAAb;;AAEAviD,uBAASwjD,cAAT,CAAwB,SAAxB,EAAmCv7C,OAAnC,EAA4C7V,MAA5C;AACD,aAlB6B;;AAoB9BupC,qBAAS,SAASA,OAAT,CAAiB75B,IAAjB,EAAuB;AAC9B,qBAAO,CAAP;AACD,aAtB6B;;AAwB9B2hD,iBAAKP;AAxByB,WAAZ,EAyBjBE,IAzBiB,CAApB;AA0BD,SA/BD;;AAiCAD,yBAAiB,MAAjB,EAAyB;AACvBE,mBAASn9D,KAAKK,OADS;;AAGvB+8D,wBAAcp9D,KAAKK,OAHI;;AAKvBg9D,gBAAMr9D,KAAKO,IALY;;AAOvBk1C,mBAASz1C,KAAKM,OAPS;;AASvBi9D,eAAKv9D,KAAKM;AATa,SAAzB;;AAYA28D,yBAAiB,UAAjB,EAA6B;AAC3B/wD,kBAAQ,CAAC,CAAC,IAAF,EAAQ,CAAC,GAAT,EAAc,CAAd,EAAiB,CAAjB,EAAoB,IAApB,EAA0B,CAAC,GAA3B;AADmB,SAA7B;;AAIA+wD,yBAAiB,OAAjB,EAA0B,UAA1B;;AAEAA,yBAAiB,oBAAjB,EAAuC;AACrC/wD,kBAAQiwD,YAAY,UAAZ,EAAwBjwD,MADK;;AAGrCsxD,wBAAc,CAAC,CAAD,EAAI,CAAC,IAAL,CAHuB;;AAKrCJ,wBAAchB,SALuB;;AAOrCiB,gBAAM,SAASA,IAAT,CAAct7C,OAAd,EAAuBvL,IAAvB,EAA6B9J,KAA7B,EAAoC2vD,WAApC,EAAiDC,SAAjD,EAA4D;AAChE,gBAAImB,WAAWZ,gBAAgB,KAAK3wD,MAArB,EAA6BsK,IAA7B,EAAmC9J,KAAnC,EAA0C2vD,WAA1C,CAAf;AACA,gBAAIqB,SAAS,KAAKF,YAAlB;AACA,gBAAIG,cAAc1nB,UAAUynB,OAAO,CAAP,CAAV,EAAqBA,OAAO,CAAP,CAArB,EAAgClnD,IAAhC,EAAsC9J,KAAtC,EAA6C2vD,WAA7C,CAAlB;;AAEAviD,qBAASwjD,cAAT,CAAwB,KAAKjjE,IAA7B,EAAmC0nB,OAAnC,EAA4C07C,QAA5C,EAAsDE,WAAtD;AACD,WAboC;;AAerCJ,eAAK,SAASA,GAAT,CAAa3hD,IAAb,EAAmB;AACtB,mBAAOohD,YAAYphD,IAAZ,IAAoB,KAA3B;AACD;AAjBoC,SAAvC;;AAoBAqhD,yBAAiB,cAAjB,EAAiC;AAC/B/wD,kBAAQ,CAAC,CAAC,IAAF,EAAQ,CAAC,GAAT,EAAc,CAAd,EAAiB,CAAjB,EAAoB,IAApB,EAA0B,CAAC,GAA3B,EAAgC,CAAC,IAAjC,EAAuC,CAAC,GAAxC,CADuB;;AAG/B0xD,qBAAW,CAAC,CAAC,IAAF,EAAQ,CAAC,GAAT,EAAc,CAAC,IAAf,EAAqB,CAAC,GAAtB,EAA2B,IAA3B,EAAiC,CAAC,GAAlC,EAAuC,IAAvC,EAA6C,CAAC,GAA9C,CAHoB;;AAK/BT,mBAAS,SAASA,OAAT,CAAiB57D,CAAjB,EAAoBC,CAApB,EAAuBgV,IAAvB,EAA6B9J,KAA7B,EAAoC2vD,WAApC,EAAiDC,SAAjD,EAA4Dz1D,OAA5D,EAAqE;AAC5E,gBAAIg3D,SAASd,YAAYF,gBAAgB,KAAK3wD,MAArB,EAA6BsK,OAAO,IAAI3P,OAAxC,EAAiD6F,KAAjD,EAAwD2vD,WAAxD,CAAZ,CAAb;AACA,gBAAIyB,SAASf,YAAYF,gBAAgB,KAAKe,SAArB,EAAgCpnD,OAAO,IAAI3P,OAA3C,EAAoD6F,KAApD,EAA2D2vD,WAA3D,CAAZ,CAAb;;AAEA,gBAAIh/C,SAAStd,KAAKkM,wBAAL,CAA8B1K,CAA9B,EAAiCC,CAAjC,EAAoCq8D,MAApC,KAA+C99D,KAAKkM,wBAAL,CAA8B1K,CAA9B,EAAiCC,CAAjC,EAAoCs8D,MAApC,CAA5D;;AAEA,mBAAOzgD,MAAP;AACD,WAZ8B;;AAc/BggD,gBAAM,SAASA,IAAT,CAAct7C,OAAd,EAAuBvL,IAAvB,EAA6B9J,KAA7B,EAAoC2vD,WAApC,EAAiDC,SAAjD,EAA4D;AAChE,gBAAIuB,SAAShB,gBAAgB,KAAK3wD,MAArB,EAA6BsK,IAA7B,EAAmC9J,KAAnC,EAA0C2vD,WAA1C,CAAb;AACA,gBAAIyB,SAASjB,gBAAgB,KAAKe,SAArB,EAAgCpnD,IAAhC,EAAsC9J,KAAtC,EAA6C2vD,WAA7C,CAAb;;AAEAviD,qBAASwjD,cAAT,CAAwB,KAAKjjE,IAA7B,EAAmC0nB,OAAnC,EAA4C87C,MAA5C,EAAoDC,MAApD;AACD;AAnB8B,SAAjC;;AAsBAb,yBAAiB,gBAAjB,EAAmC;AACjC/wD,kBAAQ,CAAC,CAAC,IAAF,EAAQ,CAAC,GAAT,EAAc,CAAd,EAAiB,CAAjB,EAAoB,IAApB,EAA0B,CAAC,GAA3B,EAAgC,CAAC,IAAjC,EAAuC,CAAC,GAAxC,CADyB;;AAGjC6xD,4BAAkB,CAAC,CAAC,IAAF,EAAQ,CAAC,GAAT,EAAc;AAChC,WAAC,IADiB,EACX,CAAC,GADU,EACL,IADK,EACC,CAAC,GADF,EACO;AACzB,cAFkB,EAEZ,CAAC,GAFW,CAHe;;AAOjCC,wBAAc,SAASA,YAAT,CAAsBxnD,IAAtB,EAA4B8lD,SAA5B,EAAuC;AACnD;AACA,gBAAIjhE,IAAI,KAAK0iE,gBAAL,CAAsB78D,KAAtB,EAAR;AACA,gBAAI+8D,cAAc3B,YAAY9lD,IAA9B;AACA,gBAAI0nD,KAAK,CAAT;AACA,gBAAI1/D,KAAK,CAAT;;AAEAnD,cAAE6iE,EAAF,IAAQ7iE,EAAE6iE,EAAF,IAAQD,WAAhB;AACA5iE,cAAEmD,EAAF,IAAQnD,EAAEmD,EAAF,IAAQy/D,WAAhB;;AAEA,mBAAO5iE,CAAP;AACD,WAlBgC;;AAoBjC8hE,mBAAS,SAASA,OAAT,CAAiB57D,CAAjB,EAAoBC,CAApB,EAAuBgV,IAAvB,EAA6B9J,KAA7B,EAAoC2vD,WAApC,EAAiDC,SAAjD,EAA4Dz1D,OAA5D,EAAqE;AAC5E,gBAAIg3D,SAASd,YAAYF,gBAAgB,KAAK3wD,MAArB,EAA6BsK,OAAO,IAAI3P,OAAxC,EAAiD6F,KAAjD,EAAwD2vD,WAAxD,CAAZ,CAAb;AACA,gBAAIyB,SAASf,YAAYF,gBAAgB,KAAKmB,YAAL,CAAkBxnD,IAAlB,EAAwB8lD,SAAxB,CAAhB,EAAoD9lD,OAAO,IAAI3P,OAA/D,EAAwE6F,KAAxE,EAA+E2vD,WAA/E,CAAZ,CAAb;AACA,gBAAIh/C,SAAStd,KAAKkM,wBAAL,CAA8B1K,CAA9B,EAAiCC,CAAjC,EAAoCq8D,MAApC,KAA+C99D,KAAKkM,wBAAL,CAA8B1K,CAA9B,EAAiCC,CAAjC,EAAoCs8D,MAApC,CAA5D;;AAEA,mBAAOzgD,MAAP;AACD,WA1BgC;;AA4BjCggD,gBAAM,SAASA,IAAT,CAAct7C,OAAd,EAAuBvL,IAAvB,EAA6B9J,KAA7B,EAAoC2vD,WAApC,EAAiDC,SAAjD,EAA4D;AAChE,gBAAIuB,SAAShB,gBAAgB,KAAK3wD,MAArB,EAA6BsK,IAA7B,EAAmC9J,KAAnC,EAA0C2vD,WAA1C,CAAb;AACA,gBAAI2B,eAAenB,gBAAgB,KAAKmB,YAAL,CAAkBxnD,IAAlB,EAAwB8lD,SAAxB,CAAhB,EAAoD9lD,IAApD,EAA0D9J,KAA1D,EAAiE2vD,WAAjE,CAAnB;;AAEAviD,qBAASwjD,cAAT,CAAwB,KAAKjjE,IAA7B,EAAmC0nB,OAAnC,EAA4C87C,MAA5C,EAAoDG,YAApD;AACD;AAjCgC,SAAnC;;AAoCAf,yBAAiB,KAAjB,EAAwB;AACtB/wD,kBAAQ,CAAC,CAAC,IAAF,EAAQ,CAAC,GAAT,EAAc,CAAd,EAAiB,CAAjB,EAAoB,IAApB,EAA0B,CAAC,GAA3B,EAAgC,CAAhC,EAAmC,CAAC,IAApC,CADc;;AAGtBqxD,eAAK,SAASA,GAAT,CAAa3hD,IAAb,EAAmB;AACtB,mBAAOohD,YAAYphD,IAAZ,IAAoB,KAA3B;AACD;AALqB,SAAxB;;AAQAqhD,yBAAiB,QAAjB,EAA2B;AACzBruD,kBAAQ,IADiB;;AAGzBuuD,mBAAS,SAASA,OAAT,CAAiB57D,CAAjB,EAAoBC,CAApB,EAAuBgV,IAAvB,EAA6B9J,KAA7B,EAAoC2vD,WAApC,EAAiDC,SAAjD,EAA4Dz1D,OAA5D,EAAqE;AAC5E,gBAAIxB,IAAIg3D,WAAR;AACA,gBAAIh/C,SAASpgB,KAAK6N,GAAL,CAASzF,EAAE9D,CAAF,GAAMA,CAAf,EAAkB,CAAlB,IAAuBtE,KAAK6N,GAAL,CAASzF,EAAE7D,CAAF,GAAMA,CAAf,EAAkB,CAAlB,CAAvB,IAA+CvE,KAAK6N,GAAL,CAAS,CAAC0L,OAAO,IAAI3P,OAAZ,IAAuB,KAAK+H,MAArC,EAA6C,CAA7C,CAA5D;;AAEA,mBAAOyO,MAAP;AACD,WARwB;;AAUzBggD,gBAAM,SAASA,IAAT,CAAct7C,OAAd,EAAuBvL,IAAvB,EAA6B9J,KAA7B,EAAoC2vD,WAApC,EAAiDC,SAAjD,EAA4D;AAChExiD,qBAASwjD,cAAT,CAAwB,KAAKjjE,IAA7B,EAAmC0nB,OAAnC,EAA4Cs6C,YAAY96D,CAAxD,EAA2D86D,YAAY76D,CAAvE,EAA0E,KAAKoN,MAAL,GAAc4H,IAAxF;AACD,WAZwB;;AAczBi/B,mBAAS,SAASA,OAAT,CAAiB75B,IAAjB,EAAuB;AAC9B,mBAAO9B,SAASqkD,aAAT,CAAuBviD,KAAK6O,MAAL,CAAY,OAAZ,EAAqByb,OAA5C,EAAqDtqB,KAAK6O,MAAL,CAAY,aAAZ,EAA2BtwB,KAAhF,IAAyF,KAAKyU,MAArG;AACD;AAhBwB,SAA3B;;AAmBAquD,yBAAiB,KAAjB,EAAwB;AACtB/wD,kBAAQ,CAAC,CAAC,IAAF,EAAQ,CAAR,EAAW,CAAC,IAAZ,EAAkB,CAAC,GAAnB,EAAwB,IAAxB,EAA8B,CAAC,GAA/B,EAAoC,IAApC,EAA0C,CAA1C,CADc;;AAGtBupC,mBAAS,SAASA,OAAT,CAAiB75B,IAAjB,EAAuB;AAC9B,mBAAO,CAAP;AACD,WALqB;;AAOtB2hD,eAAK,SAASA,GAAT,CAAa3hD,IAAb,EAAmB;AACtB,mBAAO,CAAP;AACD;AATqB,SAAxB;;AAYAqhD,yBAAiB,QAAjB,EAA2B;AACzB/wD,kBAAQ,CAAC,CAAC,IAAF,EAAQ,IAAR,EAAc,IAAd,EAAoB,IAApB,EAA0B,IAA1B,EAAgC,CAAC,GAAjC,EAAsC,CAAC,IAAvC,EAA6C,CAAC,GAA9C;AADiB,SAA3B;;AAIA+wD,yBAAiB,SAAjB,EAA4B;AAC1B/wD,kBAAQ,CAAC,CAAC,IAAF,EAAQ,CAAC,IAAT,EAAe,CAAf,EAAkB,CAAC,GAAnB,EAAwB,IAAxB,EAA8B,CAAC,IAA/B,EAAqC,CAArC,EAAwC,CAAxC,CADkB;;AAG1BqxD,eAAK,SAASA,GAAT,CAAa3hD,IAAb,EAAmB;AACtB,mBAAOA,KAAK6O,MAAL,CAAY,OAAZ,EAAqByb,OAArB,GAA+BtqB,KAAK6O,MAAL,CAAY,aAAZ,EAA2BtwB,KAAjE;AACD;AALyB,SAA5B;AAOD,OA3PD;;AA6PAf,aAAOD,OAAP,GAAiB6iE,GAAjB;;AAEA;AAAO,KA55fG;AA65fV;AACA,SAAO,UAAS5iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIgC,SAAShC,oBAAoB,CAApB,CAAb;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAIgC,SAAShC,oBAAoB,CAApB,CAAb;;AAEA,UAAIoiE,MAAM,EAAV;;AAEA;AACAA,UAAIoC,mBAAJ,GAA0B,UAAUC,OAAV,EAAmBC,OAAnB,EAA4B;AACpD,YAAI7lD,KAAK,KAAKA,EAAd;AACA,YAAI8lD,UAAU,KAAKC,yBAAL,EAAd;AACA,YAAIC,aAAaF,QAAQ,CAAR,CAAjB;AACA,YAAIG,YAAYH,QAAQ,CAAR,CAAhB;AACA,YAAII,QAAQJ,QAAQ,CAAR,CAAZ;AACA,YAAIr6D,MAAMuU,GAAGvU,GAAH,EAAV;AACA,YAAID,OAAOwU,GAAGxU,IAAH,EAAX;;AAEA,YAAI1C,IAAI,CAAC,CAAC88D,UAAUI,UAAX,IAAyBE,KAAzB,GAAiCz6D,IAAI3C,CAAtC,IAA2C0C,IAAnD;AACA,YAAIzC,IAAI,CAAC,CAAC88D,UAAUI,SAAX,IAAwBC,KAAxB,GAAgCz6D,IAAI1C,CAArC,IAA0CyC,IAAlD;;AAEA,eAAO,CAAC1C,CAAD,EAAIC,CAAJ,CAAP;AACD,OAbD;;AAeAw6D,UAAIwC,yBAAJ,GAAgC,YAAY;AAC1C,YAAI,KAAKI,WAAT,EAAsB;AACpB,iBAAO,KAAKA,WAAZ;AACD;;AAED,YAAIx6C,YAAY,KAAKA,SAArB;AACA,YAAIy6C,OAAOz6C,UAAU06C,qBAAV,EAAX;AACA,YAAIlhE,QAAQhC,OAAOotD,gBAAP,CAAwB5kC,SAAxB,CAAZ;AACA,YAAI26C,aAAa,SAASA,UAAT,CAAoB1kE,IAApB,EAA0B;AACzC,iBAAOwpD,WAAWjmD,MAAMqrD,gBAAN,CAAuB5uD,IAAvB,CAAX,CAAP;AACD,SAFD;;AAIA,YAAIwM,UAAU;AACZs/B,gBAAM44B,WAAW,cAAX,CADM;AAEZ34B,iBAAO24B,WAAW,eAAX,CAFK;AAGZ14B,eAAK04B,WAAW,aAAX,CAHO;AAIZz4B,kBAAQy4B,WAAW,gBAAX;AAJI,SAAd;;AAOA,YAAI3tB,SAAS;AACXjL,gBAAM44B,WAAW,mBAAX,CADK;AAEX34B,iBAAO24B,WAAW,oBAAX,CAFI;AAGX14B,eAAK04B,WAAW,kBAAX,CAHM;AAIXz4B,kBAAQy4B,WAAW,qBAAX;AAJG,SAAb;;AAOA,YAAI7V,cAAc9kC,UAAU8kC,WAA5B;AACA,YAAIC,eAAe/kC,UAAU+kC,YAA7B;;AAEA,YAAI6V,aAAan4D,QAAQs/B,IAAR,GAAet/B,QAAQu/B,KAAxC;AACA,YAAI64B,aAAap4D,QAAQw/B,GAAR,GAAcx/B,QAAQy/B,MAAvC;;AAEA,YAAI44B,YAAY9tB,OAAOjL,IAAP,GAAciL,OAAOhL,KAArC;AACA,YAAI+4B,YAAY/tB,OAAO/K,GAAP,GAAa+K,OAAO9K,MAApC;;AAEA,YAAIq4B,QAAQE,KAAKv3D,KAAL,IAAc4hD,cAAcgW,SAA5B,CAAZ;;AAEA,YAAIE,YAAYlW,cAAc8V,UAA9B;AACA,YAAIK,YAAYlW,eAAe8V,UAA/B;;AAEA,YAAIK,UAAUT,KAAKv3D,KAAL,GAAa,CAAC03D,aAAaE,SAAd,IAA2BP,KAAtD;AACA,YAAIY,UAAUV,KAAKt3D,MAAL,GAAc,CAAC03D,aAAaE,SAAd,IAA2BR,KAAvD;;AAEA,YAAIx4B,OAAO04B,KAAK14B,IAAL,GAAYt/B,QAAQs/B,IAApB,GAA2BiL,OAAOjL,IAA7C;AACA,YAAIE,MAAMw4B,KAAKx4B,GAAL,GAAWx/B,QAAQw/B,GAAnB,GAAyB+K,OAAO/K,GAA1C;;AAEA,eAAO,KAAKu4B,WAAL,GAAmB,CAACz4B,IAAD,EAAOE,GAAP,EAAY+4B,SAAZ,EAAuBC,SAAvB,EAAkCV,KAAlC,CAA1B;AACD,OA/CD;;AAiDA3C,UAAIwD,oCAAJ,GAA2C,YAAY;AACrD,aAAKZ,WAAL,GAAmB,IAAnB;AACD,OAFD;;AAIA5C,UAAIyD,kBAAJ,GAAyB,UAAUl+D,CAAV,EAAaC,CAAb,EAAgBk+D,uBAAhB,EAAyCC,OAAzC,EAAkD;AACzE,eAAO,KAAKC,mBAAL,CAAyBr+D,CAAzB,EAA4BC,CAA5B,EAA+Bk+D,uBAA/B,EAAwDC,OAAxD,EAAiE,CAAjE,CAAP;AACD,OAFD;;AAIA3D,UAAI4D,mBAAJ,GAA0B,UAAUr+D,CAAV,EAAaC,CAAb,EAAgBk+D,uBAAhB,EAAyCC,OAAzC,EAAkD;AAC1E,YAAI7pD,OAAO,IAAX;AACA,YAAI5L,IAAI,IAAR;AACA,YAAI+O,OAAO/O,EAAE21D,oBAAF,EAAX;AACA,YAAIC,OAAO,EAAX,CAJ0E,CAI3D;AACf,YAAI77D,OAAOiG,EAAEuO,EAAF,CAAKxU,IAAL,EAAX;AACA,YAAIygC,eAAex6B,EAAEuO,EAAF,CAAKiE,gBAAL,EAAnB;AACA,YAAIqjD,gBAAgB,CAACJ,UAAU,EAAV,GAAe,CAAhB,IAAqB17D,IAAzC;AACA,YAAI+7D,gBAAgB,CAACL,UAAU,CAAV,GAAc,CAAf,IAAoB17D,IAAxC;AACA,YAAIg8D,iBAAiB,CAACN,UAAU,CAAV,GAAc,CAAf,IAAoB17D,IAAzC;AACA,YAAIi8D,YAAY75D,QAAhB;AACA,YAAI85D,QAAJ;AACA,YAAIC,QAAJ;;AAEA,YAAIV,uBAAJ,EAA6B;AAC3BzmD,iBAAOA,KAAKqgC,WAAZ;AACD;;AAED,iBAAS+mB,MAAT,CAAgBx9D,GAAhB,EAAqBy9D,MAArB,EAA6B;AAC3B,cAAIz9D,IAAIyY,MAAJ,EAAJ,EAAkB;AAChB,gBAAI8kD,QAAJ,EAAc;AACZ,qBADY,CACJ;AACT,aAFD,MAEO;AACLA,yBAAWv9D,GAAX;AACAi9D,mBAAK78D,IAAL,CAAUJ,GAAV;AACD;AACF;;AAED,cAAIA,IAAI8Y,MAAJ,OAAiB2kD,UAAU,IAAV,IAAkBA,SAASJ,SAA5C,CAAJ,EAA4D;AAC1D,gBAAIC,QAAJ,EAAc;AACZ;AACA;AACA,kBAAIA,SAAS11C,MAAT,CAAgB,SAAhB,EAA2BtwB,KAA3B,KAAqC0I,IAAI4nB,MAAJ,CAAW,SAAX,EAAsBtwB,KAA/D,EAAsE;AACpE,qBAAK,IAAIL,IAAI,CAAb,EAAgBA,IAAIgmE,KAAKz9D,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,sBAAIgmE,KAAKhmE,CAAL,EAAQ6hB,MAAR,EAAJ,EAAsB;AACpBmkD,yBAAKhmE,CAAL,IAAU+I,GAAV;AACAs9D,+BAAWt9D,GAAX;AACAq9D,gCAAYI,UAAU,IAAV,GAAiBA,MAAjB,GAA0BJ,SAAtC;AACA;AACD;AACF;AACF;AACF,aAbD,MAaO;AACLJ,mBAAK78D,IAAL,CAAUJ,GAAV;AACAs9D,yBAAWt9D,GAAX;AACAq9D,0BAAYI,UAAU,IAAV,GAAiBA,MAAjB,GAA0BJ,SAAtC;AACD;AACF;AACF;;AAED,iBAASK,SAAT,CAAmBrkD,IAAnB,EAAyB;AACvB,cAAI5U,QAAQ4U,KAAKqvB,UAAL,KAAoB,IAAIy0B,aAApC;AACA,cAAIz4D,SAAS2U,KAAKuvB,WAAL,KAAqB,IAAIu0B,aAAtC;AACA,cAAIQ,KAAKl5D,QAAQ,CAAjB;AACA,cAAIm5D,KAAKl5D,SAAS,CAAlB;AACA,cAAIjG,MAAM4a,KAAK9B,QAAL,EAAV;;AAEA,cAAI9Y,IAAIC,CAAJ,GAAQi/D,EAAR,IAAcj/D,CAAd,IAAmBA,KAAKD,IAAIC,CAAJ,GAAQi/D,EAAhC,CAAmC;AAAnC,aACDl/D,IAAIE,CAAJ,GAAQi/D,EAAR,IAAcj/D,CADb,IACkBA,KAAKF,IAAIE,CAAJ,GAAQi/D,EADnC,CACsC;AADtC,YAEE;AACE,kBAAIC,QAAQx2D,EAAEy2D,UAAF,CAAa7qD,KAAK8qD,YAAL,CAAkB1kD,IAAlB,CAAb,CAAZ;;AAEA,kBAAIwkD,MAAMG,UAAN,CAAiBt/D,CAAjB,EAAoBC,CAApB,EAAuB,CAAvB,EAA0B8F,KAA1B,EAAiCC,MAAjC,EAAyCjG,IAAIC,CAA7C,EAAgDD,IAAIE,CAApD,CAAJ,EAA4D;AAC1D6+D,uBAAOnkD,IAAP,EAAa,CAAb;AACA,uBAAO,IAAP;AACD;AACF;AACJ;;AAED,iBAAS4kD,SAAT,CAAmBllD,IAAnB,EAAyB;AACvB,cAAIkJ,KAAKlJ,KAAKne,QAAd;;AAEA,cAAIsjE,KAAKj8C,GAAGkF,QAAZ;AACA,cAAIg3C,aAAaplD,KAAK6O,MAAL,CAAY,OAAZ,EAAqByb,OAAtC;AACA,cAAIy4B,QAAQ/iD,KAAK6O,MAAL,CAAY,aAAZ,EAA2BtwB,KAAvC;AACA,cAAImN,QAAQ05D,aAAa,CAAb,GAAiBjB,aAA7B,CANuB,CAMqB;AAC5C,cAAIkB,UAAU35D,QAAQA,KAAtB;AACA,cAAI45D,SAAS55D,QAAQ,CAArB;AACA,cAAI0U,MAAM8I,GAAGjN,MAAb;AACA,cAAI1V,MAAM2iB,GAAGhN,MAAb;AACA,cAAIqpD,WAAW,KAAf;AACA,cAAIb,MAAJ;;AAEA,cAAIS,GAAGK,QAAH,KAAgB,UAAhB,IAA8BL,GAAGK,QAAH,KAAgB,UAA9C,IAA4DL,GAAGK,QAAH,KAAgB,UAAhF,EAA4F;AAC1F,gBAAIr1B,MAAMg1B,GAAGM,MAAb;;AAEA,iBAAK,IAAIvnE,IAAI,CAAb,EAAgBA,IAAI,CAAJ,GAAQiyC,IAAI1pC,MAA5B,EAAoCvI,KAAK,CAAzC,EAA4C;AAC1C,kBAAI,CAACqnE,WAAWphE,KAAKyJ,cAAL,CAAoBjI,CAApB,EAAuBC,CAAvB,EAA0BuqC,IAAIjyC,CAAJ,CAA1B,EAAkCiyC,IAAIjyC,IAAI,CAAR,CAAlC,EAA8CiyC,IAAIjyC,IAAI,CAAR,CAA9C,EAA0DiyC,IAAIjyC,IAAI,CAAR,CAA1D,EAAsEonE,MAAtE,CAAZ,KAA8FD,WAAWX,SAASvgE,KAAK2L,kBAAL,CAAwBnK,CAAxB,EAA2BC,CAA3B,EAA8BuqC,IAAIjyC,CAAJ,CAA9B,EAAsCiyC,IAAIjyC,IAAI,CAAR,CAAtC,EAAkDiyC,IAAIjyC,IAAI,CAAR,CAAlD,EAA8DiyC,IAAIjyC,IAAI,CAAR,CAA9D,CAApB,CAAlG,EAAkM;AAChMumE,uBAAOzkD,IAAP,EAAa0kD,MAAb;AACA,uBAAO,IAAP;AACD;AACF;AACF,WATD,MASO,IAAIS,GAAGK,QAAH,KAAgB,QAAhB,IAA4BL,GAAGK,QAAH,KAAgB,aAA5C,IAA6DL,GAAGK,QAAH,KAAgB,MAA7E,IAAuFL,GAAGK,QAAH,KAAgB,UAA3G,EAAuH;AAC5H,gBAAIr1B,MAAMg1B,GAAGM,MAAb;AACA,iBAAK,IAAIvnE,IAAI,CAAb,EAAgBA,IAAI,CAAJ,GAAQinE,GAAGM,MAAH,CAAUh/D,MAAlC,EAA0CvI,KAAK,CAA/C,EAAkD;AAChD,kBAAI,CAACqnE,WAAWphE,KAAK+J,gBAAL,CAAsBvI,CAAtB,EAAyBC,CAAzB,EAA4BuqC,IAAIjyC,CAAJ,CAA5B,EAAoCiyC,IAAIjyC,IAAI,CAAR,CAApC,EAAgDiyC,IAAIjyC,IAAI,CAAR,CAAhD,EAA4DiyC,IAAIjyC,IAAI,CAAR,CAA5D,EAAwEiyC,IAAIjyC,IAAI,CAAR,CAAxE,EAAoFiyC,IAAIjyC,IAAI,CAAR,CAApF,EAAgGonE,MAAhG,CAAZ,KAAwHD,WAAWX,SAASvgE,KAAKiL,uBAAL,CAA6BzJ,CAA7B,EAAgCC,CAAhC,EAAmCuqC,IAAIjyC,CAAJ,CAAnC,EAA2CiyC,IAAIjyC,IAAI,CAAR,CAA3C,EAAuDiyC,IAAIjyC,IAAI,CAAR,CAAvD,EAAmEiyC,IAAIjyC,IAAI,CAAR,CAAnE,EAA+EiyC,IAAIjyC,IAAI,CAAR,CAA/E,EAA2FiyC,IAAIjyC,IAAI,CAAR,CAA3F,CAApB,CAA5H,EAAyP;AACvPumE,uBAAOzkD,IAAP,EAAa0kD,MAAb;AACA,uBAAO,IAAP;AACD;AACF;AACF;;AAED;;AAEA,cAAItkD,MAAMA,OAAO8I,GAAGjN,MAApB;AACA,cAAI1V,MAAMA,OAAO2iB,GAAGhN,MAApB;;AAEA,cAAIwpD,SAASxrD,KAAKqoD,aAAL,CAAmB6C,UAAnB,EAA+BrC,KAA/B,CAAb;;AAEA,cAAI4C,SAAS,CAAC,EAAElnE,MAAM,QAAR,EAAkBkH,GAAGw/D,GAAGS,WAAxB,EAAqChgE,GAAGu/D,GAAGU,WAA3C,EAAwD/0D,OAAOq0D,GAAGW,aAAlE,EAAD,EAAoF,EAAErnE,MAAM,QAAR,EAAkBkH,GAAGw/D,GAAGY,SAAxB,EAAmCngE,GAAGu/D,GAAGa,SAAzC,EAAoDl1D,OAAOq0D,GAAGc,aAA9D,EAApF,EAAmK,EAAExnE,MAAM,YAAR,EAAsBkH,GAAGw/D,GAAGl4B,IAA5B,EAAkCrnC,GAAGu/D,GAAGj4B,IAAxC,EAA8Cp8B,OAAOq0D,GAAGe,gBAAxD,EAAnK,EAA+O,EAAEznE,MAAM,YAAR,EAAsBkH,GAAGw/D,GAAGl4B,IAA5B,EAAkCrnC,GAAGu/D,GAAGj4B,IAAxC,EAA8Cp8B,OAAOq0D,GAAGgB,gBAAxD,EAA/O,CAAb;;AAEA,eAAK,IAAIjoE,IAAI,CAAb,EAAgBA,IAAIynE,OAAOl/D,MAA3B,EAAmCvI,GAAnC,EAAwC;AACtC,gBAAIkoE,KAAKT,OAAOznE,CAAP,CAAT;AACA,gBAAI4mE,QAAQx2D,EAAEiyD,WAAF,CAAcvgD,KAAK6O,MAAL,CAAYu3C,GAAG3nE,IAAH,GAAU,cAAtB,EAAsCF,KAApD,CAAZ;AACA,gBAAImiE,YAAY1gD,KAAK6O,MAAL,CAAY,OAAZ,EAAqByb,OAArC;AACA,gBAAIw6B,MAAMtD,YAAN,CAAmB77D,CAAnB,EAAsBC,CAAtB,EAAyB8/D,MAAzB,EAAiCU,GAAGt1D,KAApC,EAA2C,EAAEnL,GAAGygE,GAAGzgE,CAAR,EAAWC,GAAGwgE,GAAGxgE,CAAjB,EAA3C,EAAiE86D,SAAjE,EAA4EyD,aAA5E,KAA8FW,MAAMvD,OAAN,CAAc57D,CAAd,EAAiBC,CAAjB,EAAoB8/D,MAApB,EAA4BU,GAAGt1D,KAA/B,EAAsC,EAAEnL,GAAGygE,GAAGzgE,CAAR,EAAWC,GAAGwgE,GAAGxgE,CAAjB,EAAtC,EAA4D86D,SAA5D,EAAuEyD,aAAvE,CAAlG,EAAyL;AACvLM,qBAAOzkD,IAAP;AACA,qBAAO,IAAP;AACD;AACF;;AAED;AACA,cAAI8oB,gBAAgBo7B,KAAKz9D,MAAL,GAAc,CAAlC,EAAqC;AACnCk+D,sBAAUvkD,GAAV;AACAukD,sBAAUp+D,GAAV;AACD;AACF;;AAED,iBAAS8/D,OAAT,CAAiBvmE,GAAjB,EAAsBrB,IAAtB,EAA4B6nE,GAA5B,EAAiC;AAC/B,iBAAOliE,KAAKoD,mBAAL,CAAyB1H,GAAzB,EAA8BrB,IAA9B,EAAoC6nE,GAApC,CAAP;AACD;;AAED,iBAASC,UAAT,CAAoBt/D,GAApB,EAAyBS,MAAzB,EAAiC;AAC/B,cAAIwhB,KAAKjiB,IAAIpF,QAAb;AACA,cAAI2kE,KAAKnC,cAAT;;AAEA,cAAIj3B,UAAJ;AACA,cAAI1lC,MAAJ,EAAY;AACV0lC,yBAAa1lC,SAAS,GAAtB;AACD,WAFD,MAEO;AACL0lC,yBAAa,EAAb;AACD;;AAED,cAAIzyB,OAAO1T,IAAI4nB,MAAJ,CAAWue,aAAa,OAAxB,EAAiC7uC,KAA5C;AACA,cAAIkoE,gBAAgBx/D,IAAI4nB,MAAJ,CAAW,aAAX,EAA0Bye,QAA1B,KAAuC,KAA3D;;AAEA,cAAI,CAACm5B,aAAD,IAAkB,CAAC9rD,IAAvB,EAA6B;AAC3B;AACD;;AAED,cAAIqT,SAAS9E,GAAG8E,MAAhB;AACA,cAAI04C,KAAKz/D,IAAI4nB,MAAJ,CAAW,mBAAX,EAAgCyb,OAAzC;AACA,cAAIq8B,KAAK1/D,IAAI4nB,MAAJ,CAAW,yBAAX,EAAsCyb,OAA/C;AACA,cAAI8D,KAAKi4B,QAAQr4C,MAAR,EAAgB,YAAhB,EAA8BtmB,MAA9B,IAAwCg/D,EAAxC,GAA6C,IAAIF,EAAjD,GAAsD,IAAIG,EAAnE;AACA,cAAIx4B,KAAKk4B,QAAQr4C,MAAR,EAAgB,aAAhB,EAA+BtmB,MAA/B,IAAyCg/D,EAAzC,GAA8C,IAAIF,EAAlD,GAAuD,IAAIG,EAApE;AACA,cAAI1L,KAAKoL,QAAQr4C,MAAR,EAAgB,QAAhB,EAA0BtmB,MAA1B,CAAT;AACA,cAAIwzD,KAAKmL,QAAQr4C,MAAR,EAAgB,QAAhB,EAA0BtmB,MAA1B,CAAT;;AAEA,cAAI+mC,QAAQ43B,QAAQn9C,GAAGkF,QAAX,EAAqB,YAArB,EAAmC1mB,MAAnC,CAAZ;;AAEA,cAAImG,MAAMotD,KAAK7sB,KAAK,CAApB;AACA,cAAIrgC,MAAMktD,KAAK7sB,KAAK,CAApB;AACA,cAAItgC,MAAMotD,KAAK/sB,KAAK,CAApB;AACA,cAAIngC,MAAMktD,KAAK/sB,KAAK,CAApB;;AAEA,cAAIM,KAAJ,EAAW;AACT,gBAAIt/B,MAAM9N,KAAK8N,GAAL,CAASs/B,KAAT,CAAV;AACA,gBAAIz9B,MAAM3P,KAAK2P,GAAL,CAASy9B,KAAT,CAAV;;AAEA,gBAAIC,SAAS,SAASA,MAAT,CAAgB/oC,CAAhB,EAAmBC,CAAnB,EAAsB;AACjCD,kBAAIA,IAAIs1D,EAAR;AACAr1D,kBAAIA,IAAIs1D,EAAR;;AAEA,qBAAO;AACLv1D,mBAAGA,IAAIwJ,GAAJ,GAAUvJ,IAAIoL,GAAd,GAAoBiqD,EADlB;AAELr1D,mBAAGD,IAAIqL,GAAJ,GAAUpL,IAAIuJ,GAAd,GAAoB+rD;AAFlB,eAAP;AAID,aARD;;AAUA,gBAAIvsB,QAAQD,OAAO7gC,GAAP,EAAYC,GAAZ,CAAZ;AACA,gBAAI8gC,QAAQF,OAAO7gC,GAAP,EAAYG,GAAZ,CAAZ;AACA,gBAAI6gC,QAAQH,OAAO3gC,GAAP,EAAYD,GAAZ,CAAZ;AACA,gBAAIghC,QAAQJ,OAAO3gC,GAAP,EAAYC,GAAZ,CAAZ;;AAEA,gBAAIsC,SAAS,CAACq+B,MAAMhpC,CAAP,EAAUgpC,MAAM/oC,CAAhB,EAAmBipC,MAAMlpC,CAAzB,EAA4BkpC,MAAMjpC,CAAlC,EAAqCkpC,MAAMnpC,CAA3C,EAA8CmpC,MAAMlpC,CAApD,EAAuDgpC,MAAMjpC,CAA7D,EAAgEipC,MAAMhpC,CAAtE,CAAb;;AAEA,gBAAIzB,KAAKkM,wBAAL,CAA8B1K,CAA9B,EAAiCC,CAAjC,EAAoC0K,MAApC,CAAJ,EAAiD;AAC/Cm0D,qBAAOx9D,GAAP;AACA,qBAAO,IAAP;AACD;AACF,WAzBD,MAyBO;AACL;AACA,gBAAIuD,KAAK;AACPE,iBAAG0jC,EADI;AAEPzjC,iBAAGwjC,EAFI;AAGPzrC,kBAAImL,GAHG;AAIPlL,kBAAIoL,GAJG;AAKPnL,kBAAIkL,GALG;AAMPjL,kBAAImL;AANG,aAAT;;AASA,gBAAI7J,KAAKgH,aAAL,CAAmBX,EAAnB,EAAuB7E,CAAvB,EAA0BC,CAA1B,CAAJ,EAAkC;AAChC6+D,qBAAOx9D,GAAP;AACA,qBAAO,IAAP;AACD;AACF;AACF;;AAED,aAAK,IAAI/I,IAAImf,KAAK5W,MAAL,GAAc,CAA3B,EAA8BvI,KAAK,CAAnC,EAAsCA,GAAtC,EAA2C;AACzC;AACA,cAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;;AAEA,cAAI+I,IAAIyY,MAAJ,EAAJ,EAAkB;AAChBilD,sBAAU19D,GAAV,KAAkBs/D,WAAWt/D,GAAX,CAAlB;AACD,WAFD,MAEO;AACL;AACAi+D,sBAAUj+D,GAAV,KAAkBs/D,WAAWt/D,GAAX,CAAlB,IAAqCs/D,WAAWt/D,GAAX,EAAgB,QAAhB,CAArC,IAAkEs/D,WAAWt/D,GAAX,EAAgB,QAAhB,CAAlE;AACD;AACF;;AAED,eAAOi9D,IAAP;AACD,OA7ND;;AA+NA;AACA9D,UAAIwG,WAAJ,GAAkB,UAAUlkE,EAAV,EAAcE,EAAd,EAAkBD,EAAlB,EAAsBE,EAAtB,EAA0B;AAC1C,YAAIwa,OAAO,KAAK4mD,oBAAL,GAA4BvmB,WAAvC;AACA,YAAImpB,MAAM,EAAV;;AAEA,YAAIC,MAAMzlE,KAAKiJ,GAAL,CAAS5H,EAAT,EAAaC,EAAb,CAAV;AACA,YAAIokE,MAAM1lE,KAAKkJ,GAAL,CAAS7H,EAAT,EAAaC,EAAb,CAAV;AACA,YAAIqkE,MAAM3lE,KAAKiJ,GAAL,CAAS1H,EAAT,EAAaC,EAAb,CAAV;AACA,YAAIokE,MAAM5lE,KAAKkJ,GAAL,CAAS3H,EAAT,EAAaC,EAAb,CAAV;;AAEAH,aAAKokE,GAAL;AACAnkE,aAAKokE,GAAL;AACAnkE,aAAKokE,GAAL;AACAnkE,aAAKokE,GAAL;;AAEA,YAAIC,QAAQ/iE,KAAK+B,eAAL,CAAqB;AAC/BxD,cAAIA,EAD2B,EACvBE,IAAIA,EADmB;AAE/BD,cAAIA,EAF2B,EAEvBE,IAAIA;AAFmB,SAArB,CAAZ;;AAKA,aAAK,IAAIqW,IAAI,CAAb,EAAgBA,IAAImE,KAAK5W,MAAzB,EAAiCyS,GAAjC,EAAsC;AACpC,cAAIjS,MAAMoW,KAAKnE,CAAL,CAAV;;AAEA,cAAIjS,IAAIyY,MAAJ,EAAJ,EAAkB;AAChB,gBAAIY,OAAOrZ,GAAX;AACA,gBAAIkgE,SAAS7mD,KAAK7d,WAAL,CAAiB;AAC5BgtC,4BAAc,IADc;AAE5BM,4BAAc,KAFc;AAG5B1F,6BAAe;AAHa,aAAjB,CAAb;;AAMA,gBAAIlmC,KAAK+G,sBAAL,CAA4Bg8D,KAA5B,EAAmCC,MAAnC,KAA8C,CAAChjE,KAAKmH,wBAAL,CAA8B67D,MAA9B,EAAsCD,KAAtC,CAAnD,EAAiG;AAC/FL,kBAAIx/D,IAAJ,CAASiZ,IAAT;AACD;AACF,WAXD,MAWO;AACL,gBAAIN,OAAO/Y,GAAX;AACA,gBAAIiiB,KAAKlJ,KAAKne,QAAd;AACA,gBAAIsjE,KAAKj8C,GAAGkF,QAAZ;;AAEA,gBAAI+2C,GAAGiC,MAAH,IAAa,IAAb,IAAqBjC,GAAGkC,MAAH,IAAa,IAAlC,IAA0C,CAACljE,KAAKgH,aAAL,CAAmB+7D,KAAnB,EAA0B/B,GAAGiC,MAA7B,EAAqCjC,GAAGkC,MAAxC,CAA/C,EAAgG;AAC9F;AACD;AACD,gBAAIlC,GAAGmC,IAAH,IAAW,IAAX,IAAmBnC,GAAGoC,IAAH,IAAW,IAA9B,IAAsC,CAACpjE,KAAKgH,aAAL,CAAmB+7D,KAAnB,EAA0B/B,GAAGmC,IAA7B,EAAmCnC,GAAGoC,IAAtC,CAA3C,EAAwF;AACtF;AACD;;AAED,gBAAIpC,GAAGK,QAAH,KAAgB,QAAhB,IAA4BL,GAAGK,QAAH,KAAgB,aAA5C,IAA6DL,GAAGK,QAAH,KAAgB,MAA7E,IAAuFL,GAAGK,QAAH,KAAgB,UAAvG,IAAqHL,GAAGK,QAAH,KAAgB,UAArI,IAAmJL,GAAGK,QAAH,KAAgB,UAAvK,EAAmL;;AAEjL,kBAAIr1B,MAAMjnB,GAAG8E,MAAH,CAAUoiB,SAAV,IAAuBlnB,GAAG8E,MAAH,CAAUqiB,OAAjC,IAA4CnnB,GAAG8E,MAAH,CAAUiiB,WAAhE;AACA,kBAAIu3B,YAAY,IAAhB;;AAEA,mBAAK,IAAItpE,IAAI,CAAb,EAAgBA,IAAIiyC,IAAI1pC,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,oBAAI,CAACiG,KAAKiH,kBAAL,CAAwB87D,KAAxB,EAA+B/2B,IAAIjyC,CAAJ,CAA/B,CAAL,EAA6C;AAC3CspE,8BAAY,KAAZ;AACA;AACD;AACF;;AAED,kBAAIA,SAAJ,EAAe;AACbX,oBAAIx/D,IAAJ,CAAS2Y,IAAT;AACD;AACF,aAfD,MAeO,IAAImlD,GAAGK,QAAH,KAAgB,UAAhB,IAA8BL,GAAGK,QAAH,KAAgB,UAAlD,EAA8D;AACnEqB,kBAAIx/D,IAAJ,CAAS2Y,IAAT;AACD;AACF;AACF;;AAED,eAAO6mD,GAAP;AACD,OAnED;;AAqEArpE,aAAOD,OAAP,GAAiB6iE,GAAjB;;AAEA;AAAO,KA1xgBG;AA2xgBV;AACA,SAAO,UAAS5iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;;AAEA,UAAIoiE,MAAM,EAAV;;AAEAA,UAAIqH,oBAAJ,GAA2B,UAAUznD,IAAV,EAAgB;AACzC,YAAImlD,KAAKnlD,KAAKne,QAAL,CAAcusB,QAAvB;AACA,YAAIs5C,aAAavC,GAAGK,QAAH,KAAgB,UAAjC;AACA,YAAImC,WAAWxC,GAAGK,QAAH,KAAgB,QAA/B;AACA,YAAIoC,gBAAgBzC,GAAGK,QAAH,KAAgB,aAApC;AACA,YAAIqC,aAAa1C,GAAGK,QAAH,KAAgB,UAAjC;AACA,YAAItM,aAAaiM,GAAGK,QAAH,KAAgB,UAAjC;AACA,YAAIsC,SAAS3C,GAAGK,QAAH,KAAgB,MAA7B;;AAEA;AACA,YAAI38D,KAAJ,EAAWC,KAAX;AACA,YAAIs+D,MAAJ,EAAYC,MAAZ,EAAoBC,IAApB,EAA0BC,IAA1B,EAAgCt6B,IAAhC,EAAsCC,IAAtC;;AAEA,YAAIw6B,UAAJ,EAAgB;AACdN,mBAASjC,GAAGl1B,WAAH,CAAe,CAAf,CAAT;AACAo3B,mBAASlC,GAAGl1B,WAAH,CAAe,CAAf,CAAT;AACAq3B,iBAAOnC,GAAGl1B,WAAH,CAAe,CAAf,CAAP;AACAs3B,iBAAOpC,GAAGl1B,WAAH,CAAe,CAAf,CAAP;AACD,SALD,MAKO;AACLm3B,mBAASjC,GAAGS,WAAZ;AACAyB,mBAASlC,GAAGU,WAAZ;AACAyB,iBAAOnC,GAAGY,SAAV;AACAwB,iBAAOpC,GAAGa,SAAV;AACD;;AAED/4B,eAAOk4B,GAAGl4B,IAAV;AACAC,eAAOi4B,GAAGj4B,IAAV;;AAEA;AACA;;AAEA,YAAI26B,UAAJ,EAAgB;AACdh/D,kBAAQu+D,SAASjC,GAAG4C,MAAH,CAAU,CAAV,CAAjB;AACAj/D,kBAAQu+D,SAASlC,GAAG4C,MAAH,CAAU,CAAV,CAAjB;AACD,SAHD,MAGO,IAAIH,iBAAiB1O,UAAjB,IAA+B4O,MAA/B,IAAyCH,QAA7C,EAAuD;AAC5D,cAAIx3B,MAAMg1B,GAAGM,MAAb;AACA,cAAIuC,KAAK7jE,KAAKoF,SAAL,CAAe4mC,IAAI,CAAJ,CAAf,EAAuBA,IAAI,CAAJ,CAAvB,EAA+BA,IAAI,CAAJ,CAA/B,EAAuC,GAAvC,CAAT;AACA,cAAI83B,KAAK9jE,KAAKoF,SAAL,CAAe4mC,IAAI,CAAJ,CAAf,EAAuBA,IAAI,CAAJ,CAAvB,EAA+BA,IAAI,CAAJ,CAA/B,EAAuC,GAAvC,CAAT;;AAEAtnC,kBAAQu+D,SAASY,EAAjB;AACAl/D,kBAAQu+D,SAASY,EAAjB;AACD,SAPM,MAOA;AACLp/D,kBAAQu+D,SAASn6B,IAAjB;AACAnkC,kBAAQu+D,SAASn6B,IAAjB;AACD;;AAEDi4B,WAAGW,aAAH,GAAmB3hE,KAAKyE,gBAAL,CAAsBC,KAAtB,EAA6BC,KAA7B,CAAnB;;AAEA;AACA;;AAEA,YAAImkC,OAAOk4B,GAAGl4B,IAAd;AACA,YAAIC,OAAOi4B,GAAGj4B,IAAd;;AAEA,YAAIw6B,UAAJ,EAAgB;AACdz6B,iBAAO,CAACm6B,SAASE,IAAV,IAAkB,CAAzB;AACAp6B,iBAAO,CAACm6B,SAASE,IAAV,IAAkB,CAAzB;AACD;;AAED1+D,gBAAQy+D,OAAOF,MAAf;AACAt+D,gBAAQy+D,OAAOF,MAAf;;AAEA,YAAIQ,UAAJ,EAAgB;AACd,cAAI13B,MAAMg1B,GAAGM,MAAb;;AAEA,cAAIt1B,IAAI1pC,MAAJ,GAAa,CAAb,GAAiB,CAAjB,KAAuB,CAA3B,EAA8B;AAC5B,gBAAIyhE,KAAK/3B,IAAI1pC,MAAJ,GAAa,CAAtB;AACA,gBAAI0hE,KAAKD,KAAK,CAAd;;AAEAr/D,oBAAQsnC,IAAI+3B,EAAJ,IAAU/3B,IAAIg4B,EAAJ,CAAlB;AACAr/D,oBAAQqnC,IAAI+3B,KAAK,CAAT,IAAc/3B,IAAIg4B,KAAK,CAAT,CAAtB;AACD,WAND,MAMO;AACL,gBAAID,KAAK/3B,IAAI1pC,MAAJ,GAAa,CAAb,GAAiB,CAA1B;AACA,gBAAI0hE,KAAKD,KAAK,CAAd;AACA,gBAAIE,KAAKF,KAAK,CAAd;;AAEAr/D,oBAAQsnC,IAAI+3B,EAAJ,IAAU/3B,IAAIg4B,EAAJ,CAAlB;AACAr/D,oBAAQqnC,IAAI+3B,KAAK,CAAT,IAAc/3B,IAAIg4B,KAAK,CAAT,CAAtB;AACD;AACF,SAjBD,MAiBO,IAAIP,iBAAiB1O,UAAjB,IAA+B4O,MAAnC,EAA2C;AAChD,cAAI33B,MAAMg1B,GAAGM,MAAb;AACA,cAAI4C,OAAOlD,GAAGmD,OAAd;AACA,cAAIC,IAAJ,EAAUC,IAAV;AACA,cAAIC,IAAJ,EAAUC,IAAV;;AAEA,cAAIL,KAAK5hE,MAAL,GAAc,CAAd,GAAkB,CAAlB,KAAwB,CAA5B,EAA+B;AAC7B,gBAAI+C,KAAK2mC,IAAI1pC,MAAJ,GAAa,CAAb,GAAiB,CAA1B,CAD6B,CACA;AAC7B,gBAAIkiE,KAAKn/D,KAAK,CAAd;AACA,gBAAIvB,KAAK0gE,KAAK,CAAd;;AAEAJ,mBAAOpkE,KAAKoF,SAAL,CAAe4mC,IAAI3mC,EAAJ,CAAf,EAAwB2mC,IAAIw4B,EAAJ,CAAxB,EAAiCx4B,IAAIloC,EAAJ,CAAjC,EAA0C,GAA1C,CAAP;AACAugE,mBAAOrkE,KAAKoF,SAAL,CAAe4mC,IAAI3mC,KAAK,CAAT,CAAf,EAA4B2mC,IAAIw4B,KAAK,CAAT,CAA5B,EAAyCx4B,IAAIloC,KAAK,CAAT,CAAzC,EAAsD,GAAtD,CAAP;;AAEAwgE,mBAAOtkE,KAAKoF,SAAL,CAAe4mC,IAAI3mC,EAAJ,CAAf,EAAwB2mC,IAAIw4B,EAAJ,CAAxB,EAAiCx4B,IAAIloC,EAAJ,CAAjC,EAA0C,MAA1C,CAAP;AACAygE,mBAAOvkE,KAAKoF,SAAL,CAAe4mC,IAAI3mC,KAAK,CAAT,CAAf,EAA4B2mC,IAAIw4B,KAAK,CAAT,CAA5B,EAAyCx4B,IAAIloC,KAAK,CAAT,CAAzC,EAAsD,MAAtD,CAAP;AACD,WAVD,MAUO;AACL,gBAAI0gE,KAAKx4B,IAAI1pC,MAAJ,GAAa,CAAb,GAAiB,CAA1B,CADK,CACwB;AAC7B,gBAAI+C,KAAKm/D,KAAK,CAAd,CAFK,CAEY;AACjB,gBAAI1gE,KAAK0gE,KAAK,CAAd,CAHK,CAGY;;AAEjBJ,mBAAOpkE,KAAKoF,SAAL,CAAe4mC,IAAI3mC,EAAJ,CAAf,EAAwB2mC,IAAIw4B,EAAJ,CAAxB,EAAiCx4B,IAAIloC,EAAJ,CAAjC,EAA0C,MAA1C,CAAP;AACAugE,mBAAOrkE,KAAKoF,SAAL,CAAe4mC,IAAI3mC,KAAK,CAAT,CAAf,EAA4B2mC,IAAIw4B,KAAK,CAAT,CAA5B,EAAyCx4B,IAAIloC,KAAK,CAAT,CAAzC,EAAsD,MAAtD,CAAP;;AAEAwgE,mBAAOtkE,KAAKoF,SAAL,CAAe4mC,IAAI3mC,EAAJ,CAAf,EAAwB2mC,IAAIw4B,EAAJ,CAAxB,EAAiCx4B,IAAIloC,EAAJ,CAAjC,EAA0C,GAA1C,CAAP;AACAygE,mBAAOvkE,KAAKoF,SAAL,CAAe4mC,IAAI3mC,KAAK,CAAT,CAAf,EAA4B2mC,IAAIw4B,KAAK,CAAT,CAA5B,EAAyCx4B,IAAIloC,KAAK,CAAT,CAAzC,EAAsD,GAAtD,CAAP;AACD;;AAEDY,kBAAQ4/D,OAAOF,IAAf;AACAz/D,kBAAQ4/D,OAAOF,IAAf;AACD;;AAEDrD,WAAGgB,gBAAH,GAAsBhiE,KAAKyE,gBAAL,CAAsBC,KAAtB,EAA6BC,KAA7B,CAAtB;;AAEAq8D,WAAGyD,QAAH,GAAc//D,KAAd;AACAs8D,WAAG0D,QAAH,GAAc//D,KAAd;;AAEA;AACA;;AAEAD,iBAAS,CAAC,CAAV;AACAC,iBAAS,CAAC,CAAV;;AAEA,YAAI++D,UAAJ,EAAgB;AACd,cAAI13B,MAAMg1B,GAAGM,MAAb;;AAEA,cAAIt1B,IAAI1pC,MAAJ,GAAa,CAAb,GAAiB,CAAjB,KAAuB,CAA3B,EAA8B;AAC5B;AACD,WAFD,MAEO;AACL,gBAAIyhE,KAAK/3B,IAAI1pC,MAAJ,GAAa,CAAb,GAAiB,CAA1B;AACA,gBAAI2hE,KAAKF,KAAK,CAAd;;AAEAr/D,oBAAQ,EAAEsnC,IAAIi4B,EAAJ,IAAUj4B,IAAI+3B,EAAJ,CAAZ,CAAR;AACAp/D,oBAAQ,EAAEqnC,IAAIi4B,KAAK,CAAT,IAAcj4B,IAAI+3B,KAAK,CAAT,CAAhB,CAAR;AACD;AACF;;AAED/C,WAAGe,gBAAH,GAAsB/hE,KAAKyE,gBAAL,CAAsBC,KAAtB,EAA6BC,KAA7B,CAAtB;;AAEA;AACA;;AAEA,YAAI++D,UAAJ,EAAgB;AACdh/D,kBAAQy+D,OAAOnC,GAAG4C,MAAH,CAAU5C,GAAG4C,MAAH,CAAUthE,MAAV,GAAmB,CAA7B,CAAf;AACAqC,kBAAQy+D,OAAOpC,GAAG4C,MAAH,CAAU5C,GAAG4C,MAAH,CAAUthE,MAAV,GAAmB,CAA7B,CAAf;AACD,SAHD,MAGO,IAAImhE,iBAAiB1O,UAAjB,IAA+B4O,MAA/B,IAAyCH,QAA7C,EAAuD;AAC5D,cAAIx3B,MAAMg1B,GAAGM,MAAb;AACA,cAAItnE,IAAIgyC,IAAI1pC,MAAZ;AACA,cAAIuhE,KAAK7jE,KAAKoF,SAAL,CAAe4mC,IAAIhyC,IAAI,CAAR,CAAf,EAA2BgyC,IAAIhyC,IAAI,CAAR,CAA3B,EAAuCgyC,IAAIhyC,IAAI,CAAR,CAAvC,EAAmD,GAAnD,CAAT;AACA,cAAI8pE,KAAK9jE,KAAKoF,SAAL,CAAe4mC,IAAIhyC,IAAI,CAAR,CAAf,EAA2BgyC,IAAIhyC,IAAI,CAAR,CAA3B,EAAuCgyC,IAAIhyC,IAAI,CAAR,CAAvC,EAAmD,GAAnD,CAAT;;AAEA0K,kBAAQy+D,OAAOU,EAAf;AACAl/D,kBAAQy+D,OAAOU,EAAf;AACD,SARM,MAQA;AACLp/D,kBAAQy+D,OAAOr6B,IAAf;AACAnkC,kBAAQy+D,OAAOr6B,IAAf;AACD;;AAEDi4B,WAAGc,aAAH,GAAmB9hE,KAAKyE,gBAAL,CAAsBC,KAAtB,EAA6BC,KAA7B,CAAnB;AACD,OA9JD;;AAgKAs3D,UAAImC,aAAJ,GAAoBnC,IAAI0I,cAAJ,GAAqB,UAAUpI,SAAV,EAAqBqC,KAArB,EAA4B;AACnE,YAAItuC,QAAQ,KAAKs0C,eAAL,GAAuB,KAAKA,eAAL,IAAwB,EAA3D;;AAEA,YAAIC,YAAYv0C,MAAMisC,YAAY,IAAZ,GAAmBqC,KAAzB,CAAhB;AACA,YAAIiG,SAAJ,EAAe;AACb,iBAAOA,SAAP;AACD;;AAEDA,oBAAY3nE,KAAKkJ,GAAL,CAASlJ,KAAK6N,GAAL,CAASwxD,YAAY,KAArB,EAA4B,GAA5B,CAAT,EAA2C,EAA3C,IAAiDqC,KAA7D;AACAtuC,cAAMisC,YAAY,IAAZ,GAAmBqC,KAAzB,IAAkCiG,SAAlC;;AAEA,eAAOA,SAAP;AACD,OAZD;;AAcAxrE,aAAOD,OAAP,GAAiB6iE,GAAjB;;AAEA;AAAO,KAr9gBG;AAs9gBV;AACA,SAAO,UAAS5iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAIoiE,MAAM,EAAV;;AAEAA,UAAI6I,qBAAJ,GAA4B,UAAUxpD,KAAV,EAAiB;AAC3C,YAAI,CAACA,KAAD,IAAUA,MAAMhZ,MAAN,KAAiB,CAA/B,EAAkC;AAChC;AACD;;AAED,YAAI6H,IAAI,IAAR;AACA,YAAIuO,KAAKvO,EAAEuO,EAAX;AACA,YAAIisB,eAAejsB,GAAGiE,gBAAH,EAAnB;AACA,YAAIooD,YAAY,EAAhB;AACA,YAAIC,UAAU,EAAd;AACA,YAAIC,gBAAgB,EAApB;;AAEA;AACA,YAAIC,MAAJ;AACA,aAAK,IAAInrE,IAAI,CAAb,EAAgBA,IAAIuhB,MAAMhZ,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,cAAI8hB,OAAOP,MAAMvhB,CAAN,CAAX;AACA,cAAIgrB,KAAKlJ,KAAKne,QAAd;AACA,cAAI6Z,OAAOwN,GAAGxN,IAAd;AACA,cAAI4tD,aAAatpD,KAAK6O,MAAL,CAAY,aAAZ,EAA2BtwB,KAA5C;AACA,cAAIgrE,kBAAkBD,eAAe,kBAAf,IAAqCA,eAAe,UAA1E;AACA,cAAIE,eAAeF,eAAe,kBAAf,IAAqCA,eAAe,QAAvE;;AAEA;AACA;AACA,cAAItpD,KAAK6O,MAAL,CAAY,SAAZ,EAAuBtwB,KAAvB,KAAiC,MAArC,EAA6C;AAC3C;AACD;;AAED,cAAI+qE,eAAe,UAAnB,EAA+B;AAC7BF,0BAAc/hE,IAAd,CAAmB2Y,IAAnB;AACA;AACD;;AAED,cAAIqD,QAAQ3H,KAAKO,MAAjB;AACA,cAAIqH,QAAQ5H,KAAKQ,MAAjB;;AAEAmtD,mBAAShmD,QAAQC,KAAR,GAAgBA,QAAQ,KAAR,GAAgBD,KAAhC,GAAwCA,QAAQ,KAAR,GAAgBC,KAAjE;;AAEA,cAAIimD,eAAJ,EAAqB;AACnBF,qBAAS,cAAc,KAAd,GAAsB3tD,KAAK5D,EAApC;AACD;;AAED,cAAI2xD,aAAaP,UAAUG,MAAV,CAAjB;;AAEA,cAAII,cAAc,IAAlB,EAAwB;AACtBA,yBAAaP,UAAUG,MAAV,IAAoB,EAAjC;AACAF,oBAAQ9hE,IAAR,CAAagiE,MAAb;AACD;;AAEDI,qBAAWpiE,IAAX,CAAgB2Y,IAAhB;;AAEA,cAAIupD,eAAJ,EAAqB;AACnBE,uBAAWC,YAAX,GAA0B,IAA1B;AACD;;AAED,cAAIF,YAAJ,EAAkB;AAChBC,uBAAWE,SAAX,GAAuB,IAAvB;AACD;AACF;;AAED,YAAIvpD,GAAJ,EAAS7Z,GAAT,EAAcqjE,MAAd,EAAsBC,MAAtB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0CC,IAA1C,EAAgDC,IAAhD,EAAsDC,QAAtD,EAAgEC,QAAhE;AACA,YAAIC,iBAAJ;AACA,YAAIC,SAAJ;;AAEA;AACA;AACA,aAAK,IAAI5qE,IAAI,CAAb,EAAgBA,IAAI0pE,QAAQ1iE,MAA5B,EAAoChH,GAApC,EAAyC;AACvC4pE,mBAASF,QAAQ1pE,CAAR,CAAT;AACA,cAAI6qE,YAAYpB,UAAUG,MAAV,CAAhB;;AAEA;AACAiB,oBAAU53C,IAAV,CAAe,UAAUmvB,KAAV,EAAiBM,KAAjB,EAAwB;AACrC,mBAAON,MAAMvjC,SAAN,KAAoB6jC,MAAM7jC,SAAN,EAA3B;AACD,WAFD;;AAIA8B,gBAAMkqD,UAAU,CAAV,EAAazoE,QAAb,CAAsBoa,MAA5B;AACA1V,gBAAM+jE,UAAU,CAAV,EAAazoE,QAAb,CAAsBqa,MAA5B;;AAEA;AACA,cAAI,CAACouD,UAAUZ,YAAX,IAA2BtpD,IAAItI,EAAJ,KAAWvR,IAAIuR,EAAJ,EAA1C,EAAoD;AAClD,gBAAI8jB,OAAOxb,GAAX;AACAA,kBAAM7Z,GAAN;AACAA,kBAAMq1B,IAAN;AACD;;AAEDguC,mBAASxpD,IAAI5B,QAAJ,EAAT;AACAqrD,mBAAStjE,IAAIiY,QAAJ,EAAT;;AAEAsrD,iBAAO1pD,IAAIuvB,UAAJ,EAAP;AACAo6B,iBAAO3pD,IAAIyvB,WAAJ,EAAP;;AAEAm6B,iBAAOzjE,IAAIopC,UAAJ,EAAP;AACAs6B,iBAAO1jE,IAAIspC,WAAJ,EAAP;;AAEAq6B,qBAAW57D,EAAEy2D,UAAF,CAAa,KAAKC,YAAL,CAAkB5kD,GAAlB,CAAb,CAAX;AACA+pD,qBAAW77D,EAAEy2D,UAAF,CAAa,KAAKC,YAAL,CAAkBz+D,GAAlB,CAAb,CAAX;;AAEA8jE,sBAAY,KAAZ;;AAEA,cAAIrqD,IAAJ;AACA,cAAIuqD,MAAJ;AACA,cAAIpF,EAAJ;;AAEA,cAAIqF,YAAY;AACd,qBAAS,CADK;AAEd,oBAAQ,CAFM;AAGd,qBAAS,CAHK;AAId,oBAAQ,CAJM;AAKd,yBAAa,CALC;AAMd,yBAAa,CANC;AAOd,yBAAa,CAPC;AAQd,yBAAa;AARC,WAAhB;;AAWA,cAAIC,QAAQb,OAAOjkE,CAAnB;AACA,cAAI+kE,QAAQd,OAAOhkE,CAAnB;AACA,cAAI+kE,QAAQb,IAAZ;AACA,cAAIc,QAAQb,IAAZ;;AAEA,cAAIc,QAAQhB,OAAOlkE,CAAnB;AACA,cAAImlE,QAAQjB,OAAOjkE,CAAnB;AACA,cAAImlE,QAAQf,IAAZ;AACA,cAAIgB,QAAQf,IAAZ;;AAEA,cAAIgB,YAAYX,UAAU7jE,MAA1B;;AAEA,eAAK,IAAIvI,IAAI,CAAb,EAAgBA,IAAIosE,UAAU7jE,MAA9B,EAAsCvI,GAAtC,EAA2C;AACzC8hB,mBAAOsqD,UAAUpsE,CAAV,CAAP;AACAqsE,qBAASvqD,KAAKne,QAAd;AACAsjE,iBAAKoF,OAAOn8C,QAAZ;;AAEA,gBAAI88C,aAAa/F,GAAGgG,aAApB;AACA,gBAAIC,aAAaltE,CAAjB;;AAEA,gBAAImtE,YAAYlG,GAAGmG,YAAnB;;AAEA,gBAAIhC,aAAatpD,KAAK6O,MAAL,CAAY,aAAZ,EAA2BtwB,KAA5C;;AAEA,gBAAIgrE,kBAAkBD,eAAe,kBAAf,IAAqCA,eAAe,UAA1E;;AAEA;AACA,gBAAIiC,gBAAgBnrD,IAAItI,EAAJ,OAAakI,KAAK/D,MAAL,GAAcnE,EAAd,EAAjC;;AAEA,gBAAI0zD,cAAcxrD,KAAK6O,MAAL,CAAY,yBAAZ,CAAlB;AACA,gBAAI48C,UAAUzrD,KAAK6O,MAAL,CAAY,gBAAZ,EAA8Byb,OAA5C;AACA,gBAAIohC,UAAU1rD,KAAK6O,MAAL,CAAY,YAAZ,EAA0Byb,OAAxC;AACA,gBAAIqhC,WAAW3rD,KAAK6O,MAAL,CAAY,uBAAZ,CAAf;AACA,gBAAI+8C,UAAUJ,eAAeG,QAAf,GAA0BtqE,KAAKiJ,GAAL,CAASkhE,YAAYjtE,KAAZ,CAAkBkI,MAA3B,EAAmCklE,SAASptE,KAAT,CAAekI,MAAlD,CAA1B,GAAsF,CAApG;AACA,gBAAIolE,WAAW7rD,KAAK6O,MAAL,CAAY,yBAAZ,EAAuCyb,OAAtD;AACA,gBAAIwhC,aAAaN,cAAcA,YAAYlhC,OAAZ,CAAoB,CAApB,CAAd,GAAuC7oC,SAAxD;AACA,gBAAIsqE,eAAeJ,SAASptE,KAAT,CAAe,CAAf,CAAnB;AACA,gBAAIytE,gBAAgBhsD,KAAK6O,MAAL,CAAY,gBAAZ,EAA8BtwB,KAAlD;AACA,gBAAI0tE,YAAYjsD,KAAK6O,MAAL,CAAY,iBAAZ,CAAhB;AACA,gBAAIq9C,YAAYlsD,KAAK6O,MAAL,CAAY,mBAAZ,CAAhB;AACA,gBAAIs9C,YAAY9qE,KAAKiJ,GAAL,CAAS2hE,UAAU3hC,OAAV,CAAkB7jC,MAA3B,EAAmCylE,UAAU5hC,OAAV,CAAkB7jC,MAArD,CAAhB;AACA,gBAAI2lE,WAAWpsD,KAAK6O,MAAL,CAAY,iBAAZ,EAA+BtwB,KAA9C;AACA,gBAAI8tE,WAAWrsD,KAAK6O,MAAL,CAAY,iBAAZ,EAA+BtwB,KAA9C;AACA,gBAAI+tE,cAActsD,KAAK6O,MAAL,CAAY,oBAAZ,EAAkCtwB,KAApD;AACA,gBAAIguE,cAAcvsD,KAAK6O,MAAL,CAAY,oBAAZ,EAAkCtwB,KAApD;AACA,gBAAIiuE,aAAaxsD,KAAK6O,MAAL,CAAY,aAAZ,EAA2BtwB,KAA5C;AACA,gBAAIkuE,YAAYzsD,KAAK6O,MAAL,CAAY,OAAZ,EAAqByb,OAArC;;AAEA,gBAAIoiC,QAAQvH,GAAGwH,aAAf;AACA,gBAAIC,QAAQzH,GAAG0H,aAAf;AACA,gBAAIC,QAAQ3H,GAAG4H,aAAf;AACA,gBAAIC,QAAQ7H,GAAG8H,aAAf;;AAEA,gBAAIC,QAAQ/H,GAAGgI,aAAf;AACA,gBAAIC,QAAQjI,GAAGkI,aAAf;AACA,gBAAIC,QAAQnI,GAAGoI,aAAf;AACA,gBAAIC,QAAQrI,GAAGsI,aAAf;;AAEA,gBAAIC,cAAcvI,GAAGwI,cAArB;AACA,gBAAIC,cAActE,UAAlB;;AAEA,gBAAIuE,eAAe1I,GAAG2I,eAAtB;AACA,gBAAIC,eAAevC,cAAcA,YAAYl+B,QAA1B,GAAqC,IAAxD;;AAEA,gBAAI0gC,YAAY7I,GAAG8I,YAAnB;AACA,gBAAIC,YAAYvC,SAASr+B,QAAzB;;AAEA,gBAAI6gC,aAAahJ,GAAGiJ,aAApB;AACA,gBAAIC,aAAapC,UAAU3+B,QAA3B;;AAEA,gBAAIghC,aAAanJ,GAAGoJ,aAApB;AACA,gBAAIC,aAAatC,UAAU5+B,QAA3B;;AAEA,gBAAImhC,YAAYtJ,GAAGuJ,YAAnB;AACA,gBAAIC,YAAY9C,QAAhB;;AAEA,gBAAI+C,WAAWzJ,GAAG0J,WAAlB;AACA,gBAAIC,WAAWrD,OAAf;;AAEA,gBAAIsD,WAAW5J,GAAG6J,WAAlB;AACA,gBAAIC,WAAWvD,OAAf;;AAEA,gBAAIwD,iBAAiB/J,GAAGgK,iBAAxB;AACA,gBAAIC,iBAAiBpD,aAArB;;AAEA,gBAAIqD,YAAYlK,GAAGmK,YAAnB;AACA,gBAAIC,YAAYnD,QAAhB;;AAEA,gBAAIoD,YAAYrK,GAAGsK,YAAnB;AACA,gBAAIC,YAAYrD,QAAhB;;AAEA,gBAAIsD,UAAUxK,GAAGyK,UAAjB;AACA,gBAAIC,UAAUvD,WAAd;;AAEA,gBAAIwD,UAAU3K,GAAG4K,UAAjB;AACA,gBAAIC,UAAUzD,WAAd;;AAEA,gBAAI0D,SAAS9K,GAAG+K,SAAhB;AACA,gBAAIC,SAAS1D,SAAb;;AAEA,gBAAI2D,UAAUjL,GAAGkL,UAAjB;AACA,gBAAIC,UAAU9D,UAAd;;AAEA,gBAAInC,SAAJ,EAAe;AACblF,iBAAGkF,SAAH,GAAe,IAAf;AACD,aAFD,MAEO;AACLlF,iBAAGkF,SAAH,GAAe,KAAf;AACD;;AAED,gBAAIkG,UAAJ;;AAEA,gBAAI7D,UAAUjC,KAAV,IAAmBmC,UAAUlC,KAA7B,IAAsCoC,UAAUnC,KAAhD,IAAyDqC,UAAUpC,KAAnE,IAA4EsC,UAAUrC,KAAtF,IAA+FuC,UAAUtC,KAAzG,IAAkHwC,UAAUvC,KAA5H,IAAqIyC,UAAUxC,KAA/I,IAAwJ0C,gBAAgBE,WAAxK,IAAuLC,iBAAiBE,YAAxM,IAAwNC,cAAcE,SAAtO,IAAmPC,eAAeE,UAAlQ,IAAgRC,eAAeE,UAA/R,IAA6SC,cAAcE,SAA3T,IAAwUC,aAAaE,QAArV,IAAiWC,aAAaE,QAA9W,IAA0XC,mBAAmBE,cAA7Y,IAA+ZC,cAAcE,SAA7a,IAA0bC,cAAcE,SAAxc,IAAqdC,YAAYE,OAAje,IAA4eC,YAAYE,OAAxf,IAAmgBC,WAAWE,MAA9gB,IAAwhBC,YAAYE,OAApiB,KAAgjBpF,eAAeE,UAAf,IAA6BC,cAAcJ,SAA3C,IAAwD1B,eAAxmB,CAAJ,EAA8nB;AAC5nBgH,2BAAa,IAAb,CAD4nB,CACzmB;AACpB,aAFD,MAEO;AACLA,2BAAa,KAAb;;AAEApL,iBAAGwH,aAAH,GAAmBlC,KAAnB;AACAtF,iBAAG0H,aAAH,GAAmBnC,KAAnB;AACAvF,iBAAG4H,aAAH,GAAmBpC,KAAnB;AACAxF,iBAAG8H,aAAH,GAAmBrC,KAAnB;AACAzF,iBAAGgI,aAAH,GAAmBtC,KAAnB;AACA1F,iBAAGkI,aAAH,GAAmBvC,KAAnB;AACA3F,iBAAGoI,aAAH,GAAmBxC,KAAnB;AACA5F,iBAAGsI,aAAH,GAAmBzC,KAAnB;AACA7F,iBAAGgG,aAAH,GAAmBC,UAAnB;AACAjG,iBAAGmG,YAAH,GAAkBL,SAAlB;AACA9F,iBAAGwI,cAAH,GAAoBC,WAApB;AACAzI,iBAAG2I,eAAH,GAAqBC,YAArB;AACA5I,iBAAG8I,YAAH,GAAkBC,SAAlB;AACA/I,iBAAGoJ,aAAH,GAAmBC,UAAnB;AACArJ,iBAAGiJ,aAAH,GAAmBC,UAAnB;AACAlJ,iBAAGuJ,YAAH,GAAkBC,SAAlB;AACAxJ,iBAAG0J,WAAH,GAAiBC,QAAjB;AACA3J,iBAAG6J,WAAH,GAAiBC,QAAjB;AACA9J,iBAAGgK,iBAAH,GAAuBC,cAAvB;AACAjK,iBAAGmK,YAAH,GAAkBC,SAAlB;AACApK,iBAAGsK,YAAH,GAAkBC,SAAlB;AACAvK,iBAAGyK,UAAH,GAAgBC,OAAhB;AACA1K,iBAAG4K,UAAH,GAAgBC,OAAhB;AACA7K,iBAAG+K,SAAH,GAAeC,MAAf;AACAhL,iBAAGkL,UAAH,GAAgBC,OAAhB;AACD;;AAED,gBAAI,CAACC,UAAL,EAAiB;;AAEf,kBAAI,CAACjG,UAAUkG,sBAAX,IAAqCpwD,QAAQ7Z,GAA7C,KAAqD+jE,UAAUX,SAAV,IAAuBW,UAAUZ,YAAtF,CAAJ,EAAyG;;AAEvGY,0BAAUkG,sBAAV,GAAmC,IAAnC;;AAEA;AACA,oBAAIC,aAAavG,SAASwG,aAAT,CAAuB9G,OAAOjkE,CAA9B,EAAiCikE,OAAOhkE,CAAxC,EAA2CkkE,IAA3C,EAAiDC,IAAjD,EAAuDF,OAAOlkE,CAA9D,EAAiEkkE,OAAOjkE,CAAxE,EAA2E,CAA3E,CAAjB;;AAEA0kE,0BAAUqG,OAAV,GAAoBF,UAApB;;AAEA;AACA,oBAAIG,aAAazG,SAASuG,aAAT,CAAuB7G,OAAOlkE,CAA9B,EAAiCkkE,OAAOjkE,CAAxC,EAA2CokE,IAA3C,EAAiDC,IAAjD,EAAuDL,OAAOjkE,CAA9D,EAAiEikE,OAAOhkE,CAAxE,EAA2E,CAA3E,CAAjB;;AAEA0kE,0BAAUuG,OAAV,GAAoBD,UAApB;;AAEA,oBAAIE,cAAc;AAChBpuE,sBAAI+tE,WAAW,CAAX,CADY;AAEhB9tE,sBAAIiuE,WAAW,CAAX,CAFY;AAGhBhuE,sBAAI6tE,WAAW,CAAX,CAHY;AAIhB5tE,sBAAI+tE,WAAW,CAAX;AAJY,iBAAlB;;AAOA,oBAAIG,SAAS;AACXruE,sBAAIknE,OAAOjkE,CADA;AAEXhD,sBAAIknE,OAAOlkE,CAFA;AAGX/C,sBAAIgnE,OAAOhkE,CAHA;AAIX/C,sBAAIgnE,OAAOjkE;AAJA,iBAAb;;AAOA,oBAAI0D,KAAKsnE,WAAW,CAAX,IAAgBH,WAAW,CAAX,CAAzB;AACA,oBAAIpnE,KAAKunE,WAAW,CAAX,IAAgBH,WAAW,CAAX,CAAzB;AACA,oBAAItyE,IAAIkD,KAAK8H,IAAL,CAAUE,KAAKA,EAAL,GAAUC,KAAKA,EAAzB,CAAR;;AAEA,oBAAI+7B,SAAS;AACX1/B,qBAAG0D,EADQ;AAEXzD,qBAAG0D;AAFQ,iBAAb;;AAKA,oBAAI0nE,aAAa;AACfrrE,qBAAG0/B,OAAO1/B,CAAP,GAAWxH,CADC;AAEfyH,qBAAGy/B,OAAOz/B,CAAP,GAAWzH;AAFC,iBAAjB;AAIAisE,oCAAoB;AAClBzkE,qBAAG,CAACqrE,WAAWprE,CADG;AAElBA,qBAAGorE,WAAWrrE;AAFI,iBAApB;;AAKA;AACA,oBAAIwkE,SAASlF,UAAT,CAAoBwL,WAAW,CAAX,CAApB,EAAmCA,WAAW,CAAX,CAAnC,EAAkD,CAAlD,EAAqDzG,IAArD,EAA2DC,IAA3D,EAAiEJ,OAAOlkE,CAAxE,EAA2EkkE,OAAOjkE,CAAlF,KAAwFskE,SAASjF,UAAT,CAAoB2L,WAAW,CAAX,CAApB,EAAmCA,WAAW,CAAX,CAAnC,EAAkD,CAAlD,EAAqD9G,IAArD,EAA2DC,IAA3D,EAAiEH,OAAOjkE,CAAxE,EAA2EikE,OAAOhkE,CAAlF,CAA5F,EAAkL;AAChLwkE,sCAAoB,EAApB;AACAC,8BAAY,IAAZ;AACD;AACF;;AAED,kBAAI,CAACkB,aAAL,EAAoB;AAClBpG,mBAAGwL,OAAH,GAAarG,UAAUqG,OAAvB;AACAxL,mBAAG0L,OAAH,GAAavG,UAAUuG,OAAvB;AACD,eAHD,MAGO;AACL;AACA1L,mBAAGwL,OAAH,GAAarG,UAAUuG,OAAvB;AACA1L,mBAAG0L,OAAH,GAAavG,UAAUqG,OAAvB;AACD;;AAED,kBAAIvwD,QAAQ7Z,GAAZ,EAAiB;AACf;;AAEA4+D,mBAAGK,QAAH,GAAc,MAAd;;AAEA,oBAAI7+D,IAAIzI,CAAR;AACA,oBAAI+yE,WAAWpF,QAAf;;AAEA,oBAAItC,eAAJ,EAAqB;AACnB5iE,sBAAI,CAAJ;AACAsqE,6BAAWnF,UAAX;AACD;;AAED,oBAAIoF,YAAYzF,UAAUpqE,KAAKsH,EAAL,GAAU,CAApC;AACA,oBAAIwoE,WAAWD,YAAYxF,UAAU,CAArC;AACA,oBAAI0F,UAAUF,YAAYxF,UAAU,CAApC;;AAEA;AACA,oBAAIxqC,KAAKmwC,OAAO5F,UAAU,GAAV,GAAgBC,OAAvB,CAAT;AACA/kE,oBAAI6jE,UAAUtpC,EAAV,MAAkBz/B,SAAlB,GAA8B+oE,UAAUtpC,EAAV,IAAgB,CAA9C,GAAkD,EAAEspC,UAAUtpC,EAAV,CAAxD;;AAEAikC,mBAAGmD,OAAH,GAAa,CAACsB,OAAOjkE,CAAP,GAAWtE,KAAK8N,GAAL,CAASgiE,QAAT,IAAqB,GAArB,GAA2BF,QAA3B,IAAuCtqE,IAAI,CAAJ,GAAQ,CAA/C,CAAZ,EAA+DijE,OAAOhkE,CAAP,GAAWvE,KAAK2P,GAAL,CAASmgE,QAAT,IAAqB,GAArB,GAA2BF,QAA3B,IAAuCtqE,IAAI,CAAJ,GAAQ,CAA/C,CAA1E,EAA6HijE,OAAOjkE,CAAP,GAAWtE,KAAK8N,GAAL,CAASiiE,OAAT,IAAoB,GAApB,GAA0BH,QAA1B,IAAsCtqE,IAAI,CAAJ,GAAQ,CAA9C,CAAxI,EAA0LijE,OAAOhkE,CAAP,GAAWvE,KAAK2P,GAAL,CAASogE,OAAT,IAAoB,GAApB,GAA0BH,QAA1B,IAAsCtqE,IAAI,CAAJ,GAAQ,CAA9C,CAArM,CAAb;AACD,eAtBD,MAsBO,IAAImiC,iBAAiB1oB,IAAIyC,QAAJ,MAAkBzC,IAAIkS,OAAJ,EAAlB,IAAmC/rB,IAAIsc,QAAJ,EAAnC,IAAqDtc,IAAI+rB,OAAJ,EAAtE,MAAyFlS,IAAI8nB,OAAJ,GAAcpD,OAAd,CAAsBv+B,GAAtB,KAA8BA,IAAI2hC,OAAJ,GAAcpD,OAAd,CAAsB1kB,GAAtB,CAAvH,CAAJ,EAAwJ;AAC7J;;AAEA+kD,mBAAGK,QAAH,GAAc,UAAd;;AAEA;AACA;AACAL,mBAAGkF,SAAH,GAAe,KAAf;;AAEA,oBAAI1jE,IAAIzI,CAAR;AACA,oBAAI+yE,WAAWpF,QAAf;;AAEA,oBAAItC,eAAJ,EAAqB;AACnB5iE,sBAAI,CAAJ;AACAsqE,6BAAWnF,UAAX;AACD;;AAED,oBAAIwF,QAAQ,EAAZ;;AAEA,oBAAIC,WAAW;AACb5rE,qBAAGikE,OAAOjkE,CAAP,GAAWmkE,OAAO,CADR;AAEblkE,qBAAGgkE,OAAOhkE,CAAP,GAAWmkE,OAAO;AAFR,iBAAf;;AAKA,oBAAIyH,WAAW;AACb7rE,qBAAGkkE,OAAOlkE,CAAP,GAAWqkE,OAAO,CADR;AAEbpkE,qBAAGikE,OAAOjkE,CAAP,GAAWqkE,OAAO;AAFR,iBAAf;;AAKA,oBAAIwH,UAAU;AACZ9rE,qBAAGtE,KAAKiJ,GAAL,CAASinE,SAAS5rE,CAAlB,EAAqB6rE,SAAS7rE,CAA9B,CADS;AAEZC,qBAAGvE,KAAKiJ,GAAL,CAASinE,SAAS3rE,CAAlB,EAAqB4rE,SAAS5rE,CAA9B;AAFS,iBAAd;;AAKA;AACA,oBAAI8rE,qBAAqB,GAAzB;AACA,oBAAIC,mBAAmBtwE,KAAKkJ,GAAL,CAASmnE,kBAAT,EAA6BrwE,KAAK6D,GAAL,CAAS4kE,OAAO,IAAhB,CAA7B,CAAvB;AACA,oBAAI8H,mBAAmBvwE,KAAKkJ,GAAL,CAASmnE,kBAAT,EAA6BrwE,KAAK6D,GAAL,CAAS8kE,OAAO,IAAhB,CAA7B,CAAvB;;AAEA7E,mBAAGmD,OAAH,GAAa,CAACmJ,QAAQ9rE,CAAT,EAAY8rE,QAAQ7rE,CAAR,GAAY,CAAC,IAAIvE,KAAK6N,GAAL,CAASoiE,KAAT,EAAgB,IAAhB,IAAwB,GAA7B,IAAoCL,QAApC,IAAgDtqE,IAAI,CAAJ,GAAQ,CAAxD,IAA6DgrE,gBAArF,EAAuGF,QAAQ9rE,CAAR,GAAY,CAAC,IAAItE,KAAK6N,GAAL,CAASoiE,KAAT,EAAgB,IAAhB,IAAwB,GAA7B,IAAoCL,QAApC,IAAgDtqE,IAAI,CAAJ,GAAQ,CAAxD,IAA6DirE,gBAAhL,EAAkMH,QAAQ7rE,CAA1M,CAAb;AACD,eAxCM,MAwCA,IAAI0jE,eAAe,UAAnB,EAA+B;AACpC;;AAEAnE,mBAAGK,QAAH,GAAc,UAAd;AACAL,mBAAG4C,MAAH,GAAY,EAAZ;;AAEA,qBAAK,IAAIroE,IAAI,CAAb,EAAgBA,IAAIysE,SAApB,EAA+BzsE,GAA/B,EAAoC;AAClC,sBAAIgL,IAAIuhE,UAAU3hC,OAAV,CAAkB5qC,CAAlB,CAAR;AACA,sBAAIlB,IAAI0tE,UAAU5hC,OAAV,CAAkB5qC,CAAlB,CAAR;;AAEA,sBAAImyE,KAAK,IAAInnE,CAAb;AACA,sBAAIonE,KAAKpnE,CAAT;;AAEA,sBAAIqnE,WAAW/F,kBAAkB,eAAlB,GAAoC+E,MAApC,GAA6CD,WAA5D;;AAEA,sBAAIkB,gBAAgB;AAClBrsE,uBAAGosE,SAASrvE,EAAT,GAAcmvE,EAAd,GAAmBE,SAASpvE,EAAT,GAAcmvE,EADlB;AAElBlsE,uBAAGmsE,SAASnvE,EAAT,GAAcivE,EAAd,GAAmBE,SAASlvE,EAAT,GAAcivE;AAFlB,mBAApB;;AAKA3M,qBAAG4C,MAAH,CAAU1gE,IAAV,CAAe2qE,cAAcrsE,CAAd,GAAkBykE,kBAAkBzkE,CAAlB,GAAsBnH,CAAvD,EAA0DwzE,cAAcpsE,CAAd,GAAkBwkE,kBAAkBxkE,CAAlB,GAAsBpH,CAAlG;AACD;;AAED;AACD,eAxBM,MAwBA,IAAI8rE,UAAU7jE,MAAV,GAAmB,CAAnB,KAAyB,CAAzB,IAA8BvI,MAAMmD,KAAKC,KAAL,CAAWgpE,UAAU7jE,MAAV,GAAmB,CAA9B,CAApC,IAAwE,CAAC8iE,eAA7E,EAA8F;;AAEnGpE,mBAAGK,QAAH,GAAc,UAAd;AACD,eAHM,MAGA;AACL;;AAEA,oBAAIyM,QAAQ1I,eAAZ;;AAEApE,mBAAGK,QAAH,GAAcyM,QAAQ,aAAR,GAAwB,QAAtC;AACA9M,mBAAGmD,OAAH,GAAa,EAAb;;AAEA,qBAAK,IAAIviE,IAAI,CAAb,EAAgBA,IAAI6lE,OAApB,EAA6B7lE,GAA7B,EAAkC;AAChC,sBAAImsE,iBAAiB,CAAC,MAAM5H,UAAU7jE,MAAV,GAAmB,CAAzB,GAA6BvI,CAA9B,IAAmC2tE,QAAxD;AACA,sBAAIsG,aAAJ;AACA,sBAAIC,OAAOjuE,KAAK8E,MAAL,CAAYipE,cAAZ,CAAX;;AAEA,sBAAID,KAAJ,EAAW;AACTnG,iCAAaN,cAAcA,YAAYlhC,OAAZ,CAAoBvkC,CAApB,CAAd,GAAuC8lE,QAApD,CADS,CACqD;AAC9DE,mCAAeJ,SAASptE,KAAT,CAAewH,CAAf,CAAf;AACD;;AAED,sBAAIwjE,eAAJ,EAAqB;AACnB;AACA4I,oCAAgBrG,UAAhB;AACD,mBAHD,MAGO;AACLqG,oCAAgBrG,eAAerqE,SAAf,GAA2B2wE,OAAOtG,UAAlC,GAA+CrqE,SAA/D;AACD;;AAED,sBAAI4wE,uBAAuBF,kBAAkB1wE,SAAlB,GAA8B0wE,aAA9B,GAA8CD,cAAzE;;AAEA,sBAAIL,KAAK,IAAI9F,YAAb;AACA,sBAAI+F,KAAK/F,YAAT;;AAEA,sBAAIR,aAAJ,EAAmB;AACjB,wBAAI3vC,OAAOi2C,EAAX;AACAA,yBAAKC,EAAL;AACAA,yBAAKl2C,IAAL;AACD;;AAED,sBAAIm2C,WAAW/F,kBAAkB,eAAlB,GAAoC+E,MAApC,GAA6CD,WAA5D;;AAEA,sBAAIkB,gBAAgB;AAClBrsE,uBAAGosE,SAASrvE,EAAT,GAAcmvE,EAAd,GAAmBE,SAASpvE,EAAT,GAAcmvE,EADlB;AAElBlsE,uBAAGmsE,SAASnvE,EAAT,GAAcivE,EAAd,GAAmBE,SAASlvE,EAAT,GAAcivE;AAFlB,mBAApB;;AAKA3M,qBAAGmD,OAAH,CAAWjhE,IAAX,CAAgB2qE,cAAcrsE,CAAd,GAAkBykE,kBAAkBzkE,CAAlB,GAAsB0sE,oBAAxD,EAA8EL,cAAcpsE,CAAd,GAAkBwkE,kBAAkBxkE,CAAlB,GAAsBysE,oBAAtH;AACD;AACF;;AAED;AACA,mBAAKC,aAAL,CAAmBtyD,IAAnB;;AAEA,kBAAIuyD,WAAW,CAAC7xE,GAAGQ,MAAH,CAAUikE,GAAGiC,MAAb,CAAD,IAAyB,CAAC1mE,GAAGQ,MAAH,CAAUikE,GAAGkC,MAAb,CAAzC;AACA,kBAAImL,YAAY,CAAC9xE,GAAGQ,MAAH,CAAUikE,GAAGS,WAAb,CAAD,IAA8B,CAACllE,GAAGQ,MAAH,CAAUikE,GAAGU,WAAb,CAA/C;AACA,kBAAI4M,SAAS,CAAC/xE,GAAGQ,MAAH,CAAUikE,GAAGmC,IAAb,CAAD,IAAuB,CAAC5mE,GAAGQ,MAAH,CAAUikE,GAAGoC,IAAb,CAArC;AACA,kBAAImL,UAAU,CAAChyE,GAAGQ,MAAH,CAAUikE,GAAGY,SAAb,CAAD,IAA4B,CAACrlE,GAAGQ,MAAH,CAAUikE,GAAGa,SAAb,CAA3C;;AAEA,kBAAI2M,mBAAmB,CAAvB;AACA,kBAAIC,SAAS,KAAKrQ,aAAL,CAAmBviD,KAAK6O,MAAL,CAAY,OAAZ,EAAqByb,OAAxC,EAAiDtqB,KAAK6O,MAAL,CAAY,aAAZ,EAA2BtwB,KAA5E,IAAqF,KAAK8hE,eAAvG;AACA,kBAAIwS,aAAaF,mBAAmBC,MAApC;;AAEA,kBAAIzN,GAAGK,QAAH,KAAgB,QAApB,EAA8B;AAC5B,oBAAIsN,eAAe3uE,KAAK+E,IAAL,CAAU,EAAEvD,GAAGw/D,GAAGmD,OAAH,CAAW,CAAX,CAAL,EAAoB1iE,GAAGu/D,GAAGmD,OAAH,CAAW,CAAX,CAAvB,EAAV,EAAkD,EAAE3iE,GAAGw/D,GAAGiC,MAAR,EAAgBxhE,GAAGu/D,GAAGkC,MAAtB,EAAlD,CAAnB;AACA,oBAAI0L,gBAAgBD,eAAeD,UAAnC;AACA,oBAAIG,aAAa7uE,KAAK+E,IAAL,CAAU,EAAEvD,GAAGw/D,GAAGmD,OAAH,CAAW,CAAX,CAAL,EAAoB1iE,GAAGu/D,GAAGmD,OAAH,CAAW,CAAX,CAAvB,EAAV,EAAkD,EAAE3iE,GAAGw/D,GAAGmC,IAAR,EAAc1hE,GAAGu/D,GAAGoC,IAApB,EAAlD,CAAjB;AACA,oBAAI0L,cAAcD,aAAaH,UAA/B;;AAEA,oBAAIK,cAAc,KAAlB;;AAEA,oBAAIX,YAAYC,SAAZ,IAAyBO,aAA7B,EAA4C;AAC1CG,gCAAc,IAAd;;AAEA;AACA;AACA,sBAAIC,MAAM,EAAE;AACVxtE,uBAAGw/D,GAAGmD,OAAH,CAAW,CAAX,IAAgBsB,OAAOjkE,CADlB;AAERC,uBAAGu/D,GAAGmD,OAAH,CAAW,CAAX,IAAgBsB,OAAOhkE;AAFlB,mBAAV;AAIA,sBAAIwtE,MAAM/xE,KAAK8H,IAAL,CAAUgqE,IAAIxtE,CAAJ,GAAQwtE,IAAIxtE,CAAZ,GAAgBwtE,IAAIvtE,CAAJ,GAAQutE,IAAIvtE,CAAtC,CAAV,CAT0C,CASU;AACpD,sBAAIytE,MAAM,EAAE;AACV1tE,uBAAGwtE,IAAIxtE,CAAJ,GAAQytE,GADH;AAERxtE,uBAAGutE,IAAIvtE,CAAJ,GAAQwtE;AAFH,mBAAV;AAIA,sBAAIpgE,SAAS3R,KAAKkJ,GAAL,CAASu/D,IAAT,EAAeC,IAAf,CAAb;AACA,sBAAIuJ,SAAS,EAAE;AACb3tE,uBAAGw/D,GAAGmD,OAAH,CAAW,CAAX,IAAgB+K,IAAI1tE,CAAJ,GAAQ,CAAR,GAAYqN,MADpB;AAEXpN,uBAAGu/D,GAAGmD,OAAH,CAAW,CAAX,IAAgB+K,IAAIztE,CAAJ,GAAQ,CAAR,GAAYoN;AAFpB,mBAAb;;AAKA,sBAAIugE,gBAAgBrJ,SAASwG,aAAT,CAAuB9G,OAAOjkE,CAA9B,EAAiCikE,OAAOhkE,CAAxC,EAA2CkkE,IAA3C,EAAiDC,IAAjD,EAAuDuJ,OAAO3tE,CAA9D,EAAiE2tE,OAAO1tE,CAAxE,EAA2E,CAA3E,CAApB;;AAEA,sBAAImtE,aAAJ,EAAmB;AACjB5N,uBAAGmD,OAAH,CAAW,CAAX,IAAgBnD,GAAGmD,OAAH,CAAW,CAAX,IAAgB+K,IAAI1tE,CAAJ,IAASktE,aAAaC,YAAtB,CAAhC;AACA3N,uBAAGmD,OAAH,CAAW,CAAX,IAAgBnD,GAAGmD,OAAH,CAAW,CAAX,IAAgB+K,IAAIztE,CAAJ,IAASitE,aAAaC,YAAtB,CAAhC;AACD,mBAHD,MAGO;AACL3N,uBAAGmD,OAAH,CAAW,CAAX,IAAgBiL,cAAc,CAAd,IAAmBF,IAAI1tE,CAAJ,GAAQktE,UAA3C;AACA1N,uBAAGmD,OAAH,CAAW,CAAX,IAAgBiL,cAAc,CAAd,IAAmBF,IAAIztE,CAAJ,GAAQitE,UAA3C;AACD;AACF;;AAED,oBAAIJ,UAAUC,OAAV,IAAqBO,WAAzB,EAAsC;AACpCC,gCAAc,IAAd;;AAEA;AACA;AACA,sBAAIC,MAAM,EAAE;AACVxtE,uBAAGw/D,GAAGmD,OAAH,CAAW,CAAX,IAAgBuB,OAAOlkE,CADlB;AAERC,uBAAGu/D,GAAGmD,OAAH,CAAW,CAAX,IAAgBuB,OAAOjkE;AAFlB,mBAAV;AAIA,sBAAIwtE,MAAM/xE,KAAK8H,IAAL,CAAUgqE,IAAIxtE,CAAJ,GAAQwtE,IAAIxtE,CAAZ,GAAgBwtE,IAAIvtE,CAAJ,GAAQutE,IAAIvtE,CAAtC,CAAV,CAToC,CASgB;AACpD,sBAAIytE,MAAM,EAAE;AACV1tE,uBAAGwtE,IAAIxtE,CAAJ,GAAQytE,GADH;AAERxtE,uBAAGutE,IAAIvtE,CAAJ,GAAQwtE;AAFH,mBAAV;AAIA,sBAAIpgE,SAAS3R,KAAKkJ,GAAL,CAASu/D,IAAT,EAAeC,IAAf,CAAb;AACA,sBAAIuJ,SAAS,EAAE;AACb3tE,uBAAGw/D,GAAGmD,OAAH,CAAW,CAAX,IAAgB+K,IAAI1tE,CAAJ,GAAQ,CAAR,GAAYqN,MADpB;AAEXpN,uBAAGu/D,GAAGmD,OAAH,CAAW,CAAX,IAAgB+K,IAAIztE,CAAJ,GAAQ,CAAR,GAAYoN;AAFpB,mBAAb;;AAKA,sBAAIwgE,gBAAgBrJ,SAASuG,aAAT,CAAuB7G,OAAOlkE,CAA9B,EAAiCkkE,OAAOjkE,CAAxC,EAA2CokE,IAA3C,EAAiDC,IAAjD,EAAuDqJ,OAAO3tE,CAA9D,EAAiE2tE,OAAO1tE,CAAxE,EAA2E,CAA3E,CAApB;;AAEA,sBAAIqtE,WAAJ,EAAiB;AACf9N,uBAAGmD,OAAH,CAAW,CAAX,IAAgBnD,GAAGmD,OAAH,CAAW,CAAX,IAAgB+K,IAAI1tE,CAAJ,IAASktE,aAAaG,UAAtB,CAAhC;AACA7N,uBAAGmD,OAAH,CAAW,CAAX,IAAgBnD,GAAGmD,OAAH,CAAW,CAAX,IAAgB+K,IAAIztE,CAAJ,IAASitE,aAAaG,UAAtB,CAAhC;AACD,mBAHD,MAGO;AACL7N,uBAAGmD,OAAH,CAAW,CAAX,IAAgBkL,cAAc,CAAd,IAAmBH,IAAI1tE,CAAJ,GAAQktE,UAA3C;AACA1N,uBAAGmD,OAAH,CAAW,CAAX,IAAgBkL,cAAc,CAAd,IAAmBH,IAAIztE,CAAJ,GAAQitE,UAA3C;AACD;AACF;;AAED,oBAAIK,WAAJ,EAAiB;AACf;AACA,uBAAKZ,aAAL,CAAmBtyD,IAAnB;AACD;AACF;;AAED,kBAAImlD,GAAGK,QAAH,KAAgB,aAAhB,IAAiCL,GAAGK,QAAH,KAAgB,QAAjD,IAA6DL,GAAGK,QAAH,KAAgB,MAA7E,IAAuFL,GAAGK,QAAH,KAAgB,UAA3G,EAAuH;AACrHL,mBAAGM,MAAH,GAAY,EAAZ;;AAEAN,mBAAGM,MAAH,CAAUp+D,IAAV,CAAe89D,GAAGiC,MAAlB,EAA0BjC,GAAGkC,MAA7B;;AAEA,qBAAK,IAAIthE,IAAI,CAAb,EAAgBA,IAAI,CAAJ,GAAQo/D,GAAGmD,OAAH,CAAW7hE,MAAnC,EAA2CV,KAAK,CAAhD,EAAmD;AACjD;AACAo/D,qBAAGM,MAAH,CAAUp+D,IAAV,CAAe89D,GAAGmD,OAAH,CAAWviE,CAAX,CAAf,EAA8Bo/D,GAAGmD,OAAH,CAAWviE,IAAI,CAAf,CAA9B;;AAEA;AACA,sBAAIA,IAAI,CAAJ,GAAQo/D,GAAGmD,OAAH,CAAW7hE,MAAvB,EAA+B;AAC7B0+D,uBAAGM,MAAH,CAAUp+D,IAAV,CAAe,CAAC89D,GAAGmD,OAAH,CAAWviE,CAAX,IAAgBo/D,GAAGmD,OAAH,CAAWviE,IAAI,CAAf,CAAjB,IAAsC,CAArD,EAAwD,CAACo/D,GAAGmD,OAAH,CAAWviE,IAAI,CAAf,IAAoBo/D,GAAGmD,OAAH,CAAWviE,IAAI,CAAf,CAArB,IAA0C,CAAlG;AACD;AACF;;AAEDo/D,mBAAGM,MAAH,CAAUp+D,IAAV,CAAe89D,GAAGmC,IAAlB,EAAwBnC,GAAGoC,IAA3B;;AAEA,oBAAIlpE,CAAJ,EAAOo1E,EAAP;AACA,oBAAItO,GAAGmD,OAAH,CAAW7hE,MAAX,GAAoB,CAApB,GAAwB,CAAxB,KAA8B,CAAlC,EAAqC;AACnCpI,sBAAI8mE,GAAGM,MAAH,CAAUh/D,MAAV,GAAmB,CAAnB,GAAuB,CAA3B;;AAEA0+D,qBAAGl4B,IAAH,GAAUk4B,GAAGM,MAAH,CAAUpnE,CAAV,CAAV;AACA8mE,qBAAGj4B,IAAH,GAAUi4B,GAAGM,MAAH,CAAUpnE,IAAI,CAAd,CAAV;AACD,iBALD,MAKO;AACLA,sBAAI8mE,GAAGM,MAAH,CAAUh/D,MAAV,GAAmB,CAAnB,GAAuB,CAA3B;AACAgtE,uBAAK,GAAL;;AAEAtO,qBAAGl4B,IAAH,GAAU9oC,KAAKoF,SAAL,CAAe47D,GAAGM,MAAH,CAAUpnE,CAAV,CAAf,EAA6B8mE,GAAGM,MAAH,CAAUpnE,IAAI,CAAd,CAA7B,EAA+C8mE,GAAGM,MAAH,CAAUpnE,IAAI,CAAd,CAA/C,EAAiEo1E,EAAjE,CAAV;AACAtO,qBAAGj4B,IAAH,GAAU/oC,KAAKoF,SAAL,CAAe47D,GAAGM,MAAH,CAAUpnE,IAAI,CAAd,CAAf,EAAiC8mE,GAAGM,MAAH,CAAUpnE,IAAI,CAAd,CAAjC,EAAmD8mE,GAAGM,MAAH,CAAUpnE,IAAI,CAAd,CAAnD,EAAqEo1E,EAArE,CAAV;AACD;AACF,eA9BD,MA8BO,IAAItO,GAAGK,QAAH,KAAgB,UAApB,EAAgC;AACrC;AACAL,mBAAGM,MAAH,GAAY,CAACN,GAAGiC,MAAJ,EAAYjC,GAAGkC,MAAf,EAAuBlC,GAAGmC,IAA1B,EAAgCnC,GAAGoC,IAAnC,CAAZ;;AAEA;AACApC,mBAAGl4B,IAAH,GAAU,CAACk4B,GAAGiC,MAAH,GAAYjC,GAAGmC,IAAf,GAAsBnC,GAAGS,WAAzB,GAAuCT,GAAGY,SAA3C,IAAwD,CAAlE;AACAZ,mBAAGj4B,IAAH,GAAU,CAACi4B,GAAGkC,MAAH,GAAYlC,GAAGoC,IAAf,GAAsBpC,GAAGU,WAAzB,GAAuCV,GAAGa,SAA3C,IAAwD,CAAlE;AACD,eAPM,MAOA,IAAIb,GAAGK,QAAH,KAAgB,UAApB,EAAgC;AACrCL,mBAAGM,MAAH,GAAY,EAAZ;AACAN,mBAAGM,MAAH,CAAUp+D,IAAV,CAAe89D,GAAGiC,MAAlB,EAA0BjC,GAAGkC,MAA7B;AACAlC,mBAAGM,MAAH,CAAUp+D,IAAV,CAAetC,KAAf,CAAqBogE,GAAGM,MAAxB,EAAgCN,GAAG4C,MAAnC;AACA5C,mBAAGM,MAAH,CAAUp+D,IAAV,CAAe89D,GAAGmC,IAAlB,EAAwBnC,GAAGoC,IAA3B;;AAEA,oBAAIpC,GAAG4C,MAAH,CAAUthE,MAAV,GAAmB,CAAnB,KAAyB,CAA7B,EAAgC;AAC9B,sBAAIyhE,KAAK/C,GAAG4C,MAAH,CAAUthE,MAAV,GAAmB,CAA5B;AACA,sBAAI0hE,KAAKD,KAAK,CAAd;;AAEA/C,qBAAGl4B,IAAH,GAAU,CAACk4B,GAAG4C,MAAH,CAAUI,EAAV,IAAgBhD,GAAG4C,MAAH,CAAUG,EAAV,CAAjB,IAAkC,CAA5C;AACA/C,qBAAGj4B,IAAH,GAAU,CAACi4B,GAAG4C,MAAH,CAAUI,KAAK,CAAf,IAAoBhD,GAAG4C,MAAH,CAAUG,KAAK,CAAf,CAArB,IAA0C,CAApD;AACD,iBAND,MAMO;AACL,sBAAIC,KAAKhD,GAAG4C,MAAH,CAAUthE,MAAV,GAAmB,CAAnB,GAAuB,CAAhC;;AAEA0+D,qBAAGl4B,IAAH,GAAUk4B,GAAG4C,MAAH,CAAUI,EAAV,CAAV;AACAhD,qBAAGj4B,IAAH,GAAUi4B,GAAG4C,MAAH,CAAUI,KAAK,CAAf,CAAV;AACD;AACF;;AAED,mBAAKuL,oBAAL,CAA0B1zD,IAA1B;AACA,mBAAKynD,oBAAL,CAA0BznD,IAA1B;AACD,aA9dwC,CA8dvC;;AAEF,iBAAK2zD,+BAAL,CAAqC3zD,IAArC;AACA,iBAAK4zD,oBAAL,CAA0B5zD,IAA1B;AACD,WA9hBsC,CA8hBrC;AACH,SAjmB0C,CAimBzC;;AAEF,aAAK,IAAI9hB,IAAI,CAAb,EAAgBA,IAAIkrE,cAAc3iE,MAAlC,EAA0CvI,GAA1C,EAA+C;AAC7C,cAAI8hB,OAAOopD,cAAclrE,CAAd,CAAX;AACA,cAAIgrB,KAAKlJ,KAAKne,QAAd;AACA,cAAIusB,WAAWlF,GAAGkF,QAAlB;AACA,cAAI+2C,KAAK/2C,QAAT;;AAEA,cAAI,CAACA,SAASylD,QAAd,EAAwB;AACtB,gBAAI/iE,QAAQzP,KAAK2E,MAAL,KAAgB,CAAhB,GAAoB3E,KAAKsH,EAArC;;AAEAylB,qBAASnS,MAAT,GAAkB;AAChBtW,iBAAGtE,KAAK8N,GAAL,CAAS2B,KAAT,CADa;AAEhBlL,iBAAGvE,KAAK2P,GAAL,CAASF,KAAT;AAFa,aAAlB;;AAKA,gBAAIA,QAAQzP,KAAK2E,MAAL,KAAgB,CAAhB,GAAoB3E,KAAKsH,EAArC;;AAEAylB,qBAASlS,MAAT,GAAkB;AAChBvW,iBAAGtE,KAAK8N,GAAL,CAAS2B,KAAT,CADa;AAEhBlL,iBAAGvE,KAAK2P,GAAL,CAASF,KAAT;AAFa,aAAlB;AAID;;AAED,cAAIsP,MAAM8I,GAAGjN,MAAb;AACA,cAAI1V,MAAM2iB,GAAGhN,MAAb;AACA,cAAI0tD,SAASxpD,IAAI5B,QAAJ,EAAb;AACA,cAAIqrD,SAAStjE,IAAIiY,QAAJ,EAAb;AACA,cAAIsrD,OAAO1pD,IAAI1U,KAAJ,EAAX;AACA,cAAIs+D,OAAOzjE,IAAImF,KAAJ,EAAX;AACA,cAAIq+D,OAAO3pD,IAAIzU,MAAJ,EAAX;AACA,cAAIs+D,OAAO1jE,IAAIoF,MAAJ,EAAX;AACA,cAAIqH,SAASgN,KAAK6O,MAAL,CAAY,iBAAZ,EAA+BtwB,KAA5C;AACA,cAAIu1E,aAAa9gE,SAAS,CAA1B,CA/B6C,CA+BhB;;AAE7BmyD,aAAGl1B,WAAH,GAAiBk1B,GAAGM,MAAH,GAAY,CAACN,GAAGlpD,MAAH,CAAUtW,CAAV,GAAcmkE,IAAd,GAAqBgK,UAArB,GAAkClK,OAAOjkE,CAA1C,EAA6Cw/D,GAAGlpD,MAAH,CAAUrW,CAAV,GAAcmkE,IAAd,GAAqB+J,UAArB,GAAkClK,OAAOhkE,CAAtF,EAAyFu/D,GAAGjpD,MAAH,CAAUvW,CAAV,GAAcqkE,IAAd,GAAqB8J,UAArB,GAAkCjK,OAAOlkE,CAAlI,EAAqIw/D,GAAGjpD,MAAH,CAAUtW,CAAV,GAAcqkE,IAAd,GAAqB6J,UAArB,GAAkCjK,OAAOjkE,CAA9K,CAA7B;;AAEAu/D,aAAGl4B,IAAH,GAAU,CAACk4B,GAAGM,MAAH,CAAU,CAAV,IAAeN,GAAGM,MAAH,CAAU,CAAV,CAAhB,IAAgC,CAA1C;AACAN,aAAGj4B,IAAH,GAAU,CAACi4B,GAAGM,MAAH,CAAU,CAAV,IAAeN,GAAGM,MAAH,CAAU,CAAV,CAAhB,IAAgC,CAA1C;;AAEA;AACAr3C,mBAASo3C,QAAT,GAAoBp3C,SAASu/C,cAAT,GAA0B,UAA9C;AACAv/C,mBAASylD,QAAT,GAAoB,IAApB;;AAEA,eAAKH,oBAAL,CAA0B1zD,IAA1B;AACA,eAAKynD,oBAAL,CAA0BznD,IAA1B;AACA,eAAK2zD,+BAAL,CAAqC3zD,IAArC;AACA,eAAK4zD,oBAAL,CAA0B5zD,IAA1B;AACD;AACF,OAlpBD;;AAopBA,eAAS+zD,MAAT,CAAgB5jC,GAAhB,EAAqB;AACnB,YAAI+wB,SAAS,EAAb;;AAEA,YAAI/wB,OAAO,IAAX,EAAiB;AACf;AACD;;AAED,aAAK,IAAIjyC,IAAI,CAAb,EAAgBA,IAAIiyC,IAAI1pC,MAAxB,EAAgCvI,KAAK,CAArC,EAAwC;AACtC,cAAIyH,IAAIwqC,IAAIjyC,CAAJ,CAAR;AACA,cAAI0H,IAAIuqC,IAAIjyC,IAAI,CAAR,CAAR;;AAEAgjE,iBAAO75D,IAAP,CAAY,EAAE1B,GAAGA,CAAL,EAAQC,GAAGA,CAAX,EAAZ;AACD;;AAED,eAAOs7D,MAAP;AACD;;AAEDd,UAAI7tB,gBAAJ,GAAuB,UAAUvyB,IAAV,EAAgB;AACrC,YAAImlD,KAAKnlD,KAAK,CAAL,EAAQne,QAAR,CAAiBusB,QAA1B;AACA,YAAIpL,OAAOmiD,GAAGK,QAAd;;AAEA,YAAIxiD,SAAS,UAAb,EAAyB;AACvB,iBAAO+wD,OAAO5O,GAAG4C,MAAV,CAAP;AACD;AACF,OAPD;;AASA3H,UAAIhuB,gBAAJ,GAAuB,UAAUpyB,IAAV,EAAgB;AACrC,YAAImlD,KAAKnlD,KAAK,CAAL,EAAQne,QAAR,CAAiBusB,QAA1B;AACA,YAAIpL,OAAOmiD,GAAGK,QAAd;;AAEA,YAAIxiD,SAAS,QAAT,IAAqBA,SAAS,aAAlC,EAAiD;AAC/C,iBAAO+wD,OAAO5O,GAAGmD,OAAV,CAAP;AACD;AACF,OAPD;;AASAlI,UAAIptB,eAAJ,GAAsB,UAAUhzB,IAAV,EAAgB;AACpC,YAAImlD,KAAKnlD,KAAK,CAAL,EAAQne,QAAR,CAAiBusB,QAA1B;;AAEA,eAAO;AACLzoB,aAAGw/D,GAAGl4B,IADD;AAELrnC,aAAGu/D,GAAGj4B;AAFD,SAAP;AAID,OAPD;;AASA1vC,aAAOD,OAAP,GAAiB6iE,GAAjB;;AAEA;AAAO,KAnqiBG;AAoqiBV;AACA,SAAO,UAAS5iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAIoiE,MAAM,EAAV;;AAEAA,UAAI4T,eAAJ,GAAsB,UAAU1zD,IAAV,EAAgBoT,IAAhB,EAAsB;AAC1C,YAAIplB,IAAI,IAAR;AACA,YAAI2lE,OAAO3zD,KAAK9B,QAAL,EAAX;AACA,YAAI9T,IAAI4V,KAAKqvB,UAAL,EAAR;AACA,YAAIhlC,IAAI2V,KAAKuvB,WAAL,EAAR;;AAEA,YAAInc,KAAKn1B,KAAL,CAAWkI,MAAX,KAAsB,CAA1B,EAA6B;AAC3B,cAAIhH,IAAI,CAACi0B,KAAK4W,OAAL,CAAa,CAAb,CAAD,EAAkB5W,KAAK4W,OAAL,CAAa,CAAb,CAAlB,CAAR;;AAEA,cAAI5W,KAAK6X,KAAL,CAAW,CAAX,MAAkB,GAAtB,EAA2B;AACzB9rC,cAAE,CAAF,IAAOA,EAAE,CAAF,IAAOiL,CAAd;AACD;;AAED,cAAIgpB,KAAK6X,KAAL,CAAW,CAAX,MAAkB,GAAtB,EAA2B;AACzB9rC,cAAE,CAAF,IAAOA,EAAE,CAAF,IAAOkL,CAAd;AACD;;AAEDlL,YAAE,CAAF,KAAQw0E,KAAKtuE,CAAb;AACAlG,YAAE,CAAF,KAAQw0E,KAAKruE,CAAb;;AAEA,iBAAOnG,CAAP;AACD,SAfD,MAeO;AACL,cAAIqR,QAAQ4iB,KAAK4W,OAAL,CAAa,CAAb,CAAZ;;AAEAx5B,kBAAQ,CAACzP,KAAKsH,EAAN,GAAW,CAAX,GAAemI,KAAvB,CAHK,CAGyB;;AAE9B,cAAI3S,IAAI,IAAIkD,KAAKkJ,GAAL,CAASG,CAAT,EAAYC,CAAZ,CAAZ;;AAEA,cAAIue,KAAK,CAAC+qD,KAAKtuE,CAAL,GAAStE,KAAK8N,GAAL,CAAS2B,KAAT,IAAkB3S,CAA5B,EAA+B81E,KAAKruE,CAAL,GAASvE,KAAK2P,GAAL,CAASF,KAAT,IAAkB3S,CAA1D,CAAT;;AAEA,iBAAOmQ,EAAEy2D,UAAF,CAAa,KAAKC,YAAL,CAAkB1kD,IAAlB,CAAb,EAAsCowD,aAAtC,CAAoDuD,KAAKtuE,CAAzD,EAA4DsuE,KAAKruE,CAAjE,EAAoE8E,CAApE,EAAuEC,CAAvE,EAA0Eue,GAAG,CAAH,CAA1E,EAAiFA,GAAG,CAAH,CAAjF,EAAwF,CAAxF,CAAP;AACD;AACF,OAhCD;;AAkCAk3C,UAAIkS,aAAJ,GAAoB,UAAUtyD,IAAV,EAAgB;AAClC,YAAI1R,IAAI,IAAR;AACA,YAAIqwB,YAAY,KAAK,CAArB;;AAEA,YAAI1iB,SAAS+D,KAAK/D,MAAL,GAAc,CAAd,CAAb;AACA,YAAIC,SAAS8D,KAAK9D,MAAL,GAAc,CAAd,CAAb;;AAEA,YAAI0tD,SAAS3tD,OAAOuC,QAAP,EAAb;AACA,YAAIqrD,SAAS3tD,OAAOsC,QAAP,EAAb;;AAEA,YAAI01D,aAAal0D,KAAK6O,MAAL,CAAY,oBAAZ,EAAkCtwB,KAAnD;AACA,YAAI41E,aAAan0D,KAAK6O,MAAL,CAAY,oBAAZ,EAAkCtwB,KAAnD;;AAEA,YAAI61E,UAAUp0D,KAAK6O,MAAL,CAAY,2BAAZ,EAAyCyb,OAAvD;AACA,YAAI+pC,UAAUr0D,KAAK6O,MAAL,CAAY,2BAAZ,EAAyCyb,OAAvD;;AAEA,YAAI66B,KAAKnlD,KAAKne,QAAL,CAAcusB,QAAvB;;AAEA,YAAIkmD,KAAKnP,GAAGK,QAAZ;AACA,YAAItrD,OAAOo6D,OAAO,MAAP,IAAiBA,OAAO,UAAnC;AACA,YAAIjuB,SAASiuB,OAAO,QAAP,IAAmBA,OAAO,aAA1B,IAA2Cp6D,IAAxD;AACA,YAAI+3D,QAAQqC,OAAO,QAAnB;AACA,YAAIC,QAAQD,OAAO,UAAP,IAAqBA,OAAO,UAAxC;AACA,YAAIE,WAAWF,OAAO,UAAtB;AACA,YAAIG,YAAYpuB,UAAU4rB,KAAV,IAAmBsC,KAAnC;AACA,YAAIG,cAAc10D,KAAK6O,MAAL,CAAY,iBAAZ,CAAlB;AACA,YAAI8lD,iBAAiBz6D,OAAO,iBAAP,GAA2Bw6D,YAAYn2E,KAA5D;AACA,YAAIq2E,cAAc50D,KAAK6O,MAAL,CAAY,iBAAZ,CAAlB;AACA,YAAIgmD,iBAAiB36D,OAAO,iBAAP,GAA2B06D,YAAYr2E,KAA5D;;AAEA4mE,WAAGuP,WAAH,GAAiBA,WAAjB;AACAvP,WAAGyP,WAAH,GAAiBA,WAAjB;;AAEA,YAAI3sE,KAAK,KAAK,CAAd,CAjCkC,CAiCjB;AACjB,YAAIC,KAAK,KAAK,CAAd,CAlCkC,CAkCjB;;AAEjB,YAAI4sE,OAAO,KAAK,CAAhB,CApCkC,CAoCf;AACnB,YAAIC,OAAO,KAAK,CAAhB,CArCkC,CAqCf;;AAEnB,YAAI1uB,MAAJ,EAAY;AACV,cAAI2uB,UAAU,CAAC7P,GAAGmD,OAAH,CAAW,CAAX,CAAD,EAAgBnD,GAAGmD,OAAH,CAAW,CAAX,CAAhB,CAAd;AACA,cAAI2M,QAAQhD,QAAQ,CAAC9M,GAAGmD,OAAH,CAAWnD,GAAGmD,OAAH,CAAW7hE,MAAX,GAAoB,CAA/B,CAAD,EAAoC0+D,GAAGmD,OAAH,CAAWnD,GAAGmD,OAAH,CAAW7hE,MAAX,GAAoB,CAA/B,CAApC,CAAR,GAAiFuuE,OAA7F;;AAEA/sE,eAAKgtE,KAAL;AACA/sE,eAAK8sE,OAAL;AACD,SAND,MAMO,IAAIT,KAAJ,EAAW;AAChB,cAAIW,iBAAiB,CAACV,QAAD,GAAY,CAAC3K,OAAOlkE,CAAR,EAAWkkE,OAAOjkE,CAAlB,CAAZ,GAAmCu/D,GAAG4C,MAAH,CAAUziE,KAAV,CAAgB,CAAhB,EAAmB,CAAnB,CAAxD;AACA,cAAI6vE,iBAAiB,CAACX,QAAD,GAAY,CAAC5K,OAAOjkE,CAAR,EAAWikE,OAAOhkE,CAAlB,CAAZ,GAAmCu/D,GAAG4C,MAAH,CAAUziE,KAAV,CAAgB6/D,GAAG4C,MAAH,CAAUthE,MAAV,GAAmB,CAAnC,CAAxD;;AAEAwB,eAAKktE,cAAL;AACAjtE,eAAKgtE,cAAL;AACD;;AAED,YAAIL,mBAAmB,gBAAvB,EAAyC;AACvCl2C,sBAAY,CAACkrC,OAAOlkE,CAAR,EAAWkkE,OAAOjkE,CAAlB,CAAZ;AACD,SAFD,MAEO,IAAIgvE,YAAYrpC,KAAhB,EAAuB;AAC5B5M,sBAAY,KAAKq1C,eAAL,CAAqB93D,MAArB,EAA6B04D,WAA7B,CAAZ;AACD,SAFM,MAEA,IAAIC,mBAAmB,iBAAvB,EAA0C;AAC/Cl2C,sBAAYwmC,GAAG0L,OAAf,CAD+C,CACvB;AACzB,SAFM,MAEA;AACL,cAAIgE,mBAAmB,iBAAvB,EAA0C;AACxCC,mBAAO7sE,EAAP;AACD,WAFD,MAEO,IAAI4sE,mBAAmB,iBAAvB,EAA0C;AAC/CC,mBAAO,CAAClL,OAAOjkE,CAAR,EAAWikE,OAAOhkE,CAAlB,CAAP;AACD;;AAED+4B,sBAAYrwB,EAAEy2D,UAAF,CAAa,KAAKC,YAAL,CAAkB9oD,MAAlB,CAAb,EAAwCw0D,aAAxC,CAAsD7G,OAAOlkE,CAA7D,EAAgEkkE,OAAOjkE,CAAvE,EAA0EsW,OAAOyzB,UAAP,EAA1E,EAA+FzzB,OAAO2zB,WAAP,EAA/F,EAAqHilC,KAAK,CAAL,CAArH,EAA8HA,KAAK,CAAL,CAA9H,EAAuI,CAAvI,CAAZ;AACD;;AAED,YAAIM,WAAWjxE,KAAK2R,mBAAL,CAAyB6oB,SAAzB,EAAoC12B,EAApC,EAAwCqG,EAAEiyD,WAAF,CAAc2T,UAAd,EAA0Br6B,OAA1B,CAAkC75B,IAAlC,IAA0Co0D,OAAlF,CAAf;AACA,YAAIiB,UAAUlxE,KAAK2R,mBAAL,CAAyB6oB,SAAzB,EAAoC12B,EAApC,EAAwCqG,EAAEiyD,WAAF,CAAc2T,UAAd,EAA0BvS,GAA1B,CAA8B3hD,IAA9B,IAAsCo0D,OAA9E,CAAd;;AAEAjP,WAAGmC,IAAH,GAAU+N,QAAQ,CAAR,CAAV;AACAlQ,WAAGoC,IAAH,GAAU8N,QAAQ,CAAR,CAAV;;AAEAlQ,WAAGY,SAAH,GAAeqP,SAAS,CAAT,CAAf;AACAjQ,WAAGa,SAAH,GAAeoP,SAAS,CAAT,CAAf;;AAEA,YAAIT,mBAAmB,gBAAvB,EAAyC;AACvCh2C,sBAAY,CAACirC,OAAOjkE,CAAR,EAAWikE,OAAOhkE,CAAlB,CAAZ;AACD,SAFD,MAEO,IAAI8uE,YAAYnpC,KAAhB,EAAuB;AAC5B5M,sBAAY,KAAKq1C,eAAL,CAAqB/3D,MAArB,EAA6By4D,WAA7B,CAAZ;AACD,SAFM,MAEA,IAAIC,mBAAmB,iBAAvB,EAA0C;AAC/Ch2C,sBAAYwmC,GAAGwL,OAAf,CAD+C,CACvB;AACzB,SAFM,MAEA;AACL,cAAIgE,mBAAmB,iBAAvB,EAA0C;AACxCI,mBAAO7sE,EAAP;AACD,WAFD,MAEO,IAAIysE,mBAAmB,iBAAvB,EAA0C;AAC/CI,mBAAO,CAAClL,OAAOlkE,CAAR,EAAWkkE,OAAOjkE,CAAlB,CAAP;AACD;;AAED+4B,sBAAYrwB,EAAEy2D,UAAF,CAAa,KAAKC,YAAL,CAAkB/oD,MAAlB,CAAb,EAAwCy0D,aAAxC,CAAsD9G,OAAOjkE,CAA7D,EAAgEikE,OAAOhkE,CAAvE,EAA0EqW,OAAO0zB,UAAP,EAA1E,EAA+F1zB,OAAO4zB,WAAP,EAA/F,EAAqHklC,KAAK,CAAL,CAArH,EAA8HA,KAAK,CAAL,CAA9H,EAAuI,CAAvI,CAAZ;AACD;;AAED,YAAIO,aAAanxE,KAAK2R,mBAAL,CAAyB6oB,SAAzB,EAAoCz2B,EAApC,EAAwCoG,EAAEiyD,WAAF,CAAc4T,UAAd,EAA0Bt6B,OAA1B,CAAkC75B,IAAlC,IAA0Cq0D,OAAlF,CAAjB;AACA,YAAIkB,YAAYpxE,KAAK2R,mBAAL,CAAyB6oB,SAAzB,EAAoCz2B,EAApC,EAAwCoG,EAAEiyD,WAAF,CAAc4T,UAAd,EAA0BxS,GAA1B,CAA8B3hD,IAA9B,IAAsCq0D,OAA9E,CAAhB;;AAEAlP,WAAGiC,MAAH,GAAYmO,UAAU,CAAV,CAAZ;AACApQ,WAAGkC,MAAH,GAAYkO,UAAU,CAAV,CAAZ;;AAEApQ,WAAGS,WAAH,GAAiB0P,WAAW,CAAX,CAAjB;AACAnQ,WAAGU,WAAH,GAAiByP,WAAW,CAAX,CAAjB;;AAEA,YAAIb,SAAJ,EAAe;AACb,cAAI,CAAC/zE,GAAGQ,MAAH,CAAUikE,GAAGiC,MAAb,CAAD,IAAyB,CAAC1mE,GAAGQ,MAAH,CAAUikE,GAAGkC,MAAb,CAA1B,IAAkD,CAAC3mE,GAAGQ,MAAH,CAAUikE,GAAGmC,IAAb,CAAnD,IAAyE,CAAC5mE,GAAGQ,MAAH,CAAUikE,GAAGoC,IAAb,CAA9E,EAAkG;AAChGpC,eAAGqQ,OAAH,GAAa,IAAb;AACD,WAFD,MAEO;AACLrQ,eAAGqQ,OAAH,GAAa,KAAb;AACD;AACF;AACF,OA9GD;;AAgHApV,UAAI1tB,iBAAJ,GAAwB,UAAU1yB,IAAV,EAAgB;AACtC,YAAImlD,KAAKnlD,KAAK,CAAL,EAAQne,QAAR,CAAiBusB,QAA1B;;AAEA,gBAAQ+2C,GAAGK,QAAX;AACE,eAAK,UAAL;AACE,mBAAO;AACL7/D,iBAAGw/D,GAAGl1B,WAAH,CAAe,CAAf,CADE;AAELrqC,iBAAGu/D,GAAGl1B,WAAH,CAAe,CAAf;AAFE,aAAP;AAIF;AACE,mBAAO;AACLtqC,iBAAGw/D,GAAGS,WADD;AAELhgE,iBAAGu/D,GAAGU;AAFD,aAAP;AAPJ;AAYD,OAfD;;AAiBAzF,UAAIvtB,iBAAJ,GAAwB,UAAU7yB,IAAV,EAAgB;AACtC,YAAImlD,KAAKnlD,KAAK,CAAL,EAAQne,QAAR,CAAiBusB,QAA1B;;AAEA,gBAAQ+2C,GAAGK,QAAX;AACE,eAAK,UAAL;AACE,mBAAO;AACL7/D,iBAAGw/D,GAAGl1B,WAAH,CAAe,CAAf,CADE;AAELrqC,iBAAGu/D,GAAGl1B,WAAH,CAAe,CAAf;AAFE,aAAP;AAIF;AACE,mBAAO;AACLtqC,iBAAGw/D,GAAGY,SADD;AAELngE,iBAAGu/D,GAAGa;AAFD,aAAP;AAPJ;AAYD,OAfD;;AAiBAxoE,aAAOD,OAAP,GAAiB6iE,GAAjB;;AAEA;AAAO,KAr2iBG;AAs2iBV;AACA,SAAO,UAAS5iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;;AAEA,UAAIoiE,MAAM,EAAV;;AAEA,eAASqV,aAAT,CAAuBnnE,CAAvB,EAA0B0R,IAA1B,EAAgCmwB,GAAhC,EAAqC;AACnC,YAAI5mC,YAAY,SAASA,SAAT,CAAmBtB,EAAnB,EAAuBC,EAAvB,EAA2BwtE,EAA3B,EAA+BjsE,CAA/B,EAAkC;AAChD,iBAAOtF,KAAKoF,SAAL,CAAetB,EAAf,EAAmBC,EAAnB,EAAuBwtE,EAAvB,EAA2BjsE,CAA3B,CAAP;AACD,SAFD;AAGA,YAAIyf,KAAKlJ,KAAKne,QAAd;AACA,YAAI8zE,OAAOzsD,GAAG8E,MAAH,CAAUoiB,SAArB;;AAEA,aAAK,IAAIlyC,IAAI,CAAb,EAAgBA,IAAIoQ,EAAEsnE,cAAF,CAAiBnvE,MAArC,EAA6CvI,GAA7C,EAAkD;AAChD,cAAIuB,IAAI6O,EAAEsnE,cAAF,CAAiB13E,CAAjB,CAAR;;AAEAy3E,eAAKtuE,IAAL,CAAU;AACR1B,eAAG4D,UAAU4mC,IAAI,CAAJ,CAAV,EAAkBA,IAAI,CAAJ,CAAlB,EAA0BA,IAAI,CAAJ,CAA1B,EAAkC1wC,CAAlC,CADK;AAERmG,eAAG2D,UAAU4mC,IAAI,CAAJ,CAAV,EAAkBA,IAAI,CAAJ,CAAlB,EAA0BA,IAAI,CAAJ,CAA1B,EAAkC1wC,CAAlC;AAFK,WAAV;AAID;AACF;;AAED2gE,UAAIsT,oBAAJ,GAA2B,UAAU1zD,IAAV,EAAgB;AACzC,YAAIkJ,KAAKlJ,KAAKne,QAAd;AACA,YAAIsjE,KAAKj8C,GAAGkF,QAAZ;AACA,YAAIkmD,KAAKnP,GAAGK,QAAZ;;AAEA;AACAt8C,WAAG8E,MAAH,CAAUoiB,SAAV,GAAsB,IAAtB;AACAlnB,WAAG8E,MAAH,CAAUqiB,OAAV,GAAoB,IAApB;AACAnnB,WAAG8E,MAAH,CAAUiiB,WAAV,GAAwB,IAAxB;;AAEA,YAAIqkC,OAAO,aAAP,IAAwBA,OAAO,QAA/B,IAA2CA,OAAO,MAAlD,IAA4DA,OAAO,UAAvE,EAAmF;AACjF,cAAIqB,OAAOzsD,GAAG8E,MAAH,CAAUoiB,SAAV,GAAsB,EAAjC,CADiF,CAC5C;;AAErC,eAAK,IAAIlyC,IAAI,CAAb,EAAgBA,IAAI,CAAJ,GAAQinE,GAAGM,MAAH,CAAUh/D,MAAlC,EAA0CvI,KAAK,CAA/C,EAAkD;AAChDu3E,0BAAc,IAAd,EAAoBz1D,IAApB,EAA0BmlD,GAAGM,MAAH,CAAUngE,KAAV,CAAgBpH,CAAhB,EAAmBA,IAAI,CAAvB,CAA1B;AACD;AACF,SAND,MAMO,IAAIo2E,OAAO,UAAX,EAAuB;AAC5B,cAAIuB,OAAO3sD,GAAG8E,MAAH,CAAUqiB,OAAV,GAAoB,EAA/B;;AAEA,eAAK,IAAInyC,IAAI,CAAb,EAAgBA,IAAI,CAAJ,GAAQinE,GAAGM,MAAH,CAAUh/D,MAAlC,EAA0CvI,KAAK,CAA/C,EAAkD;AAChD23E,iBAAKxuE,IAAL,CAAU;AACR1B,iBAAGw/D,GAAGM,MAAH,CAAUvnE,CAAV,CADK;AAER0H,iBAAGu/D,GAAGM,MAAH,CAAUvnE,IAAI,CAAd;AAFK,aAAV;AAID;AACF,SATM,MASA,IAAIo2E,OAAO,UAAX,EAAuB;AAC5B,cAAItkC,OAAOm1B,GAAGl1B,WAAd;;AAEA/mB,aAAG8E,MAAH,CAAUiiB,WAAV,GAAwB,CAAC,EAAEtqC,GAAGqqC,KAAK,CAAL,CAAL,EAAcpqC,GAAGoqC,KAAK,CAAL,CAAjB,EAAD,EAA6B,EAAErqC,GAAGqqC,KAAK,CAAL,CAAL,EAAcpqC,GAAGoqC,KAAK,CAAL,CAAjB,EAA7B,CAAxB;AACD;;AAED9mB,WAAG8E,MAAH,CAAU2e,UAAV,GAAuB,KAAK41B,aAAL,CAAmBviD,KAAK6O,MAAL,CAAY,OAAZ,EAAqByb,OAAxC,EAAiDtqB,KAAK6O,MAAL,CAAY,aAAZ,EAA2BtwB,KAA5E,IAAqF,KAAK8hE,eAAjH;AACD,OAhCD;;AAkCAD,UAAI0V,0BAAJ,GAAiC,UAAUr2D,KAAV,EAAiB;AAChD,aAAKwpD,qBAAL,CAA2BxpD,KAA3B;AACD,OAFD;;AAIAjiB,aAAOD,OAAP,GAAiB6iE,GAAjB;;AAEA;AAAO,KAz6iBG;AA06iBV;AACA,SAAO,UAAS5iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAIoiE,MAAM,EAAV;;AAEA,OAACpiE,oBAAoB,EAApB,CAAD,EAA0BA,oBAAoB,EAApB,CAA1B,EAAmDA,oBAAoB,EAApB,CAAnD,EAA4EA,oBAAoB,EAApB,CAA5E,EAAqGA,oBAAoB,EAApB,CAArG,EAA8HA,oBAAoB,EAApB,CAA9H,EAAuJA,oBAAoB,EAApB,CAAvJ,EAAgLA,oBAAoB,EAApB,CAAhL,EAAyMA,oBAAoB,EAApB,CAAzM,EAAkO8J,OAAlO,CAA0O,UAAUqc,KAAV,EAAiB;AACzP/f,aAAKgB,MAAL,CAAYg7D,GAAZ,EAAiBj8C,KAAjB;AACD,OAFD;;AAIA3mB,aAAOD,OAAP,GAAiB6iE,GAAjB;;AAEA;AAAO,KA17iBG;AA27iBV;AACA,SAAO,UAAS5iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAIoiE,MAAM,EAAV;;AAEAA,UAAI2V,8BAAJ,GAAqC,UAAUz1D,IAAV,EAAgB;AACnD,YAAI01D,UAAU11D,KAAKuO,MAAL,CAAY,OAAZ,EAAqBye,QAAnC;;AAEA,YAAI5sC,GAAG2B,WAAH,CAAe2zE,OAAf,CAAJ,EAA6B;AAC3B;AACD;;AAED,YAAIC,KAAJ,EAAWC,KAAX;AACA,YAAIhtD,KAAK5I,KAAKze,QAAd;AACA,YAAIs0E,YAAY71D,KAAK5U,KAAL,EAAhB;AACA,YAAI0qE,aAAa91D,KAAK3U,MAAL,EAAjB;AACA,YAAIV,UAAUqV,KAAKrV,OAAL,EAAd;AACA,YAAIorE,UAAU/1D,KAAK9B,QAAL,EAAd;AACA,YAAI83D,aAAah2D,KAAKuO,MAAL,CAAY,aAAZ,EAA2Bye,QAA5C;AACA,YAAIipC,aAAaj2D,KAAKuO,MAAL,CAAY,aAAZ,EAA2Bye,QAA5C;AACA,YAAI63B,KAAKj8C,GAAGkF,QAAZ;AACA,YAAIJ,SAAS9E,GAAG8E,MAAhB;;AAEA,gBAAQsoD,UAAR;AACE,eAAK,MAAL;AACEL,oBAAQI,QAAQ1wE,CAAR,GAAYwwE,YAAY,CAAxB,GAA4BlrE,OAApC;AACA;;AAEF,eAAK,OAAL;AACEgrE,oBAAQI,QAAQ1wE,CAAR,GAAYwwE,YAAY,CAAxB,GAA4BlrE,OAApC;AACA;;AAEF;AACE;AACAgrE,oBAAQI,QAAQ1wE,CAAhB;AAXJ;;AAcA,gBAAQ4wE,UAAR;AACE,eAAK,KAAL;AACEL,oBAAQG,QAAQzwE,CAAR,GAAYwwE,aAAa,CAAzB,GAA6BnrE,OAArC;AACA;;AAEF,eAAK,QAAL;AACEirE,oBAAQG,QAAQzwE,CAAR,GAAYwwE,aAAa,CAAzB,GAA6BnrE,OAArC;AACA;;AAEF;AACE;AACAirE,oBAAQG,QAAQzwE,CAAhB;AAXJ;;AAcAu/D,WAAGx3B,MAAH,GAAYsoC,KAAZ;AACA9Q,WAAGv3B,MAAH,GAAYsoC,KAAZ;AACAloD,eAAO2f,MAAP,GAAgBsoC,KAAhB;AACAjoD,eAAO4f,MAAP,GAAgBsoC,KAAhB;;AAEA,aAAKM,oBAAL,CAA0Bl2D,IAA1B;AACD,OApDD;;AAsDA8/C,UAAIuT,+BAAJ,GAAsC,UAAU3zD,IAAV,EAAgB;AACpD,YAAIvgB,CAAJ;AACA,YAAIypB,KAAKlJ,KAAKne,QAAd;AACA,YAAIsjE,KAAKj8C,GAAGkF,QAAZ;AACA,YAAI9f,IAAI,IAAR;AACA,YAAI0nE,UAAU;AACZS,eAAKz2D,KAAK6O,MAAL,CAAY,OAAZ,EAAqBye,QADd;AAEZrxB,kBAAQ+D,KAAK6O,MAAL,CAAY,cAAZ,EAA4Bye,QAFxB;AAGZpxB,kBAAQ8D,KAAK6O,MAAL,CAAY,cAAZ,EAA4Bye;AAHxB,SAAd;;AAMA,YAAI0oC,QAAQS,GAAR,IAAeT,QAAQ/5D,MAAvB,IAAiC+5D,QAAQ95D,MAA7C,EAAqD;AACnD;AACD,SAFD,MAEO;AACH,mBADG,CACK;AACT;;AAEH;AACA;AACAzc,YAAI;AACFkG,aAAGw/D,GAAGl4B,IADJ;AAEFrnC,aAAGu/D,GAAGj4B;AAFJ,SAAJ;;AAKA,YAAIwpC,QAAQ,SAASA,KAAT,CAAejvE,QAAf,EAAyBC,MAAzB,EAAiCnJ,KAAjC,EAAwC;AAClD6F,eAAKwD,mBAAL,CAAyBshB,GAAGkF,QAA5B,EAAsC3mB,QAAtC,EAAgDC,MAAhD,EAAwDnJ,KAAxD;AACA6F,eAAKwD,mBAAL,CAAyBshB,GAAG8E,MAA5B,EAAoCvmB,QAApC,EAA8CC,MAA9C,EAAsDnJ,KAAtD;AACD,SAHD;;AAKAm4E,cAAM,QAAN,EAAgB,IAAhB,EAAsBj3E,EAAEkG,CAAxB;AACA+wE,cAAM,QAAN,EAAgB,IAAhB,EAAsBj3E,EAAEmG,CAAxB;;AAEA,YAAI+wE,yBAAyB,SAASA,sBAAT,GAAkC;AAC7D,cAAIA,uBAAuBliD,KAA3B,EAAkC;AAChC,mBAAOkiD,uBAAuBliD,KAA9B;AACD,WAH4D,CAG3D;;AAEF,cAAI6zC,UAAU,EAAd;;AAEA;AACA,eAAK,IAAIpqE,IAAI,CAAb,EAAgBA,IAAI,CAAJ,GAAQinE,GAAGM,MAAH,CAAUh/D,MAAlC,EAA0CvI,KAAK,CAA/C,EAAkD;AAChD,gBAAIsL,KAAK,EAAE7D,GAAGw/D,GAAGM,MAAH,CAAUvnE,CAAV,CAAL,EAAmB0H,GAAGu/D,GAAGM,MAAH,CAAUvnE,IAAI,CAAd,CAAtB,EAAT;AACA,gBAAI+J,KAAK,EAAEtC,GAAGw/D,GAAGM,MAAH,CAAUvnE,IAAI,CAAd,CAAL,EAAuB0H,GAAGu/D,GAAGM,MAAH,CAAUvnE,IAAI,CAAd,CAA1B,EAAT,CAFgD,CAEO;AACvD,gBAAIgK,KAAK,EAAEvC,GAAGw/D,GAAGM,MAAH,CAAUvnE,IAAI,CAAd,CAAL,EAAuB0H,GAAGu/D,GAAGM,MAAH,CAAUvnE,IAAI,CAAd,CAA1B,EAAT;;AAEAoqE,oBAAQjhE,IAAR,CAAa;AACXmC,kBAAIA,EADO;AAEXvB,kBAAIA,EAFO;AAGXC,kBAAIA,EAHO;AAIX0uE,yBAAW,CAJA;AAKXnwE,sBAAQ,CALG;AAMX+tE,wBAAU;AANC,aAAb;AAQD;;AAED,cAAImB,OAAOzsD,GAAG8E,MAAH,CAAUoiB,SAArB;AACA,cAAIymC,SAASvoE,EAAEsnE,cAAF,CAAiBnvE,MAA9B;;AAEA,mBAASqwE,UAAT,CAAoBC,EAApB,EAAwBvtE,EAAxB,EAA4BvB,EAA5B,EAAgC+uE,EAAhC,EAAoC9jE,EAApC,EAAwC;AACtC,gBAAIzM,SAAStC,KAAK+E,IAAL,CAAUM,EAAV,EAAcvB,EAAd,CAAb;AACA,gBAAIgvE,cAAcF,GAAGvC,QAAH,CAAYuC,GAAGvC,QAAH,CAAY/tE,MAAZ,GAAqB,CAAjC,CAAlB;AACA,gBAAIywE,UAAU;AACZ1tE,kBAAIA,EADQ;AAEZvB,kBAAIA,EAFQ;AAGZ+uE,kBAAIA,EAHQ;AAIZ9jE,kBAAIA,EAJQ;AAKZ0jE,yBAAWK,cAAcA,YAAYL,SAAZ,GAAwBK,YAAYxwE,MAAlD,GAA2D,CAL1D;AAMZA,sBAAQA;AANI,aAAd;;AASAswE,eAAGvC,QAAH,CAAYntE,IAAZ,CAAiB6vE,OAAjB;;AAEAH,eAAGtwE,MAAH,IAAaA,MAAb;AACD;;AAED;AACA,eAAK,IAAIvI,IAAI,CAAb,EAAgBA,IAAIoqE,QAAQ7hE,MAA5B,EAAoCvI,GAApC,EAAyC;AACvC,gBAAI64E,KAAKzO,QAAQpqE,CAAR,CAAT;AACA,gBAAIi5E,SAAS7O,QAAQpqE,IAAI,CAAZ,CAAb;;AAEA,gBAAIi5E,MAAJ,EAAY;AACVJ,iBAAGH,SAAH,GAAeO,OAAOP,SAAP,GAAmBO,OAAO1wE,MAAzC;AACD;;AAEDqwE,uBAAWC,EAAX,EAAeA,GAAGvtE,EAAlB,EAAsBmsE,KAAKz3E,IAAI24E,MAAT,CAAtB,EAAwC,CAAxC,EAA2CvoE,EAAEsnE,cAAF,CAAiB,CAAjB,CAA3C,EARuC,CAQ0B;;AAEjE,iBAAK,IAAIjvE,IAAI,CAAb,EAAgBA,IAAIkwE,SAAS,CAA7B,EAAgClwE,GAAhC,EAAqC;AACnCmwE,yBAAWC,EAAX,EAAepB,KAAKz3E,IAAI24E,MAAJ,GAAalwE,CAAlB,CAAf,EAAqCgvE,KAAKz3E,IAAI24E,MAAJ,GAAalwE,CAAb,GAAiB,CAAtB,CAArC,EAA+D2H,EAAEsnE,cAAF,CAAiBjvE,CAAjB,CAA/D,EAAoF2H,EAAEsnE,cAAF,CAAiBjvE,IAAI,CAArB,CAApF;AACD;;AAEDmwE,uBAAWC,EAAX,EAAepB,KAAKz3E,IAAI24E,MAAJ,GAAaA,MAAb,GAAsB,CAA3B,CAAf,EAA8CE,GAAG7uE,EAAjD,EAAqDoG,EAAEsnE,cAAF,CAAiBiB,SAAS,CAA1B,CAArD,EAAmF,CAAnF,EAduC,CAcgD;AACxF;;AAED,iBAAOF,uBAAuBliD,KAAvB,GAA+B6zC,OAAtC;AACD,SA9DD;;AAgEA,YAAI8O,yBAAyB,SAASA,sBAAT,CAAgC1vE,MAAhC,EAAwC;AACnE,cAAIoJ,KAAJ;AACA,cAAIumE,QAAQ3vE,WAAW,QAAvB;;AAEA,cAAI,CAACsuE,QAAQtuE,MAAR,CAAL,EAAsB;AACpB;AACD;;AAED,cAAIqI,SAASiQ,KAAK6O,MAAL,CAAYnnB,SAAS,cAArB,EAAqC4iC,OAAlD;;AAEA,cAAIgtC,YAAY,SAASA,SAAT,CAAmB9tE,EAAnB,EAAuBvB,EAAvB,EAA2B;AACzC,gBAAIoB,KAAKpB,GAAGtC,CAAH,GAAO6D,GAAG7D,CAAnB;AACA,gBAAI2D,KAAKrB,GAAGrC,CAAH,GAAO4D,GAAG5D,CAAnB;;AAEA,mBAAOvE,KAAK0P,IAAL,CAAUzH,KAAKD,EAAf,CAAP;AACD,WALD;;AAOA,cAAIkuE,cAAc,SAASA,WAAT,CAAqB/tE,EAArB,EAAyBvB,EAAzB,EAA6BC,EAA7B,EAAiCuB,CAAjC,EAAoC;AACpD,gBAAIutE,KAAK7yE,KAAKkG,KAAL,CAAW,CAAX,EAAcZ,IAAI,KAAlB,EAAyB,CAAzB,CAAT;AACA,gBAAIyJ,KAAK/O,KAAKkG,KAAL,CAAW,CAAX,EAAcZ,IAAI,KAAlB,EAAyB,CAAzB,CAAT;;AAEA,gBAAI+tE,MAAMrzE,KAAKuF,WAAL,CAAiBF,EAAjB,EAAqBvB,EAArB,EAAyBC,EAAzB,EAA6B8uE,EAA7B,CAAV;AACA,gBAAIS,MAAMtzE,KAAKuF,WAAL,CAAiBF,EAAjB,EAAqBvB,EAArB,EAAyBC,EAAzB,EAA6BgL,EAA7B,CAAV;;AAEA,mBAAOokE,UAAUE,GAAV,EAAeC,GAAf,CAAP;AACD,WARD;;AAUA,kBAAQtS,GAAGK,QAAX;AACE,iBAAK,MAAL;AACA,iBAAK,UAAL;AACA,iBAAK,QAAL;AACA,iBAAK,aAAL;AACE,kBAAIkS,MAAMf,wBAAV;AACA,kBAAI53D,QAAJ;AACA,kBAAI63D,YAAY,CAAhB;AACA,kBAAIe,YAAY,CAAhB;;AAEA;AACA,mBAAK,IAAIz5E,IAAI,CAAb,EAAgBA,IAAIw5E,IAAIjxE,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,oBAAI64E,KAAKW,IAAIL,QAAQn5E,CAAR,GAAYw5E,IAAIjxE,MAAJ,GAAa,CAAb,GAAiBvI,CAAjC,CAAT;;AAEA,qBAAK,IAAIyI,IAAI,CAAb,EAAgBA,IAAIowE,GAAGvC,QAAH,CAAY/tE,MAAhC,EAAwCE,GAAxC,EAA6C;AAC3C,sBAAIixE,MAAMb,GAAGvC,QAAH,CAAY6C,QAAQ1wE,CAAR,GAAYowE,GAAGvC,QAAH,CAAY/tE,MAAZ,GAAqB,CAArB,GAAyBE,CAAjD,CAAV;AACA,sBAAIkxE,UAAU35E,MAAMw5E,IAAIjxE,MAAJ,GAAa,CAAnB,IAAwBE,MAAMowE,GAAGvC,QAAH,CAAY/tE,MAAZ,GAAqB,CAAjE;;AAEAmwE,8BAAYe,SAAZ;AACAA,+BAAaC,IAAInxE,MAAjB;;AAEA,sBAAIkxE,aAAa5nE,MAAb,IAAuB8nE,OAA3B,EAAoC;AAClC94D,+BAAW,EAAEg4D,IAAIA,EAAN,EAAUG,SAASU,GAAnB,EAAX;AACA;AACD;AACF;;AAED,oBAAI74D,QAAJ,EAAc;AACZ;AACD;AACF;;AAED,kBAAIg4D,KAAKh4D,SAASg4D,EAAlB;AACA,kBAAIa,MAAM74D,SAASm4D,OAAnB;AACA,kBAAIY,WAAW,CAAC/nE,SAAS6mE,SAAV,IAAuBgB,IAAInxE,MAA1C;AACA,kBAAIsxE,QAAQH,IAAI1kE,EAAJ,GAAS0kE,IAAIZ,EAAzB;AACA,kBAAIvtE,IAAI4tE,QAAQO,IAAIZ,EAAJ,GAASe,QAAQD,QAAzB,GAAoCF,IAAI1kE,EAAJ,GAAS6kE,QAAQD,QAA7D;;AAEAruE,kBAAItF,KAAKkG,KAAL,CAAW,CAAX,EAAcZ,CAAd,EAAiB,CAAjB,CAAJ;AACAhK,kBAAI0E,KAAKuF,WAAL,CAAiBqtE,GAAGvtE,EAApB,EAAwButE,GAAG9uE,EAA3B,EAA+B8uE,GAAG7uE,EAAlC,EAAsCuB,CAAtC,CAAJ;AACAqH,sBAAQymE,YAAYR,GAAGvtE,EAAf,EAAmButE,GAAG9uE,EAAtB,EAA0B8uE,GAAG7uE,EAA7B,EAAiCuB,CAAjC,EAAoChK,CAApC,CAAR;;AAEA;;AAEF,iBAAK,UAAL;AACA,iBAAK,UAAL;AACA,iBAAK,UAAL;AACE,kBAAIjB,IAAI,CAAR;AAAA,kBACIw5E,EADJ;AAAA,kBAEIC,EAFJ;AAGA,kBAAIzuE,EAAJ,EAAQvB,EAAR;AACA,kBAAI9J,IAAIgnE,GAAGM,MAAH,CAAUh/D,MAAlB;;AAEA,mBAAK,IAAIvI,IAAI,CAAb,EAAgBA,IAAI,CAAJ,GAAQC,CAAxB,EAA2BD,KAAK,CAAhC,EAAmC;AACjC,oBAAIm5E,KAAJ,EAAW;AACT7tE,uBAAK,EAAE7D,GAAGw/D,GAAGM,MAAH,CAAUvnE,CAAV,CAAL,EAAmB0H,GAAGu/D,GAAGM,MAAH,CAAUvnE,IAAI,CAAd,CAAtB,EAAL;AACA+J,uBAAK,EAAEtC,GAAGw/D,GAAGM,MAAH,CAAUvnE,IAAI,CAAd,CAAL,EAAuB0H,GAAGu/D,GAAGM,MAAH,CAAUvnE,IAAI,CAAd,CAA1B,EAAL;AACD,iBAHD,MAGO;AACLsL,uBAAK,EAAE7D,GAAGw/D,GAAGM,MAAH,CAAUtnE,IAAI,CAAJ,GAAQD,CAAlB,CAAL,EAA2B0H,GAAGu/D,GAAGM,MAAH,CAAUtnE,IAAI,CAAJ,GAAQD,CAAlB,CAA9B,EAAL;AACA+J,uBAAK,EAAEtC,GAAGw/D,GAAGM,MAAH,CAAUtnE,IAAI,CAAJ,GAAQD,CAAlB,CAAL,EAA2B0H,GAAGu/D,GAAGM,MAAH,CAAUtnE,IAAI,CAAJ,GAAQD,CAAlB,CAA9B,EAAL;AACD;;AAED85E,qBAAK7zE,KAAK+E,IAAL,CAAUM,EAAV,EAAcvB,EAAd,CAAL;AACAgwE,qBAAKz5E,CAAL;AACAA,qBAAKw5E,EAAL;;AAEA,oBAAIx5E,KAAKuR,MAAT,EAAiB;AACf;AACD;AACF;;AAED,kBAAImoE,KAAKnoE,SAASkoE,EAAlB;AACA,kBAAIxuE,IAAIyuE,KAAKF,EAAb;;AAEAvuE,kBAAItF,KAAKkG,KAAL,CAAW,CAAX,EAAcZ,CAAd,EAAiB,CAAjB,CAAJ;AACAhK,kBAAI0E,KAAKwF,MAAL,CAAYH,EAAZ,EAAgBvB,EAAhB,EAAoBwB,CAApB,CAAJ;AACAqH,sBAAQwmE,UAAU9tE,EAAV,EAAcvB,EAAd,CAAR;;AAEA;AA9EJ;;AAiFAyuE,gBAAM,QAAN,EAAgBhvE,MAAhB,EAAwBjI,EAAEkG,CAA1B;AACA+wE,gBAAM,QAAN,EAAgBhvE,MAAhB,EAAwBjI,EAAEmG,CAA1B;AACA8wE,gBAAM,gBAAN,EAAwBhvE,MAAxB,EAAgCoJ,KAAhC;AACD,SA/GD;;AAiHAsmE,+BAAuB,QAAvB;AACAA,+BAAuB,QAAvB;;AAEA,aAAKZ,oBAAL,CAA0Bx2D,IAA1B;AACD,OArND;;AAuNAogD,UAAIoW,oBAAJ,GAA2B,UAAUvvE,GAAV,EAAe;AACxC,aAAKkxE,4BAAL,CAAkClxE,GAAlC;;AAEA,YAAIA,IAAI8Y,MAAJ,EAAJ,EAAkB;AAChB,eAAKo4D,4BAAL,CAAkClxE,GAAlC,EAAuC,QAAvC;AACA,eAAKkxE,4BAAL,CAAkClxE,GAAlC,EAAuC,QAAvC;AACD;AACF,OAPD;;AASAm5D,UAAI+X,4BAAJ,GAAmC,UAAUlxE,GAAV,EAAeS,MAAf,EAAuB;AACxD,YAAIwhB,KAAKjiB,IAAIpF,QAAb;;AAEA,YAAI8Y,OAAO,KAAKy9D,YAAL,CAAkBnxE,GAAlB,EAAuBS,MAAvB,CAAX;AACA,YAAI2wE,YAAY,KAAKC,wBAAL,CAA8BrxE,GAA9B,EAAmC0T,IAAnC,CAAhB;;AAEAvW,aAAKwD,mBAAL,CAAyBshB,GAAG8E,MAA5B,EAAoC,YAApC,EAAkDtmB,MAAlD,EAA0D2wE,UAAU3sE,KAApE;AACAtH,aAAKwD,mBAAL,CAAyBshB,GAAGkF,QAA5B,EAAsC,YAAtC,EAAoD1mB,MAApD,EAA4D2wE,UAAU3sE,KAAtE;;AAEAtH,aAAKwD,mBAAL,CAAyBshB,GAAG8E,MAA5B,EAAoC,aAApC,EAAmDtmB,MAAnD,EAA2D2wE,UAAU1sE,MAArE;AACAvH,aAAKwD,mBAAL,CAAyBshB,GAAGkF,QAA5B,EAAsC,aAAtC,EAAqD1mB,MAArD,EAA6D2wE,UAAU1sE,MAAvE;AACD,OAXD;;AAaAy0D,UAAIgY,YAAJ,GAAmB,UAAUnxE,GAAV,EAAeS,MAAf,EAAuB;AACxC,YAAIwhB,KAAKjiB,IAAIpF,QAAb;AACA,YAAI02E,MAAM7wE,SAASA,SAAS,GAAlB,GAAwB,EAAlC;AACA,YAAIiT,OAAO1T,IAAI4nB,MAAJ,CAAW0pD,MAAM,OAAjB,EAA0BjrC,QAArC;AACA,YAAIkrC,gBAAgBvxE,IAAI4nB,MAAJ,CAAW,gBAAX,EAA6BtwB,KAAjD;AACA,YAAI6vB,WAAW,SAASA,QAAT,CAAkB3mB,QAAlB,EAA4BlJ,KAA5B,EAAmC;AAChD,cAAIA,KAAJ,EAAW;AACT6F,iBAAKwD,mBAAL,CAAyBshB,GAAGkF,QAA5B,EAAsC3mB,QAAtC,EAAgDC,MAAhD,EAAwDnJ,KAAxD;AACA,mBAAOA,KAAP;AACD,WAHD,MAGO;AACL,mBAAO6F,KAAKoD,mBAAL,CAAyB0hB,GAAGkF,QAA5B,EAAsC3mB,QAAtC,EAAgDC,MAAhD,CAAP;AACD;AACF,SAPD;;AASA,YAAI8wE,iBAAiB,MAArB,EAA6B;AAC3B;AACD,SAFD,MAEO,IAAIA,iBAAiB,WAArB,EAAkC;AACvC79D,iBAAOA,KAAK89D,WAAL,EAAP;AACD,SAFM,MAEA,IAAID,iBAAiB,WAArB,EAAkC;AACvC79D,iBAAOA,KAAK+9D,WAAL,EAAP;AACD;;AAED,YAAIC,YAAY1xE,IAAI4nB,MAAJ,CAAW,WAAX,EAAwBtwB,KAAxC;;AAEA,YAAIo6E,cAAc,MAAlB,EAA0B;AACxB;;AAEA,cAAIC,WAAWxqD,SAAS,UAAT,CAAf;;AAEA;AACA,cAAIwqD,YAAYxqD,SAAS,cAAT,MAA6BwqD,QAA7C,EAAuD;AACrD;AACA,mBAAOxqD,SAAS,qBAAT,CAAP;AACD;AACD;;AAEA,cAAImmD,QAAQ55D,KAAKsM,KAAL,CAAW,IAAX,CAAZ;AACA,cAAI4xD,OAAO5xE,IAAI4nB,MAAJ,CAAW,gBAAX,EAA6Byb,OAAxC;AACA,cAAIwuC,eAAe,EAAnB;;AAEA,eAAK,IAAI36E,IAAI,CAAb,EAAgBA,IAAIo2E,MAAM9tE,MAA1B,EAAkCtI,GAAlC,EAAuC;AACrC,gBAAI6R,OAAOukE,MAAMp2E,CAAN,CAAX;AACA,gBAAI46E,WAAW,KAAKT,wBAAL,CAA8BrxE,GAA9B,EAAmC+I,IAAnC,EAAyC,UAAUA,IAAnD,CAAf;AACA,gBAAIgpE,QAAQD,SAASrtE,KAArB;;AAEA,gBAAIstE,QAAQH,IAAZ,EAAkB;AAChB;AACA,kBAAII,QAAQjpE,KAAKiX,KAAL,CAAW,KAAX,CAAZ,CAFgB,CAEe;AAC/B,kBAAIiyD,UAAU,EAAd;;AAEA,mBAAK,IAAIxuE,IAAI,CAAb,EAAgBA,IAAIuuE,MAAMxyE,MAA1B,EAAkCiE,GAAlC,EAAuC;AACrC,oBAAIyuE,OAAOF,MAAMvuE,CAAN,CAAX;AACA,oBAAI0uE,WAAWF,QAAQzyE,MAAR,KAAmB,CAAnB,GAAuB0yE,IAAvB,GAA8BD,UAAU,GAAV,GAAgBC,IAA7D;AACA,oBAAIE,WAAW,KAAKf,wBAAL,CAA8BrxE,GAA9B,EAAmCmyE,QAAnC,EAA6C,cAAcA,QAA3D,CAAf;AACA,oBAAIE,QAAQD,SAAS3tE,KAArB;;AAEA,oBAAI4tE,SAAST,IAAb,EAAmB;AACjB;AACAK,6BAAWC,OAAO,GAAlB;AACD,iBAHD,MAGO;AACL;AACAL,+BAAazxE,IAAb,CAAkB6xE,OAAlB;AACAA,4BAAUC,OAAO,GAAjB;AACD;AACF;;AAED;AACA,kBAAI,CAACD,QAAQ52E,KAAR,CAAc,OAAd,CAAL,EAA6B;AAC3Bw2E,6BAAazxE,IAAb,CAAkB6xE,OAAlB;AACD;AACF,aAzBD,MAyBO;AACL;AACAJ,2BAAazxE,IAAb,CAAkB2I,IAAlB;AACD;AACF,WAlDuB,CAkDtB;;AAEFoe,mBAAS,sBAAT,EAAiC0qD,YAAjC;AACAn+D,iBAAOyT,SAAS,qBAAT,EAAgC0qD,aAAa9lD,IAAb,CAAkB,IAAlB,CAAhC,CAAP;AACA5E,mBAAS,cAAT,EAAyBwqD,QAAzB;;AAEA;AACD,SAzDD,MAyDO,IAAID,cAAc,UAAlB,EAA8B;AACnC,cAAIE,OAAO5xE,IAAI4nB,MAAJ,CAAW,gBAAX,EAA6Byb,OAAxC;AACA,cAAIivC,aAAa,EAAjB;AACA,cAAIC,WAAW,QAAf;AACA,cAAIC,YAAY,KAAhB;;AAEA,eAAK,IAAIv7E,IAAI,CAAb,EAAgBA,IAAIyc,KAAKlU,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAIw7E,kBAAkB,KAAKpB,wBAAL,CAA8BrxE,GAA9B,EAAmCsyE,aAAa5+D,KAAKzc,CAAL,CAAb,GAAuBs7E,QAA1D,EAAoE9tE,KAA1F;;AAEA,gBAAIguE,kBAAkBb,IAAtB,EAA4B;AAC1B;AACD;;AAEDU,0BAAc5+D,KAAKzc,CAAL,CAAd;;AAEA,gBAAIA,MAAMyc,KAAKlU,MAAL,GAAc,CAAxB,EAA2B;AACzBgzE,0BAAY,IAAZ;AACD;AACF;;AAED,cAAI,CAACA,SAAL,EAAgB;AACdF,0BAAcC,QAAd;AACD;;AAED,iBAAOD,UAAP;AACD,SA1GuC,CA0GtC;;AAEF,eAAO5+D,IAAP;AACD,OA7GD;;AA+GAylD,UAAIkY,wBAAJ,GAA+B,UAAUrxE,GAAV,EAAe0T,IAAf,EAAqBg/D,QAArB,EAA+B;AAC5D,YAAIrrE,IAAI,IAAR;;AAEA,YAAIsrE,WAAW3yE,IAAIpF,QAAJ,CAAag4E,aAAb,GAA6B,KAA7B,GAAqCl/D,IAApD;;AAEA,YAAIg/D,QAAJ,EAAc;AACZC,sBAAY,QAAQD,QAApB;AACD;;AAED,YAAIllD,QAAQnmB,EAAEwrE,aAAF,KAAoBxrE,EAAEwrE,aAAF,GAAkB,EAAtC,CAAZ;;AAEA,YAAIrlD,MAAMmlD,QAAN,CAAJ,EAAqB;AACnB,iBAAOnlD,MAAMmlD,QAAN,CAAP;AACD;;AAED,YAAIG,WAAW,CAAf,CAf4D,CAe1C;AAClB,YAAIC,SAAS/yE,IAAI4nB,MAAJ,CAAW,YAAX,EAAyBye,QAAtC;AACA,YAAI1yB,OAAOm/D,WAAW9yE,IAAI4nB,MAAJ,CAAW,WAAX,EAAwByb,OAAnC,GAA6C,IAAxD;AACA,YAAI2vC,SAAShzE,IAAI4nB,MAAJ,CAAW,aAAX,EAA0Bye,QAAvC;AACA,YAAItT,SAAS/yB,IAAI4nB,MAAJ,CAAW,aAAX,EAA0Bye,QAAvC;;AAEA,YAAI4sC,MAAM,KAAKC,YAAf;;AAEA,YAAI,CAACD,GAAL,EAAU;AACRA,gBAAM,KAAKC,YAAL,GAAoBj6E,SAASk6E,aAAT,CAAuB,KAAvB,CAA1B,CADQ,CACiD;AACzDl6E,mBAASm6E,IAAT,CAAcC,WAAd,CAA0BJ,GAA1B,EAFQ,CAEwB;AACjC;;AAED,YAAIK,KAAKL,IAAIl4E,KAAb;;AAEA;AACAu4E,WAAGC,UAAH,GAAgBP,MAAhB;AACAM,WAAGE,SAAH,GAAeT,MAAf;AACAO,WAAGG,QAAH,GAAc9/D,IAAd;AACA2/D,WAAGI,UAAH,GAAgB3gD,MAAhB;;AAEA;AACAugD,WAAG/7D,QAAH,GAAc,UAAd;AACA+7D,WAAGhwC,IAAH,GAAU,SAAV;AACAgwC,WAAG9vC,GAAH,GAAS,SAAT;AACA8vC,WAAGK,MAAH,GAAY,IAAZ;AACAL,WAAGM,UAAH,GAAgB,QAAhB;AACAN,WAAGO,aAAH,GAAmB,MAAnB;AACAP,WAAGtvE,OAAH,GAAa,GAAb;AACAsvE,WAAGQ,UAAH,GAAgB,GAAhB;;AAEA,YAAI9zE,IAAI4nB,MAAJ,CAAW,WAAX,EAAwBtwB,KAAxB,KAAkC,MAAtC,EAA8C;AAC5Cg8E,aAAGS,UAAH,GAAgB,KAAhB,CAD4C,CACrB;AACxB,SAFD,MAEO;AACLT,aAAGS,UAAH,GAAgB,QAAhB;AACD;;AAED;AACAd,YAAIe,WAAJ,GAAkBtgE,IAAlB;;AAEA8Z,cAAMmlD,QAAN,IAAkB;AAChBluE,iBAAOrK,KAAKsiC,IAAL,CAAUu2C,IAAI5sB,WAAJ,GAAkBysB,QAA5B,CADS;AAEhBpuE,kBAAQtK,KAAKsiC,IAAL,CAAUu2C,IAAI3sB,YAAJ,GAAmBwsB,QAA7B;AAFQ,SAAlB;;AAKA,eAAOtlD,MAAMmlD,QAAN,CAAP;AACD,OA7DD;;AA+DAxZ,UAAIwT,oBAAJ,GAA2B,UAAU3sE,GAAV,EAAe;AACxC,YAAIiiB,KAAKjiB,IAAIpF,QAAb;AACA,YAAIsjE,KAAKj8C,GAAGkF,QAAZ;AACA,YAAIrO,SAAS9Y,IAAI8Y,MAAJ,EAAb;AACA,YAAIm7D,MAAMj0E,IAAI4nB,MAAJ,CAAW,eAAX,CAAV;AACA,YAAIssD,SAASD,IAAI5tC,QAAjB;;AAEA,YAAI6tC,WAAW,MAAf,EAAuB;AACrBhW,aAAGiW,UAAH,GAAgBjW,GAAGkW,gBAAH,GAAsBlW,GAAGmW,gBAAH,GAAsB,CAA5D;AACD,SAFD,MAEO,IAAIv7D,UAAUo7D,WAAW,YAAzB,EAAuC;AAC5ChW,aAAGiW,UAAH,GAAgB/5E,KAAK0P,IAAL,CAAUo0D,GAAG0D,QAAH,GAAc1D,GAAGyD,QAA3B,CAAhB;AACAzD,aAAGkW,gBAAH,GAAsBlW,GAAGoW,oBAAzB;AACApW,aAAGmW,gBAAH,GAAsBnW,GAAGqW,oBAAzB;AACD,SAJM,MAIA,IAAIL,WAAW,YAAf,EAA6B;AAClChW,aAAGiW,UAAH,GAAgBjW,GAAGkW,gBAAH,GAAsBlW,GAAGmW,gBAAH,GAAsB,CAA5D;AACD,SAFM,MAEA;AACLnW,aAAGiW,UAAH,GAAgBjW,GAAGkW,gBAAH,GAAsBlW,GAAGmW,gBAAH,GAAsBJ,IAAI5wC,OAAhE;AACD;AACF,OAlBD;;AAoBA9sC,aAAOD,OAAP,GAAiB6iE,GAAjB;;AAEA;AAAO,KA96jBG;AA+6jBV;AACA,SAAO,UAAS5iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoiE,MAAM,EAAV;;AAEAA,UAAI4E,YAAJ,GAAmB,UAAU1kD,IAAV,EAAgB;AACjC,YAAIhS,IAAI,IAAR;AACA,YAAIw2D,QAAQxkD,KAAKuO,MAAL,CAAY,OAAZ,EAAqBtwB,KAAjC;;AAEA,YAAI+hB,KAAKuC,QAAL,EAAJ,EAAqB;AACnB,cAAIiiD,UAAU,WAAV,IAAyBA,UAAU,gBAAnC,IAAuDA,UAAU,cAAjE,IAAmFA,UAAU,QAAjG,EAA2G;AACzG,mBAAOA,KAAP;AACD,WAFD,MAEO;AACL,mBAAO,WAAP;AACD;AACF;;AAED,YAAIA,UAAU,SAAd,EAAyB;AACvB,cAAIx0D,SAASgQ,KAAKuO,MAAL,CAAY,sBAAZ,EAAoCtwB,KAAjD;;AAEA,iBAAO+P,EAAEy2D,UAAF,CAAa0W,WAAb,CAAyBnrE,MAAzB,EAAiC7R,IAAxC;AACD;;AAED,eAAOqmE,KAAP;AACD,OAnBD;;AAqBAtnE,aAAOD,OAAP,GAAiB6iE,GAAjB;;AAEA;AAAO,KA98jBG;AA+8jBV;AACA,SAAO,UAAS5iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoiE,MAAM,EAAV;;AAEAA,UAAIsb,4BAAJ,GAAmC,YAAY;AAC7C,YAAI7+D,KAAK,KAAKA,EAAd;AACA,YAAI8+D,eAAe9+D,GAAGjb,UAAH,EAAnB;AACA,YAAI0M,IAAI,IAAR;;AAEA,YAAIstE,UAAU,SAASA,OAAT,CAAiBv+D,IAAjB,EAAuBnE,CAAvB,EAA0B;AACtC,cAAI2iE,mBAAmB72E,UAAUyB,MAAV,GAAmB,CAAnB,IAAwBzB,UAAU,CAAV,MAAiBvD,SAAzC,GAAqDuD,UAAU,CAAV,CAArD,GAAoE,IAA3F;;AAEA22E,uBAAav6D,KAAb,CAAmB/D,IAAnB;;AAEA,eAAK,IAAInf,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;AACA,gBAAIgrB,KAAKjiB,IAAIpF,QAAb;AACA,gBAAImsB,SAAS9E,GAAG8E,MAAhB;;AAEA,gBAAI6tD,gBAAJ,EAAsB;AACpB7tD,qBAAO9S,KAAP,GAAe,KAAf;AACAgO,iBAAGmoB,OAAH,GAAa,IAAb;AACD;;AAED,gBAAIyqC,OAAO9tD,OAAO+tD,WAAP,GAAqB/tD,OAAO+tD,WAAP,IAAsB,EAAEt1E,QAAQ,CAAV,EAAtD;;AAEA,gBAAI,CAACq1E,KAAK5iE,EAAE8J,IAAP,CAAL,EAAmB;AACjB84D,mBAAK5iE,EAAE8J,IAAP,IAAe,IAAf;AACA84D,mBAAKr1E,MAAL;AACD;AACF;AACF,SAtBD;;AAwBA6H,UAAE0tE,MAAF,CAASn/D,EAAT;AACA;;AADA,SAGC2K,EAHD,CAGI,oCAHJ,EAG0C,MAH1C,EAGkD,SAASy0D,cAAT,CAAwB/iE,CAAxB,EAA2B;AAC3E,cAAIoH,OAAOpH,EAAEgD,MAAb;;AAEA0/D,kBAAQt7D,IAAR,EAAcpH,CAAd;AACA0iE,kBAAQt7D,KAAK4B,cAAL,EAAR,EAA+BhJ,CAA/B;AACD,SARD,EAQGsO,EARH,CAQM,OARN,EAQe,MARf,EAQuB,SAAS00D,cAAT,CAAwBhjE,CAAxB,EAA2B;AAChD,cAAIjS,MAAMiS,EAAEgD,MAAZ;;AAEA0/D,kBAAQ30E,GAAR,EAAaiS,CAAb;AACD,SAZD,EAYGsO,EAZH,CAYM,cAZN,EAYsB,MAZtB,EAY8B,SAAS20D,aAAT,CAAuBjjE,CAAvB,EAA0B;AACtD,cAAIjS,MAAMiS,EAAEgD,MAAZ;;AAEA0/D,kBAAQ30E,GAAR,EAAaiS,CAAb,EAAgB,KAAhB;AACD,SAhBD;;AAkBA;;AAlBA,SAoBCsO,EApBD,CAoBI,eApBJ,EAoBqB,MApBrB,EAoB6B,SAAS40D,WAAT,CAAqBljE,CAArB,EAAwB;AACnD,cAAI8G,OAAO9G,EAAEgD,MAAb;;AAEA0/D,kBAAQ57D,IAAR,EAAc9G,CAAd;AACA0iE,kBAAQ57D,KAAKkB,aAAL,EAAR,EAA8BhI,CAA9B;AACD,SAzBD,EAyBGsO,EAzBH,CAyBM,UAzBN,EAyBkB,MAzBlB,EAyB0B,SAAS60D,iBAAT,CAA2BnjE,CAA3B,EAA8B;AACtD,cAAI8G,OAAO9G,EAAEgD,MAAb;AACA,cAAIogE,SAASt8D,KAAKkB,aAAL,EAAb;;AAEA,eAAK,IAAIhjB,IAAI,CAAb,EAAgBA,IAAIo+E,OAAO71E,MAA3B,EAAmCvI,GAAnC,EAAwC;AACtC,gBAAIq+E,QAAQD,OAAOp+E,CAAP,CAAZ;;AAEA,gBAAI,CAACq+E,MAAMz9D,OAAN,EAAL,EAAsB;AACpB88D,sBAAQW,KAAR,EAAerjE,CAAf;AACD;AACF;AACF,SApCD;;AAsCA;;AAtCA,SAwCCsO,EAxCD,CAwCI,SAxCJ,EAwCe,MAxCf,EAwCuB,SAASg1D,UAAT,CAAoBtjE,CAApB,EAAuB;AAC5C,cAAIjS,MAAMiS,EAAEgD,MAAZ;;AAEA0/D,kBAAQ30E,GAAR,EAAaiS,CAAb;AACD,SA5CD;;AA8CA,YAAIujE,iBAAiB,SAASA,cAAT,CAAwBjsD,QAAxB,EAAkC;AACrD,cAAIA,QAAJ,EAAc;AACZ,gBAAIksD,MAAMpuE,EAAEquE,mBAAZ;;AAEA,gBAAID,GAAJ,EAAS;AACP,mBAAK,IAAIx+E,IAAI,CAAb,EAAgBA,IAAIw+E,IAAIj2E,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,oBAAIyC,KAAK+7E,IAAIx+E,CAAJ,CAAT;;AAEAyC,mBAAG6vB,QAAH,EAAamrD,YAAb;AACD;AACF;;AAEDrtE,cAAEijC,wBAAF,CAA2BoqC,YAA3B,EAAyC,KAAzC;;AAEA,iBAAK,IAAIz9E,IAAI,CAAb,EAAgBA,IAAIy9E,aAAal1E,MAAjC,EAAyCvI,GAAzC,EAA8C;AAC5Cy9E,2BAAaz9E,CAAb,EAAgB2D,QAAhB,CAAyBmsB,MAAzB,CAAgC+tD,WAAhC,GAA8C,IAA9C;AACD;;AAEDJ,2BAAe9+D,GAAGjb,UAAH,EAAf;AACD;AACF,SApBD;;AAsBA0M,UAAEyjB,YAAF,CAAe0qD,cAAf,EAA+BnuE,EAAE24C,sBAAF,CAAyB21B,QAAxD;AACD,OAlGD;;AAoGAxc,UAAIyc,gBAAJ,GAAuB,UAAUl8E,EAAV,EAAc;AACnC,YAAI+7E,MAAM,KAAKC,mBAAL,GAA2B,KAAKA,mBAAL,IAA4B,EAAjE;;AAEAD,YAAIr1E,IAAJ,CAAS1G,EAAT;AACD,OAJD;;AAMAy/D,UAAI7uB,wBAAJ,GAA+B,UAAUl0B,IAAV,EAAgButB,QAAhB,EAA0B;AACvD,YAAInrB,QAAQ,EAAZ;AACA,YAAID,QAAQ,EAAZ;;AAEA;AACA,YAAI,KAAK6J,SAAT,EAAoB;AAClB;AACD;;AAED;AACA,YAAIuhB,aAAanpC,SAAjB,EAA4B;AAC1BmpC,qBAAW,IAAX;AACD;;AAED,aAAK,IAAI1sC,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;AACA,cAAIgrB,KAAKjiB,IAAIpF,QAAb;AACA,cAAImsB,SAAS9E,GAAG8E,MAAhB;;AAEA;AACA,cAAI4c,YAAY5c,OAAO9S,KAAnB,IAA4BjU,IAAI6X,OAAJ,EAAhC,EAA+C;AAC7C;AACD;;AAED;AACA,cAAI7X,IAAI4nB,MAAJ,CAAW,SAAX,EAAsBtwB,KAAtB,KAAgC,MAApC,EAA4C;AAC1C;AACD;;AAED,cAAI2qB,GAAG7O,KAAH,KAAa,OAAjB,EAA0B;AACxBmF,kBAAMnY,IAAN,CAAWJ,GAAX;AACD,WAFD,MAEO;AACL;AACAwY,kBAAMpY,IAAN,CAAWJ,GAAX;AACD;;AAED+mB,iBAAO9S,KAAP,GAAe,IAAf;AACA;AACD;;AAED;AACA,aAAK,IAAIhd,IAAI,CAAb,EAAgBA,IAAIshB,MAAM/Y,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,cAAI+I,MAAMuY,MAAMthB,CAAN,CAAV;AACA,cAAIgrB,KAAKjiB,IAAIpF,QAAb;AACA,cAAImsB,SAAS9E,GAAG8E,MAAhB;AACA,cAAItoB,MAAMuB,IAAIuX,QAAJ,EAAV;;AAEA,eAAKu3D,8BAAL,CAAoC9uE,GAApC;;AAEA+mB,iBAAOxiB,KAAP,GAAe9F,IAAIC,CAAnB;AACAqoB,iBAAOviB,KAAP,GAAe/F,IAAIE,CAAnB;AACAooB,iBAAO8uD,KAAP,GAAe71E,IAAI4nB,MAAJ,CAAW,OAAX,EAAoByb,OAAnC;AACAtc,iBAAO+uD,KAAP,GAAe91E,IAAI4nB,MAAJ,CAAW,QAAX,EAAqByb,OAApC;AACD;;AAED,aAAKwrC,0BAAL,CAAgCr2D,KAAhC;;AAEA;AACA,aAAK,IAAIvhB,IAAI,CAAb,EAAgBA,IAAIuhB,MAAMhZ,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,cAAI+I,MAAMwY,MAAMvhB,CAAN,CAAV;AACA,cAAIgrB,KAAKjiB,IAAIpF,QAAb;AACA,cAAImsB,SAAS9E,GAAG8E,MAAhB;AACA,cAAIm3C,KAAKj8C,GAAGkF,QAAZ;;AAEA,eAAKulD,+BAAL,CAAqC1sE,GAArC;;AAEA;AACA+mB,iBAAO6e,IAAP,GAAcs4B,GAAGS,WAAjB;AACA53C,iBAAO8e,IAAP,GAAcq4B,GAAGU,WAAjB;AACA73C,iBAAO+e,IAAP,GAAco4B,GAAGY,SAAjB;AACA/3C,iBAAOgf,IAAP,GAAcm4B,GAAGa,SAAjB;AACAh4C,iBAAOif,IAAP,GAAck4B,GAAGl4B,IAAjB;AACAjf,iBAAOkf,IAAP,GAAci4B,GAAGj4B,IAAjB;AACAlf,iBAAOotD,UAAP,GAAoBjW,GAAGiW,UAAvB;AACAptD,iBAAOqtD,gBAAP,GAA0BlW,GAAGkW,gBAA7B;AACArtD,iBAAOstD,gBAAP,GAA0BnW,GAAGmW,gBAA7B;AACD;AACF,OA7ED;;AA+EA99E,aAAOD,OAAP,GAAiB6iE,GAAjB;;AAEA;AAAO,KAlpkBG;AAmpkBV;AACA,SAAO,UAAS5iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI2wB,aAAa3wB,oBAAoB,EAApB,CAAjB;;AAEA,UAAIoiE,MAAM,EAAV;;AAEAA,UAAI4c,uBAAJ,GAA8B,YAAY;AACxC,YAAI3/D,OAAO,KAAK4/D,iBAAhB;;AAEA,YAAI,CAAC5/D,IAAL,EAAW;AACT;AACA;AACD;;AAEDA,aAAK6/D,IAAL,GAAY,EAAZ;AACA7/D,aAAK8/D,OAAL,GAAe,EAAf;;AAEA,YAAIC,cAAc,EAAlB;;AAEA,aAAK,IAAIl/E,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;AACA,cAAIinE,KAAKl+D,IAAIpF,QAAJ,CAAausB,QAAtB;;AAEA,cAAInnB,IAAIinB,OAAJ,MAAiB,CAACjnB,IAAI4b,QAAJ,EAAtB,EAAsC;AACpCu6D,wBAAY/1E,IAAZ,CAAiBJ,GAAjB;AACD,WAFD,MAEO,IAAIk+D,GAAGkY,WAAP,EAAoB;AACzBhgE,iBAAK6/D,IAAL,CAAU71E,IAAV,CAAeJ,GAAf;AACD,WAFM,MAEA;AACLoW,iBAAK8/D,OAAL,CAAa91E,IAAb,CAAkBJ,GAAlB;AACD;AACF;;AAED;AACA,aAAK,IAAI/I,IAAI,CAAb,EAAgBA,IAAIk/E,YAAY32E,MAAhC,EAAwCvI,GAAxC,EAA6C;AAC3C,cAAI+I,MAAMm2E,YAAYl/E,CAAZ,CAAV;;AAEAmf,eAAK6/D,IAAL,CAAU71E,IAAV,CAAeJ,GAAf;AACD;AACF,OAhCD;;AAkCAm5D,UAAIkd,2BAAJ,GAAkC,YAAY;AAC5C,aAAKL,iBAAL,GAAyB,IAAzB;AACD,OAFD;;AAIA7c,UAAI6D,oBAAJ,GAA2B,UAAUsZ,WAAV,EAAuB;AAChD,YAAIA,eAAe,CAAC,KAAKN,iBAAzB,EAA4C;AAC1C;;AAEA,cAAI5/D,OAAO,KAAKR,EAAL,CAAQgP,eAAR,GAA0B1G,OAA1B,EAAX;;AAEA9H,eAAKqV,IAAL,CAAU/D,UAAV;;AAEAtR,eAAKqgC,WAAL,GAAmBrgC,KAAK9C,MAAL,CAAY,UAAUtT,GAAV,EAAe;AAC5C,mBAAOA,IAAIy2C,WAAJ,EAAP;AACD,WAFkB,CAAnB;;AAIA,eAAKu/B,iBAAL,GAAyB5/D,IAAzB;;AAEA,eAAK2/D,uBAAL;AACD,SAdD,MAcO;AACL3/D,iBAAO,KAAK4/D,iBAAZ;AACD;;AAED,eAAO5/D,IAAP;AACD,OApBD;;AAsBA7f,aAAOD,OAAP,GAAiB6iE,GAAjB;;AAEA;AAAO,KA3tkBG;AA4tkBV;AACA,SAAO,UAAS5iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoiE,MAAM,EAAV;;AAEAA,UAAIod,cAAJ,GAAqB,UAAUC,GAAV,EAAeC,WAAf,EAA4BC,MAA5B,EAAoC;AACvD,YAAIrvE,IAAI,IAAR;AACA,YAAIsvE,aAAatvE,EAAEsvE,UAAF,GAAetvE,EAAEsvE,UAAF,IAAgB,EAAhD;AACA,YAAInpD,QAAQmpD,WAAWH,GAAX,CAAZ;;AAEA,YAAIhpD,KAAJ,EAAW;AACT,cAAI,CAACA,MAAMopD,KAAN,CAAY9lD,QAAjB,EAA2B;AACzBtD,kBAAMopD,KAAN,CAAYC,gBAAZ,CAA6B,MAA7B,EAAqCH,MAArC;AACD;;AAED,iBAAOlpD,MAAMopD,KAAb;AACD,SAND,MAMO;AACLppD,kBAAQmpD,WAAWH,GAAX,IAAkBG,WAAWH,GAAX,KAAmB,EAA7C;;AAEA,cAAII,QAAQppD,MAAMopD,KAAN,GAAc,IAAIE,KAAJ,EAA1B,CAHK,CAGkC;;AAEvCF,gBAAMC,gBAAN,CAAuB,MAAvB,EAA+BH,MAA/B;AACAE,gBAAMC,gBAAN,CAAuB,OAAvB,EAAgC,YAAY;AAC1CD,kBAAMj5E,KAAN,GAAc,IAAd;AACD,WAFD;;AAIA;AACA;AACA,cAAIo5E,gBAAgB,OAApB;AACA,cAAIC,YAAYR,IAAIhiE,SAAJ,CAAc,CAAd,EAAiBuiE,cAAcv3E,MAA/B,EAAuCiyE,WAAvC,OAAyDsF,aAAzE;AACA,cAAI,CAACC,SAAL,EAAgB;AACdJ,kBAAMH,WAAN,GAAoBA,WAApB,CADc,CACmB;AAClC;;AAEDG,gBAAMz9D,GAAN,GAAYq9D,GAAZ;;AAEA,iBAAOI,KAAP;AACD;AACF,OAjCD;;AAmCArgF,aAAOD,OAAP,GAAiB6iE,GAAjB;;AAEA;AAAO,KAzwkBG;AA0wkBV;AACA,SAAO,UAAS5iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAIgC,SAAShC,oBAAoB,CAApB,CAAb;;AAEA,UAAI63B,eAAe,SAASA,YAAT,CAAsB3Y,OAAtB,EAA+B;AAChD,aAAKghE,IAAL,CAAUhhE,OAAV;AACD,OAFD;AAGA,UAAIihE,KAAKtoD,YAAT;AACA,UAAIuqC,MAAM+d,GAAG5+E,SAAb;;AAEA6gE,UAAI5pC,eAAJ,GAAsB,CAAC,YAAD,EAAe,QAAf,EAAyB,UAAzB,EAAqC,iBAArC,EAAwD,eAAxD,EAAyE,gBAAzE,CAAtB;;AAEA4pC,UAAI8d,IAAJ,GAAW,UAAUhhE,OAAV,EAAmB;AAC5B,YAAI5O,IAAI,IAAR;;AAEAA,UAAE4O,OAAF,GAAYA,OAAZ;;AAEA5O,UAAEuO,EAAF,GAAOK,QAAQL,EAAf;;AAEA,YAAIuhE,MAAM9vE,EAAEka,SAAF,GAActL,QAAQL,EAAR,CAAW2L,SAAX,EAAxB;;AAEA;AACA,YAAIxoB,MAAJ,EAAY;AACV,cAAIE,WAAWF,OAAOE,QAAtB;AACA,cAAI2oB,OAAO3oB,SAAS2oB,IAApB;AACA,cAAIw1D,eAAe,gCAAnB;AACA,cAAIp3C,YAAY,+BAAhB;AACA,cAAIq3C,0BAA0Bp+E,SAASie,cAAT,CAAwBkgE,YAAxB,KAAyC,IAAvE;;AAEA,cAAID,IAAIn3C,SAAJ,CAAc/L,OAAd,CAAsB+L,SAAtB,IAAmC,CAAvC,EAA0C;AACxCm3C,gBAAIn3C,SAAJ,GAAgB,CAACm3C,IAAIn3C,SAAJ,IAAiB,EAAlB,IAAwB,GAAxB,GAA8BA,SAA9C;AACD;;AAED,cAAI,CAACq3C,uBAAL,EAA8B;AAC5B,gBAAIr8E,aAAa/B,SAASk6E,aAAT,CAAuB,OAAvB,CAAjB;;AAEAn4E,uBAAW6V,EAAX,GAAgBumE,YAAhB;AACAp8E,uBAAWs8E,SAAX,GAAuB,MAAMt3C,SAAN,GAAkB,0BAAzC;;AAEApe,iBAAK21D,YAAL,CAAkBv8E,UAAlB,EAA8B4mB,KAAKhI,QAAL,CAAc,CAAd,CAA9B,EAN4B,CAMqB;AAClD;;AAED,cAAI49D,gBAAgBz+E,OAAOotD,gBAAP,CAAwBgxB,GAAxB,CAApB;AACA,cAAI5/D,WAAWigE,cAAcpxB,gBAAd,CAA+B,UAA/B,CAAf;;AAEA,cAAI7uC,aAAa,QAAjB,EAA2B;AACzBpa,iBAAKQ,KAAL,CAAW,2FAAX;AACD;AACF;;AAED0J,UAAEowE,SAAF,GAAc,CAACj9E,SAAD,EAAYA,SAAZ,EAAuBA,SAAvB,EAAkCA,SAAlC,EAA6C,CAA7C,CAAd,CAtC4B,CAsCmC;;AAE/D6M,UAAEsnE,cAAF,GAAmB,CAAC,IAAD,EAAO,KAAP,EAAc,GAAd,EAAmB,GAAnB,EAAwB,GAAxB,EAA6B,KAA7B,EAAoC,IAApC,CAAnB;;AAEA;AACAtnE,UAAEqwE,SAAF,GAAc,EAAEC,MAAM,IAAR,EAAc9lC,MAAM,IAApB;AACZ+lC,oBAAU,IADE,EACIC,aAAa,IADjB;AAEZC,oBAAU,KAFE;AAGZC,sBAAY,CAAC,IAAD,EAAO,IAAP,CAHA,EAGcC,SAAS,KAHvB,EAAd;;AAKA3wE,UAAE4wE,QAAF,GAAa,EAAEC,sBAAsB,EAAxB,EAAb;;AAEA7wE,UAAE8wE,SAAF,GAAc;AACZhqD,iBAAO,IADK,EACC6pD,SAAS,KADV;;AAGZ;AACA12B,yBAAe,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,CAJH;AAKZ82B,gCAAsB,IALV;AAMZC,4BAAkB,IANN;;AAQZ1vD,eAAK,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,CARO;AASZ2vD,mBAAS,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B;AATG,SAAd;;AAYAjxE,UAAEkxE,OAAF,GAAY,CAAZ;AACAlxE,UAAEmxE,OAAF,GAAYviE,QAAQuiE,OAApB;AACAnxE,UAAEopD,KAAF,GAAUx6C,QAAQw6C,KAAlB;;AAEAppD,UAAE0c,mBAAF,GAAwB9N,QAAQ8N,mBAAhC;AACA1c,UAAEoxE,oBAAF,GAAyBxiE,QAAQwiE,oBAAjC;AACApxE,UAAE2c,iBAAF,GAAsB/N,QAAQ+N,iBAA9B;AACA3c,UAAE4c,gBAAF,GAAqBhO,QAAQgO,gBAA7B;AACA5c,UAAEqxE,iBAAF,GAAsBziE,QAAQiO,UAA9B,CAtE4B,CAsEc;AAC1C7c,UAAEsxE,gBAAF,GAAqB1iE,QAAQmO,UAA7B;AACA/c,UAAE6c,UAAF,GAAejO,QAAQiO,UAAvB,CAxE4B,CAwEO;AACnC7c,UAAE8c,iBAAF,GAAsBlO,QAAQkO,iBAA9B;AACA9c,UAAEuxE,sBAAF,GAA2B,IAAIvxE,EAAE8c,iBAAjC;AACA9c,UAAEwxE,iBAAF,GAAsB,CAAtB;AACAxxE,UAAEyxE,WAAF,GAAgB,CAAhB,CA5E4B,CA4ET;AACnBzxE,UAAE0xE,kBAAF,GAAuB,CAAvB;AACA1xE,UAAE2xE,aAAF,GAAkB,KAAlB;AACA3xE,UAAE4xE,oBAAF,GAAyB,EAAzB;AACA5xE,UAAEgd,mBAAF,GAAwBpO,QAAQoO,mBAAhC;AACAhd,UAAE6xE,oBAAF,GAAyBjjE,QAAQoO,mBAAR,GAA8BpO,QAAQoO,mBAA/D;AACAhd,UAAEid,iBAAF,GAAsBrO,QAAQqO,iBAA9B;AACAjd,UAAE8xE,kBAAF,GAAuBljE,QAAQqO,iBAAR,GAA4BrO,QAAQqO,iBAA3D;AACAjd,UAAE+xE,eAAF,GAAoB,GAApB;;AAEA/xE,UAAEgyE,QAAF,GAAa,EAAb;AACAhyE,UAAEiyE,qBAAF,GAA0B,EAA1B;AACAjyE,UAAE24C,sBAAF,GAA2B,EAAE;AAC3BxxB,sBAAY,GADa;AAEzBmnD,oBAAU,GAFe;AAGzB4D,qBAAW,GAHc;AAIzBC,qBAAW;AAJc,SAA3B;;AAOAnyE,UAAEoyE,kBAAF;AACApyE,UAAEgyD,mBAAF;AACAhyD,UAAEotE,4BAAF;AACD,OAlGD;;AAoGAtb,UAAIr9C,MAAJ,GAAa,UAAUxT,MAAV,EAAkB;AAC7B,YAAI+kB,KAAJ;AACA,YAAIhmB,IAAI,IAAR;;AAEA;AACA,YAAI,KAAK+a,SAAT,EAAoB;AAClB;AACD;;AAED,YAAI3oB,GAAGI,KAAH,CAASyO,OAAOyT,IAAhB,CAAJ,EAA2B;AACzBsR,kBAAQ/kB,OAAOyT,IAAf;AACD,SAFD,MAEO;AACLsR,kBAAQ,CAAC/kB,OAAOyT,IAAR,CAAR;AACD;;AAED,YAAIxF,MAAM,EAAV;AACA,aAAK,IAAItf,IAAI,CAAb,EAAgBA,IAAIo2B,MAAM7tB,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,cAAI8kB,OAAOsR,MAAMp2B,CAAN,CAAX;;AAEAsf,cAAIwF,IAAJ,IAAY,IAAZ;AACD,SApB4B,CAoB3B;;AAEF,YAAIxF,IAAI,MAAJ,CAAJ,EAAiB;AACflP,YAAEqyE,IAAF;AACA;AACD;;AAED,YAAInjE,IAAI,SAAJ,CAAJ,EAAoB;AAClBlP,YAAEqa,OAAF;AACA;AACD;;AAED,YAAInL,IAAI,KAAJ,KAAcA,IAAI,QAAJ,CAAd,IAA+BA,IAAI,MAAJ,CAA/B,IAA8CA,IAAI,QAAJ,CAAlD,EAAiE;AAC/DlP,YAAEgvE,2BAAF;AACD;;AAED,YAAI9/D,IAAI,UAAJ,CAAJ,EAAqB;AACnBlP,YAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;AACD;;AAED,YAAI5S,IAAI,MAAJ,KAAeA,IAAI,QAAJ,CAAnB,EAAkC;AAChClP,YAAEs1D,oCAAF;AACAt1D,YAAEsyE,eAAF,CAAkBtyE,EAAEka,SAApB;AACD;;AAEDla,UAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACA9hB,UAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;;AAEA,aAAKywD,eAAL;;AAEA,aAAKxwD,MAAL;AACD,OAnDD;;AAqDA+vC,UAAIz3C,OAAJ,GAAc,YAAY;AACxB,YAAIra,IAAI,IAAR;;AAEAA,UAAE+a,SAAF,GAAc,IAAd;;AAEA/a,UAAEuO,EAAF,CAAK6P,iBAAL;;AAEA,aAAK,IAAIxuB,IAAI,CAAb,EAAgBA,IAAIoQ,EAAEgyE,QAAF,CAAW75E,MAA/B,EAAuCvI,GAAvC,EAA4C;AAC1C,cAAI4iF,UAAUxyE,EAAEgyE,QAAF,CAAWpiF,CAAX,CAAd;AACA,cAAI6H,IAAI+6E,OAAR;AACA,cAAIv6E,MAAMR,EAAEmW,MAAZ;;AAEA,WAAC3V,IAAIqhB,GAAJ,IAAWrhB,IAAIw6E,mBAAhB,EAAqCh8E,KAArC,CAA2CwB,GAA3C,EAAgDR,EAAES,IAAlD;AACD;;AAED8H,UAAEgyE,QAAF,GAAa,EAAb;AACAhyE,UAAEiyE,qBAAF,GAA0B,EAA1B;AACAjyE,UAAEquE,mBAAF,GAAwB,EAAxB;;AAEA,YAAIruE,EAAE0yE,cAAN,EAAsB;AACpB1yE,YAAE0yE,cAAF,CAAiBC,UAAjB;AACD;;AAED,YAAI3yE,EAAE4yE,aAAN,EAAqB;AACnB5yE,YAAE4yE,aAAF,CAAgBD,UAAhB;AACD;;AAED,YAAI3yE,EAAE6rE,YAAN,EAAoB;AAClB,cAAI;AACFj6E,qBAASm6E,IAAT,CAAcjvB,WAAd,CAA0B98C,EAAE6rE,YAA5B,EADE,CACyC;AAC5C,WAFD,CAEE,OAAOjhE,CAAP,EAAU;AACV;AACD;AACF;AACF,OAlCD;;AAoCA,OAAClb,oBAAoB,EAApB,CAAD,EAA0BA,oBAAoB,EAApB,CAA1B,EAAmDA,oBAAoB,EAApB,CAAnD,EAA4EA,oBAAoB,EAApB,CAA5E,EAAqGA,oBAAoB,EAApB,CAArG,EAA8HA,oBAAoB,GAApB,CAA9H,EAAwJ8J,OAAxJ,CAAgK,UAAUqc,KAAV,EAAiB;AAC/K/f,aAAKgB,MAAL,CAAYg7D,GAAZ,EAAiBj8C,KAAjB;AACD,OAFD;;AAIA3mB,aAAOD,OAAP,GAAiB4gF,EAAjB;;AAEA;AAAO,KA/9kBG;AAg+kBV;AACA,SAAO,UAAS3gF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;AACA,UAAIynB,QAAQznB,oBAAoB,EAApB,CAAZ;;AAEA,UAAIoiE,MAAM,EAAV;;AAEAA,UAAI+gB,eAAJ,GAAsB,UAAUjlE,MAAV,EAAkBha,KAAlB,EAAyBykB,OAAzB,EAAkCy6D,UAAlC,EAA8C;AAClE,YAAI56E,OAAOzF,MAAMxB,SAAN,CAAgB+F,KAAhB,CAAsBP,KAAtB,CAA4BC,SAA5B,EAAuC,CAAC,CAAD,CAAvC,CAAX,CADkE,CACV;AACxD,YAAIe,IAAI,KAAKi2E,MAAL,CAAY9/D,MAAZ,CAAR;;AAEA,eAAOnW,EAAEyhB,EAAF,CAAKziB,KAAL,CAAWgB,CAAX,EAAcS,IAAd,CAAP;AACD,OALD;;AAOA45D,UAAI4b,MAAJ,GAAa,UAAUz1E,GAAV,EAAe;AAC1B,YAAI+H,IAAI,IAAR;;AAEA,YAAI+yE,WAAW96E,QAAQvG,MAAR,IAAkBuG,QAAQrG,QAA1B,IAAsCqG,QAAQrG,SAASm6E,IAAvD,IAA+D35E,GAAG8B,UAAH,CAAc+D,GAAd,CAA9E;;AAEA,YAAI+H,EAAEgzE,qBAAF,IAA2B,IAA/B,EAAqC;;AAEnC;AACA,cAAIC,kBAAkB,KAAtB;AACA,cAAI;AACF,gBAAIvjE,OAAOpf,OAAOC,cAAP,CAAsB,EAAtB,EAA0B,SAA1B,EAAqC;AAC9CG,mBAAK,SAASA,GAAT,GAAe;AAClBuiF,kCAAkB,IAAlB;AACD;AAH6C,aAArC,CAAX;;AAMAvhF,mBAAO89E,gBAAP,CAAwB,MAAxB,EAAgC,IAAhC,EAAsC9/D,IAAtC;AACD,WARD,CAQE,OAAOnE,GAAP,EAAY,CAAE;;AAEhBvL,YAAEgzE,qBAAF,GAA0BC,eAA1B;AACD;;AAED,YAAI/5D,KAAK,SAASA,EAAT,CAAYtlB,KAAZ,EAAmBykB,OAAnB,EAA4By6D,UAA5B,EAAwC;AAC/C,cAAI56E,OAAOzF,MAAMxB,SAAN,CAAgB+F,KAAhB,CAAsBlH,IAAtB,CAA2B4G,SAA3B,CAAX;;AAEA,cAAIq8E,YAAY/yE,EAAEgzE,qBAAlB,EAAyC;AACvC;AACA96E,iBAAK,CAAL,IAAU;AACRy4E,uBAASmC,cAAc,IAAd,GAAqBA,UAArB,GAAkC,KADnC;AAERI,uBAAS,KAFD;AAGR7rD,oBAAM;AAHE,aAAV;AAKD;;AAEDrnB,YAAEgyE,QAAF,CAAWj5E,IAAX,CAAgB;AACd6U,oBAAQ3V,GADM;AAEdC,kBAAMA;AAFQ,WAAhB;;AAKA,WAACD,IAAIu3E,gBAAJ,IAAwBv3E,IAAIihB,EAA7B,EAAiCziB,KAAjC,CAAuCwB,GAAvC,EAA4CC,IAA5C;;AAEA,iBAAO,IAAP;AACD,SApBD;;AAsBA,eAAO;AACLghB,cAAIA,EADC;AAELs2D,4BAAkBt2D,EAFb;AAGLC,uBAAaD,EAHR;AAILrhB,gBAAMqhB;AAJD,SAAP;AAMD,OAlDD;;AAoDA44C,UAAIqhB,eAAJ,GAAsB,UAAUnhE,IAAV,EAAgB;AACpC,eAAOA,QAAQA,KAAKZ,MAAL,EAAR,IAAyB,CAACY,KAAKrB,MAAL,EAA1B,IAA2CqB,KAAKpB,SAAL,EAAlD;AACD,OAFD;;AAIAkhD,UAAIshB,eAAJ,GAAsB,UAAUphE,IAAV,EAAgB;AACpC,eAAO,KAAKmhE,eAAL,CAAqBnhE,IAArB,KAA8BA,KAAKo9B,WAAL,EAArC;AACD,OAFD;;AAIA0iB,UAAIugB,IAAJ,GAAW,YAAY;AACrB,YAAIryE,IAAI,IAAR;;AAEA,YAAIqzE,gBAAgB,SAASA,aAAT,CAAuBzlE,MAAvB,EAA+BsgC,KAA/B,EAAsCtjC,CAAtC,EAAyCiL,KAAzC,EAAgD;AAClE,cAAIjI,UAAU,IAAd,EAAoB;AAClBA,qBAAS5N,EAAEuO,EAAX;AACD;;AAED,eAAK,IAAI3e,IAAI,CAAb,EAAgBA,IAAIs+C,MAAM/1C,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,gBAAIO,OAAO+9C,MAAMt+C,CAAN,CAAX;;AAEAge,mBAAOsF,IAAP,CAAYpd,KAAKgB,MAAL,CAAY,EAAEqqB,eAAevW,CAAjB,EAAoB8J,MAAMvkB,IAA1B,EAAZ,EAA8C0lB,KAA9C,CAAZ;AACD;AACF,SAVD;;AAYA,YAAIy9D,mBAAmB,SAASA,gBAAT,CAA0B1oE,CAA1B,EAA6B;AAClD,iBAAOA,EAAE2oE,QAAF,IAAc3oE,EAAE4oE,OAAhB,IAA2B5oE,EAAE6oE,OAApC,CADkD,CACL;AAC9C,SAFD;;AAIA,YAAIC,0BAA0B,SAASA,uBAAT,CAAiCpD,IAAjC,EAAuCqD,KAAvC,EAA8C;AAC1E,cAAIC,mBAAmB,IAAvB;;AAEA,cAAI5zE,EAAEuO,EAAF,CAAKiE,gBAAL,MAA2B89D,IAA3B,IAAmCA,KAAK7+D,MAAL,EAAvC,EAAsD;AACpD;AACA,iBAAK,IAAI7hB,IAAI,CAAb,EAAgB+jF,SAAS/jF,IAAI+jF,MAAMx7E,MAAnC,EAA2CvI,GAA3C,EAAgD;AAC9C,kBAAI0gF,OAAOqD,MAAM/jF,CAAN,CAAX;;AAEA,kBAAI0gF,KAAKl/D,MAAL,MAAiBk/D,KAAK/7D,QAAL,EAArB,EAAsC;AACpCq/D,mCAAmB,KAAnB;AACA;AACD;AACF;AACF,WAVD,MAUO;AACLA,+BAAmB,IAAnB;AACD;;AAED,iBAAOA,gBAAP;AACD,SAlBD;;AAoBA,YAAIC,iBAAiB,SAASA,cAAT,CAAwBnkE,IAAxB,EAA8B;AACjD,cAAIokE,SAAJ;;AAEA,cAAIpkE,KAAKqkE,SAAL,IAAkB/zE,EAAEuO,EAAF,CAAKiE,gBAAL,EAAtB,EAA+C;AAC7C;AACA,gBAAI,CAAC9C,KAAKqkE,SAAL,CAAeC,KAApB,EAA2B;AACzB;AACAtkE,mBAAKqkE,SAAL,CAAeC,KAAf,GAAuB,EAAvB;;AAEA,mBAAK,IAAIpkF,IAAI,CAAb,EAAgBA,IAAI8f,KAAKqkE,SAAL,CAAe57E,MAAnC,EAA2CvI,GAA3C,EAAgD;AAC9C,oBAAI+I,MAAM+W,KAAKqkE,SAAL,CAAenkF,CAAf,CAAV;;AAEA8f,qBAAKqkE,SAAL,CAAeC,KAAf,CAAqBr7E,IAAI6Q,EAAJ,EAArB,IAAiC,IAAjC;AACD;AACF;;AAEDsqE,wBAAYpkE,KAAKqkE,SAAL,CAAeC,KAA3B;AACD;;AAED,iBAAOF,aAAa,EAApB;AACD,SApBD;;AAsBA,YAAIG,aAAa,SAASA,UAAT,CAAoBt7E,GAApB,EAAyB;AACxCA,cAAI,CAAJ,EAAOpF,QAAP,CAAgBqsB,OAAhB,GAA0B,IAA1B;AACD,SAFD;;AAIA,YAAIs0D,WAAW,SAASA,QAAT,CAAkBv7E,GAAlB,EAAuB;AACpCA,cAAI,CAAJ,EAAOpF,QAAP,CAAgBqsB,OAAhB,GAA0B,KAA1B;AACD,SAFD;;AAIA,YAAIu0D,iBAAiB,SAASA,cAAT,CAAwBx7E,GAAxB,EAA6B;AAChDA,cAAI,CAAJ,EAAOpF,QAAP,CAAgBusB,QAAhB,CAAyBivD,WAAzB,GAAuC,IAAvC;AACD,SAFD;;AAIA,YAAIqF,kBAAkB,SAASA,eAAT,CAAyBz7E,GAAzB,EAA8B;AAClDA,cAAI,CAAJ,EAAOpF,QAAP,CAAgBusB,QAAhB,CAAyBivD,WAAzB,GAAuC,KAAvC;AACD,SAFD;;AAIA,YAAIsF,gBAAgB,SAASA,aAAT,CAAuB17E,GAAvB,EAA4B;AAC9CA,cAAI,CAAJ,EAAOpF,QAAP,CAAgBusB,QAAhB,CAAyBw0D,YAAzB,GAAwC,IAAxC;AACD,SAFD;;AAIA,YAAIC,mBAAmB,SAASA,gBAAT,CAA0B57E,GAA1B,EAA+B;AACpDA,cAAI,CAAJ,EAAOpF,QAAP,CAAgBusB,QAAhB,CAAyBw0D,YAAzB,GAAwC,KAAxC;AACD,SAFD;;AAIA,YAAIE,gBAAgB,SAASA,aAAT,CAAuB77E,GAAvB,EAA4B+W,IAA5B,EAAkC;AACpD,cAAIokE,YAAYD,eAAenkE,IAAf,CAAhB;;AAEA,cAAI,CAACokE,UAAUn7E,IAAI6Q,EAAJ,EAAV,CAAL,EAA0B;AACxBkG,iBAAKqkE,SAAL,CAAeh7E,IAAf,CAAoBJ,GAApB;AACAm7E,sBAAUn7E,IAAI6Q,EAAJ,EAAV,IAAsB,IAAtB;;AAEAyqE,uBAAWt7E,GAAX;AACD;AACF,SATD;;AAWA;AACA;AACA,YAAI87E,uBAAuB,SAASA,oBAAT,CAA8BziE,IAA9B,EAAoCtC,IAApC,EAA0C;AACnE,cAAI,CAACsC,KAAKzD,EAAL,GAAUiE,gBAAV,EAAL,EAAmC;AACjC;AACD;;AAED,cAAI9C,KAAKq/D,WAAL,IAAoB,IAApB,IAA4Br/D,KAAKqkE,SAAL,IAAkB,IAAlD,EAAwD;AACtD;AACD,WAPkE,CAOjE;;AAEF,cAAIW,aAAa1iE,KAAKuD,WAAL,EAAjB;;AAEA,cAAI7F,KAAKq/D,WAAT,EAAsB;AACpB2F,uBAAWl7E,OAAX,CAAmB26E,cAAnB;AACAO,uBAAW9gE,cAAX,GAA4Bpa,OAA5B,CAAoC26E,cAApC;AACD;;AAED,cAAIzkE,KAAKqkE,SAAT,EAAoB;AAClBW,uBAAWl7E,OAAX,CAAmB,UAAUb,GAAV,EAAe;AAChC67E,4BAAc77E,GAAd,EAAmB+W,IAAnB;AACD,aAFD;AAGD;AACF,SArBD;;AAuBA;AACA,YAAIilE,iBAAiB,SAASA,cAAT,CAAwBzjE,KAAxB,EAA+BxB,IAA/B,EAAqC;AACxDA,iBAAOA,QAAQ,EAAf;;AAEA,cAAI8C,mBAAmBtB,MAAM3C,EAAN,GAAWiE,gBAAX,EAAvB;;AAEA,cAAI9C,KAAKq/D,WAAT,EAAsB;AACpB79D,kBAAM1X,OAAN,CAAc26E,cAAd;;AAEAjjE,kBAAM0iB,YAAN,GAAqBjV,SAArB,CAA+B,UAAUhmB,GAAV,EAAe;AAC5C,qBAAO,CAAC6Z,gBAAD,IAAqB7Z,IAAI8Y,MAAJ,EAA5B;AACD,aAFD,EAEGjY,OAFH,CAEW26E,cAFX;AAGD;;AAED,cAAIzkE,KAAKqkE,SAAT,EAAoB;AAClB7iE,kBAAM1X,OAAN,CAAc,UAAUb,GAAV,EAAe;AAC3B67E,4BAAc77E,GAAd,EAAmB+W,IAAnB;AACD,aAFD;AAGD;;AAED+kE,+BAAqBvjE,KAArB,EAA4BxB,IAA5B,EAnBwD,CAmBrB;;AAEnC;AACAklE,qCAA2B1jE,KAA3B,EAAkC;AAChC69D,yBAAar/D,KAAKq/D;AADc,WAAlC;;AAIA/uE,YAAE0uE,uBAAF;AACD,SA3BD;;AA6BA,YAAImG,gBAAgBF,cAApB;;AAEA,YAAIG,sBAAsB,SAASA,mBAAT,CAA6BC,WAA7B,EAA0C;AAClE,cAAI,CAACA,WAAL,EAAkB;AAChB;AACD;;AAEDA,sBAAYf,KAAZ,GAAoB,EAApB,CALkE,CAK1C;;AAExB;AACAh0E,YAAE21D,oBAAF,GAAyBn8D,OAAzB,CAAiC,UAAUb,GAAV,EAAe;AAC9Cu7E,qBAASv7E,GAAT;AACAy7E,4BAAgBz7E,GAAhB;AACA47E,6BAAiB57E,GAAjB;AACD,WAJD;;AAMAqH,YAAE0uE,uBAAF;AACD,SAfD;;AAiBA;AACA;AACA,YAAIkG,6BAA6B,SAASA,0BAAT,CAAoC5iE,IAApC,EAA0CtC,IAA1C,EAAgD;;AAE/E,cAAIA,KAAKq/D,WAAL,IAAoB,IAApB,IAA4Br/D,KAAKqkE,SAAL,IAAkB,IAAlD,EAAwD;AACtD;AACD,WAJ8E,CAI7E;;AAEF,cAAI,CAAC/hE,KAAKzD,EAAL,GAAUiE,gBAAV,EAAL,EAAmC;AACjC;AACD;;AAED;AACA,cAAI1E,SAASkE,KAAKgoB,SAAL,GAAiBC,OAAjB,EAAb;;AAEA;AACA,cAAInsB,OAAOwE,IAAP,CAAYN,IAAZ,CAAJ,EAAuB;AACrB;AACD;;AAED,cAAId,QAAQpD,OAAOyH,WAAP,GAAqB5F,SAArB,GAAiCmD,KAAjC,CAAuChF,MAAvC,EAA+CwQ,OAA/C,CAAuDtM,IAAvD,EAA6DsM,OAA7D,CAAqEtM,KAAKuD,WAAL,EAArE,CAAZ;;AAEA,cAAIpE,QAAQD,MAAM0C,cAAN,EAAZ;;AAEA,cAAIlE,KAAKq/D,WAAT,EAAsB;AACpB59D,kBAAM3X,OAAN,CAAc26E,cAAd;AACAjjE,kBAAM1X,OAAN,CAAc26E,cAAd;AACD;;AAED,cAAIzkE,KAAKqkE,SAAT,EAAoB;AAClB7iE,kBAAM1X,OAAN,CAAc,UAAUb,GAAV,EAAe;AAC3B67E,4BAAc77E,GAAd,EAAmB+W,IAAnB;AACD,aAFD;AAGD;AACF,SAhCD;;AAkCA,YAAIslE,mBAAmB,OAAOC,gBAAP,KAA4B,WAAnD;;AAEA;AACA,YAAID,gBAAJ,EAAsB;AACpBh1E,YAAE0yE,cAAF,GAAmB,IAAIuC,gBAAJ,CAAqB,UAAUC,KAAV,EAAiB;AACvD;AACA,iBAAK,IAAItlF,IAAI,CAAb,EAAgBA,IAAIslF,MAAM/8E,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,kBAAIulF,OAAOD,MAAMtlF,CAAN,CAAX;AACA,kBAAIwlF,SAASD,KAAKE,YAAlB;;AAEA,kBAAID,MAAJ,EAAY;AACV,qBAAK,IAAI/8E,IAAI,CAAb,EAAgBA,IAAI+8E,OAAOj9E,MAA3B,EAAmCE,GAAnC,EAAwC;AACtC,sBAAIi9E,QAAQF,OAAO/8E,CAAP,CAAZ;;AAEA,sBAAIi9E,UAAUt1E,EAAEka,SAAhB,EAA2B;AACzBla,sBAAEqa,OAAF;AACA;AACD;AACF;AACF;AACF;AACF,WAjBkB,CAAnB;;AAmBA,cAAIra,EAAEka,SAAF,CAAYq7D,UAAhB,EAA4B;AAC1Bv1E,cAAE0yE,cAAF,CAAiB8C,OAAjB,CAAyBx1E,EAAEka,SAAF,CAAYq7D,UAArC,EAAiD,EAAEE,WAAW,IAAb,EAAjD;AACD;AACF,SAvBD,MAuBO;AACLz1E,YAAE6yE,eAAF,CAAkB7yE,EAAEka,SAApB,EAA+B,gBAA/B,EAAiD,UAAUtP,CAAV,EAAa;AAC5D5K,cAAEqa,OAAF;AACD,WAFD;AAGD;;AAED,YAAIq7D,WAAW5/E,KAAK+rB,QAAL,CAAc,YAAY;AACvC7hB,YAAEuO,EAAF,CAAKkuC,MAAL;AACD,SAFc,EAEZ,GAFY,CAAf;;AAIA,YAAIu4B,gBAAJ,EAAsB;AACpBh1E,YAAE4yE,aAAF,GAAkB,IAAIqC,gBAAJ,CAAqBS,QAArB,CAAlB,CADoB,CAC8B;;AAElD11E,YAAE4yE,aAAF,CAAgB4C,OAAhB,CAAwBx1E,EAAEka,SAA1B,EAAqC,EAAEy7D,YAAY,IAAd,EAArC;AACD;;AAED;AACA31E,UAAE6yE,eAAF,CAAkBnhF,MAAlB,EAA0B,QAA1B,EAAoCgkF,QAApC,EAzPqB,CAyP0B;;AAE/C,YAAI/6C,YAAY,SAASA,SAAT,CAAmBiiB,MAAnB,EAA2BvqD,EAA3B,EAA+B;AAC7C,iBAAOuqD,UAAU,IAAjB,EAAuB;AACrBvqD,eAAGuqD,MAAH;;AAEAA,qBAASA,OAAO24B,UAAhB;AACD;AACF,SAND;;AAQA,YAAIK,mBAAmB,SAASA,gBAAT,GAA4B;AACjD51E,YAAEs1D,oCAAF;AACD,SAFD;;AAIA36B,kBAAU36B,EAAEka,SAAZ,EAAuB,UAAU0iC,MAAV,EAAkB;AACvC58C,YAAE6yE,eAAF,CAAkBj2B,MAAlB,EAA0B,eAA1B,EAA2Cg5B,gBAA3C;AACA51E,YAAE6yE,eAAF,CAAkBj2B,MAAlB,EAA0B,cAA1B,EAA0Cg5B,gBAA1C;AACA51E,YAAE6yE,eAAF,CAAkBj2B,MAAlB,EAA0B,QAA1B,EAAoCg5B,gBAApC;AACD,SAJD;;AAMA;AACA51E,UAAE6yE,eAAF,CAAkB7yE,EAAEka,SAApB,EAA+B,aAA/B,EAA8C,UAAUtP,CAAV,EAAa;AACzDA,YAAEmP,cAAF;AACD,SAFD;;AAIA,YAAI87D,iBAAiB,SAASA,cAAT,GAA0B;AAC7C,iBAAO71E,EAAEowE,SAAF,CAAY,CAAZ,MAAmB,CAA1B;AACD,SAFD;;AAIA,YAAI0F,mBAAmB,SAASA,gBAAT,CAA0BlrE,CAA1B,EAA6B;AAClD;AACA,cAAImrE,sBAAsB/1E,EAAEs0D,yBAAF,EAA1B;AACA,cAAIj9D,IAAI0+E,oBAAoB,CAApB,CAAR;AACA,cAAIz+E,IAAIy+E,oBAAoB,CAApB,CAAR;AACA,cAAI34E,QAAQ24E,oBAAoB,CAApB,CAAZ;AACA,cAAI14E,SAAS04E,oBAAoB,CAApB,CAAb;;AAEA,cAAIzwC,YAAY16B,EAAEorE,OAAF,GAAYprE,EAAEorE,OAAd,GAAwB,CAACprE,CAAD,CAAxC;AACA,cAAIqrE,sBAAsB,KAA1B;;AAEA,eAAK,IAAIrmF,IAAI,CAAb,EAAgBA,IAAI01C,UAAUntC,MAA9B,EAAsCvI,GAAtC,EAA2C;AACzC,gBAAIuB,IAAIm0C,UAAU11C,CAAV,CAAR;;AAEA,gBAAIyH,KAAKlG,EAAEgjE,OAAP,IAAkBhjE,EAAEgjE,OAAF,IAAa98D,IAAI+F,KAAnC,IAA4C9F,KAAKnG,EAAEijE,OAAnD,IAA8DjjE,EAAEijE,OAAF,IAAa98D,IAAI+F,MAAnF,EAA2F;AACzF44E,oCAAsB,IAAtB;AACA;AACD;AACF;;AAED,cAAI,CAACA,mBAAL,EAA0B;AACxB,mBAAO,KAAP;AACD;;AAED,cAAI/7D,YAAYla,EAAEka,SAAlB;AACA,cAAItM,SAAShD,EAAEgD,MAAf;AACA,cAAIsoE,UAAUtoE,OAAO2nE,UAArB;AACA,cAAIY,oBAAoB,KAAxB;;AAEA,iBAAOD,OAAP,EAAgB;AACd,gBAAIA,YAAYh8D,SAAhB,EAA2B;AACzBi8D,kCAAoB,IAApB;AACA;AACD;;AAEDD,sBAAUA,QAAQX,UAAlB;AACD;;AAED,cAAI,CAACY,iBAAL,EAAwB;AACtB,mBAAO,KAAP;AACD,WAxCiD,CAwChD;;AAEF,iBAAO,IAAP;AACD,SA3CD;;AA6CA;AACAn2E,UAAE6yE,eAAF,CAAkB7yE,EAAEka,SAApB,EAA+B,WAA/B,EAA4C,SAASk8D,gBAAT,CAA0BxrE,CAA1B,EAA6B;AACvE,cAAI,CAACkrE,iBAAiBlrE,CAAjB,CAAL,EAA0B;AACxB;AACD;;AAEDA,YAAEmP,cAAF;AACA/Z,YAAEqwE,SAAF,CAAYM,OAAZ,GAAsB,IAAtB;AACA3wE,YAAEqwE,SAAF,CAAYgG,KAAZ,GAAoBzrE,EAAEyrE,KAAtB;;AAEA,cAAI9nE,KAAKvO,EAAEuO,EAAX;AACA,cAAI+nE,OAAO,CAAC1rE,EAAEupD,OAAH,EAAYvpD,EAAEwpD,OAAd,CAAX;AACA,cAAIh9D,MAAM4I,EAAEk0D,mBAAF,CAAsBoiB,KAAK,CAAL,CAAtB,EAA+BA,KAAK,CAAL,CAA/B,CAAV;AACA,cAAIC,SAASv2E,EAAEowE,SAAf;AACA,cAAIoG,QAAQx2E,EAAE01D,mBAAF,CAAsBt+D,IAAI,CAAJ,CAAtB,EAA8BA,IAAI,CAAJ,CAA9B,EAAsC,IAAtC,EAA4C,KAA5C,CAAZ;AACA,cAAIw+D,OAAO4gB,MAAM,CAAN,CAAX;AACA,cAAIC,kBAAkBz2E,EAAE4wE,QAAF,CAAWC,oBAAjC;;AAEA7wE,YAAEqwE,SAAF,CAAYqG,QAAZ,GAAuBt/E,GAAvB;AACA4I,YAAEqwE,SAAF,CAAYsG,SAAZ,GAAwBL,IAAxB;;AAEA,cAAIM,kBAAkB,SAASA,eAAT,GAA2B;AAC/C52E,cAAEqwE,SAAF,CAAYwG,gBAAZ,GAA+B,KAA/B;;AAEAC,yBAAa92E,EAAEqwE,SAAF,CAAY0G,cAAzB;;AAEA/2E,cAAEqwE,SAAF,CAAY0G,cAAZ,GAA6BtsE,WAAW,YAAY;;AAElD,kBAAIzK,EAAEqwE,SAAF,CAAYwG,gBAAhB,EAAkC;AAChC;AACD,eAFD,MAEO;AACL,oBAAIl+E,MAAMqH,EAAEqwE,SAAF,CAAYC,IAAtB;;AAEA,oBAAI33E,GAAJ,EAAS;AACPA,sBAAIua,IAAJ,CAAS;AACPiO,mCAAevW,CADR;AAEP8J,0BAAM,SAFC;AAGPxE,8BAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AAHH,mBAAT;AAKD,iBAND,MAMO;AACLmX,qBAAG2E,IAAH,CAAQ;AACNiO,mCAAevW,CADT;AAEN8J,0BAAM,SAFA;AAGNxE,8BAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AAHJ,mBAAR;AAKD;AACF;AACF,aArB4B,EAqB1B4I,EAAE+xE,eArBwB,CAA7B;AAsBD,WA3BD;;AA6BA;AACA,cAAInnE,EAAEyrE,KAAF,IAAW,CAAf,EAAkB;;AAEhBr2E,cAAEqwE,SAAF,CAAY2G,UAAZ,GAAyB,IAAzB;;AAEA,gBAAIC,SAAS;AACX91D,6BAAevW,CADJ;AAEX8J,oBAAM,aAFK;AAGXxE,wBAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AAHC,aAAb;;AAMA,gBAAIw+D,IAAJ,EAAU;AACRA,mBAAKshB,QAAL;AACAthB,mBAAK1iD,IAAL,CAAU+jE,MAAV;;AAEAj3E,gBAAEqwE,SAAF,CAAYC,IAAZ,GAAmB1a,IAAnB;AACD,aALD,MAKO;AACLrnD,iBAAG2E,IAAH,CAAQ+jE,MAAR;AACD;;AAEDj3E,cAAEqwE,SAAF,CAAYE,QAAZ,GAAuB,IAAIlvD,IAAJ,GAAW81D,OAAX,EAAvB;AACAn3E,cAAEqwE,SAAF,CAAY+G,UAAZ,GAAyB,KAAzB;;AAEA;AACD,WAvBD,MAuBO,IAAIxsE,EAAEyrE,KAAF,IAAW,CAAf,EAAkB;;AAEvB,gBAAIzgB,IAAJ,EAAU;AACRA,mBAAKshB,QAAL;AACD;;AAED;AACA;AACE;AACA,kBAAIthB,QAAQ,IAAZ,EAAkB;;AAEhB,oBAAI51D,EAAEozE,eAAF,CAAkBxd,IAAlB,CAAJ,EAA6B;;AAE3B,sBAAIyhB,YAAY,SAASA,SAAT,CAAmB3iE,IAAnB,EAAyB;AACvC,2BAAO;AACLyM,qCAAevW,CADV;AAEL8J,4BAAMA,IAFD;AAGLxE,gCAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AAHL,qBAAP;AAKD,mBAND;;AAQA,sBAAIkgF,cAAc,SAASA,WAAT,CAAqB3+E,GAArB,EAA0B;AAC1CA,wBAAIua,IAAJ,CAASmkE,UAAU,MAAV,CAAT;AACD,mBAFD;;AAIAhD,gCAAcze,IAAd;;AAEA,sBAAI,CAACA,KAAKnlD,QAAL,EAAL,EAAsB;;AAEpBgmE,sCAAkBz2E,EAAE4wE,QAAF,CAAWC,oBAAX,GAAkC,EAApD;AACAgE,kCAAcjf,IAAd,EAAoB,EAAEme,WAAW0C,eAAb,EAApB;;AAEA7gB,yBAAK1iD,IAAL,CAAUmkE,UAAU,QAAV,CAAV,EAA+BnkE,IAA/B,CAAoCmkE,UAAU,MAAV,CAApC;AACD,mBAND,MAMO;AACLZ,sCAAkBz2E,EAAE4wE,QAAF,CAAWC,oBAAX,GAAkC,EAApD;;AAEA,wBAAI0G,gBAAgBhpE,GAAGk6B,CAAH,CAAK,UAAU9vC,GAAV,EAAe;AACtC,6BAAOA,IAAIyY,MAAJ,MAAgBzY,IAAI8X,QAAJ,EAAhB,IAAkCzQ,EAAEozE,eAAF,CAAkBz6E,GAAlB,CAAzC;AACD,qBAFmB,CAApB;;AAIAg8E,mCAAe4C,aAAf,EAA8B,EAAExD,WAAW0C,eAAb,EAA9B;;AAEA7gB,yBAAK1iD,IAAL,CAAUmkE,UAAU,QAAV,CAAV;;AAEAE,kCAAc/9E,OAAd,CAAsB89E,WAAtB;AACD;;AAEDt3E,oBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACA9hB,oBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACD;AACF;;AAED9hB,gBAAEqwE,SAAF,CAAYC,IAAZ,GAAmB1a,IAAnB;AACA51D,gBAAEqwE,SAAF,CAAYsD,KAAZ,GAAoB6C,KAApB;AACAx2E,gBAAEqwE,SAAF,CAAYE,QAAZ,GAAuB,IAAIlvD,IAAJ,GAAW81D,OAAX,EAAvB;AACD;;AAED9D,0BAAczd,IAAd,EAAoB,CAAC,WAAD,EAAc,UAAd,EAA0B,YAA1B,CAApB,EAA6DhrD,CAA7D,EAAgE;AAC9DsF,wBAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AADoD,aAAhE;;AAIA,gBAAIw+D,QAAQ,IAAZ,EAAkB;AAChB2gB,qBAAO,CAAP,IAAY,CAAZ;;AAEAv2E,gBAAEoN,IAAF,CAAOoqE,iBAAP,GAA2B;AACzBngF,mBAAGD,IAAI,CAAJ,CADsB;AAEzBE,mBAAGF,IAAI,CAAJ;AAFsB,eAA3B;;AAKA4I,gBAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;;AAEA9hB,gBAAE+hB,MAAF;AACD,aAXD,MAWO,IAAI6zC,KAAKnkD,MAAL,EAAJ,EAAmB;AACxB8kE,qBAAO,CAAP,IAAY,CAAZ,CADwB,CACT;AAChB;;AAEDK;AACD;;AAED;AACAL,iBAAO,CAAP,IAAYA,OAAO,CAAP,IAAYn/E,IAAI,CAAJ,CAAxB;AACAm/E,iBAAO,CAAP,IAAYA,OAAO,CAAP,IAAYn/E,IAAI,CAAJ,CAAxB;AACD,SA3JD,EA2JG,KA3JH;;AA6JA4I,UAAE6yE,eAAF,CAAkBnhF,MAAlB,EAA0B,WAA1B,EAAuC,SAAS+lF,gBAAT,CAA0B7sE,CAA1B,EAA6B;AAClE;AACA,cAAI+lE,UAAU3wE,EAAEqwE,SAAF,CAAYM,OAA1B;;AAEA,cAAI,CAACA,OAAD,IAAY,CAACmF,iBAAiBlrE,CAAjB,CAAjB,EAAsC;AACpC;AACD;;AAED,cAAImP,iBAAiB,KAArB;AACA,cAAIxL,KAAKvO,EAAEuO,EAAX;AACA,cAAIxU,OAAOwU,GAAGxU,IAAH,EAAX;AACA,cAAIu8E,OAAO,CAAC1rE,EAAEupD,OAAH,EAAYvpD,EAAEwpD,OAAd,CAAX;AACA,cAAIh9D,MAAM4I,EAAEk0D,mBAAF,CAAsBoiB,KAAK,CAAL,CAAtB,EAA+BA,KAAK,CAAL,CAA/B,CAAV;AACA,cAAII,WAAW12E,EAAEqwE,SAAF,CAAYqG,QAA3B;AACA,cAAIC,YAAY32E,EAAEqwE,SAAF,CAAYsG,SAA5B;AACA,cAAIJ,SAASv2E,EAAEowE,SAAf;;AAEA,cAAIxa,OAAO,IAAX;AACA,cAAI,CAAC51D,EAAEqwE,SAAF,CAAYqH,YAAb,IAA6B,CAAC13E,EAAEqwE,SAAF,CAAYI,QAA1C,IAAsD,CAACzwE,EAAEqwE,SAAF,CAAYsH,SAAvE,EAAkF;AAChF/hB,mBAAO51D,EAAEu1D,kBAAF,CAAqBn+D,IAAI,CAAJ,CAArB,EAA6BA,IAAI,CAAJ,CAA7B,EAAqC,IAArC,EAA2C,KAA3C,CAAP;AACD;AACD,cAAIozC,OAAOxqC,EAAEqwE,SAAF,CAAY7lC,IAAvB;AACA,cAAI8lC,OAAOtwE,EAAEqwE,SAAF,CAAYC,IAAvB;;AAEA,cAAI5oE,OAAO,CAACtQ,IAAI,CAAJ,IAASm/E,OAAO,CAAP,CAAV,EAAqBn/E,IAAI,CAAJ,IAASm/E,OAAO,CAAP,CAA9B,CAAX;;AAEA,cAAIE,kBAAkBz2E,EAAE4wE,QAAF,CAAWC,oBAAjC;;AAEA,cAAI+G,mBAAJ;;AAEA,cAAIjB,SAAJ,EAAe;AACb,gBAAI57E,KAAKu7E,KAAK,CAAL,IAAUK,UAAU,CAAV,CAAnB;AACA,gBAAIkB,MAAM98E,KAAKA,EAAf;AACA,gBAAIC,KAAKs7E,KAAK,CAAL,IAAUK,UAAU,CAAV,CAAnB;AACA,gBAAImB,MAAM98E,KAAKA,EAAf;AACA,gBAAI+8E,QAAQF,MAAMC,GAAlB;;AAEA93E,cAAEqwE,SAAF,CAAYuH,mBAAZ,GAAkCA,sBAAsBG,SAAS/3E,EAAE6xE,oBAAnE;AACD;;AAED,cAAImG,iBAAiB1E,iBAAiB1oE,CAAjB,CAArB;;AAEA,cAAIgtE,mBAAJ,EAAyB;AACvB53E,cAAEqwE,SAAF,CAAYwG,gBAAZ,GAA+B,IAA/B;AACD;;AAED,cAAIoB,kBAAkB,SAASA,eAAT,GAA2B;AAC/C,gBAAIC,YAAYl4E,EAAEqwE,SAAF,CAAY6H,SAAZ,GAAwBl4E,EAAEqwE,SAAF,CAAY6H,SAAZ,IAAyB,EAAjE;;AAEA,gBAAIA,UAAU//E,MAAV,KAAqB,CAAzB,EAA4B;AAC1B+/E,wBAAUn/E,IAAV,CAAe2O,KAAK,CAAL,CAAf;AACAwwE,wBAAUn/E,IAAV,CAAe2O,KAAK,CAAL,CAAf;AACD,aAHD,MAGO;AACLwwE,wBAAU,CAAV,KAAgBxwE,KAAK,CAAL,CAAhB;AACAwwE,wBAAU,CAAV,KAAgBxwE,KAAK,CAAL,CAAhB;AACD;AACF,WAVD;;AAYAqS,2BAAiB,IAAjB;;AAEAs5D,wBAAczd,IAAd,EAAoB,CAAC,WAAD,EAAc,YAAd,EAA4B,SAA5B,CAApB,EAA4DhrD,CAA5D,EAA+D;AAC7DsF,sBAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AADmD,WAA/D;;AAIA,cAAI+gF,gBAAgB,SAASA,aAAT,GAAyB;AAC3Cn4E,cAAEoN,IAAF,CAAOoqE,iBAAP,GAA2BrkF,SAA3B;;AAEA,gBAAI,CAAC6M,EAAEqwE,SAAF,CAAYsH,SAAjB,EAA4B;AAC1BppE,iBAAG2E,IAAH,CAAQ,UAAR;AACD;;AAEDqjE,mBAAO,CAAP,IAAY,CAAZ;AACAv2E,cAAEqwE,SAAF,CAAYsH,SAAZ,GAAwB,IAAxB;;AAEA33E,cAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;AACA9hB,cAAE+hB,MAAF;AACD,WAZD;;AAcA;AACA,cAAI/hB,EAAEqwE,SAAF,CAAYgG,KAAZ,KAAsB,CAA1B,EAA6B;AAC3B;AACA,gBAAIuB,mBAAJ,EAAyB;AACvB,kBAAIX,SAAS;AACX91D,+BAAevW,CADJ;AAEX8J,sBAAM,SAFK;AAGXxE,0BAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AAHC,eAAb;;AAMA,kBAAIk5E,IAAJ,EAAU;AACRA,qBAAKp9D,IAAL,CAAU+jE,MAAV;AACD,eAFD,MAEO;AACL1oE,mBAAG2E,IAAH,CAAQ+jE,MAAR;AACD;;AAEDj3E,gBAAEqwE,SAAF,CAAY+G,UAAZ,GAAyB,IAAzB;;AAEA,kBAAI,CAACp3E,EAAEqwE,SAAF,CAAY+H,OAAb,IAAwBxiB,SAAS51D,EAAEqwE,SAAF,CAAY+H,OAAjD,EAA0D;;AAExD,oBAAIp4E,EAAEqwE,SAAF,CAAY+H,OAAhB,EAAyB;AACvBp4E,oBAAEqwE,SAAF,CAAY+H,OAAZ,CAAoBllE,IAApB,CAAyB;AACvBiO,mCAAevW,CADQ;AAEvB8J,0BAAM,YAFiB;AAGvBxE,8BAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AAHa,mBAAzB;AAKD;;AAED4I,kBAAEqwE,SAAF,CAAY+H,OAAZ,GAAsBxiB,IAAtB;;AAEA,oBAAIA,IAAJ,EAAU;AACRA,uBAAK1iD,IAAL,CAAU;AACRiO,mCAAevW,CADP;AAER8J,0BAAM,aAFE;AAGRxE,8BAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AAHF,mBAAV;AAKD;AACF;AACF;;AAED;AACD,WAxCD,MAwCO,IAAI4I,EAAEqwE,SAAF,CAAYI,QAAhB,EAA0B;AAC/B12D,6BAAiB,IAAjB;;AAEA,gBAAIxL,GAAG8M,cAAH,MAAuB9M,GAAG+M,kBAAH,EAA3B,EAAoD;AAClD,kBAAI+8D,MAAJ;;AAEA,kBAAIr4E,EAAEqwE,SAAF,CAAYiI,cAAhB,EAAgC;AAC9B,oBAAIC,QAAQv4E,EAAEqwE,SAAF,CAAYqG,QAAxB;;AAEA2B,yBAAS;AACPhhF,qBAAG,CAACD,IAAI,CAAJ,IAASmhF,MAAM,CAAN,CAAV,IAAsBx+E,IADlB;AAEPzC,qBAAG,CAACF,IAAI,CAAJ,IAASmhF,MAAM,CAAN,CAAV,IAAsBx+E;AAFlB,iBAAT;;AAKAiG,kBAAEqwE,SAAF,CAAYiI,cAAZ,GAA6B,KAA7B;AACD,eATD,MASO;AACLD,yBAAS;AACPhhF,qBAAGqQ,KAAK,CAAL,IAAU3N,IADN;AAEPzC,qBAAGoQ,KAAK,CAAL,IAAU3N;AAFN,iBAAT;AAID;;AAEDwU,iBAAG4uC,KAAH,CAASk7B,MAAT;;AAEAr4E,gBAAEqwE,SAAF,CAAYmI,OAAZ,GAAsB,IAAtB;AACD;;AAED;AACAphF,kBAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEupD,OAAxB,EAAiCvpD,EAAEwpD,OAAnC,CAAN;;AAEA;AACD,WA/BM,MA+BA,IAAImiB,OAAO,CAAP,KAAa,CAAb,KAAmBjG,QAAQ,IAAR,IAAgBA,KAAK7+D,MAAL,EAAnC,CAAJ,EAAuD;;AAE5D,gBAAImmE,mBAAJ,EAAyB;;AAEvB,kBAAI,CAAC53E,EAAEqwE,SAAF,CAAYI,QAAb,IAAyBliE,GAAGgN,mBAAH,EAAzB,KAAsDy8D,kBAAkB,CAACzpE,GAAG8M,cAAH,EAAnB,IAA0C,CAAC9M,GAAG+M,kBAAH,EAAjG,CAAJ,EAA+H;AAC7H68D;AACD,eAFD,MAEO,IAAI,CAACn4E,EAAEqwE,SAAF,CAAYsH,SAAb,IAA0BppE,GAAG8M,cAAH,EAA1B,IAAiD9M,GAAG+M,kBAAH,EAArD,EAA8E;AACnF,oBAAIs4D,mBAAmBF,wBAAwBpD,IAAxB,EAA8BtwE,EAAEqwE,SAAF,CAAYsD,KAA1C,CAAvB;;AAEA,oBAAIC,gBAAJ,EAAsB;AACpB5zE,oBAAEqwE,SAAF,CAAYI,QAAZ,GAAuB,IAAvB;AACAzwE,oBAAEqwE,SAAF,CAAYiI,cAAZ,GAA6B,IAA7B;AACA/B,yBAAO,CAAP,IAAY,CAAZ;;AAEAv2E,oBAAEoN,IAAF,CAAOoqE,iBAAP,GAA2B3hF,KAAKqE,WAAL,CAAiBw8E,QAAjB,CAA3B;;AAEA12E,oBAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;AACA9hB,oBAAE+hB,MAAF;AACD;AACF;;AAED,kBAAIuuD,QAAQA,KAAK7+D,MAAL,EAAR,IAAyB6+D,KAAKzwD,MAAL,EAA7B,EAA4C;AAC1CywD,qBAAKmI,UAAL;AACD;AACF;AACF,WAzBM,MAyBA;AACL,gBAAInI,QAAQA,KAAK7+D,MAAL,EAAR,IAAyB6+D,KAAKzwD,MAAL,EAA7B,EAA4C;AAC1CywD,mBAAKmI,UAAL;AACD;;AAED,gBAAI,CAAC,CAACnI,IAAD,IAAS,CAACA,KAAK1wD,OAAL,EAAX,KAA8Bg2C,QAAQprB,IAA1C,EAAgD;;AAE9C,kBAAIA,IAAJ,EAAU;AACR6oC,8BAAc7oC,IAAd,EAAoB,CAAC,UAAD,EAAa,YAAb,CAApB,EAAgD5/B,CAAhD,EAAmD;AACjDsF,4BAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AADuC,iBAAnD;AAGD;;AAED,kBAAIw+D,IAAJ,EAAU;AACRyd,8BAAczd,IAAd,EAAoB,CAAC,WAAD,EAAc,aAAd,CAApB,EAAkDhrD,CAAlD,EAAqD;AACnDsF,4BAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AADyC,iBAArD;AAGD;;AAED4I,gBAAEqwE,SAAF,CAAY7lC,IAAZ,GAAmBorB,IAAnB;AACD;;AAED,gBAAI0a,IAAJ,EAAU;;AAER,kBAAIsH,mBAAJ,EAAyB;AACvB;;AAEA,oBAAIrpE,GAAGgN,mBAAH,MAA4By8D,cAAhC,EAAgD;AAC9C;AACA,sBAAI1H,QAAQA,KAAK1wD,OAAL,EAAZ,EAA4B;AAC1Bk1D,wCAAoB2B,eAApB;;AAEAnG,yBAAKp9D,IAAL,CAAU,MAAV;AACD;;AAEDilE;AACD,iBATD,MASO,IAAI7H,QAAQA,KAAK1wD,OAAL,EAAR,IAA0B5f,EAAEmzE,eAAF,CAAkB7C,IAAlB,CAA9B,EAAuD;AAC5D;AACA,sBAAIoI,kBAAkB,CAAC14E,EAAE4wE,QAAF,CAAW+H,OAAlC;;AAEA,sBAAID,eAAJ,EAAqB;AACnB14E,sBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACD;;AAED9hB,oBAAE4wE,QAAF,CAAW+H,OAAX,GAAqB,IAArB,CAR4D,CAQjC;;AAE3B,sBAAIC,YAAY,EAAhB;;AAEA;AACA,sBAAI,CAAC54E,EAAEqwE,SAAF,CAAYqH,YAAjB,EAA+B;AAC7B/C,mCAAepmE,GAAGjb,UAAH,CAAcmjF,eAAd,CAAf,EAA+C,EAAE1H,aAAa,IAAf,EAA/C;AACD;;AAED,uBAAK,IAAIn/E,IAAI,CAAb,EAAgBA,IAAI6mF,gBAAgBt+E,MAApC,EAA4CvI,GAA5C,EAAiD;AAC/C,wBAAIipF,OAAOpC,gBAAgB7mF,CAAhB,CAAX;;AAEA;AACA,wBAAIoQ,EAAEmzE,eAAF,CAAkB0F,IAAlB,KAA2BA,KAAKj5D,OAAL,EAA/B,EAA+C;AAC7C,0BAAIk5D,OAAOD,KAAK3oE,QAAL,EAAX;;AAEA0oE,gCAAU7/E,IAAV,CAAe8/E,IAAf;;AAEA,0BAAIzmF,GAAGQ,MAAH,CAAU8U,KAAK,CAAL,CAAV,KAAsBtV,GAAGQ,MAAH,CAAU8U,KAAK,CAAL,CAAV,CAA1B,EAA8C;AAC5CoxE,6BAAKzhF,CAAL,IAAUqQ,KAAK,CAAL,CAAV;AACAoxE,6BAAKxhF,CAAL,IAAUoQ,KAAK,CAAL,CAAV;;AAEA,4BAAIgxE,eAAJ,EAAqB;AACnB,8BAAIR,YAAYl4E,EAAEqwE,SAAF,CAAY6H,SAA5B;;AAEA,8BAAIA,aAAa9lF,GAAGQ,MAAH,CAAUslF,UAAU,CAAV,CAAV,CAAb,IAAwC9lF,GAAGQ,MAAH,CAAUslF,UAAU,CAAV,CAAV,CAA5C,EAAqE;AACnEY,iCAAKzhF,CAAL,IAAU6gF,UAAU,CAAV,CAAV;AACAY,iCAAKxhF,CAAL,IAAU4gF,UAAU,CAAV,CAAV;AACD;AACF;AACF;AACF;AACF;;AAEDl4E,oBAAEqwE,SAAF,CAAYqH,YAAZ,GAA2B,IAA3B;;AAEA,sBAAIqB,OAAOxqE,GAAGjb,UAAH,CAAcslF,SAAd,CAAX;;AAEAG,uBAAKhmE,wBAAL;AACAgmE,uBAAK7lE,IAAL,CAAU,eAAV;;AAEAlT,oBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACA9hB,oBAAE+hB,MAAF;AACD;AACF,eAhED,MAgEO;AACL;AACAk2D;AACD;AACF;;AAED;AACAl+D,6BAAiB,IAAjB;AACD;;AAEDw8D,iBAAO,CAAP,IAAYn/E,IAAI,CAAJ,CAAZ,CAAmBm/E,OAAO,CAAP,IAAYn/E,IAAI,CAAJ,CAAZ;;AAEnB,cAAI2iB,cAAJ,EAAoB;AAClB,gBAAInP,EAAEkP,eAAN,EAAuBlP,EAAEkP,eAAF;AACvB,gBAAIlP,EAAEmP,cAAN,EAAsBnP,EAAEmP,cAAF;AACtB,mBAAO,KAAP;AACD;AACF,SAxRD,EAwRG,KAxRH;;AA0RA/Z,UAAE6yE,eAAF,CAAkBnhF,MAAlB,EAA0B,SAA1B,EAAqC,SAASsnF,cAAT,CAAwBpuE,CAAxB,EAA2B;AAC9D;AACA,cAAI+lE,UAAU3wE,EAAEqwE,SAAF,CAAYM,OAA1B;AACA,cAAI,CAACA,OAAL,EAAc;AACZ;AACD;AACD3wE,YAAEqwE,SAAF,CAAYM,OAAZ,GAAsB,KAAtB;;AAEA,cAAIpiE,KAAKvO,EAAEuO,EAAX,CAAc,IAAInX,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEupD,OAAxB,EAAiCvpD,EAAEwpD,OAAnC,CAAV,CAAsD,IAAImiB,SAASv2E,EAAEowE,SAAf;AACpE,cAAIxa,OAAO51D,EAAEu1D,kBAAF,CAAqBn+D,IAAI,CAAJ,CAArB,EAA6BA,IAAI,CAAJ,CAA7B,EAAqC,IAArC,EAA2C,KAA3C,CAAX;AACA,cAAIq/E,kBAAkBz2E,EAAE4wE,QAAF,CAAWC,oBAAjC,CAAsD,IAAIP,OAAOtwE,EAAEqwE,SAAF,CAAYC,IAAvB;AACtD,cAAI0H,iBAAiB1E,iBAAiB1oE,CAAjB,CAArB;;AAEA,cAAI5K,EAAEoN,IAAF,CAAOoqE,iBAAX,EAA8B;AAC5Bx3E,cAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;AACA9hB,cAAE+hB,MAAF;AACD;;AAED/hB,YAAEqwE,SAAF,CAAYwG,gBAAZ,GAA+B,IAA/B;;AAEA72E,YAAEoN,IAAF,CAAOoqE,iBAAP,GAA2BrkF,SAA3B,CApB8D,CAoBxB;;AAEtC,cAAIm9E,IAAJ,EAAU;AACRA,iBAAKmI,UAAL;AACD;;AAED,cAAIz4E,EAAEqwE,SAAF,CAAYgG,KAAZ,KAAsB,CAA1B,EAA6B;AAC3B,gBAAIY,SAAS;AACX91D,6BAAevW,CADJ;AAEX8J,oBAAM,WAFK;AAGXxE,wBAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AAHC,aAAb;;AAMA,gBAAIk5E,IAAJ,EAAU;AACRA,mBAAKp9D,IAAL,CAAU+jE,MAAV;AACD,aAFD,MAEO;AACL1oE,iBAAG2E,IAAH,CAAQ+jE,MAAR;AACD;;AAED,gBAAI,CAACj3E,EAAEqwE,SAAF,CAAY+G,UAAjB,EAA6B;AAC3B,kBAAI6B,SAAS;AACX93D,+BAAevW,CADJ;AAEX8J,sBAAM,QAFK;AAGXxE,0BAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AAHC,eAAb;;AAMA,kBAAIk5E,IAAJ,EAAU;AACRA,qBAAKp9D,IAAL,CAAU+lE,MAAV;AACD,eAFD,MAEO;AACL1qE,mBAAG2E,IAAH,CAAQ+lE,MAAR;AACD;AACF;;AAEDj5E,cAAEqwE,SAAF,CAAY+G,UAAZ,GAAyB,KAAzB;AACAp3E,cAAEqwE,SAAF,CAAYgG,KAAZ,GAAoB,IAApB;AACD,WA7BD,MA6BO,IAAIr2E,EAAEqwE,SAAF,CAAYgG,KAAZ,KAAsB,CAA1B,EAA6B;;AAElC;AACA,gBAAI/F,QAAQ,IAAR,IAAgB;AACpB,aAACtwE,EAAE4wE,QAAF,CAAW+H,OADR,CACgB;AADhB,eAED,CAAC34E,EAAEqwE,SAAF,CAAYsH,SAFZ,CAEsB;AAFtB,eAGD,CAAC33E,EAAEqwE,SAAF,CAAYmI,OAHZ,CAGoB;AAHpB,eAID,CAAClF,iBAAiB1oE,CAAjB,CAJJ,EAIyB;;AAEvB2D,iBAAGk6B,CAAH,CAAK,UAAU9vC,GAAV,EAAe;AAClB,uBAAOA,IAAI8X,QAAJ,EAAP;AACD,eAFD,EAEG6/B,QAFH;;AAIA,kBAAImmC,gBAAgBt+E,MAAhB,GAAyB,CAA7B,EAAgC;AAC9B6H,kBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACD;;AAED9hB,gBAAE4wE,QAAF,CAAWC,oBAAX,GAAkC4F,kBAAkB,EAApD;AACD;;AAEDpD,0BAAczd,IAAd,EAAoB,CAAC,SAAD,EAAY,QAAZ,EAAsB,UAAtB,CAApB,EAAuDhrD,CAAvD,EAA0D;AACxDsF,wBAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AAD8C,aAA1D;;AAIA,gBAAI,CAAC4I,EAAE4wE,QAAF,CAAW+H,OAAZ,CAAoB;AAApB,eACD,CAAC34E,EAAEqwE,SAAF,CAAYmI,OADZ,CACoB;AADpB,eAED,CAACx4E,EAAEqwE,SAAF,CAAYsH,SAFZ,CAEsB;AAFtB,eAGD,CAAC33E,EAAEqwE,SAAF,CAAYuH,mBAHhB,CAGoC;AAHpC,cAIE;AACEvE,8BAAc/C,IAAd,EAAoB,CAAC,OAAD,EAAU,KAAV,EAAiB,QAAjB,CAApB,EAAgD1lE,CAAhD,EAAmD;AACjDsF,4BAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AADuC,iBAAnD;AAGD;;AAEH;AACA,gBAAIw+D,QAAQ0a,IAAR,IAAgB,CAACtwE,EAAE4wE,QAAF,CAAW+H,OAA5B,IAAuC,CAAC34E,EAAEqwE,SAAF,CAAYsH,SAAxD,EAAmE;AACjE,kBAAI/hB,QAAQ,IAAR,IAAgBA,KAAKriE,QAAL,CAAcmd,UAAlC,EAA8C;;AAE5C,oBAAI1Q,EAAEqwE,SAAF,CAAYI,QAAhB,EAA0B;AACxB;AACD,iBAFD,MAEO,IAAIliE,GAAG4N,aAAH,OAAuB,UAAvB,IAAqC67D,cAAzC,EAAyD;AAC9D,sBAAIpiB,KAAKnlD,QAAL,EAAJ,EAAqB;AACnBmlD,yBAAKtlB,QAAL;AACD,mBAFD,MAEO;AACLslB,yBAAK2gB,MAAL;AACD;AACF,iBANM,MAMA;AACL,sBAAI,CAACyB,cAAL,EAAqB;AACnBzpE,uBAAGk6B,CAAH,CAAK,WAAL,EAAkBnqB,OAAlB,CAA0Bs3C,IAA1B,EAAgCtlB,QAAhC;AACAslB,yBAAK2gB,MAAL;AACD;AACF;;AAEDv2E,kBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACD;AACF;;AAED,gBAAI9hB,EAAEqwE,SAAF,CAAYsH,SAAhB,EAA2B;AACzB,kBAAIpf,MAAMhqD,GAAGjb,UAAH,CAAc0M,EAAEs4D,WAAF,CAAcie,OAAO,CAAP,CAAd,EAAyBA,OAAO,CAAP,CAAzB,EAAoCA,OAAO,CAAP,CAApC,EAA+CA,OAAO,CAAP,CAA/C,CAAd,CAAV;;AAEAv2E,gBAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;;AAEA,kBAAIy2C,IAAIpgE,MAAJ,GAAa,CAAjB,EAAoB;AAClB6H,kBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACD;;AAEDvT,iBAAG2E,IAAH,CAAQ,QAAR;;AAEA,kBAAIgmE,qBAAqB,SAASA,kBAAT,CAA4BvgF,GAA5B,EAAiC;AACxD,uBAAOA,IAAI+X,UAAJ,MAAoB,CAAC/X,IAAI8X,QAAJ,EAA5B;AACD,eAFD;;AAIA,kBAAIlC,GAAG4N,aAAH,OAAuB,UAA3B,EAAuC;AACrCo8C,oBAAIrlD,IAAJ,CAAS,KAAT,EAAgByL,SAAhB,CAA0Bu6D,kBAA1B,EAA8C3C,MAA9C,GAAuDrjE,IAAvD,CAA4D,WAA5D;AACD,eAFD,MAEO;AACL,oBAAI,CAAC8kE,cAAL,EAAqB;AACnBzpE,qBAAGk6B,CAAH,CAAK,WAAL,EAAkBnqB,OAAlB,CAA0Bi6C,GAA1B,EAA+BjoB,QAA/B;AACD;;AAEDioB,oBAAIrlD,IAAJ,CAAS,KAAT,EAAgByL,SAAhB,CAA0Bu6D,kBAA1B,EAA8C3C,MAA9C,GAAuDrjE,IAAvD,CAA4D,WAA5D;AACD;;AAED;AACAlT,gBAAE+hB,MAAF;AACD;;AAED;AACA,gBAAI/hB,EAAEqwE,SAAF,CAAYI,QAAhB,EAA0B;AACxBzwE,gBAAEqwE,SAAF,CAAYI,QAAZ,GAAuB,KAAvB;;AAEAzwE,gBAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;AACA9hB,gBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;;AAEA9hB,gBAAE+hB,MAAF;AACD;;AAED,gBAAI,CAACw0D,OAAO,CAAP,CAAL,EAAgB;AACdv2E,gBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACA9hB,gBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;;AAEA,kBAAIq3D,iBAAiB7I,QAAQA,KAAK1wD,OAAL,EAA7B;;AAEAk1D,kCAAoB2B,eAApB;;AAEA,kBAAI0C,cAAJ,EAAoB;AAClB7I,qBAAKp9D,IAAL,CAAU,MAAV;AACD;AACF;AACF,WAnK6D,CAmK5D;;AAEFqjE,iBAAO,CAAP,IAAY,CAAZ,CAAcv2E,EAAEqwE,SAAF,CAAYC,IAAZ,GAAmB,IAAnB;;AAEdtwE,YAAEqwE,SAAF,CAAY2G,UAAZ,GAAyB,KAAzB;AACAh3E,YAAEqwE,SAAF,CAAYqH,YAAZ,GAA2B,KAA3B;AACA13E,YAAEqwE,SAAF,CAAYsH,SAAZ,GAAwB,KAAxB;AACA33E,YAAEqwE,SAAF,CAAYuH,mBAAZ,GAAkC,KAAlC;AACA53E,YAAE4wE,QAAF,CAAW+H,OAAX,GAAqB,KAArB;AACA34E,YAAEqwE,SAAF,CAAYmI,OAAZ,GAAsB,KAAtB;AACAx4E,YAAEqwE,SAAF,CAAY6H,SAAZ,GAAwB,EAAxB;AACAl4E,YAAEqwE,SAAF,CAAYqG,QAAZ,GAAuB,IAAvB;AACA12E,YAAEqwE,SAAF,CAAYsG,SAAZ,GAAwB,IAAxB;AACD,SAhLD,EAgLG,KAhLH;;AAkLA,YAAIyC,eAAe,SAASA,YAAT,CAAsBxuE,CAAtB,EAAyB;;AAE1C,cAAI5K,EAAEq5E,aAAN,EAAqB;AACnB;AACD,WAJyC,CAIxC;;AAEF,cAAI9qE,KAAKvO,EAAEuO,EAAX;AACA,cAAInX,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEupD,OAAxB,EAAiCvpD,EAAEwpD,OAAnC,CAAV;AACA,cAAIl0C,OAAO,CAAC9oB,IAAI,CAAJ,IAASmX,GAAGxU,IAAH,EAAT,GAAqBwU,GAAGvU,GAAH,GAAS3C,CAA/B,EAAkCD,IAAI,CAAJ,IAASmX,GAAGxU,IAAH,EAAT,GAAqBwU,GAAGvU,GAAH,GAAS1C,CAAhE,CAAX;;AAEA,cAAI0I,EAAEqwE,SAAF,CAAYqH,YAAZ,IAA4B13E,EAAEqwE,SAAF,CAAYI,QAAxC,IAAoDzwE,EAAEqwE,SAAF,CAAY2G,UAAhE,IAA8EnB,gBAAlF,EAAoG;AAClG;AACAjrE,cAAEmP,cAAF;AACA;AACD;;AAED,cAAIxL,GAAG8M,cAAH,MAAuB9M,GAAG+M,kBAAH,EAAvB,IAAkD/M,GAAG4M,cAAH,EAAlD,IAAyE5M,GAAG6M,kBAAH,EAA7E,EAAsG;AACpGxQ,cAAEmP,cAAF;;AAEA/Z,cAAEoN,IAAF,CAAOksE,YAAP,GAAsB,IAAtB;AACAxC,yBAAa92E,EAAEoN,IAAF,CAAOmsE,YAApB;AACAv5E,cAAEoN,IAAF,CAAOmsE,YAAP,GAAsB9uE,WAAW,YAAY;AAC3CzK,gBAAEoN,IAAF,CAAOksE,YAAP,GAAsB,KAAtB;;AAEAt5E,gBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACA9hB,gBAAE+hB,MAAF;AACD,aALqB,EAKnB,GALmB,CAAtB;;AAOA,gBAAI2V,IAAJ;;AAEA,gBAAI9sB,EAAE4uE,MAAF,IAAY,IAAhB,EAAsB;AACpB9hD,qBAAO9sB,EAAE4uE,MAAF,GAAW,CAAC,GAAnB;AACD,aAFD,MAEO,IAAI5uE,EAAE6uE,WAAF,IAAiB,IAArB,EAA2B;AAChC/hD,qBAAO9sB,EAAE6uE,WAAF,GAAgB,IAAvB;AACD,aAFM,MAEA;AACL/hD,qBAAO9sB,EAAE8uE,UAAF,GAAe,IAAtB;AACD;;AAEDhiD,mBAAOA,OAAO13B,EAAE4c,gBAAhB;;AAEA,gBAAI+8D,gBAAgB/uE,EAAEgvE,SAAF,KAAgB,CAApC;AACA,gBAAID,aAAJ,EAAmB;AACjB;AACAjiD,sBAAQ,EAAR;AACD;;AAEDnpB,eAAGxU,IAAH,CAAQ;AACN6jD,qBAAOrvC,GAAGxU,IAAH,KAAYhH,KAAK6N,GAAL,CAAS,EAAT,EAAa82B,IAAb,CADb;AAENzX,gCAAkB,EAAE5oB,GAAG6oB,KAAK,CAAL,CAAL,EAAc5oB,GAAG4oB,KAAK,CAAL,CAAjB;AAFZ,aAAR;AAID;AACF,SAnDD;;AAqDA;AACA;AACAlgB,UAAE6yE,eAAF,CAAkB7yE,EAAEka,SAApB,EAA+B,OAA/B,EAAwCk/D,YAAxC,EAAsD,IAAtD;;AAEA;AACA;AACA;AACA;;AAEAp5E,UAAE6yE,eAAF,CAAkBnhF,MAAlB,EAA0B,QAA1B,EAAoC,SAASmoF,aAAT,CAAuBjvE,CAAvB,EAA0B;AAC5D;AACA5K,YAAEq5E,aAAF,GAAkB,IAAlB;;AAEAvC,uBAAa92E,EAAE85E,oBAAf;AACA95E,YAAE85E,oBAAF,GAAyBrvE,WAAW,YAAY;AAC9CzK,cAAEq5E,aAAF,GAAkB,KAAlB;AACD,WAFwB,EAEtB,GAFsB,CAAzB;AAGD,SARD,EAQG,IARH;;AAUA;AACA;AACAr5E,UAAE6yE,eAAF,CAAkB7yE,EAAEka,SAApB,EAA+B,UAA/B,EAA2C,SAAS6/D,eAAT,CAAyBnvE,CAAzB,EAA4B;AACrE,cAAIxT,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEupD,OAAxB,EAAiCvpD,EAAEwpD,OAAnC,CAAV;;AAEAp0D,YAAEuO,EAAF,CAAK2E,IAAL,CAAU;AACRiO,2BAAevW,CADP;AAER8J,kBAAM,UAFE;AAGRxE,sBAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AAHF,WAAV;AAKD,SARD,EAQG,KARH;;AAUA4I,UAAE6yE,eAAF,CAAkB7yE,EAAEka,SAApB,EAA+B,WAA/B,EAA4C,SAAS8/D,gBAAT,CAA0BpvE,CAA1B,EAA6B;AACvE,cAAIxT,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEupD,OAAxB,EAAiCvpD,EAAEwpD,OAAnC,CAAV;;AAEAp0D,YAAEuO,EAAF,CAAK2E,IAAL,CAAU;AACRiO,2BAAevW,CADP;AAER8J,kBAAM,WAFE;AAGRxE,sBAAU,EAAE7Y,GAAGD,IAAI,CAAJ,CAAL,EAAaE,GAAGF,IAAI,CAAJ,CAAhB;AAHF,WAAV;AAKD,SARD,EAQG,KARH;;AAUA,YAAI6iF,IAAJ,EAAUC,IAAV,EAAgBC,IAAhB,EAAsBC,IAAtB,CA3gCqB,CA2gCO;AAC5B,YAAIC,SAAJ,EAAeC,WAAf,CA5gCqB,CA4gCO;AAC5B,YAAIC,OAAJ,EAAaC,YAAb,CA7gCqB,CA6gCM;AAC3B,YAAIjmB,UAAJ,EAAgBC,SAAhB;AACA,YAAIimB,cAAJ,EAAoBC,eAApB;AACA,YAAIC,qBAAJ;;AAEA,YAAIj1E,WAAW,SAASA,QAAT,CAAkBtR,EAAlB,EAAsBE,EAAtB,EAA0BD,EAA1B,EAA8BE,EAA9B,EAAkC;AAC/C,iBAAOxB,KAAK8H,IAAL,CAAU,CAACxG,KAAKD,EAAN,KAAaC,KAAKD,EAAlB,IAAwB,CAACG,KAAKD,EAAN,KAAaC,KAAKD,EAAlB,CAAlC,CAAP;AACD,SAFD;;AAIA,YAAIsmF,aAAa,SAASA,UAAT,CAAoBxmF,EAApB,EAAwBE,EAAxB,EAA4BD,EAA5B,EAAgCE,EAAhC,EAAoC;AACnD,iBAAO,CAACF,KAAKD,EAAN,KAAaC,KAAKD,EAAlB,IAAwB,CAACG,KAAKD,EAAN,KAAaC,KAAKD,EAAlB,CAA/B;AACD,SAFD;;AAIA,YAAIumF,iBAAJ;AACA76E,UAAE6yE,eAAF,CAAkB7yE,EAAEka,SAApB,EAA+B,YAA/B,EAA6C2gE,oBAAoB,SAASA,iBAAT,CAA2BjwE,CAA3B,EAA8B;AAC7F,cAAI,CAACkrE,iBAAiBlrE,CAAjB,CAAL,EAA0B;AACxB;AACD;;AAED5K,YAAE8wE,SAAF,CAAYH,OAAZ,GAAsB,IAAtB;AACA3wE,YAAEoN,IAAF,CAAOoqE,iBAAP,GAA2BrkF,SAA3B;;AAEA,cAAIob,KAAKvO,EAAEuO,EAAX;AACA,cAAI+S,MAAMthB,EAAE8wE,SAAF,CAAYxvD,GAAtB;AACA,cAAI2vD,UAAUjxE,EAAE8wE,SAAF,CAAYG,OAA1B;;AAEA,cAAIrmE,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AAChB,gBAAI5+E,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAnC,EAA4CvpD,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAzD,CAAV,CAA4E9yC,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT,CAAgBkqB,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT;AAC7F;AACD,cAAIwT,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AAChB,gBAAI5+E,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAnC,EAA4CvpD,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAzD,CAAV,CAA4E9yC,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT,CAAgBkqB,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT;AAC7F;AACD,cAAIwT,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AAChB,gBAAI5+E,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAnC,EAA4CvpD,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAzD,CAAV,CAA4E9yC,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT,CAAgBkqB,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT;AAC7F;;AAED;AACA,cAAIwT,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;;AAEhBlB,gCAAoB90E,EAAE4wE,QAAF,CAAWkK,aAA/B;;AAEA,gBAAIzmB,UAAUr0D,EAAEs0D,yBAAF,EAAd;AACAC,yBAAaF,QAAQ,CAAR,CAAb;AACAG,wBAAYH,QAAQ,CAAR,CAAZ;AACAomB,6BAAiBpmB,QAAQ,CAAR,CAAjB;AACAqmB,8BAAkBrmB,QAAQ,CAAR,CAAlB;;AAEA4lB,mBAAOrvE,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAb,GAAuBI,UAA9B;AACA2lB,mBAAOtvE,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAb,GAAuBI,SAA9B;;AAEA2lB,mBAAOvvE,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAb,GAAuBI,UAA9B;AACA6lB,mBAAOxvE,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAb,GAAuBI,SAA9B;;AAEAmmB,oCAAwB,KAAKV,IAAL,IAAaA,QAAQQ,cAArB,IAAuC,KAAKN,IAA5C,IAAoDA,QAAQM,cAA5D,IAA8E,KAAKP,IAAnF,IAA2FA,QAAQQ,eAAnG,IAAsH,KAAKN,IAA3H,IAAmIA,QAAQM,eAAnK;;AAEA,gBAAI1gF,MAAMuU,GAAGvU,GAAH,EAAV;AACA,gBAAID,OAAOwU,GAAGxU,IAAH,EAAX;;AAEAsgF,wBAAY30E,SAASu0E,IAAT,EAAeC,IAAf,EAAqBC,IAArB,EAA2BC,IAA3B,CAAZ;AACAE,0BAAcM,WAAWX,IAAX,EAAiBC,IAAjB,EAAuBC,IAAvB,EAA6BC,IAA7B,CAAd;AACAG,sBAAU,CAAC,CAACN,OAAOE,IAAR,IAAgB,CAAjB,EAAoB,CAACD,OAAOE,IAAR,IAAgB,CAApC,CAAV;AACAI,2BAAe,CAAC,CAACD,QAAQ,CAAR,IAAavgF,IAAI3C,CAAlB,IAAuB0C,IAAxB,EAA8B,CAACwgF,QAAQ,CAAR,IAAavgF,IAAI1C,CAAlB,IAAuByC,IAArD,CAAf;;AAEA;AACA,gBAAIghF,mBAAmB,GAAvB;AACA,gBAAIC,qBAAqBD,mBAAmBA,gBAA5C;AACA,gBAAIT,cAAcU,kBAAd,IAAoC,CAACpwE,EAAEorE,OAAF,CAAU,CAAV,CAAzC,EAAuD;;AAErD,kBAAIiF,QAAQj7E,EAAEu1D,kBAAF,CAAqBj0C,IAAI,CAAJ,CAArB,EAA6BA,IAAI,CAAJ,CAA7B,EAAqC,IAArC,EAA2C,IAA3C,CAAZ;AACA,kBAAI45D,QAAQl7E,EAAEu1D,kBAAF,CAAqBj0C,IAAI,CAAJ,CAArB,EAA6BA,IAAI,CAAJ,CAA7B,EAAqC,IAArC,EAA2C,IAA3C,CAAZ;;AAEA,kBAAI25D,SAASA,MAAM7pE,MAAN,EAAb,EAA6B;AAC3B6pE,sBAAM/D,QAAN,GAAiBhkE,IAAjB,CAAsB;AACpBiO,iCAAevW,CADK;AAEpB8J,wBAAM,aAFc;AAGpBxE,4BAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AAHU,iBAAtB;AAKAthB,kBAAE8wE,SAAF,CAAYhqD,KAAZ,GAAoBm0D,KAApB;AACD,eAPD,MAOO,IAAIC,SAASA,MAAM9pE,MAAN,EAAb,EAA6B;AAClC8pE,sBAAMhE,QAAN,GAAiBhkE,IAAjB,CAAsB;AACpBiO,iCAAevW,CADK;AAEpB8J,wBAAM,aAFc;AAGpBxE,4BAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AAHU,iBAAtB;AAKAthB,kBAAE8wE,SAAF,CAAYhqD,KAAZ,GAAoBo0D,KAApB;AACD,eAPM,MAOA;AACL3sE,mBAAG2E,IAAH,CAAQ;AACNiO,iCAAevW,CADT;AAEN8J,wBAAM,aAFA;AAGNxE,4BAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AAHJ,iBAAR;AAKD;;AAED,kBAAIthB,EAAE8wE,SAAF,CAAYhqD,KAAhB,EAAuB;AACrB9mB,kBAAE8wE,SAAF,CAAYhqD,KAAZ,CAAkBvzB,QAAlB,CAA2BqsB,OAA3B,GAAqC,KAArC;AACD;AACD5f,gBAAE8wE,SAAF,CAAYqK,GAAZ,GAAkB,IAAlB;AACAn7E,gBAAE8wE,SAAF,CAAYsG,UAAZ,GAAyB,KAAzB;AACAp3E,gBAAEoN,IAAF,CAAOoqE,iBAAP,GAA2BrkF,SAA3B;;AAEA6M,gBAAE+hB,MAAF;AACA;AACD;AACF;;AAED,cAAInX,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AAChB;AACD,WAFD,MAEO,IAAIprE,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AACvB;AACD,WAFM,MAEA,IAAIprE,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AACvB,gBAAIQ,QAAQx2E,EAAE01D,mBAAF,CAAsBp0C,IAAI,CAAJ,CAAtB,EAA8BA,IAAI,CAAJ,CAA9B,EAAsC,IAAtC,EAA4C,IAA5C,CAAZ;AACA,gBAAIs0C,OAAO4gB,MAAM,CAAN,CAAX;;AAEA,gBAAI5gB,QAAQ,IAAZ,EAAkB;AAChBA,mBAAKshB,QAAL;;AAEAl3E,gBAAE8wE,SAAF,CAAYhqD,KAAZ,GAAoB8uC,IAApB;AACA51D,gBAAE8wE,SAAF,CAAYsK,MAAZ,GAAqB5E,KAArB;;AAEA,kBAAIx2E,EAAEozE,eAAF,CAAkBxd,IAAlB,CAAJ,EAA6B;;AAE3B,oBAAIylB,cAAcr7E,EAAE4wE,QAAF,CAAWkK,aAAX,GAA2B,EAA7C;AACA,oBAAIvD,gBAAgB,IAApB;;AAEAv3E,kBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACA9hB,kBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;;AAEA,oBAAI8zC,KAAKnlD,QAAL,EAAJ,EAAqB;AACnB;;AAEA8mE,kCAAgBhpE,GAAGk6B,CAAH,CAAK,UAAU9vC,GAAV,EAAe;AAClC,2BAAOA,IAAI8X,QAAJ,MAAkBzQ,EAAEozE,eAAF,CAAkBz6E,GAAlB,CAAzB;AACD,mBAFe,CAAhB;;AAIAg8E,iCAAe4C,aAAf,EAA8B,EAAExD,WAAWsH,WAAb,EAA9B;AACD,iBARD,MAQO;AACLxG,gCAAcjf,IAAd,EAAoB,EAAEme,WAAWsH,WAAb,EAApB;AACD;;AAEDhH,8BAAcze,IAAd;;AAEA,oBAAIyhB,YAAY,SAASA,SAAT,CAAmB3iE,IAAnB,EAAyB;AACvC,yBAAO;AACLyM,mCAAevW,CADV;AAEL8J,0BAAMA,IAFD;AAGLxE,8BAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AAHL,mBAAP;AAKD,iBAND;;AAQAs0C,qBAAK1iD,IAAL,CAAUmkE,UAAU,QAAV,CAAV;;AAEA,oBAAIE,aAAJ,EAAmB;AACjBA,gCAAc/9E,OAAd,CAAsB,UAAU7I,CAAV,EAAa;AACjCA,sBAAEuiB,IAAF,CAAOmkE,UAAU,MAAV,CAAP;AACD,mBAFD;AAGD,iBAJD,MAIO;AACLzhB,uBAAK1iD,IAAL,CAAUmkE,UAAU,MAAV,CAAV;AACD;AACF;AACF;;AAEDhE,0BAAczd,IAAd,EAAoB,CAAC,YAAD,EAAe,UAAf,EAA2B,YAA3B,CAApB,EAA8DhrD,CAA9D,EAAiE;AAC/DsF,wBAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AADqD,aAAjE;;AAIA,gBAAIs0C,QAAQ,IAAZ,EAAkB;AAChB51D,gBAAEoN,IAAF,CAAOoqE,iBAAP,GAA2B;AACzBngF,mBAAGD,IAAI,CAAJ,CADsB;AAEzBE,mBAAGF,IAAI,CAAJ;AAFsB,eAA3B;;AAKA4I,gBAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;AACA9hB,gBAAE+hB,MAAF;AACD;;AAED;AACA;;AAEA/hB,cAAE8wE,SAAF,CAAYE,gBAAZ,GAA+B,KAA/B;AACAhxE,cAAE8wE,SAAF,CAAYC,oBAAZ,GAAmC,CAAC,IAAI1vD,IAAJ,EAApC;;AAEAy1D,yBAAa92E,EAAE8wE,SAAF,CAAYiG,cAAzB;AACA/2E,cAAE8wE,SAAF,CAAYiG,cAAZ,GAA6BtsE,WAAW,YAAY;AAClD,kBAAIzK,EAAE8wE,SAAF,CAAYE,gBAAZ,KAAiC,KAAjC,IAA0C,CAAChxE,EAAEs7E,QAA7C,CAAsD;AAAtD,iBACD,CAACt7E,EAAE8wE,SAAF,CAAY6G,SADhB,CAC0B;AAD1B,gBAEE;AACEtE,gCAAcrzE,EAAE8wE,SAAF,CAAYhqD,KAA1B,EAAiC,CAAC,SAAD,CAAjC,EAA8Clc,CAA9C,EAAiD;AAC/CsF,8BAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AADqC,mBAAjD;;AAIA,sBAAI,CAACthB,EAAE8wE,SAAF,CAAYhqD,KAAjB,EAAwB;AACtBvY,uBAAGk6B,CAAH,CAAK,WAAL,EAAkB6H,QAAlB;AACD;AACF;AACJ,aAZ4B,EAY1BtwC,EAAE+xE,eAZwB,CAA7B;AAaD;;AAED,cAAInnE,EAAEorE,OAAF,CAAU79E,MAAV,IAAoB,CAAxB,EAA2B;AACzB,gBAAIojF,OAAOv7E,EAAE8wE,SAAF,CAAY72B,aAAZ,GAA4B,EAAvC;;AAEA,iBAAK,IAAIrqD,IAAI,CAAb,EAAgBA,IAAI0xB,IAAInpB,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC2rF,mBAAK3rF,CAAL,IAAUqhF,QAAQrhF,CAAR,IAAa0xB,IAAI1xB,CAAJ,CAAvB;AACD;;AAED,gBAAI4rF,SAAS5wE,EAAEorE,OAAF,CAAU,CAAV,CAAb;;AAEAh2E,cAAE8wE,SAAF,CAAY2K,cAAZ,GAA6B,CAACD,OAAOrnB,OAAR,EAAiBqnB,OAAOpnB,OAAxB,CAA7B;AACD;AACF,SAlMD,EAkMG,KAlMH;;AAoMA,YAAIsnB,gBAAJ;AACA17E,UAAE6yE,eAAF,CAAkBnhF,MAAlB,EAA0B,WAA1B,EAAuCgqF,mBAAmB,SAASA,gBAAT,CAA0B9wE,CAA1B,EAA6B;AACrF;AACA,cAAI+lE,UAAU3wE,EAAE8wE,SAAF,CAAYH,OAA1B;;AAEA,cAAI,CAACA,OAAD,IAAY,CAACmF,iBAAiBlrE,CAAjB,CAAjB,EAAsC;AACpC;AACD;;AAED,cAAI2rE,SAASv2E,EAAEowE,SAAf;AACA,cAAI7hE,KAAKvO,EAAEuO,EAAX;AACA,cAAI+S,MAAMthB,EAAE8wE,SAAF,CAAYxvD,GAAtB;AACA,cAAI2vD,UAAUjxE,EAAE8wE,SAAF,CAAYG,OAA1B;AACA,cAAIl3E,OAAOwU,GAAGxU,IAAH,EAAX;;AAEA,cAAI6Q,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AAChB,gBAAI5+E,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAnC,EAA4CvpD,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAzD,CAAV,CAA4E9yC,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT,CAAgBkqB,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT;AAC7F;AACD,cAAIwT,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AAChB,gBAAI5+E,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAnC,EAA4CvpD,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAzD,CAAV,CAA4E9yC,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT,CAAgBkqB,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT;AAC7F;AACD,cAAIwT,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AAChB,gBAAI5+E,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAnC,EAA4CvpD,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAzD,CAAV,CAA4E9yC,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT,CAAgBkqB,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT;AAC7F;;AAED,cAAIukF,YAAY37E,EAAE8wE,SAAF,CAAY2K,cAA5B;AACA,cAAI7D,mBAAJ;;AAEA,cAAIjH,WAAW/lE,EAAEorE,OAAF,CAAU,CAAV,CAAX,IAA2B2F,SAA/B,EAA0C;AACxC,gBAAIj0E,OAAO,EAAX,CAAc,KAAK,IAAIrP,IAAI,CAAb,EAAgBA,IAAIipB,IAAInpB,MAAxB,EAAgCE,GAAhC,EAAqC;AACjDqP,mBAAKrP,CAAL,IAAUipB,IAAIjpB,CAAJ,IAAS44E,QAAQ54E,CAAR,CAAnB;AACD;AACD,gBAAI0C,KAAK6P,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAb,GAAuBwnB,UAAU,CAAV,CAAhC;AACA,gBAAI9D,MAAM98E,KAAKA,EAAf;AACA,gBAAIC,KAAK4P,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAb,GAAuBunB,UAAU,CAAV,CAAhC;AACA,gBAAI7D,MAAM98E,KAAKA,EAAf;AACA,gBAAI+8E,QAAQF,MAAMC,GAAlB;;AAEAF,kCAAsBG,SAAS/3E,EAAE8xE,kBAAjC;AACD;;AAED;AACA,cAAInB,WAAW3wE,EAAE8wE,SAAF,CAAYqK,GAA3B,EAAgC;AAC9BvwE,cAAEmP,cAAF;;AAEA,gBAAI6hE,OAAOhxE,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAb,GAAuBI,UAAlC;AAAA,gBACIsnB,OAAOjxE,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAb,GAAuBI,SADlC;AAEA,gBAAIsnB,OAAOlxE,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAb,GAAuBI,UAAlC;AAAA,gBACIwnB,OAAOnxE,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAb,GAAuBI,SADlC;AAEA;AACA,gBAAIwnB,cAAcpB,WAAWgB,IAAX,EAAiBC,IAAjB,EAAuBC,IAAvB,EAA6BC,IAA7B,CAAlB;AACA,gBAAIE,WAAWD,cAAc1B,WAA7B;;AAEA,gBAAIvtB,gBAAgB,GAApB;AACA,gBAAImvB,kBAAkBnvB,gBAAgBA,aAAtC;AACA,gBAAIovB,kBAAkB,GAAtB;AACA,gBAAIC,oBAAoBD,kBAAkBA,eAA1C;;AAEA;AACA,gBAAIF,YAAYG,iBAAZ,IAAiCJ,eAAeE,eAApD,EAAqE;AACnEl8E,gBAAE8wE,SAAF,CAAYqK,GAAZ,GAAkB,KAAlB;;AAEAn7E,gBAAEoN,IAAF,CAAOoqE,iBAAP,GAA2BrkF,SAA3B;;AAEA6M,gBAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;;AAEA,kBAAIm1D,SAAS;AACX91D,+BAAevW,CADJ;AAEX8J,sBAAM,WAFK;AAGXxE,0BAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AAHC,eAAb;;AAMA,kBAAIthB,EAAE8wE,SAAF,CAAYhqD,KAAhB,EAAuB;AACrB9mB,kBAAE8wE,SAAF,CAAYhqD,KAAZ,CAAkB2xD,UAAlB,GAA+BvlE,IAA/B,CAAoC+jE,MAApC;;AAEAj3E,kBAAE8wE,SAAF,CAAYhqD,KAAZ,GAAoB,IAApB;AACD,eAJD,MAIO;AACLvY,mBAAG2E,IAAH,CAAQ+jE,MAAR;AACD;AACF;AACF;;AAED;AACA,cAAItG,WAAW3wE,EAAE8wE,SAAF,CAAYqK,GAA3B,EAAgC;AAC9B,gBAAIlE,SAAS;AACX91D,6BAAevW,CADJ;AAEX8J,oBAAM,SAFK;AAGXxE,wBAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AAHC,aAAb;AAKAthB,cAAEoN,IAAF,CAAOoqE,iBAAP,GAA2BrkF,SAA3B;AACA6M,cAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;;AAEA,gBAAI9hB,EAAE8wE,SAAF,CAAYhqD,KAAhB,EAAuB;AACrB9mB,gBAAE8wE,SAAF,CAAYhqD,KAAZ,CAAkB5T,IAAlB,CAAuB+jE,MAAvB;AACD,aAFD,MAEO;AACL1oE,iBAAG2E,IAAH,CAAQ+jE,MAAR;AACD;;AAED,gBAAIj3E,EAAE8wE,SAAF,CAAYhqD,KAAhB,EAAuB;AACrB9mB,gBAAE8wE,SAAF,CAAYhqD,KAAZ,CAAkBvzB,QAAlB,CAA2BqsB,OAA3B,GAAqC,KAArC;AACD;AACD5f,cAAE8wE,SAAF,CAAYsG,UAAZ,GAAyB,IAAzB;;AAEA,gBAAIxhB,OAAO51D,EAAEu1D,kBAAF,CAAqBj0C,IAAI,CAAJ,CAArB,EAA6BA,IAAI,CAAJ,CAA7B,EAAqC,IAArC,EAA2C,IAA3C,CAAX;;AAEA,gBAAI,CAACthB,EAAE8wE,SAAF,CAAYsH,OAAb,IAAwBxiB,SAAS51D,EAAE8wE,SAAF,CAAYsH,OAAjD,EAA0D;;AAExD,kBAAIp4E,EAAE8wE,SAAF,CAAYsH,OAAhB,EAAyB;AACvBp4E,kBAAE8wE,SAAF,CAAYsH,OAAZ,CAAoBllE,IAApB,CAAyB;AACvBiO,iCAAevW,CADQ;AAEvB8J,wBAAM,YAFiB;AAGvBxE,4BAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AAHa,iBAAzB;AAKD;;AAEDthB,gBAAE8wE,SAAF,CAAYsH,OAAZ,GAAsBxiB,IAAtB;;AAEA,kBAAIA,IAAJ,EAAU;AACRA,qBAAK1iD,IAAL,CAAU;AACRiO,iCAAevW,CADP;AAER8J,wBAAM,aAFE;AAGRxE,4BAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AAHF,iBAAV;AAKD;AACF;;AAED;AACD,WA5CD,MA4CO,IAAIqvD,WAAW/lE,EAAEorE,OAAF,CAAU,CAAV,CAAX,IAA2BznE,GAAGgN,mBAAH,EAA/B,EAAyD;AAC9D3Q,cAAEmP,cAAF;;AAEA/Z,cAAEoN,IAAF,CAAOoqE,iBAAP,GAA2BrkF,SAA3B;;AAEA,iBAAKkpF,cAAL,GAAsB,CAAC,IAAIh7D,IAAJ,EAAvB;;AAEA,gBAAI,CAACrhB,EAAE8wE,SAAF,CAAY6G,SAAjB,EAA4B;AAC1BppE,iBAAG2E,IAAH,CAAQ,UAAR;AACD;;AAEDlT,cAAE8wE,SAAF,CAAY6G,SAAZ,GAAwB,IAAxB;;AAEA33E,cAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;;AAEA,gBAAI,CAACy0D,MAAD,IAAWA,OAAOp+E,MAAP,KAAkB,CAA7B,IAAkCo+E,OAAO,CAAP,MAAcpjF,SAApD,EAA+D;AAC7DojF,qBAAO,CAAP,IAAY,CAACj1D,IAAI,CAAJ,IAASA,IAAI,CAAJ,CAAT,GAAkBA,IAAI,CAAJ,CAAnB,IAA6B,CAAzC;AACAi1D,qBAAO,CAAP,IAAY,CAACj1D,IAAI,CAAJ,IAASA,IAAI,CAAJ,CAAT,GAAkBA,IAAI,CAAJ,CAAnB,IAA6B,CAAzC;AACAi1D,qBAAO,CAAP,IAAY,CAACj1D,IAAI,CAAJ,IAASA,IAAI,CAAJ,CAAT,GAAkBA,IAAI,CAAJ,CAAnB,IAA6B,CAA7B,GAAiC,CAA7C;AACAi1D,qBAAO,CAAP,IAAY,CAACj1D,IAAI,CAAJ,IAASA,IAAI,CAAJ,CAAT,GAAkBA,IAAI,CAAJ,CAAnB,IAA6B,CAA7B,GAAiC,CAA7C;AACD,aALD,MAKO;AACLi1D,qBAAO,CAAP,IAAY,CAACj1D,IAAI,CAAJ,IAASA,IAAI,CAAJ,CAAT,GAAkBA,IAAI,CAAJ,CAAnB,IAA6B,CAAzC;AACAi1D,qBAAO,CAAP,IAAY,CAACj1D,IAAI,CAAJ,IAASA,IAAI,CAAJ,CAAT,GAAkBA,IAAI,CAAJ,CAAnB,IAA6B,CAAzC;AACD;;AAEDi1D,mBAAO,CAAP,IAAY,CAAZ;AACAv2E,cAAE8wE,SAAF,CAAY6G,SAAZ,GAAwB,IAAxB;;AAEA33E,cAAE+hB,MAAF;;AAEA;AACD,WA/BM,MA+BA,IAAI4uD,WAAW/lE,EAAEorE,OAAF,CAAU,CAAV,CAAX,IAA2BznE,GAAG4M,cAAH,EAA3B,IAAkD5M,GAAG8M,cAAH,EAAlD,IAAyE9M,GAAG6M,kBAAH,EAAzE,IAAoG7M,GAAG+M,kBAAH,EAAxG,EAAiI;AACtI;AACA1Q,cAAEmP,cAAF;;AAEA/Z,cAAEoN,IAAF,CAAOoqE,iBAAP,GAA2BrkF,SAA3B;AACA6M,cAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;;AAEA,gBAAIu5D,cAAcr7E,EAAE4wE,QAAF,CAAWkK,aAA7B;AACA,gBAAIO,WAAJ,EAAiB;AACfr7E,gBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;;AAEA,mBAAK,IAAIlyB,IAAI,CAAb,EAAgBA,IAAIyrF,YAAYljF,MAAhC,EAAwCvI,GAAxC,EAA6C;AAC3C,oBAAI0sF,OAAOjB,YAAYzrF,CAAZ,EAAe2D,QAA1B;;AAEA+oF,qBAAK18D,OAAL,GAAe,KAAf;AACA08D,qBAAKx8D,QAAL,CAAcivD,WAAd,GAA4B,KAA5B;AACD;AACF;;AAED;AACA,gBAAI6M,OAAOhxE,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAb,GAAuBI,UAAlC;AAAA,gBACIsnB,OAAOjxE,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAb,GAAuBI,SADlC;AAEA,gBAAIsnB,OAAOlxE,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAb,GAAuBI,UAAlC;AAAA,gBACIwnB,OAAOnxE,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAb,GAAuBI,SADlC;;AAGA,gBAAI+nB,YAAY72E,SAASk2E,IAAT,EAAeC,IAAf,EAAqBC,IAArB,EAA2BC,IAA3B,CAAhB;AACA;AACA;AACA,gBAAIS,SAASD,YAAYlC,SAAzB;;AAEA,gBAAIM,qBAAJ,EAA2B;AACzB;AACA,kBAAI8B,OAAOb,OAAO3B,IAAlB;AACA,kBAAIyC,OAAOb,OAAO3B,IAAlB;;AAEA;AACA,kBAAIyC,OAAOb,OAAO3B,IAAlB;AACA,kBAAIyC,OAAOb,OAAO3B,IAAlB;;AAEA;AACA;AACA,kBAAIyC,KAAK,CAACJ,OAAOE,IAAR,IAAgB,CAAzB;AACA,kBAAIG,KAAK,CAACJ,OAAOE,IAAR,IAAgB,CAAzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAI9+B,QAAQvvC,GAAGxU,IAAH,EAAZ;AACA,kBAAIgkD,QAAQD,QAAQ0+B,MAApB;AACA,kBAAI3+B,OAAOtvC,GAAGvU,GAAH,EAAX;;AAEA;AACA,kBAAI+iF,OAAOvC,aAAa,CAAb,IAAkB18B,KAAlB,GAA0BD,KAAKxmD,CAA1C;AACA,kBAAI2lF,OAAOxC,aAAa,CAAb,IAAkB18B,KAAlB,GAA0BD,KAAKvmD,CAA1C;;AAEA,kBAAI0mD,OAAO;AACT3mD,mBAAG,CAAC0mD,KAAD,GAASD,KAAT,IAAkBi/B,OAAOl/B,KAAKxmD,CAAZ,GAAgBwlF,EAAlC,IAAwCE,IADlC;AAETzlF,mBAAG,CAACymD,KAAD,GAASD,KAAT,IAAkBk/B,OAAOn/B,KAAKvmD,CAAZ,GAAgBwlF,EAAlC,IAAwCE;AAFlC,eAAX;;AAKA;AACA,kBAAIh9E,EAAE8wE,SAAF,CAAYhqD,KAAZ,IAAqB9mB,EAAE8wE,SAAF,CAAYhqD,KAAZ,CAAkBjH,MAAlB,EAAzB,EAAqD;AACnD,oBAAIw7D,cAAcr7E,EAAE4wE,QAAF,CAAWkK,aAA7B;;AAEAhG,oCAAoBuG,WAApB;;AAEAr7E,kBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACA9hB,kBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;;AAEA9hB,kBAAE8wE,SAAF,CAAYhqD,KAAZ,CAAkB2xD,UAAlB,GAA+BvlE,IAA/B,CAAoC,MAApC;AACD;;AAED3E,iBAAG6vC,QAAH,CAAY;AACVrkD,sBAAMgkD,KADI;AAEV/jD,qBAAKgkD,IAFK;AAGVU,oCAAoB;AAHV,eAAZ;;AAMA27B,0BAAYkC,SAAZ;AACAtC,qBAAO2B,IAAP;AACA1B,qBAAO2B,IAAP;AACA1B,qBAAO2B,IAAP;AACA1B,qBAAO2B,IAAP;;AAEA/7E,gBAAEs7E,QAAF,GAAa,IAAb;AACD;;AAED;AACA,gBAAI1wE,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AAChB,kBAAI5+E,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAnC,EAA4CvpD,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAzD,CAAV,CAA4E9yC,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT,CAAgBkqB,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT;AAC7F;AACD,gBAAIwT,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AAChB,kBAAI5+E,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAnC,EAA4CvpD,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAzD,CAAV,CAA4E9yC,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT,CAAgBkqB,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT;AAC7F;AACD,gBAAIwT,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AAChB,kBAAI5+E,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAnC,EAA4CvpD,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAzD,CAAV,CAA4E9yC,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT,CAAgBkqB,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT;AAC7F;AACF,WAvGM,MAuGA,IAAIwT,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AACvB,gBAAIlvD,QAAQ9mB,EAAE8wE,SAAF,CAAYhqD,KAAxB;AACA,gBAAI0jB,OAAOxqC,EAAE8wE,SAAF,CAAYtmC,IAAvB;AACA,gBAAIorB,IAAJ;;AAEA,gBAAI,CAAC51D,EAAEqwE,SAAF,CAAYqH,YAAb,IAA6B,CAAC13E,EAAEi9E,YAApC,EAAkD;AAChDrnB,qBAAO51D,EAAEu1D,kBAAF,CAAqBj0C,IAAI,CAAJ,CAArB,EAA6BA,IAAI,CAAJ,CAA7B,EAAqC,IAArC,EAA2C,IAA3C,CAAP;AACD;;AAED,gBAAIqvD,WAAW7pD,SAAS,IAAxB,EAA8B;AAC5Blc,gBAAEmP,cAAF;AACD;;AAED;AACA,gBAAI42D,WAAW7pD,SAAS,IAApB,IAA4B9mB,EAAEmzE,eAAF,CAAkBrsD,KAAlB,CAAhC,EAA0D;;AAExD,kBAAI8wD,mBAAJ,EAAyB;AACvB;AACA,oBAAIyD,cAAcr7E,EAAE4wE,QAAF,CAAWkK,aAA7B;AACA,oBAAIpC,kBAAkB,CAAC14E,EAAE4wE,QAAF,CAAW+H,OAAlC;;AAEA,oBAAID,eAAJ,EAAqB;AACnB/D,iCAAepmE,GAAGjb,UAAH,CAAc+nF,WAAd,CAAf,EAA2C,EAAEtM,aAAa,IAAf,EAA3C;AACD;;AAED,qBAAK,IAAIz2E,IAAI,CAAb,EAAgBA,IAAI+iF,YAAYljF,MAAhC,EAAwCG,GAAxC,EAA6C;AAC3C,sBAAI4kF,aAAa7B,YAAY/iF,CAAZ,CAAjB;;AAEA,sBAAI0H,EAAEmzE,eAAF,CAAkB+J,UAAlB,KAAiCA,WAAWt9D,OAAX,EAArC,EAA2D;AACzD5f,sBAAE4wE,QAAF,CAAW+H,OAAX,GAAqB,IAArB;AACA,wBAAIG,OAAOoE,WAAWhtE,QAAX,EAAX;;AAEA,wBAAI9d,GAAGQ,MAAH,CAAU8U,KAAK,CAAL,CAAV,KAAsBtV,GAAGQ,MAAH,CAAU8U,KAAK,CAAL,CAAV,CAA1B,EAA8C;AAC5CoxE,2BAAKzhF,CAAL,IAAUqQ,KAAK,CAAL,CAAV;AACAoxE,2BAAKxhF,CAAL,IAAUoQ,KAAK,CAAL,CAAV;AACD;;AAED,wBAAIgxE,eAAJ,EAAqB;AACnB14E,wBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;;AAEA,0BAAIo2D,YAAYl4E,EAAE8wE,SAAF,CAAYoH,SAA5B;;AAEA,0BAAIA,aAAa9lF,GAAGQ,MAAH,CAAUslF,UAAU,CAAV,CAAV,CAAb,IAAwC9lF,GAAGQ,MAAH,CAAUslF,UAAU,CAAV,CAAV,CAA5C,EAAqE;AACnEY,6BAAKzhF,CAAL,IAAU6gF,UAAU,CAAV,CAAV;AACAY,6BAAKxhF,CAAL,IAAU4gF,UAAU,CAAV,CAAV;AACD;AACF;AACF;AACF;;AAED,oBAAIa,OAAOxqE,GAAGjb,UAAH,CAAc+nF,WAAd,CAAX;;AAEAtC,qBAAKhmE,wBAAL;AACAgmE,qBAAK7lE,IAAL,CAAU,eAAV;;AAEAlT,kBAAEqwE,SAAF,CAAYqH,YAAZ,GAA2B,IAA3B;;AAEA13E,kBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;;AAEA,oBAAI9hB,EAAE8wE,SAAF,CAAY72B,aAAZ,CAA0B,CAA1B,KAAgCg3B,QAAQ,CAAR,CAAhC,IAA8CjxE,EAAE8wE,SAAF,CAAY72B,aAAZ,CAA0B,CAA1B,KAAgCg3B,QAAQ,CAAR,CAAlF,EAA8F;;AAE5FjxE,oBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACD;;AAED9hB,kBAAE+hB,MAAF;AACD,eAjDD,MAiDO;AACL;AACA,oBAAIm2D,YAAYl4E,EAAE8wE,SAAF,CAAYoH,SAAZ,GAAwBl4E,EAAE8wE,SAAF,CAAYoH,SAAZ,IAAyB,EAAjE;;AAEA,oBAAIA,UAAU//E,MAAV,KAAqB,CAAzB,EAA4B;AAC1B+/E,4BAAUn/E,IAAV,CAAe2O,KAAK,CAAL,CAAf;AACAwwE,4BAAUn/E,IAAV,CAAe2O,KAAK,CAAL,CAAf;AACD,iBAHD,MAGO;AACLwwE,4BAAU,CAAV,KAAgBxwE,KAAK,CAAL,CAAhB;AACAwwE,4BAAU,CAAV,KAAgBxwE,KAAK,CAAL,CAAhB;AACD;AACF;AACF;;AAED;AACA;AACE2rE,4BAAcvsD,SAAS8uC,IAAvB,EAA6B,CAAC,WAAD,EAAc,SAAd,EAAyB,YAAzB,CAA7B,EAAqEhrD,CAArE,EAAwE;AACtEsF,0BAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AAD4D,eAAxE;;AAIA,kBAAI,CAAC,CAACwF,KAAD,IAAU,CAACA,MAAMlH,OAAN,EAAZ,KAAgCg2C,QAAQprB,IAA5C,EAAkD;AAChD,oBAAIA,IAAJ,EAAU;AACRA,uBAAKt3B,IAAL,CAAU,EAAEiO,eAAevW,CAAjB,EAAoB8J,MAAM,YAA1B,EAAwCxE,UAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB,EAAlD,EAAV;AACD;AACD,oBAAIs0C,IAAJ,EAAU;AACRA,uBAAK1iD,IAAL,CAAU,EAAEiO,eAAevW,CAAjB,EAAoB8J,MAAM,aAA1B,EAAyCxE,UAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB,EAAnD,EAAV;AACD;AACF;;AAEDthB,gBAAE8wE,SAAF,CAAYtmC,IAAZ,GAAmBorB,IAAnB;AACD;;AAED;AACA,gBAAI+a,OAAJ,EAAa;AACX,mBAAK,IAAI/gF,IAAI,CAAb,EAAgBA,IAAI0xB,IAAInpB,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnC,oBAAI0xB,IAAI1xB,CAAJ,KAAUoQ,EAAE8wE,SAAF,CAAY72B,aAAZ,CAA0BrqD,CAA1B,CAAV,IAA0CgoF,mBAA9C,EAAmE;;AAEjE53E,oBAAE8wE,SAAF,CAAYE,gBAAZ,GAA+B,IAA/B;AACD;AACF;AACF;;AAED;AACA,gBAAIL,YAAY7pD,SAAS,IAAT,IAAiBA,MAAMrV,MAAN,EAA7B,KAAgDlD,GAAG8M,cAAH,EAAhD,IAAuE9M,GAAG+M,kBAAH,EAA3E,EAAoG;;AAElG,kBAAIs4D,mBAAmBF,wBAAwB5sD,KAAxB,EAA+B9mB,EAAE8wE,SAAF,CAAYsK,MAA3C,CAAvB;;AAEA,kBAAIxH,gBAAJ,EAAsB;AACpBhpE,kBAAEmP,cAAF;;AAEA,oBAAI/Z,EAAEi9E,YAAN,EAAoB;AAClB1uE,qBAAG4uC,KAAH,CAAS;AACP9lD,uBAAGqQ,KAAK,CAAL,IAAU3N,IADN;AAEPzC,uBAAGoQ,KAAK,CAAL,IAAU3N;AAFN,mBAAT;AAID,iBALD,MAKO,IAAI69E,mBAAJ,EAAyB;AAC9B53E,oBAAEi9E,YAAF,GAAiB,IAAjB;;AAEA1uE,qBAAG4uC,KAAH,CAAS;AACP9lD,uBAAG0D,KAAKhB,IADD;AAEPzC,uBAAG0D,KAAKjB;AAFD,mBAAT;;AAKA,sBAAI+sB,KAAJ,EAAW;AACTA,0BAAM2xD,UAAN;;AAEA,wBAAI,CAACz4E,EAAEoN,IAAF,CAAOoqE,iBAAZ,EAA+B;AAC7Bx3E,wBAAEoN,IAAF,CAAOoqE,iBAAP,GAA2B3hF,KAAKqE,WAAL,CAAiB8F,EAAE8wE,SAAF,CAAY72B,aAA7B,CAA3B;AACD;;AAEDj6C,sBAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;;AAEA9hB,sBAAE8wE,SAAF,CAAYhqD,KAAZ,GAAoB,IAApB;AACD;AACF;AACF;;AAED;AACA,kBAAI1vB,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAnC,EAA4CvpD,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAzD,CAAV;AACA9yC,kBAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT,CAAgBkqB,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT;AACjB;AACF;;AAED,eAAK,IAAIiB,IAAI,CAAb,EAAgBA,IAAIipB,IAAInpB,MAAxB,EAAgCE,GAAhC,EAAqC;AACnC44E,oBAAQ54E,CAAR,IAAaipB,IAAIjpB,CAAJ,CAAb;AACD;AACD;AACD,SA5ZD,EA4ZG,KA5ZH;;AA8ZA,YAAI8kF,kBAAJ;AACAn9E,UAAE6yE,eAAF,CAAkBnhF,MAAlB,EAA0B,aAA1B,EAAyCyrF,qBAAqB,SAASA,kBAAT,CAA4BvyE,CAA5B,EAA+B;AAC3F;AACA,cAAIkc,QAAQ9mB,EAAE8wE,SAAF,CAAYhqD,KAAxB;;AAEA9mB,YAAE8wE,SAAF,CAAYH,OAAZ,GAAsB,KAAtB;;AAEA,cAAI7pD,KAAJ,EAAW;AACTA,kBAAM2xD,UAAN;AACD;AACF,SATD;;AAWA,YAAI2E,eAAJ;AACAp9E,UAAE6yE,eAAF,CAAkBnhF,MAAlB,EAA0B,UAA1B,EAAsC0rF,kBAAkB,SAASA,eAAT,CAAyBxyE,CAAzB,EAA4B;AAClF;AACA,cAAIkc,QAAQ9mB,EAAE8wE,SAAF,CAAYhqD,KAAxB;;AAEA,cAAI6pD,UAAU3wE,EAAE8wE,SAAF,CAAYH,OAA1B;;AAEA,cAAIA,OAAJ,EAAa;AACX3wE,cAAE8wE,SAAF,CAAYH,OAAZ,GAAsB,KAAtB;;AAEA/lE,cAAEmP,cAAF;AACD,WAJD,MAIO;AACL;AACD;;AAED,cAAIw8D,SAASv2E,EAAEowE,SAAf;;AAEApwE,YAAEi9E,YAAF,GAAiB,KAAjB;AACAj9E,YAAEqwE,SAAF,CAAYqH,YAAZ,GAA2B,KAA3B;;AAEA,cAAInpE,KAAKvO,EAAEuO,EAAX;AACA,cAAIxU,OAAOwU,GAAGxU,IAAH,EAAX;AACA,cAAIunB,MAAMthB,EAAE8wE,SAAF,CAAYxvD,GAAtB;AACA,cAAI2vD,UAAUjxE,EAAE8wE,SAAF,CAAYG,OAA1B;;AAEA,cAAIrmE,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AAChB,gBAAI5+E,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAnC,EAA4CvpD,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAzD,CAAV,CAA4E9yC,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT,CAAgBkqB,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT;AAC7F;AACD,cAAIwT,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AAChB,gBAAI5+E,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAnC,EAA4CvpD,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAzD,CAAV,CAA4E9yC,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT,CAAgBkqB,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT;AAC7F;AACD,cAAIwT,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AAChB,gBAAI5+E,MAAM4I,EAAEk0D,mBAAF,CAAsBtpD,EAAEorE,OAAF,CAAU,CAAV,EAAa7hB,OAAnC,EAA4CvpD,EAAEorE,OAAF,CAAU,CAAV,EAAa5hB,OAAzD,CAAV,CAA4E9yC,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT,CAAgBkqB,IAAI,CAAJ,IAASlqB,IAAI,CAAJ,CAAT;AAC7F;;AAED,cAAI0vB,KAAJ,EAAW;AACTA,kBAAM2xD,UAAN;AACD;;AAED,cAAI4E,SAAJ;AACA,cAAIr9E,EAAE8wE,SAAF,CAAYqK,GAAhB,EAAqB;AACnBkC,wBAAY;AACVl8D,6BAAevW,CADL;AAEV8J,oBAAM,WAFI;AAGVxE,wBAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AAHA,aAAZ;;AAMA,gBAAIwF,KAAJ,EAAW;AACTA,oBAAM5T,IAAN,CAAWmqE,SAAX;AACD,aAFD,MAEO;AACL9uE,iBAAG2E,IAAH,CAAQmqE,SAAR;AACD;;AAED,gBAAI,CAACr9E,EAAE8wE,SAAF,CAAYsG,UAAjB,EAA6B;AAC3B,kBAAIkG,SAAS;AACXn8D,+BAAevW,CADJ;AAEX8J,sBAAM,QAFK;AAGXxE,0BAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AAHC,eAAb;;AAMA,kBAAIwF,KAAJ,EAAW;AACTA,sBAAM5T,IAAN,CAAWoqE,MAAX;AACD,eAFD,MAEO;AACL/uE,mBAAG2E,IAAH,CAAQoqE,MAAR;AACD;AACF;;AAED,gBAAIt9E,EAAE8wE,SAAF,CAAYhqD,KAAhB,EAAuB;AACrB9mB,gBAAE8wE,SAAF,CAAYhqD,KAAZ,CAAkBvzB,QAAlB,CAA2BqsB,OAA3B,GAAqC,KAArC;AACD;AACD5f,cAAE8wE,SAAF,CAAYqK,GAAZ,GAAkB,KAAlB;AACAn7E,cAAE8wE,SAAF,CAAYhqD,KAAZ,GAAoB,IAApB;;AAEA9mB,cAAE+hB,MAAF;AACA;AACD;;AAED;AACA,cAAI,CAACnX,EAAEorE,OAAF,CAAU,CAAV,CAAD,IAAiBznE,GAAGgN,mBAAH,EAAjB,IAA6Cvb,EAAE8wE,SAAF,CAAY6G,SAA7D,EAAwE;AACtE33E,cAAE8wE,SAAF,CAAY6G,SAAZ,GAAwB,KAAxB;;AAEA,gBAAIpf,MAAMhqD,GAAGjb,UAAH,CAAc0M,EAAEs4D,WAAF,CAAcie,OAAO,CAAP,CAAd,EAAyBA,OAAO,CAAP,CAAzB,EAAoCA,OAAO,CAAP,CAApC,EAA+CA,OAAO,CAAP,CAA/C,CAAd,CAAV;;AAEAA,mBAAO,CAAP,IAAYpjF,SAAZ;AACAojF,mBAAO,CAAP,IAAYpjF,SAAZ;AACAojF,mBAAO,CAAP,IAAYpjF,SAAZ;AACAojF,mBAAO,CAAP,IAAYpjF,SAAZ;AACAojF,mBAAO,CAAP,IAAY,CAAZ;;AAEAv2E,cAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;;AAEAvT,eAAG2E,IAAH,CAAQ,QAAR;;AAEA,gBAAIgmE,qBAAqB,SAASA,kBAAT,CAA4BvgF,GAA5B,EAAiC;AACxD,qBAAOA,IAAI+X,UAAJ,MAAoB,CAAC/X,IAAI8X,QAAJ,EAA5B;AACD,aAFD;;AAIA8nD,gBAAIrlD,IAAJ,CAAS,KAAT,EAAgByL,SAAhB,CAA0Bu6D,kBAA1B,EAA8C3C,MAA9C,GAAuDrjE,IAAvD,CAA4D,WAA5D;;AAEA,gBAAIqlD,IAAIz+B,QAAJ,EAAJ,EAAoB;AAClB95B,gBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACD;;AAED9hB,cAAE+hB,MAAF;AACD;;AAED,cAAI+E,SAAS,IAAb,EAAmB;AACjBA,kBAAM2xD,UAAN;AACD;;AAED,cAAI7tE,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AAChBh2E,cAAEoN,IAAF,CAAOoqE,iBAAP,GAA2BrkF,SAA3B;AACA6M,cAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;AACD,WAHD,MAGO,IAAIlX,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AACvB;AACD,WAFM,MAEA,IAAIprE,EAAEorE,OAAF,CAAU,CAAV,CAAJ,EAAkB;AACvB;;AAEA;AACD,WAJM,MAIA,IAAI,CAACprE,EAAEorE,OAAF,CAAU,CAAV,CAAL,EAAmB;;AAExBh2E,cAAEoN,IAAF,CAAOoqE,iBAAP,GAA2BrkF,SAA3B;AACA6M,cAAE8hB,UAAF,CAAa,QAAb,EAAuB,IAAvB;;AAEA,gBAAIu5D,cAAcr7E,EAAE4wE,QAAF,CAAWkK,aAA7B;;AAEA,gBAAIh0D,SAAS,IAAb,EAAmB;;AAEjB,kBAAIy2D,kBAAkBz2D,MAAMvzB,QAAN,CAAeqsB,OAArC;;AAEAk1D,kCAAoBuG,WAApB;;AAEAr7E,gBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACA9hB,gBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;;AAEA,kBAAIy7D,eAAJ,EAAqB;AACnBz2D,sBAAM5T,IAAN,CAAW,MAAX;AACD;;AAEDmgE,4BAAcvsD,KAAd,EAAqB,CAAC,UAAD,EAAa,QAAb,EAAuB,UAAvB,EAAmC,YAAnC,CAArB,EAAuElc,CAAvE,EAA0E;AACxEsF,0BAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AAD8D,eAA1E;;AAIAwF,oBAAM2xD,UAAN;;AAEAz4E,gBAAE8wE,SAAF,CAAYhqD,KAAZ,GAAoB,IAApB;AACD,aApBD,MAoBO;AACL,kBAAI8uC,OAAO51D,EAAEu1D,kBAAF,CAAqBj0C,IAAI,CAAJ,CAArB,EAA6BA,IAAI,CAAJ,CAA7B,EAAqC,IAArC,EAA2C,IAA3C,CAAX;;AAEA+xD,4BAAczd,IAAd,EAAoB,CAAC,UAAD,EAAa,QAAb,EAAuB,UAAvB,EAAmC,YAAnC,CAApB,EAAsEhrD,CAAtE,EAAyE;AACvEsF,0BAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AAD6D,eAAzE;AAGD;;AAED,gBAAIvmB,KAAKiF,EAAE8wE,SAAF,CAAY72B,aAAZ,CAA0B,CAA1B,IAA+B34B,IAAI,CAAJ,CAAxC;AACA,gBAAIu2D,MAAM98E,KAAKA,EAAf;AACA,gBAAIC,KAAKgF,EAAE8wE,SAAF,CAAY72B,aAAZ,CAA0B,CAA1B,IAA+B34B,IAAI,CAAJ,CAAxC;AACA,gBAAIw2D,MAAM98E,KAAKA,EAAf;AACA,gBAAI+8E,QAAQF,MAAMC,GAAlB;AACA,gBAAI0F,SAASzF,QAAQh+E,IAAR,GAAeA,IAA5B;;AAEA;AACA,gBAAI+sB,SAAS,IAAT,IAAiB,CAAC9mB,EAAE4wE,QAAF,CAAW+H,OAA7B,CAAqC;AAArC,eACD7xD,MAAMvzB,QAAN,CAAemd,UADd,IAC4B8sE,SAASx9E,EAAE8xE,kBADvC,IAC6D,CAAC9xE,EAAEs7E,QADpE,CAC6E;AAD7E,cAEE;;AAEE,oBAAI/sE,GAAG4N,aAAH,OAAuB,QAA3B,EAAqC;AACnC5N,qBAAGk6B,CAAH,CAAK,WAAL,EAAkBnqB,OAAlB,CAA0BwI,KAA1B,EAAiCwpB,QAAjC;AACAxpB,wBAAMyvD,MAAN;AACD,iBAHD,MAGO;AACL,sBAAIzvD,MAAMrW,QAAN,EAAJ,EAAsB;AACpBqW,0BAAMwpB,QAAN;AACD,mBAFD,MAEO;AACLxpB,0BAAMyvD,MAAN;AACD;AACF;;AAEDv2E,kBAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACD;;AAEH;AACA,gBAAI,CAAC9hB,EAAE8wE,SAAF,CAAYE,gBAAjB,EAAmC;AACjCqC,4BAAcvsD,KAAd,EAAqB,CAAC,KAAD,EAAQ,QAAR,CAArB,EAAwClc,CAAxC,EAA2C;AACzCsF,0BAAU,EAAE7Y,GAAGiqB,IAAI,CAAJ,CAAL,EAAahqB,GAAGgqB,IAAI,CAAJ,CAAhB;AAD+B,eAA3C;AAGD;;AAEDthB,cAAE8wE,SAAF,CAAYE,gBAAZ,GAA+B,IAA/B;AACD;;AAED,eAAK,IAAI34E,IAAI,CAAb,EAAgBA,IAAIipB,IAAInpB,MAAxB,EAAgCE,GAAhC,EAAqC;AACnC44E,oBAAQ54E,CAAR,IAAaipB,IAAIjpB,CAAJ,CAAb;AACD;;AAED2H,YAAE4wE,QAAF,CAAW+H,OAAX,GAAqB,KAArB,CAjMkF,CAiMtD;;AAE5B,cAAI/tE,EAAEorE,OAAF,CAAU79E,MAAV,KAAqB,CAAzB,EAA4B;AAC1B6H,cAAE8wE,SAAF,CAAYoH,SAAZ,GAAwB,EAAxB;AACAl4E,cAAE8wE,SAAF,CAAY72B,aAAZ,GAA4B,IAA5B;AACAj6C,cAAE8wE,SAAF,CAAY2K,cAAZ,GAA6B,IAA7B;AACD;;AAED,cAAI7wE,EAAEorE,OAAF,CAAU79E,MAAV,GAAmB,CAAvB,EAA0B;AACxB6H,cAAEs7E,QAAF,GAAa,KAAb;AACAt7E,cAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACA9hB,cAAE+hB,MAAF;AACD;;AAED;AACD,SAhND,EAgNG,KAhNH;;AAkNA;AACA,YAAI,OAAO07D,UAAP,KAAsB,WAA1B,EAAuC;;AAErC,cAAIC,WAAW,EAAf;;AAEA,cAAIC,YAAY,SAASA,SAAT,CAAmB/yE,CAAnB,EAAsB;AACpC,mBAAO;AACLupD,uBAASvpD,EAAEupD,OADN;AAELC,uBAASxpD,EAAEwpD,OAFN;AAGLzK,qBAAO,CAHF;AAILi0B,0BAAYhzE,EAAEizE,SAJT;AAKLC,qBAAOlzE,EAAEkzE,KALJ;AAMLC,qBAAOnzE,EAAEmzE,KANJ;AAOLC,uBAASpzE,EAAExN,KAAF,GAAU,CAPd;AAQL6gF,uBAASrzE,EAAEvN,MAAF,GAAW,CARf;AASL6gF,uBAAStzE,EAAEszE,OATN;AAULC,uBAASvzE,EAAEuzE,OAVN;AAWLvwE,sBAAQhD,EAAEgD;AAXL,aAAP;AAaD,WAdD;;AAgBA,cAAIwwE,cAAc,SAASA,WAAT,CAAqBxzE,CAArB,EAAwB;AACxC,mBAAO;AACLhX,qBAAOgX,CADF;AAELlW,qBAAOipF,UAAU/yE,CAAV;AAFF,aAAP;AAID,WALD;;AAOA,cAAIyzE,aAAa,SAASA,UAAT,CAAoBzzE,CAApB,EAAuB;AACtC8yE,qBAAS3kF,IAAT,CAAcqlF,YAAYxzE,CAAZ,CAAd;AACD,WAFD;;AAIA,cAAI0zE,gBAAgB,SAASA,aAAT,CAAuB1zE,CAAvB,EAA0B;AAC5C,iBAAK,IAAIhb,IAAI,CAAb,EAAgBA,IAAI8tF,SAASvlF,MAA7B,EAAqCvI,GAArC,EAA0C;AACxC,kBAAIuB,IAAIusF,SAAS9tF,CAAT,CAAR;;AAEA,kBAAIuB,EAAEyC,KAAF,CAAQiqF,SAAR,KAAsBjzE,EAAEizE,SAA5B,EAAuC;AACrCH,yBAAS7kF,MAAT,CAAgBjJ,CAAhB,EAAmB,CAAnB;AACA;AACD;AACF;AACF,WATD;;AAWA,cAAI2uF,gBAAgB,SAASA,aAAT,CAAuB3zE,CAAvB,EAA0B;AAC5C,gBAAIzZ,IAAIusF,SAASzxE,MAAT,CAAgB,UAAU9a,CAAV,EAAa;AACnC,qBAAOA,EAAEyC,KAAF,CAAQiqF,SAAR,KAAsBjzE,EAAEizE,SAA/B;AACD,aAFO,EAEL,CAFK,CAAR;;AAIA1sF,cAAEyC,KAAF,GAAUgX,CAAV;AACAzZ,cAAEuD,KAAF,GAAUipF,UAAU/yE,CAAV,CAAV;AACD,WAPD;;AASA,cAAI4zE,oBAAoB,SAASA,iBAAT,CAA2B5zE,CAA3B,EAA8B;AACpDA,cAAEorE,OAAF,GAAY0H,SAAS7uE,GAAT,CAAa,UAAU1d,CAAV,EAAa;AACpC,qBAAOA,EAAEuD,KAAT;AACD,aAFW,CAAZ;AAGD,WAJD;;AAMA,cAAI+pF,iBAAiB,SAASA,cAAT,CAAwB7zE,CAAxB,EAA2B;AAC9C,mBAAOA,EAAE8zE,WAAF,KAAkB,OAAlB,IAA6B9zE,EAAE8zE,WAAF,KAAkB,CAAtD;AACD,WAFD;;AAIA1+E,YAAE6yE,eAAF,CAAkB7yE,EAAEka,SAApB,EAA+B,aAA/B,EAA8C,UAAUtP,CAAV,EAAa;AACzD,gBAAI6zE,eAAe7zE,CAAf,CAAJ,EAAuB;AACrB;AACD,aAHwD,CAGvD;;AAEFA,cAAEmP,cAAF;;AAEAskE,uBAAWzzE,CAAX;;AAEA4zE,8BAAkB5zE,CAAlB;AACAiwE,8BAAkBjwE,CAAlB;AACD,WAXD;;AAaA5K,YAAE6yE,eAAF,CAAkB7yE,EAAEka,SAApB,EAA+B,WAA/B,EAA4C,UAAUtP,CAAV,EAAa;AACvD,gBAAI6zE,eAAe7zE,CAAf,CAAJ,EAAuB;AACrB;AACD,aAHsD,CAGrD;;AAEF0zE,0BAAc1zE,CAAd;;AAEA4zE,8BAAkB5zE,CAAlB;AACAwyE,4BAAgBxyE,CAAhB;AACD,WATD;;AAWA5K,YAAE6yE,eAAF,CAAkB7yE,EAAEka,SAApB,EAA+B,eAA/B,EAAgD,UAAUtP,CAAV,EAAa;AAC3D,gBAAI6zE,eAAe7zE,CAAf,CAAJ,EAAuB;AACrB;AACD,aAH0D,CAGzD;;AAEF0zE,0BAAc1zE,CAAd;;AAEA4zE,8BAAkB5zE,CAAlB;AACAuyE,+BAAmBvyE,CAAnB;AACD,WATD;;AAWA5K,YAAE6yE,eAAF,CAAkB7yE,EAAEka,SAApB,EAA+B,aAA/B,EAA8C,UAAUtP,CAAV,EAAa;AACzD,gBAAI6zE,eAAe7zE,CAAf,CAAJ,EAAuB;AACrB;AACD,aAHwD,CAGvD;;AAEFA,cAAEmP,cAAF;;AAEAwkE,0BAAc3zE,CAAd;;AAEA4zE,8BAAkB5zE,CAAlB;AACA8wE,6BAAiB9wE,CAAjB;AACD,WAXD;AAYD;AACF,OA38DD;;AA68DA1b,aAAOD,OAAP,GAAiB6iE,GAAjB;;AAEA;AAAO,KA//oBG;AAggpBV;AACA,SAAO,UAAS5iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;;AAEA,UAAIoiE,MAAM,EAAV;;AAEAA,UAAI6sB,eAAJ,GAAsB,UAAUxuF,IAAV,EAAgB6R,MAAhB,EAAwB;AAC5C,eAAO,KAAKy0D,UAAL,CAAgBtmE,IAAhB,IAAwB;AAC7Byf,oBAAU,IADmB;;AAG7Bzf,gBAAMA,IAHuB;;AAK7B6R,kBAAQA,MALqB;;AAO7BmxD,gBAAM,SAASA,IAAT,CAAct7C,OAAd,EAAuBzV,OAAvB,EAAgCC,OAAhC,EAAyCjF,KAAzC,EAAgDC,MAAhD,EAAwD;AAC5D,iBAAKuS,QAAL,CAAcgvE,aAAd,CAA4B,SAA5B,EAAuC/mE,OAAvC,EAAgDzV,OAAhD,EAAyDC,OAAzD,EAAkEjF,KAAlE,EAAyEC,MAAzE,EAAiF,KAAK2E,MAAtF;AACD,WAT4B;;AAW7BogE,yBAAe,SAASA,aAAT,CAAuBllE,KAAvB,EAA8BC,KAA9B,EAAqCC,KAArC,EAA4CC,MAA5C,EAAoDhG,CAApD,EAAuDC,CAAvD,EAA0DqF,OAA1D,EAAmE;AAChF,mBAAO9G,KAAKmR,oBAAL,CAA0B3P,CAA1B,EAA6BC,CAA7B,EAAgC,KAAK0K,MAArC,EAA6C9E,KAA7C,EAAoDC,KAApD,EAA2DC,QAAQ,CAAnE,EAAsEC,SAAS,CAA/E,EAAkFV,OAAlF,CAAP;AACD,WAb4B;;AAe7Bg6D,sBAAY,SAASA,UAAT,CAAoBt/D,CAApB,EAAuBC,CAAvB,EAA0BqF,OAA1B,EAAmCS,KAAnC,EAA0CC,MAA1C,EAAkD+E,OAAlD,EAA2DC,OAA3D,EAAoE;AAC9E,mBAAOxM,KAAKqM,kBAAL,CAAwB7K,CAAxB,EAA2BC,CAA3B,EAA8B,KAAK0K,MAAnC,EAA2CI,OAA3C,EAAoDC,OAApD,EAA6DjF,KAA7D,EAAoEC,MAApE,EAA4E,CAAC,CAAD,EAAI,CAAC,CAAL,CAA5E,EAAqFV,OAArF,CAAP;AACD;AAjB4B,SAA/B;AAmBD,OApBD;;AAsBAm1D,UAAI+sB,eAAJ,GAAsB,YAAY;AAChC,eAAO,KAAKpoB,UAAL,CAAgB,SAAhB,IAA6B;AAClC7mD,oBAAU,IADwB;;AAGlCzf,gBAAM,SAH4B;;AAKlCgjE,gBAAM,SAASA,IAAT,CAAct7C,OAAd,EAAuBzV,OAAvB,EAAgCC,OAAhC,EAAyCjF,KAAzC,EAAgDC,MAAhD,EAAwD;AAC5D,iBAAKuS,QAAL,CAAcgvE,aAAd,CAA4B,KAAKzuF,IAAjC,EAAuC0nB,OAAvC,EAAgDzV,OAAhD,EAAyDC,OAAzD,EAAkEjF,KAAlE,EAAyEC,MAAzE;AACD,WAPiC;;AASlC+kE,yBAAe,SAASA,aAAT,CAAuBllE,KAAvB,EAA8BC,KAA9B,EAAqCC,KAArC,EAA4CC,MAA5C,EAAoDhG,CAApD,EAAuDC,CAAvD,EAA0DqF,OAA1D,EAAmE;AAChF,mBAAO9G,KAAKsO,oBAAL,CAA0B9M,CAA1B,EAA6BC,CAA7B,EAAgC4F,KAAhC,EAAuCC,KAAvC,EAA8CC,QAAQ,CAAR,GAAYT,OAA1D,EAAmEU,SAAS,CAAT,GAAaV,OAAhF,CAAP;AACD,WAXiC;;AAalCg6D,sBAAY,SAASA,UAAT,CAAoBt/D,CAApB,EAAuBC,CAAvB,EAA0BqF,OAA1B,EAAmCS,KAAnC,EAA0CC,MAA1C,EAAkD+E,OAAlD,EAA2DC,OAA3D,EAAoE;AAC9E,mBAAOxM,KAAK4O,cAAL,CAAoBpN,CAApB,EAAuBC,CAAvB,EAA0B8F,KAA1B,EAAiCC,MAAjC,EAAyC+E,OAAzC,EAAkDC,OAAlD,EAA2D1F,OAA3D,CAAP;AACD;AAfiC,SAApC;AAiBD,OAlBD;;AAoBAm1D,UAAIgtB,sBAAJ,GAA6B,YAAY;AACvC,eAAO,KAAKroB,UAAL,CAAgB,gBAAhB,IAAoC;AACzC7mD,oBAAU,IAD+B;;AAGzCzf,gBAAM,gBAHmC;;AAKzC6R,kBAAQnM,KAAK+R,iCAAL,CAAuC,CAAvC,EAA0C,CAA1C,CALiC;;AAOzCurD,gBAAM,SAASA,IAAT,CAAct7C,OAAd,EAAuBzV,OAAvB,EAAgCC,OAAhC,EAAyCjF,KAAzC,EAAgDC,MAAhD,EAAwD;AAC5D,iBAAKuS,QAAL,CAAcgvE,aAAd,CAA4B,KAAKzuF,IAAjC,EAAuC0nB,OAAvC,EAAgDzV,OAAhD,EAAyDC,OAAzD,EAAkEjF,KAAlE,EAAyEC,MAAzE;AACD,WATwC;;AAWzC+kE,yBAAe,SAASA,aAAT,CAAuBllE,KAAvB,EAA8BC,KAA9B,EAAqCC,KAArC,EAA4CC,MAA5C,EAAoDhG,CAApD,EAAuDC,CAAvD,EAA0DqF,OAA1D,EAAmE;AAChF,mBAAO9G,KAAKoH,2BAAL,CAAiC5F,CAAjC,EAAoCC,CAApC,EAAuC4F,KAAvC,EAA8CC,KAA9C,EAAqDC,KAArD,EAA4DC,MAA5D,EAAoEV,OAApE,CAAP;AACD,WAbwC;;AAezCg6D,sBAAY,SAASA,UAAT,CAAoBt/D,CAApB,EAAuBC,CAAvB,EAA0BqF,OAA1B,EAAmCS,KAAnC,EAA0CC,MAA1C,EAAkD+E,OAAlD,EAA2DC,OAA3D,EAAoE;;AAE9E,gBAAI/E,eAAezH,KAAK0H,uBAAL,CAA6BH,KAA7B,EAAoCC,MAApC,CAAnB;AACA,gBAAI0hF,OAAOzhF,eAAe,CAA1B;;AAEA;AACA,gBAAIzH,KAAKqM,kBAAL,CAAwB7K,CAAxB,EAA2BC,CAA3B,EAA8B,KAAK0K,MAAnC,EAA2CI,OAA3C,EAAoDC,OAApD,EAA6DjF,KAA7D,EAAoEC,SAAS0hF,IAA7E,EAAmF,CAAC,CAAD,EAAI,CAAC,CAAL,CAAnF,EAA4FpiF,OAA5F,CAAJ,EAA0G;AACxG,qBAAO,IAAP;AACD;;AAED;AACA,gBAAI9G,KAAKqM,kBAAL,CAAwB7K,CAAxB,EAA2BC,CAA3B,EAA8B,KAAK0K,MAAnC,EAA2CI,OAA3C,EAAoDC,OAApD,EAA6DjF,QAAQ2hF,IAArE,EAA2E1hF,MAA3E,EAAmF,CAAC,CAAD,EAAI,CAAC,CAAL,CAAnF,EAA4FV,OAA5F,CAAJ,EAA0G;AACxG,qBAAO,IAAP;AACD;;AAED;AACA,gBAAI9G,KAAK4O,cAAL,CAAoBpN,CAApB,EAAuBC,CAAvB,EAA0BynF,IAA1B,EAAgCA,IAAhC,EAAsC38E,UAAUhF,QAAQ,CAAlB,GAAsBE,YAA5D,EAA0E+E,UAAUhF,SAAS,CAAnB,GAAuBC,YAAjG,EAA+GX,OAA/G,CAAJ,EAA6H;;AAE3H,qBAAO,IAAP;AACD;;AAED;AACA,gBAAI9G,KAAK4O,cAAL,CAAoBpN,CAApB,EAAuBC,CAAvB,EAA0BynF,IAA1B,EAAgCA,IAAhC,EAAsC38E,UAAUhF,QAAQ,CAAlB,GAAsBE,YAA5D,EAA0E+E,UAAUhF,SAAS,CAAnB,GAAuBC,YAAjG,EAA+GX,OAA/G,CAAJ,EAA6H;;AAE3H,qBAAO,IAAP;AACD;;AAED;AACA,gBAAI9G,KAAK4O,cAAL,CAAoBpN,CAApB,EAAuBC,CAAvB,EAA0BynF,IAA1B,EAAgCA,IAAhC,EAAsC38E,UAAUhF,QAAQ,CAAlB,GAAsBE,YAA5D,EAA0E+E,UAAUhF,SAAS,CAAnB,GAAuBC,YAAjG,EAA+GX,OAA/G,CAAJ,EAA6H;;AAE3H,qBAAO,IAAP;AACD;;AAED;AACA,gBAAI9G,KAAK4O,cAAL,CAAoBpN,CAApB,EAAuBC,CAAvB,EAA0BynF,IAA1B,EAAgCA,IAAhC,EAAsC38E,UAAUhF,QAAQ,CAAlB,GAAsBE,YAA5D,EAA0E+E,UAAUhF,SAAS,CAAnB,GAAuBC,YAAjG,EAA+GX,OAA/G,CAAJ,EAA6H;;AAE3H,qBAAO,IAAP;AACD;;AAED,mBAAO,KAAP;AACD;AAvDwC,SAA3C;AAyDD,OA1DD;;AA4DAm1D,UAAIktB,oBAAJ,GAA2B,YAAY;AACrC,eAAO,KAAKvoB,UAAL,CAAgB,cAAhB,IAAkC;AACvC7mD,oBAAU,IAD6B;;AAGvCzf,gBAAM,cAHiC;;AAKvC8uF,wBAAcppF,KAAK+S,2BAAL,EALyB;;AAOvC5G,kBAAQnM,KAAK+R,iCAAL,CAAuC,CAAvC,EAA0C,CAA1C,CAP+B;;AASvCurD,gBAAM,SAASA,IAAT,CAAct7C,OAAd,EAAuBzV,OAAvB,EAAgCC,OAAhC,EAAyCjF,KAAzC,EAAgDC,MAAhD,EAAwD;AAC5D,iBAAKuS,QAAL,CAAcgvE,aAAd,CAA4B,KAAKzuF,IAAjC,EAAuC0nB,OAAvC,EAAgDzV,OAAhD,EAAyDC,OAAzD,EAAkEjF,KAAlE,EAAyEC,MAAzE;AACD,WAXsC;;AAavC6hF,kCAAwB,SAASA,sBAAT,CAAgC9hF,KAAhC,EAAuCC,MAAvC,EAA+C+E,OAA/C,EAAwDC,OAAxD,EAAiE;AACvF,gBAAI88E,KAAK,KAAKF,YAAd;AACA,gBAAI1oB,KAAKl5D,SAAS,CAAlB;AACA,gBAAIi5D,KAAKl5D,QAAQ,CAAjB;AACA,gBAAIgiF,SAASh9E,UAAUk0D,EAAvB;AACA,gBAAI+oB,OAAOj9E,UAAUk0D,EAArB;AACA,gBAAIgpB,SAASj9E,UAAUk0D,EAAvB;AACA,gBAAIgpB,OAAOl9E,UAAUk0D,EAArB;;AAEA;AACA,mBAAO;AACLipB,uBAAS,CAACJ,MAAD,EAASE,SAASH,EAAlB,EAAsBC,SAASD,EAA/B,EAAmCG,MAAnC,EAA2CF,SAASD,EAApD,EAAwDG,SAASH,EAAjE,CADJ;AAELM,wBAAU,CAACJ,OAAOF,EAAR,EAAYG,MAAZ,EAAoBD,IAApB,EAA0BC,SAASH,EAAnC,EAAuCE,OAAOF,EAA9C,EAAkDG,SAASH,EAA3D,CAFL;AAGLO,2BAAa,CAACL,IAAD,EAAOE,OAAOJ,EAAd,EAAkBE,OAAOF,EAAzB,EAA6BI,IAA7B,EAAmCF,OAAOF,EAA1C,EAA8CI,OAAOJ,EAArD,CAHR;AAILQ,0BAAY,CAACP,SAASD,EAAV,EAAcI,IAAd,EAAoBH,MAApB,EAA4BG,OAAOJ,EAAnC,EAAuCC,SAASD,EAAhD,EAAoDI,OAAOJ,EAA3D;AAJP,aAAP;AAMD,WA7BsC;;AA+BvC/c,yBAAe,SAASA,aAAT,CAAuBllE,KAAvB,EAA8BC,KAA9B,EAAqCC,KAArC,EAA4CC,MAA5C,EAAoDhG,CAApD,EAAuDC,CAAvD,EAA0DqF,OAA1D,EAAmE;AAChF,gBAAIijF,OAAO,KAAKV,sBAAL,CAA4B9hF,QAAQ,IAAIT,OAAxC,EAAiDU,SAAS,IAAIV,OAA9D,EAAuEO,KAAvE,EAA8EC,KAA9E,CAAX;AACA,gBAAI0kC,MAAM,GAAGxwB,MAAH,CAAU5a,KAAV,CAAgB,EAAhB,EAAoB,CAACmpF,KAAKJ,OAAL,CAAa3mF,MAAb,CAAoB,CAApB,EAAuB,CAAvB,CAAD,EAA4B+mF,KAAKH,QAAL,CAAc5mF,MAAd,CAAqB,CAArB,EAAwB,CAAxB,CAA5B,EAAwD+mF,KAAKF,WAAL,CAAiB7mF,MAAjB,CAAwB,CAAxB,EAA2B,CAA3B,CAAxD,EAAuF+mF,KAAKD,UAAL,CAAgB9mF,MAAhB,CAAuB,CAAvB,EAA0B,CAA1B,CAAvF,CAApB,CAAV;;AAEA,mBAAOhD,KAAKmR,oBAAL,CAA0B3P,CAA1B,EAA6BC,CAA7B,EAAgCuqC,GAAhC,EAAqC3kC,KAArC,EAA4CC,KAA5C,CAAP;AACD,WApCsC;;AAsCvCw5D,sBAAY,SAASA,UAAT,CAAoBt/D,CAApB,EAAuBC,CAAvB,EAA0BqF,OAA1B,EAAmCS,KAAnC,EAA0CC,MAA1C,EAAkD+E,OAAlD,EAA2DC,OAA3D,EAAoE;AAC9E;AACA,gBAAIxM,KAAKqM,kBAAL,CAAwB7K,CAAxB,EAA2BC,CAA3B,EAA8B,KAAK0K,MAAnC,EAA2CI,OAA3C,EAAoDC,OAApD,EAA6DjF,KAA7D,EAAoEC,SAAS,IAAI,KAAK4hF,YAAtF,EAAoG,CAAC,CAAD,EAAI,CAAC,CAAL,CAApG,EAA6GtiF,OAA7G,CAAJ,EAA2H;AACzH,qBAAO,IAAP;AACD;;AAED;AACA,gBAAI9G,KAAKqM,kBAAL,CAAwB7K,CAAxB,EAA2BC,CAA3B,EAA8B,KAAK0K,MAAnC,EAA2CI,OAA3C,EAAoDC,OAApD,EAA6DjF,QAAQ,IAAI,KAAK6hF,YAA9E,EAA4F5hF,MAA5F,EAAoG,CAAC,CAAD,EAAI,CAAC,CAAL,CAApG,EAA6GV,OAA7G,CAAJ,EAA2H;AACzH,qBAAO,IAAP;AACD;AACD,gBAAIkjF,iBAAiB,KAAKX,sBAAL,CAA4B9hF,KAA5B,EAAmCC,MAAnC,EAA2C+E,OAA3C,EAAoDC,OAApD,CAArB;AACA,mBAAOxM,KAAKkM,wBAAL,CAA8B1K,CAA9B,EAAiCC,CAAjC,EAAoCuoF,eAAeL,OAAnD,KAA+D3pF,KAAKkM,wBAAL,CAA8B1K,CAA9B,EAAiCC,CAAjC,EAAoCuoF,eAAeJ,QAAnD,CAA/D,IAA+H5pF,KAAKkM,wBAAL,CAA8B1K,CAA9B,EAAiCC,CAAjC,EAAoCuoF,eAAeH,WAAnD,CAA/H,IAAkM7pF,KAAKkM,wBAAL,CAA8B1K,CAA9B,EAAiCC,CAAjC,EAAoCuoF,eAAeF,UAAnD,CAAzM;AACD;;AAlDsC,SAAzC;AAqDD,OAtDD;;AAwDA7tB,UAAIguB,cAAJ,GAAqB,YAAY;AAC/B,eAAO,KAAKrpB,UAAL,CAAgB,QAAhB,IAA4B;AACjC7mD,oBAAU,IADuB;;AAGjCzf,gBAAM,QAH2B;;AAKjC6R,kBAAQnM,KAAK+R,iCAAL,CAAuC,CAAvC,EAA0C,CAA1C,CALyB;;AAOjCurD,gBAAM,SAASA,IAAT,CAAct7C,OAAd,EAAuBzV,OAAvB,EAAgCC,OAAhC,EAAyCjF,KAAzC,EAAgDC,MAAhD,EAAwD;AAC5D,iBAAKuS,QAAL,CAAcgvE,aAAd,CAA4B,KAAKzuF,IAAjC,EAAuC0nB,OAAvC,EAAgDzV,OAAhD,EAAyDC,OAAzD,EAAkEjF,KAAlE,EAAyEC,MAAzE;AACD,WATgC;;AAWjC+kE,yBAAe,SAASA,aAAT,CAAuBllE,KAAvB,EAA8BC,KAA9B,EAAqCC,KAArC,EAA4CC,MAA5C,EAAoDhG,CAApD,EAAuDC,CAAvD,EAA0DqF,OAA1D,EAAmE;AAChF,gBAAIojF,OAAO,KAAKC,uBAAL,CAA6B5iF,QAAQ,IAAIT,OAAzC,EAAkDU,SAAS,IAAIV,OAA/D,EAAwEO,KAAxE,EAA+EC,KAA/E,CAAX;;AAEA,gBAAI0kC,MAAM,GAAGxwB,MAAH,CAAU0uE,KAAKP,OAAf,EAAwBO,KAAKN,QAA7B,EAAuCM,KAAKL,WAA5C,EAAyDK,KAAKJ,UAA9D,CAAV;;AAEA,mBAAO9pF,KAAKmR,oBAAL,CAA0B3P,CAA1B,EAA6BC,CAA7B,EAAgCuqC,GAAhC,EAAqC3kC,KAArC,EAA4CC,KAA5C,CAAP;AACD,WAjBgC;;AAmBjC6iF,mCAAyB,SAASA,uBAAT,CAAiC5iF,KAAjC,EAAwCC,MAAxC,EAAgD+E,OAAhD,EAAyDC,OAAzD,EAAkE;AACzF,gBAAIk0D,KAAKl5D,SAAS,CAAlB;AACA,gBAAIi5D,KAAKl5D,QAAQ,CAAjB;AACA,gBAAIgiF,SAASh9E,UAAUk0D,EAAvB;AACA,gBAAI+oB,OAAOj9E,UAAUk0D,EAArB;AACA,gBAAIgpB,SAASj9E,UAAUk0D,EAAvB;AACA,gBAAIgpB,OAAOl9E,UAAUk0D,EAArB;;AAEA,gBAAI0pB,iBAAiBpqF,KAAKiT,uBAAL,CAA6B1L,KAA7B,EAAoCC,MAApC,CAArB;AACA,gBAAI6iF,UAAUD,eAAel3E,YAA7B;AACA,gBAAIo3E,UAAUF,eAAej3E,WAA7B;AACA,gBAAIo3E,gBAAgBH,eAAeh3E,eAAf,GAAiC7L,KAArD;;AAEA;AACA,gBAAIykC,MAAM;AACR29C,uBAAS,CAACJ,MAAD,EAASE,SAASY,OAAlB,EAA2Bd,SAASgB,aAApC,EAAmDd,MAAnD,EAA2DF,SAASe,OAApE,EAA6Eb,MAA7E,CADD;AAERG,wBAAU,CAACJ,OAAOc,OAAR,EAAiBb,MAAjB,EAAyBD,OAAOe,aAAhC,EAA+Cd,MAA/C,EAAuDD,IAAvD,EAA6DC,SAASY,OAAtE,CAFF;AAGRR,2BAAa,CAACL,IAAD,EAAOE,OAAOW,OAAd,EAAuBb,OAAOe,aAA9B,EAA6Cb,IAA7C,EAAmDF,OAAOc,OAA1D,EAAmEZ,IAAnE,CAHL;AAIRI,0BAAY,CAACP,SAASe,OAAV,EAAmBZ,IAAnB,EAAyBH,SAASgB,aAAlC,EAAiDb,IAAjD,EAAuDH,MAAvD,EAA+DG,OAAOW,OAAtE;AAJJ,aAAV;;AAOAr+C,gBAAI29C,OAAJ,CAAYa,KAAZ,GAAoB,IAApB;AACAx+C,gBAAI49C,QAAJ,CAAaY,KAAb,GAAqB,IAArB;AACAx+C,gBAAI89C,UAAJ,CAAeW,QAAf,GAA0B,IAA1B;AACAz+C,gBAAI69C,WAAJ,CAAgBY,QAAhB,GAA2B,IAA3B;;AAEA,mBAAOz+C,GAAP;AACD,WA9CgC;;AAgDjC80B,sBAAY,SAASA,UAAT,CAAoBt/D,CAApB,EAAuBC,CAAvB,EAA0BqF,OAA1B,EAAmCS,KAAnC,EAA0CC,MAA1C,EAAkD+E,OAAlD,EAA2DC,OAA3D,EAAoE;;AAE9E,gBAAI49E,iBAAiBpqF,KAAKiT,uBAAL,CAA6B1L,KAA7B,EAAoCC,MAApC,CAArB;AACA,gBAAI6iF,UAAUD,eAAel3E,YAA7B;AACA,gBAAIo3E,UAAUF,eAAej3E,WAA7B;;AAEA;AACA,gBAAInT,KAAKqM,kBAAL,CAAwB7K,CAAxB,EAA2BC,CAA3B,EAA8B,KAAK0K,MAAnC,EAA2CI,OAA3C,EAAoDC,OAApD,EAA6DjF,KAA7D,EAAoEC,SAAS,IAAI6iF,OAAjF,EAA0F,CAAC,CAAD,EAAI,CAAC,CAAL,CAA1F,EAAmGvjF,OAAnG,CAAJ,EAAiH;AAC/G,qBAAO,IAAP;AACD;;AAED;AACA,gBAAI9G,KAAKqM,kBAAL,CAAwB7K,CAAxB,EAA2BC,CAA3B,EAA8B,KAAK0K,MAAnC,EAA2CI,OAA3C,EAAoDC,OAApD,EAA6DjF,QAAQ,IAAI+iF,OAAzE,EAAkF9iF,MAAlF,EAA0F,CAAC,CAAD,EAAI,CAAC,CAAL,CAA1F,EAAmGV,OAAnG,CAAJ,EAAiH;AAC/G,qBAAO,IAAP;AACD;;AAED,gBAAI4jF,iBAAiB,KAAKP,uBAAL,CAA6B5iF,KAA7B,EAAoCC,MAApC,EAA4C+E,OAA5C,EAAqDC,OAArD,CAArB;;AAEA,gBAAIm+E,YAAY,SAASA,SAAT,CAAmBnpF,CAAnB,EAAsBC,CAAtB,EAAyBmpF,QAAzB,EAAmC;AACjD,kBAAIC,KAAKD,SAAS,CAAT,CAAT;AACA,kBAAIrsF,KAAKqsF,SAAS,CAAT,CAAT;AACA,kBAAIpsF,KAAKosF,SAAS,CAAT,CAAT;AACA,kBAAIzsB,KAAKysB,SAAS,CAAT,CAAT;AACA;AACA,kBAAIlsF,KAAKksF,SAAS,CAAT,CAAT;;AAEA,kBAAIE,OAAO5tF,KAAKiJ,GAAL,CAAS0kF,EAAT,EAAarsF,EAAb,CAAX;AACA,kBAAIusF,OAAO7tF,KAAKkJ,GAAL,CAASykF,EAAT,EAAarsF,EAAb,CAAX;AACA,kBAAIwsF,OAAO9tF,KAAKiJ,GAAL,CAASg4D,EAAT,EAAaz/D,EAAb,CAAX;AACA,kBAAIusF,OAAO/tF,KAAKkJ,GAAL,CAAS+3D,EAAT,EAAaz/D,EAAb,CAAX;;AAEA,kBAAIosF,QAAQtpF,CAAR,IAAaA,KAAKupF,IAAlB,IAA0BC,QAAQvpF,CAAlC,IAAuCA,KAAKwpF,IAAhD,EAAsD;AACpD,oBAAIC,QAAQlrF,KAAKgT,oBAAL,CAA0B63E,EAA1B,EAA8BtsF,EAA9B,EAAkCC,EAAlC,CAAZ;AACA,oBAAI0M,QAAQlL,KAAKkK,cAAL,CAAoBghF,MAAM,CAAN,CAApB,EAA8BA,MAAM,CAAN,CAA9B,EAAwCA,MAAM,CAAN,CAAxC,EAAkD1pF,CAAlD,CAAZ;;AAEA,oBAAI2pF,aAAajgF,MAAMkL,MAAN,CAAa,UAAUjM,CAAV,EAAa;AACzC,yBAAO,KAAKA,CAAL,IAAUA,KAAK,CAAtB;AACD,iBAFgB,CAAjB;;AAIA,oBAAIghF,WAAW7oF,MAAX,GAAoB,CAAxB,EAA2B;AACzB,yBAAO6oF,WAAW,CAAX,CAAP;AACD;AACF;AACD,qBAAO,IAAP;AACD,aA1BD;;AA4BA,gBAAIC,eAAe3wF,OAAO8H,IAAP,CAAYmoF,cAAZ,CAAnB;AACA,iBAAK,IAAI3wF,IAAI,CAAb,EAAgBA,IAAIqxF,aAAa9oF,MAAjC,EAAyCvI,GAAzC,EAA8C;AAC5C,kBAAIsxF,SAASD,aAAarxF,CAAb,CAAb;AACA,kBAAIuxF,YAAYZ,eAAeW,MAAf,CAAhB;AACA,kBAAI/lF,IAAIqlF,UAAUnpF,CAAV,EAAaC,CAAb,EAAgB6pF,SAAhB,CAAR;;AAEA,kBAAIhmF,KAAK,IAAT,EAAe;AACb;AACD;;AAED,kBAAI64D,KAAKmtB,UAAU,CAAV,CAAT;AACA,kBAAI7sF,KAAK6sF,UAAU,CAAV,CAAT;AACA,kBAAI5sF,KAAK4sF,UAAU,CAAV,CAAT;AACA,kBAAIC,OAAOvrF,KAAKoF,SAAL,CAAe+4D,EAAf,EAAmB1/D,EAAnB,EAAuBC,EAAvB,EAA2B4G,CAA3B,CAAX;;AAEA,kBAAIgmF,UAAUd,KAAV,IAAmBe,QAAQ9pF,CAA/B,EAAkC;AAChC,uBAAO,IAAP;AACD;AACD,kBAAI6pF,UAAUb,QAAV,IAAsBhpF,KAAK8pF,IAA/B,EAAqC;AACnC,uBAAO,IAAP;AACD;AACF;AACD,mBAAO,KAAP;AACD;AArHgC,SAAnC;AAuHD,OAxHD;;AA0HAtvB,UAAIuvB,4BAAJ,GAAmC,YAAY;AAC7C,eAAO,KAAK5qB,UAAL,CAAgB,sBAAhB,IAA0C;AAC/C7mD,oBAAU,IADqC;;AAG/Czf,gBAAM,sBAHyC;;AAK/C6R,kBAAQnM,KAAK+R,iCAAL,CAAuC,CAAvC,EAA0C,CAA1C,CALuC;;AAO/CurD,gBAAM,SAASA,IAAT,CAAct7C,OAAd,EAAuBzV,OAAvB,EAAgCC,OAAhC,EAAyCjF,KAAzC,EAAgDC,MAAhD,EAAwD;AAC5D,iBAAKuS,QAAL,CAAcgvE,aAAd,CAA4B,KAAKzuF,IAAjC,EAAuC0nB,OAAvC,EAAgDzV,OAAhD,EAAyDC,OAAzD,EAAkEjF,KAAlE,EAAyEC,MAAzE;AACD,WAT8C;;AAW/C+kE,yBAAe,SAASA,aAAT,CAAuBllE,KAAvB,EAA8BC,KAA9B,EAAqCC,KAArC,EAA4CC,MAA5C,EAAoDhG,CAApD,EAAuDC,CAAvD,EAA0DqF,OAA1D,EAAmE;AAChF,gBAAIgB,YAAYT,SAASE,QAAQ,CAAR,GAAYT,OAArB,CAAhB;AACA,gBAAIiB,YAAYT,SAASE,SAAS,CAAT,GAAaV,OAAtB,CAAhB;AACA,gBAAImB,UAAUF,SAAd;AACA,gBAAIC,UAAUX,SAASE,QAAQ,CAAR,GAAYT,OAArB,CAAd;;AAEA,gBAAI2kF,mBAAmBzrF,KAAKkI,oBAAL,CAA0B1G,CAA1B,EAA6BC,CAA7B,EAAgC4F,KAAhC,EAAuCC,KAAvC,EAA8CQ,SAA9C,EAAyDC,SAAzD,EAAoEC,OAApE,EAA6EC,OAA7E,EAAsF,KAAtF,CAAvB;AACA,gBAAIwjF,iBAAiBnpF,MAAjB,GAA0B,CAA9B,EAAiC;AAC/B,qBAAOmpF,gBAAP;AACD;;AAED,mBAAOzrF,KAAKoH,2BAAL,CAAiC5F,CAAjC,EAAoCC,CAApC,EAAuC4F,KAAvC,EAA8CC,KAA9C,EAAqDC,KAArD,EAA4DC,MAA5D,EAAoEV,OAApE,CAAP;AACD,WAvB8C;;AAyB/Cg6D,sBAAY,SAASA,UAAT,CAAoBt/D,CAApB,EAAuBC,CAAvB,EAA0BqF,OAA1B,EAAmCS,KAAnC,EAA0CC,MAA1C,EAAkD+E,OAAlD,EAA2DC,OAA3D,EAAoE;;AAE9E,gBAAI/E,eAAezH,KAAK0H,uBAAL,CAA6BH,KAA7B,EAAoCC,MAApC,CAAnB;AACA,gBAAI0hF,OAAO,IAAIzhF,YAAf;;AAEA;AACA,gBAAIzH,KAAKqM,kBAAL,CAAwB7K,CAAxB,EAA2BC,CAA3B,EAA8B,KAAK0K,MAAnC,EAA2CI,OAA3C,EAAoDC,OAApD,EAA6DjF,KAA7D,EAAoEC,SAAS0hF,IAA7E,EAAmF,CAAC,CAAD,EAAI,CAAC,CAAL,CAAnF,EAA4FpiF,OAA5F,CAAJ,EAA0G;AACxG,qBAAO,IAAP;AACD;;AAED;AACA,gBAAI9G,KAAKqM,kBAAL,CAAwB7K,CAAxB,EAA2BC,CAA3B,EAA8B,KAAK0K,MAAnC,EAA2CI,OAA3C,EAAoDC,OAApD,EAA6DjF,QAAQ2hF,IAArE,EAA2E1hF,MAA3E,EAAmF,CAAC,CAAD,EAAI,CAAC,CAAL,CAAnF,EAA4FV,OAA5F,CAAJ,EAA0G;AACxG,qBAAO,IAAP;AACD;;AAED;AACA,gBAAI0kC,aAAajkC,QAAQ,CAAR,GAAY,IAAIT,OAAjC;AACA,gBAAI4kC,cAAclkC,SAAS,CAAT,GAAa,IAAIV,OAAnC;AACA,gBAAIqF,SAAS,CAACI,UAAUi/B,UAAX,EAAuBh/B,UAAUk/B,WAAjC,EAA8Cn/B,UAAUi/B,UAAxD,EAAoEh/B,OAApE,EAA6ED,UAAUi/B,UAAvF,EAAmGh/B,OAAnG,EAA4GD,UAAUi/B,UAAtH,EAAkIh/B,UAAUk/B,WAA5I,CAAb;AACA,gBAAI1rC,KAAKkM,wBAAL,CAA8B1K,CAA9B,EAAiCC,CAAjC,EAAoC0K,MAApC,CAAJ,EAAiD;AAC/C,qBAAO,IAAP;AACD;;AAED;AACA,gBAAInM,KAAK4O,cAAL,CAAoBpN,CAApB,EAAuBC,CAAvB,EAA0BynF,IAA1B,EAAgCA,IAAhC,EAAsC38E,UAAUhF,QAAQ,CAAlB,GAAsBE,YAA5D,EAA0E+E,UAAUhF,SAAS,CAAnB,GAAuBC,YAAjG,EAA+GX,OAA/G,CAAJ,EAA6H;;AAE3H,qBAAO,IAAP;AACD;;AAED;AACA,gBAAI9G,KAAK4O,cAAL,CAAoBpN,CAApB,EAAuBC,CAAvB,EAA0BynF,IAA1B,EAAgCA,IAAhC,EAAsC38E,UAAUhF,QAAQ,CAAlB,GAAsBE,YAA5D,EAA0E+E,UAAUhF,SAAS,CAAnB,GAAuBC,YAAjG,EAA+GX,OAA/G,CAAJ,EAA6H;;AAE3H,qBAAO,IAAP;AACD;;AAED,mBAAO,KAAP;AACD;AA7D8C,SAAjD;AA+DD,OAhED;;AAkEAm1D,UAAIsgB,kBAAJ,GAAyB,YAAY;AACnC,YAAI3b,aAAa,KAAKA,UAAL,GAAkB,EAAnC;AACA,YAAI7mD,WAAW,IAAf;;AAEA,aAAKivE,eAAL;;AAEA,aAAKF,eAAL,CAAqB,UAArB,EAAiC9oF,KAAK+R,iCAAL,CAAuC,CAAvC,EAA0C,CAA1C,CAAjC;;AAEA,aAAK+2E,eAAL,CAAqB,WAArB,EAAkC9oF,KAAK+R,iCAAL,CAAuC,CAAvC,EAA0C,CAA1C,CAAlC;AACA6uD,mBAAW,QAAX,IAAuBA,WAAW,WAAX,CAAvB;;AAEA,aAAKqoB,sBAAL;;AAEA,aAAKE,oBAAL;;AAEA,aAAKc,cAAL;;AAEA,aAAKuB,4BAAL;;AAEA,aAAK1C,eAAL,CAAqB,SAArB,EAAgC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAC,CAAjB,EAAoB,CAAC,CAArB,EAAwB,CAAxB,CAAhC;;AAEA,aAAKA,eAAL,CAAqB,UAArB,EAAiC9oF,KAAK+R,iCAAL,CAAuC,CAAvC,EAA0C,CAA1C,CAAjC;;AAEA,aAAK+2E,eAAL,CAAqB,SAArB,EAAgC9oF,KAAK+R,iCAAL,CAAuC,CAAvC,EAA0C,CAA1C,CAAhC;;AAEA,aAAK+2E,eAAL,CAAqB,UAArB,EAAiC9oF,KAAK+R,iCAAL,CAAuC,CAAvC,EAA0C,CAA1C,CAAjC;;AAEA,aAAK+2E,eAAL,CAAqB,SAArB,EAAgC9oF,KAAK+R,iCAAL,CAAuC,CAAvC,EAA0C,CAA1C,CAAhC;;AAEA,YAAI25E,cAAc,IAAI9uF,KAAJ,CAAU,EAAV,CAAlB;AACA;AACE,cAAI+uF,cAAc3rF,KAAKkS,sBAAL,CAA4B,CAA5B,EAA+B,CAA/B,CAAlB;AACA,cAAI05E,cAAc5rF,KAAKkS,sBAAL,CAA4B,CAA5B,EAA+BhV,KAAKsH,EAAL,GAAU,CAAzC,CAAlB;;AAEA;AACA,cAAIqnF,cAAc,OAAO,IAAI3uF,KAAK8H,IAAL,CAAU,CAAV,CAAX,CAAlB;AACA6mF,yBAAe,IAAf;;AAEA,eAAK,IAAI9xF,IAAI,CAAb,EAAgBA,IAAI6xF,YAAYtpF,MAAZ,GAAqB,CAAzC,EAA4CvI,GAA5C,EAAiD;AAC/C6xF,wBAAY7xF,IAAI,CAAhB,KAAsB8xF,WAAtB;AACAD,wBAAY7xF,IAAI,CAAJ,GAAQ,CAApB,KAA0B8xF,WAA1B;AACD;;AAED,eAAK,IAAI9xF,IAAI,CAAb,EAAgBA,IAAI,KAAK,CAAzB,EAA4BA,GAA5B,EAAiC;AAC/B2xF,wBAAY3xF,IAAI,CAAhB,IAAqB4xF,YAAY5xF,IAAI,CAAhB,CAArB;AACA2xF,wBAAY3xF,IAAI,CAAJ,GAAQ,CAApB,IAAyB4xF,YAAY5xF,IAAI,CAAJ,GAAQ,CAApB,CAAzB;;AAEA2xF,wBAAY3xF,IAAI,CAAJ,GAAQ,CAApB,IAAyB6xF,YAAY7xF,IAAI,CAAhB,CAAzB;AACA2xF,wBAAY3xF,IAAI,CAAJ,GAAQ,CAApB,IAAyB6xF,YAAY7xF,IAAI,CAAJ,GAAQ,CAApB,CAAzB;AACD;AACF;;AAED2xF,sBAAc1rF,KAAKmS,kBAAL,CAAwBu5E,WAAxB,CAAd;;AAEA,aAAK5C,eAAL,CAAqB,MAArB,EAA6B4C,WAA7B;;AAEA,aAAK5C,eAAL,CAAqB,KAArB,EAA4B,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,EAAS,CAAT,EAAY,CAAC,KAAb,EAAoB,CAApB,EAAuB,CAAC,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B,CAA5B;;AAEA,aAAKA,eAAL,CAAqB,UAArB,EAAiC,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,EAAS,KAAT,EAAgB,CAAC,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAAC,KAA3B,EAAkC,CAAlC,CAAjC;;AAEA,aAAKA,eAAL,CAAqB,gBAArB,EAAuC,CAAC,CAAC,CAAF,EAAK,CAAC,IAAN,EAAY,CAAC,IAAb,EAAmB,CAAnB,EAAsB,CAAC,CAAvB,EAA0B,IAA1B,EAAgC,CAAhC,EAAmC,IAAnC,EAAyC,IAAzC,EAA+C,CAA/C,EAAkD,CAAlD,EAAqD,CAAC,IAAtD,CAAvC;;AAEA,aAAKA,eAAL,CAAqB,KAArB,EAA4B,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,EAAS,IAAT,EAAe,CAAC,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,IAAzB,EAA+B,CAA/B,EAAkC,CAAC,CAAnC,EAAsC,CAAtC,CAA5B;;AAEAloB,mBAAW0W,WAAX,GAAyB,UAAUnrE,MAAV,EAAkB;;AAEzC;;AAEA,cAAIkU,MAAMlU,OAAO0iB,IAAP,CAAY,GAAZ,CAAV;AACA,cAAIv0B,OAAO,aAAa+lB,GAAxB;AACA,cAAIsgD,KAAJ;;AAEA,cAAIA,QAAQ,KAAKrmE,IAAL,CAAZ,EAAwB;AACtB;AACA,mBAAOqmE,KAAP;AACD;;AAED;AACA,iBAAO5mD,SAAS+uE,eAAT,CAAyBxuF,IAAzB,EAA+B6R,MAA/B,CAAP;AACD,SAfD;AAgBD,OAhFD;;AAkFA9S,aAAOD,OAAP,GAAiB6iE,GAAjB;;AAEA;AAAO,KAx7pBG;AAy7pBV;AACA,SAAO,UAAS5iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAIoiE,MAAM,EAAV;;AAEAA,UAAI6vB,YAAJ,GAAmB,YAAY;AAC7B,eAAO,KAAKC,eAAL,GAAuB,KAAKC,WAAnC;AACD,OAFD;;AAIA/vB,UAAI/vC,MAAJ,GAAa,UAAUnT,OAAV,EAAmB;AAC9BA,kBAAUA,WAAW9Y,KAAKiC,iBAAL,EAArB;;AAEA,YAAIiI,IAAI,IAAR;;AAEA,YAAIA,EAAEuiB,iBAAF,KAAwBpvB,SAA5B,EAAuC;AACrC6M,YAAEuiB,iBAAF,GAAsB,CAAtB;AACD;AACD,YAAIviB,EAAEyiB,cAAF,KAAqBtvB,SAAzB,EAAoC;AAClC6M,YAAEyiB,cAAF,GAAmB,CAAnB;AACD;AACD,YAAIziB,EAAE8hF,YAAF,KAAmB3uF,SAAvB,EAAkC;AAChC6M,YAAE8hF,YAAF,GAAiB,CAAjB;AACD;;AAED9hF,UAAE+hF,cAAF,GAAmB,IAAnB;AACA/hF,UAAEgiF,aAAF,GAAkBpzE,OAAlB;AACD,OAjBD;;AAmBAkjD,UAAIruC,YAAJ,GAAmB,UAAUpxB,EAAV,EAAcmxB,QAAd,EAAwB;AACzC;AACA,YAAI,KAAKzI,SAAT,EAAoB;AAClB;AACD;;AAEDyI,mBAAWA,YAAY,CAAvB;;AAEA,YAAIy+D,MAAM,KAAKhQ,qBAAf;;AAEAgQ,YAAIlpF,IAAJ,CAAS,EAAE1G,IAAIA,EAAN,EAAUmxB,UAAUA,QAApB,EAAT;;AAEA;AACAy+D,YAAI79D,IAAJ,CAAS,UAAU5sB,CAAV,EAAaC,CAAb,EAAgB;AACvB,iBAAOA,EAAE+rB,QAAF,GAAahsB,EAAEgsB,QAAtB;AACD,SAFD;AAGD,OAhBD;;AAkBA,UAAIyuD,wBAAwB,SAASA,qBAAT,CAA+BjyE,CAA/B,EAAkCkiB,QAAlC,EAA4CE,SAA5C,EAAuD;AACjF,YAAI6/D,MAAMjiF,EAAEiyE,qBAAZ;;AAEA,aAAK,IAAIriF,IAAI,CAAb,EAAgBA,IAAIqyF,IAAI9pF,MAAxB,EAAgCvI,GAAhC,EAAqC;AACnCqyF,cAAIryF,CAAJ,EAAOyC,EAAP,CAAU6vB,QAAV,EAAoBE,SAApB;AACD;AACF,OAND;;AAQA0vC,UAAIygB,eAAJ,GAAsB,YAAY;AAChC,YAAIvyE,IAAI,IAAR;;AAEA,YAAIA,EAAEkiF,iBAAN,EAAyB;AACvB;AACD,SAFD,MAEO;AACLliF,YAAEkiF,iBAAF,GAAsB,IAAtB;AACD;;AAED,YAAIC,WAAW,SAASA,QAAT,CAAkBC,WAAlB,EAA+B;AAC5C,cAAIpiF,EAAE+a,SAAN,EAAiB;AACf;AACD;;AAED,cAAI/a,EAAE+hF,cAAF,IAAoB,CAAC/hF,EAAEqiF,SAA3B,EAAsC;AACpCpQ,kCAAsBjyE,CAAtB,EAAyB,IAAzB,EAA+BoiF,WAA/B;;AAEA,gBAAIhgE,YAAYtsB,KAAKusB,cAAL,EAAhB;;AAEAriB,cAAEsiF,MAAF,CAAStiF,EAAEgiF,aAAX;;AAEA,gBAAIO,UAAUviF,EAAE8hF,YAAF,GAAiBhsF,KAAKusB,cAAL,EAA/B;;AAEA,gBAAIriB,EAAEuiB,iBAAF,KAAwBpvB,SAA5B,EAAuC;AACrC6M,gBAAEuiB,iBAAF,GAAsBggE,UAAUngE,SAAhC;AACD;;AAED,gBAAIpiB,EAAE6hF,WAAF,KAAkB1uF,SAAtB,EAAiC;AAC/B6M,gBAAE6hF,WAAF,GAAgB,CAAhB;AACD;;AAED7hF,cAAE6hF,WAAF;;AAEA,gBAAI7hF,EAAE4hF,eAAF,KAAsBzuF,SAA1B,EAAqC;AACnC6M,gBAAE4hF,eAAF,GAAoB,CAApB;AACD;;AAED,gBAAI/+D,WAAW0/D,UAAUngE,SAAzB;;AAEApiB,cAAE4hF,eAAF,IAAqB/+D,QAArB;AACA7iB,cAAEyiB,cAAF,GAAmBI,QAAnB;;AAEA;AACA7iB,cAAEuiB,iBAAF,GAAsBviB,EAAEuiB,iBAAF,GAAsB,CAAtB,GAA0BM,WAAW,CAA3D;;AAEA7iB,cAAE+hF,cAAF,GAAmB,KAAnB;AACD,WAhCD,MAgCO;AACL9P,kCAAsBjyE,CAAtB,EAAyB,KAAzB,EAAgCoiF,WAAhC;AACD;;AAEDpiF,YAAEqiF,SAAF,GAAc,KAAd;;AAEAvsF,eAAK0iD,qBAAL,CAA2B2pC,QAA3B;AACD,SA5CD;;AA8CArsF,aAAK0iD,qBAAL,CAA2B2pC,QAA3B;AACD,OAxDD;;AA0DAjzF,aAAOD,OAAP,GAAiB6iE,GAAjB;;AAEA;AAAO,KAhjqBG;AAijqBV;AACA,SAAO,UAAS5iE,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI8yF,MAAM,EAAV;;AAEA,UAAI95D,IAAJ;;AAEA85D,UAAIpvB,cAAJ,GAAqB,UAAUjjE,IAAV,EAAgB;AACnC,eAAO,CAACu4B,SAASA,OAAO;AACtB,qBAAW,SAAS+5D,OAAT,CAAiB5qE,OAAjB,EAA0B7V,MAA1B,EAAkC;AAC3C,iBAAK,IAAIpS,IAAI,CAAb,EAAgBA,IAAIoS,OAAO7J,MAA3B,EAAmCvI,GAAnC,EAAwC;AACtC,kBAAImN,KAAKiF,OAAOpS,CAAP,CAAT;;AAEAioB,sBAAQ6qE,MAAR,CAAe3lF,GAAG1F,CAAlB,EAAqB0F,GAAGzF,CAAxB;AACD;AACF,WAPqB;;AAStB,gCAAsB,SAASqrF,iBAAT,CAA2B9qE,OAA3B,EAAoC7V,MAApC,EAA4CsxD,YAA5C,EAA0D;AAC9E,gBAAIsvB,OAAJ;;AAEA,iBAAK,IAAIhzF,IAAI,CAAb,EAAgBA,IAAIoS,OAAO7J,MAA3B,EAAmCvI,GAAnC,EAAwC;AACtC,kBAAImN,KAAKiF,OAAOpS,CAAP,CAAT;;AAEA,kBAAIA,MAAM,CAAV,EAAa;AACXgzF,0BAAU7lF,EAAV;AACD;;AAED8a,sBAAQ6qE,MAAR,CAAe3lF,GAAG1F,CAAlB,EAAqB0F,GAAGzF,CAAxB;AACD;;AAEDugB,oBAAQgrE,gBAAR,CAAyBvvB,aAAaj8D,CAAtC,EAAyCi8D,aAAah8D,CAAtD,EAAyDsrF,QAAQvrF,CAAjE,EAAoEurF,QAAQtrF,CAA5E;AACD,WAvBqB;;AAyBtB,0BAAgB,SAASwrF,WAAT,CAAqBjrE,OAArB,EAA8BkrE,cAA9B,EAA8CC,SAA9C,EAAyD;AACvE,gBAAInrE,QAAQorE,SAAZ,EAAuB;AACrBprE,sBAAQorE,SAAR;AACD;;AAED,gBAAItvB,SAASovB,cAAb;AACA,iBAAK,IAAInzF,IAAI,CAAb,EAAgBA,IAAI+jE,OAAOx7D,MAA3B,EAAmCvI,GAAnC,EAAwC;AACtC,kBAAImN,KAAK42D,OAAO/jE,CAAP,CAAT;;AAEAioB,sBAAQ6qE,MAAR,CAAe3lF,GAAG1F,CAAlB,EAAqB0F,GAAGzF,CAAxB;AACD;;AAED,gBAAIugB,QAAQqrE,SAAZ,EAAuB;AACrBrrE,sBAAQqrE,SAAR;AACD;;AAED,gBAAIrrE,QAAQorE,SAAZ,EAAuB;AACrBprE,sBAAQorE,SAAR;AACD;;AAED,gBAAIrvB,SAASovB,SAAb;AACA,gBAAIG,aAAaH,UAAU,CAAV,CAAjB;AACAnrE,oBAAQurE,MAAR,CAAeD,WAAW9rF,CAA1B,EAA6B8rF,WAAW7rF,CAAxC;;AAEA,iBAAK,IAAI1H,IAAI,CAAb,EAAgBA,IAAIgkE,OAAOz7D,MAA3B,EAAmCvI,GAAnC,EAAwC;AACtC,kBAAImN,KAAK62D,OAAOhkE,CAAP,CAAT;;AAEAioB,sBAAQ6qE,MAAR,CAAe3lF,GAAG1F,CAAlB,EAAqB0F,GAAGzF,CAAxB;AACD;AACD,gBAAIugB,QAAQqrE,SAAZ,EAAuB;AACrBrrE,sBAAQqrE,SAAR;AACD;AACF,WAzDqB;;AA2DtB,4BAAkB,SAASG,aAAT,CAAuBxrE,OAAvB,EAAgCkrE,cAAhC,EAAgDO,eAAhD,EAAiE;AACjF,gBAAIzrE,QAAQorE,SAAZ,EAAuB;AACrBprE,sBAAQorE,SAAR;AACD;;AAED,gBAAItvB,SAASovB,cAAb;AACA,iBAAK,IAAInzF,IAAI,CAAb,EAAgBA,IAAI+jE,OAAOx7D,MAA3B,EAAmCvI,GAAnC,EAAwC;AACtC,kBAAImN,KAAK42D,OAAO/jE,CAAP,CAAT;;AAEAioB,sBAAQ6qE,MAAR,CAAe3lF,GAAG1F,CAAlB,EAAqB0F,GAAGzF,CAAxB;AACD;;AAED,gBAAIugB,QAAQqrE,SAAZ,EAAuB;AACrBrrE,sBAAQqrE,SAAR;AACD;;AAED,gBAAIrrE,QAAQorE,SAAZ,EAAuB;AACrBprE,sBAAQorE,SAAR;AACD;;AAED,gBAAIrvB,SAAS0vB,eAAb;AACA,gBAAIH,aAAaG,gBAAgB,CAAhB,CAAjB;AACAzrE,oBAAQurE,MAAR,CAAeD,WAAW9rF,CAA1B,EAA6B8rF,WAAW7rF,CAAxC;;AAEA,iBAAK,IAAI1H,IAAI,CAAb,EAAgBA,IAAIgkE,OAAOz7D,MAA3B,EAAmCvI,GAAnC,EAAwC;AACtC,kBAAImN,KAAK62D,OAAOhkE,CAAP,CAAT;;AAEAioB,sBAAQ6qE,MAAR,CAAe3lF,GAAG1F,CAAlB,EAAqB0F,GAAGzF,CAAxB;AACD;AACD,gBAAIugB,QAAQqrE,SAAZ,EAAuB;AACrBrrE,sBAAQqrE,SAAR;AACD;AACF,WA3FqB;;AA6FtB,oBAAU,SAAS1hC,MAAT,CAAgB3pC,OAAhB,EAAyBwuC,EAAzB,EAA6BC,EAA7B,EAAiCtmD,CAAjC,EAAoC;AAC5C6X,oBAAQ0rE,GAAR,CAAYl9B,EAAZ,EAAgBC,EAAhB,EAAoBtmD,CAApB,EAAuB,CAAvB,EAA0BjN,KAAKsH,EAAL,GAAU,CAApC,EAAuC,KAAvC;AACD;AA/FqB,SAAhB,CAAD,EAgGHlK,IAhGG,CAAP;AAiGD,OAlGD;;AAoGAjB,aAAOD,OAAP,GAAiBuzF,GAAjB;;AAEA;AAAO,KAjqqBG;AAkqqBV;AACA,SAAO,UAAStzF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI8yF,MAAM,EAAV;;AAEAA,UAAIgB,QAAJ,GAAe,UAAU3rE,OAAV,EAAmBnG,IAAnB,EAAyB+xE,mBAAzB,EAA8CC,SAA9C,EAAyD;AACtE,YAAI1jF,IAAI,IAAR;AACA,YAAI62D,KAAKnlD,KAAKne,QAAL,CAAcusB,QAAvB;AACA,YAAI6jE,WAAW3jF,EAAE2jF,QAAF,EAAf;;AAEA;AACA,YAAI9sB,GAAGqQ,OAAH,IAAcr0E,MAAMgkE,GAAGM,MAAH,CAAU,CAAV,CAAN,CAAlB,EAAuC;AACrC;AACA;AACD;;AAED,YAAI,CAACzlD,KAAKkS,OAAL,EAAL,EAAqB;AACnB;AACD;;AAED,YAAI1nB,KAAK,KAAK,CAAd;AACA,YAAIunF,mBAAJ,EAAyB;AACvBvnF,eAAKunF,mBAAL;;AAEA5rE,kBAAQ+rE,SAAR,CAAkB,CAAC1nF,GAAG9H,EAAtB,EAA0B,CAAC8H,GAAG5H,EAA9B;AACD;;AAED,YAAI2sC,iBAAiBvvB,KAAK6O,MAAL,CAAY,iBAAZ,EAA+Byb,OAApD;AACA,YAAI6nD,eAAe,IAAI5iD,cAAvB;AACA,YAAID,iBAAiBtvB,KAAK6O,MAAL,CAAY,iBAAZ,EAA+BtwB,KAApD;AACA,YAAI6zF,eAAepyE,KAAK6O,MAAL,CAAY,eAAZ,EAA6BtwB,KAAhD;AACA,YAAI8zF,YAAYryE,KAAK6O,MAAL,CAAY,YAAZ,EAA0BtwB,KAA1C;AACA,YAAIw+C,UAAU/8B,KAAK6O,MAAL,CAAY,SAAZ,EAAuBtwB,KAArC;AACA,YAAI+zF,YAAYtyE,KAAK6O,MAAL,CAAY,YAAZ,EAA0BtwB,KAA1C;AACA,YAAImiE,YAAY1gD,KAAK6O,MAAL,CAAY,OAAZ,EAAqByb,OAArC;;AAEA,YAAIioD,WAAW,SAASA,QAAT,GAAoB;AACjC,cAAIC,gBAAgBxtF,UAAUyB,MAAV,GAAmB,CAAnB,IAAwBzB,UAAU,CAAV,MAAiBvD,SAAzC,GAAqDuD,UAAU,CAAV,CAArD,GAAoE+3C,OAAxF;;AAEA52B,kBAAQsmD,SAAR,GAAoB/L,SAApB;AACAv6C,kBAAQssE,OAAR,GAAkB,MAAlB;;AAEAnkF,YAAEokF,WAAF,CAAcvsE,OAAd,EAAuBksE,UAAU,CAAV,CAAvB,EAAqCA,UAAU,CAAV,CAArC,EAAmDA,UAAU,CAAV,CAAnD,EAAiEG,aAAjE;;AAEAlkF,YAAEqkF,YAAF,CAAe3yE,IAAf,EAAqBmG,OAArB,EAA8Bg/C,GAAGM,MAAjC,EAAyC6sB,SAAzC;AACD,SATD;;AAWA,YAAIM,cAAc,SAASA,WAAT,GAAuB;AACvC,cAAIJ,gBAAgBxtF,UAAUyB,MAAV,GAAmB,CAAnB,IAAwBzB,UAAU,CAAV,MAAiBvD,SAAzC,GAAqDuD,UAAU,CAAV,CAArD,GAAoEsqC,cAAxF;;AAEAnpB,kBAAQsmD,SAAR,GAAoB0lB,YAApB;;AAEA,cAAIhtB,GAAGK,QAAH,KAAgB,MAAhB,IAA0B,CAACysB,QAA/B,EAAyC;AACvC9rE,oBAAQssE,OAAR,GAAkB,MAAlB;AACD,WAFD,MAEO;AACLtsE,oBAAQssE,OAAR,GAAkB,OAAlB;AACD;;AAEDnkF,YAAEokF,WAAF,CAAcvsE,OAAd,EAAuBisE,aAAa,CAAb,CAAvB,EAAwCA,aAAa,CAAb,CAAxC,EAAyDA,aAAa,CAAb,CAAzD,EAA0EI,aAA1E;;AAEAlkF,YAAEqkF,YAAF,CAAe3yE,IAAf,EAAqBmG,OAArB,EAA8Bg/C,GAAGM,MAAjC,EAAyC,OAAzC;AACD,SAdD;;AAgBA,YAAIotB,aAAa,SAASA,UAAT,GAAsB;AACrC,cAAIC,eAAe9tF,UAAUyB,MAAV,GAAmB,CAAnB,IAAwBzB,UAAU,CAAV,MAAiBvD,SAAzC,GAAqDuD,UAAU,CAAV,CAArD,GAAoE+3C,OAAvF;;AAEAzuC,YAAEykF,cAAF,CAAiB5sE,OAAjB,EAA0BnG,IAA1B,EAAgC8yE,YAAhC;AACD,SAJD;;AAMA,YAAIE,WAAW,SAASA,QAAT,GAAoB;AACjC1kF,YAAE2kF,eAAF,CAAkB9sE,OAAlB,EAA2BnG,IAA3B,EAAiCgyE,SAAjC;AACD,SAFD;;AAIA7rE,gBAAQ+sE,QAAR,GAAmB,OAAnB;;AAEA,YAAItiD,QAAQ5wB,KAAK6O,MAAL,CAAY,OAAZ,EAAqBtwB,KAArB,KAA+B,KAA3C;;AAEA,YAAIqyC,KAAJ,EAAW;AACT,cAAIC,KAAK7wB,KAAK6O,MAAL,CAAY,gBAAZ,EAA8Byb,OAAvC;AACA,cAAIwG,KAAK9wB,KAAK6O,MAAL,CAAY,gBAAZ,EAA8Byb,OAAvC;AACA,cAAI6oD,eAAenzE,KAAK6O,MAAL,CAAY,eAAZ,EAA6BtwB,KAAhD;AACA,cAAI60F,wBAAwBr2C,UAAUo2C,YAAtC;;AAEAhtE,kBAAQ+rE,SAAR,CAAkBrhD,EAAlB,EAAsBC,EAAtB;;AAEAyhD,mBAASa,qBAAT;AACAP,qBAAWO,qBAAX;;AAEAjtE,kBAAQ+rE,SAAR,CAAkB,CAACrhD,EAAnB,EAAuB,CAACC,EAAxB;AACD;;AAEDyhD;AACAM;AACAD;AACAI;;AAEA,YAAIjB,mBAAJ,EAAyB;AACvB5rE,kBAAQ+rE,SAAR,CAAkB1nF,GAAG9H,EAArB,EAAyB8H,GAAG5H,EAA5B;AACD;AACF,OA9FD;;AAgGAkuF,UAAI6B,YAAJ,GAAmB,UAAU3yE,IAAV,EAAgBmG,OAAhB,EAAyBgqB,GAAzB,EAA8BntB,IAA9B,EAAoC;AACrD,YAAImiD,KAAKnlD,KAAKne,QAAL,CAAcusB,QAAvB;AACA,YAAIilE,YAAYltE,OAAhB;AACA,YAAI0U,OAAO,KAAK,CAAhB;AACA,YAAIy4D,eAAe,KAAnB;AACA,YAAIrB,WAAW,KAAKA,QAAL,EAAf;;AAEA,YAAIA,QAAJ,EAAc;AACZ,cAAIsB,eAAepjD,IAAInd,IAAJ,CAAS,GAAT,CAAnB;AACA,cAAIwgE,aAAaruB,GAAGouB,YAAH,IAAmBpuB,GAAGouB,YAAH,KAAoBA,YAAxD;;AAEA,cAAIC,UAAJ,EAAgB;AACd34D,mBAAO1U,UAAUg/C,GAAGsuB,SAApB;AACAH,2BAAe,IAAf;AACD,WAHD,MAGO;AACLz4D,mBAAO1U,UAAU,IAAIutE,MAAJ,EAAjB,CADK,CAC0B;AAC/BvuB,eAAGouB,YAAH,GAAkBA,YAAlB;AACApuB,eAAGsuB,SAAH,GAAe54D,IAAf;AACD;AACF;;AAED,YAAIw4D,UAAUM,WAAd,EAA2B;AACzB;AACA,kBAAQ3wE,IAAR;AACE,iBAAK,QAAL;AACEqwE,wBAAUM,WAAV,CAAsB,CAAC,CAAD,EAAI,CAAJ,CAAtB;AACA;;AAEF,iBAAK,QAAL;AACEN,wBAAUM,WAAV,CAAsB,CAAC,CAAD,EAAI,CAAJ,CAAtB;AACA;;AAEF,iBAAK,OAAL;AACEN,wBAAUM,WAAV,CAAsB,EAAtB;AACA;AAXJ;AAaD;;AAED,YAAI,CAACL,YAAD,IAAiB,CAACnuB,GAAGqQ,OAAzB,EAAkC;AAChC,cAAIrvD,QAAQorE,SAAZ,EAAuB;AACrBprE,oBAAQorE,SAAR;AACD;AACDprE,kBAAQurE,MAAR,CAAevhD,IAAI,CAAJ,CAAf,EAAuBA,IAAI,CAAJ,CAAvB;;AAEA,kBAAQg1B,GAAGK,QAAX;AACE,iBAAK,QAAL;AACA,iBAAK,MAAL;AACA,iBAAK,UAAL;AACA,iBAAK,aAAL;AACE,mBAAK,IAAItnE,IAAI,CAAb,EAAgBA,IAAI,CAAJ,GAAQiyC,IAAI1pC,MAA5B,EAAoCvI,KAAK,CAAzC,EAA4C;AAC1CioB,wBAAQgrE,gBAAR,CAAyBhhD,IAAIjyC,CAAJ,CAAzB,EAAiCiyC,IAAIjyC,IAAI,CAAR,CAAjC,EAA6CiyC,IAAIjyC,IAAI,CAAR,CAA7C,EAAyDiyC,IAAIjyC,IAAI,CAAR,CAAzD;AACD;AACD;;AAEF,iBAAK,UAAL;AACA,iBAAK,UAAL;AACA,iBAAK,UAAL;AACE,mBAAK,IAAI2X,KAAK,CAAd,EAAiBA,KAAK,CAAL,GAASs6B,IAAI1pC,MAA9B,EAAsCoP,MAAM,CAA5C,EAA+C;AAC7CsQ,wBAAQ6qE,MAAR,CAAe7gD,IAAIt6B,EAAJ,CAAf,EAAwBs6B,IAAIt6B,KAAK,CAAT,CAAxB;AACD;AACD;AAhBJ;AAkBD;;AAEDsQ,kBAAUktE,SAAV;AACA,YAAIpB,QAAJ,EAAc;AACZ9rE,kBAAQytE,MAAR,CAAe/4D,IAAf;AACD,SAFD,MAEO;AACL1U,kBAAQytE,MAAR;AACD;;AAED;AACA,YAAIztE,QAAQwtE,WAAZ,EAAyB;AACvB;AACAxtE,kBAAQwtE,WAAR,CAAoB,EAApB;AACD;AACF,OA5ED;;AA8EA7C,UAAIiC,cAAJ,GAAqB,UAAU5sE,OAAV,EAAmBnG,IAAnB,EAAyB+8B,OAAzB,EAAkC;AACrD,YAAIooB,KAAKnlD,KAAKne,QAAL,CAAcusB,QAAvB;AACA,YAAIs5C,aAAavC,GAAGK,QAAH,KAAgB,UAAjC;;AAEA,YAAI,CAACkC,UAAL,EAAiB;AACf,eAAKmsB,aAAL,CAAmB1tE,OAAnB,EAA4BnG,IAA5B,EAAkC,QAAlC,EAA4CmlD,GAAGS,WAA/C,EAA4DT,GAAGU,WAA/D,EAA4EV,GAAGW,aAA/E,EAA8F/oB,OAA9F;AACD;;AAED,aAAK82C,aAAL,CAAmB1tE,OAAnB,EAA4BnG,IAA5B,EAAkC,YAAlC,EAAgDmlD,GAAGl4B,IAAnD,EAAyDk4B,GAAGj4B,IAA5D,EAAkEi4B,GAAGgB,gBAArE,EAAuFppB,OAAvF;;AAEA,aAAK82C,aAAL,CAAmB1tE,OAAnB,EAA4BnG,IAA5B,EAAkC,YAAlC,EAAgDmlD,GAAGl4B,IAAnD,EAAyDk4B,GAAGj4B,IAA5D,EAAkEi4B,GAAGe,gBAArE,EAAuFnpB,OAAvF;;AAEA,YAAI,CAAC2qB,UAAL,EAAiB;AACf,eAAKmsB,aAAL,CAAmB1tE,OAAnB,EAA4BnG,IAA5B,EAAkC,QAAlC,EAA4CmlD,GAAGY,SAA/C,EAA0DZ,GAAGa,SAA7D,EAAwEb,GAAGc,aAA3E,EAA0FlpB,OAA1F;AACD;AACF,OAfD;;AAiBA+zC,UAAI+C,aAAJ,GAAoB,UAAU1tE,OAAV,EAAmBnG,IAAnB,EAAyBtY,MAAzB,EAAiC/B,CAAjC,EAAoCC,CAApC,EAAuCkL,KAAvC,EAA8CisC,OAA9C,EAAuD;AACzE,YAAI57C,MAAMwE,CAAN,KAAYA,KAAK,IAAjB,IAAyBxE,MAAMyE,CAAN,CAAzB,IAAqCA,KAAK,IAA1C,IAAkDzE,MAAM2P,KAAN,CAAlD,IAAkEA,SAAS,IAA/E,EAAqF;AACnF;AACD;;AAED,YAAIoJ,OAAO,IAAX;AACA,YAAI45E,aAAa9zE,KAAK6O,MAAL,CAAYnnB,SAAS,cAArB,EAAqCnJ,KAAtD;AACA,YAAIu1F,eAAe,MAAnB,EAA2B;AACzB;AACD;;AAED,YAAIC,iBAAiB/zE,KAAK6O,MAAL,CAAYnnB,SAAS,aAArB,EAAoCnJ,KAApC,KAA8C,QAA9C,GAAyD,MAAzD,GAAkE,QAAvF;AACA,YAAIy1F,YAAYh0E,KAAK6O,MAAL,CAAYnnB,SAAS,aAArB,EAAoCnJ,KAApD;AACA,YAAImiE,YAAY1gD,KAAK6O,MAAL,CAAY,OAAZ,EAAqByb,OAArC;AACA,YAAI2pD,cAAcj0E,KAAK6O,MAAL,CAAY,SAAZ,EAAuBtwB,KAAzC;;AAEA,YAAIw+C,YAAYt7C,SAAhB,EAA2B;AACzBs7C,oBAAUk3C,WAAV;AACD;;AAED,YAAIC,MAAM/tE,QAAQguE,wBAAlB;;AAEA,YAAIp3C,YAAY,CAAZ,IAAiBi3C,cAAc,QAAnC,EAA6C;AAC3C;AACA7tE,kBAAQguE,wBAAR,GAAmC,iBAAnC;;AAEAj6E,eAAKk6E,SAAL,CAAejuE,OAAf,EAAwB,GAAxB,EAA6B,GAA7B,EAAkC,GAAlC,EAAuC,CAAvC;AACAjM,eAAKw4E,WAAL,CAAiBvsE,OAAjB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,CAAzC;;AAEAjM,eAAKm6E,cAAL,CAAoBr0E,IAApB,EAA0BtY,MAA1B,EAAkCye,OAAlC,EAA2C4tE,cAA3C,EAA2DrzB,SAA3D,EAAsEozB,UAAtE,EAAkFnuF,CAAlF,EAAqFC,CAArF,EAAwFkL,KAAxF;;AAEAqV,kBAAQguE,wBAAR,GAAmCD,GAAnC;AACD,SAhCwE,CAgCvE;;AAEF,YAAIxuC,QAAQ1lC,KAAK6O,MAAL,CAAYnnB,SAAS,cAArB,EAAqCnJ,KAAjD;AACA2b,aAAKk6E,SAAL,CAAejuE,OAAf,EAAwBu/B,MAAM,CAAN,CAAxB,EAAkCA,MAAM,CAAN,CAAlC,EAA4CA,MAAM,CAAN,CAA5C,EAAsD3I,OAAtD;AACA7iC,aAAKw4E,WAAL,CAAiBvsE,OAAjB,EAA0Bu/B,MAAM,CAAN,CAA1B,EAAoCA,MAAM,CAAN,CAApC,EAA8CA,MAAM,CAAN,CAA9C,EAAwD3I,OAAxD;;AAEA7iC,aAAKm6E,cAAL,CAAoBr0E,IAApB,EAA0BtY,MAA1B,EAAkCye,OAAlC,EAA2C6tE,SAA3C,EAAsDtzB,SAAtD,EAAiEozB,UAAjE,EAA6EnuF,CAA7E,EAAgFC,CAAhF,EAAmFkL,KAAnF;AACD,OAvCD;;AAyCAggF,UAAIuD,cAAJ,GAAqB,UAAUr0E,IAAV,EAAgB4sB,SAAhB,EAA2BzmB,OAA3B,EAAoCmuE,IAApC,EAA0C5zB,SAA1C,EAAqDoE,KAArD,EAA4Dn/D,CAA5D,EAA+DC,CAA/D,EAAkEkL,KAAlE,EAAyE;AAC5F,YAAIxC,IAAI,IAAR;AACA,YAAI2jF,WAAW,KAAKA,QAAL,EAAf;AACA,YAAI9sB,KAAKnlD,KAAKne,QAAL,CAAcusB,QAAvB;AACA,YAAIklE,eAAe,KAAnB;AACA,YAAIz4D,OAAO,KAAK,CAAhB;AACA,YAAI05D,gBAAgBpuE,OAApB;AACA,YAAIs6C,cAAc,EAAE96D,GAAGA,CAAL,EAAQC,GAAGA,CAAX,EAAlB;AACA,YAAIm9D,QAAQ/iD,KAAK6O,MAAL,CAAY,aAAZ,EAA2BtwB,KAAvC;AACA,YAAIqc,OAAO,KAAK2nD,aAAL,CAAmB7B,SAAnB,EAA8BqC,KAA9B,CAAX;AACA,YAAIyxB,YAAYlmF,EAAEiyD,WAAF,CAAcuE,KAAd,CAAhB;;AAEA,YAAImtB,QAAJ,EAAc;AACZ,cAAIsB,eAAe34E,OAAO,GAAP,GAAakqD,KAAb,GAAqB,GAArB,GAA2Bh0D,KAA3B,GAAmC,GAAnC,GAAyCnL,CAAzC,GAA6C,GAA7C,GAAmDC,CAAtE;AACAu/D,aAAGsvB,iBAAH,GAAuBtvB,GAAGsvB,iBAAH,IAAwB,EAA/C;AACAtvB,aAAGuvB,cAAH,GAAoBvvB,GAAGuvB,cAAH,IAAqB,EAAzC;;AAEA,cAAIC,gBAAgBxvB,GAAGsvB,iBAAH,CAAqB7nD,SAArB,MAAoC2mD,YAAxD;AACA,cAAIoB,aAAJ,EAAmB;AACjB95D,mBAAO1U,UAAUg/C,GAAGuvB,cAAH,CAAkB9nD,SAAlB,CAAjB;AACA0mD,2BAAe,IAAf;AACD,WAHD,MAGO;AACLz4D,mBAAO1U,UAAU,IAAIutE,MAAJ,EAAjB,CADK,CAC0B;AAC/BvuB,eAAGsvB,iBAAH,CAAqB7nD,SAArB,IAAkC2mD,YAAlC;AACApuB,eAAGuvB,cAAH,CAAkB9nD,SAAlB,IAA+B/R,IAA/B;AACD;AACF;;AAED,YAAI1U,QAAQorE,SAAZ,EAAuB;AACrBprE,kBAAQorE,SAAR;AACD;;AAED,YAAI,CAAC+B,YAAL,EAAmB;AACjBkB,oBAAU/yB,IAAV,CAAet7C,OAAf,EAAwBvL,IAAxB,EAA8B9J,KAA9B,EAAqC2vD,WAArC,EAAkDC,SAAlD;AACD;;AAED,YAAI,CAAC8zB,UAAUI,aAAX,IAA4BzuE,QAAQqrE,SAAxC,EAAmD;AACjDrrE,kBAAQqrE,SAAR;AACD;;AAEDrrE,kBAAUouE,aAAV;;AAEA,YAAID,SAAS,QAAT,IAAqBA,SAAS,MAAlC,EAA0C;AACxC,cAAIrC,QAAJ,EAAc;AACZ9rE,oBAAQmuE,IAAR,CAAaz5D,IAAb;AACD,WAFD,MAEO;AACL1U,oBAAQmuE,IAAR;AACD;AACF;;AAED,YAAIA,SAAS,QAAT,IAAqBA,SAAS,MAAlC,EAA0C;AACxCnuE,kBAAQsmD,SAAR,GAAoB+nB,UAAUK,cAAV,GAA2Bn0B,SAA3B,GAAuC,CAA3D;AACAv6C,kBAAQ+sE,QAAR,GAAmB,OAAnB;;AAEA,cAAIjB,QAAJ,EAAc;AACZ9rE,oBAAQytE,MAAR,CAAe/4D,IAAf;AACD,WAFD,MAEO;AACL1U,oBAAQytE,MAAR;AACD;AACF;AACF,OA5DD;;AA8DAp2F,aAAOD,OAAP,GAAiBuzF,GAAjB;;AAEA;AAAO,KAl9qBG;AAm9qBV;AACA,SAAO,UAAStzF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;;AAEA,UAAI8yF,MAAM,EAAV;;AAEAA,UAAIgE,WAAJ,GAAkB,UAAU3uE,OAAV,EAAmBlf,GAAnB,EAAwB8qF,mBAAxB,EAA6CgD,SAA7C,EAAwD;AACxE,YAAIzmF,IAAI,IAAR;;AAEA,YAAIrH,IAAIyY,MAAJ,EAAJ,EAAkB;AAChBpR,YAAE0mF,QAAF,CAAW7uE,OAAX,EAAoBlf,GAApB,EAAyB8qF,mBAAzB,EAA8CgD,SAA9C;AACD,SAFD,MAEO;AACLzmF,YAAEwjF,QAAF,CAAW3rE,OAAX,EAAoBlf,GAApB,EAAyB8qF,mBAAzB,EAA8CgD,SAA9C;AACD;AACF,OARD;;AAUAjE,UAAImE,iBAAJ,GAAwB,UAAU9uE,OAAV,EAAmBlf,GAAnB,EAAwB4jD,OAAxB,EAAiC55B,MAAjC,EAAyC;AAC/D,YAAI3iB,IAAI,IAAR;AACA,YAAI9D,KAAKvD,IAAIxE,WAAJ,EAAT;;AAEA,YAAI+H,GAAGE,CAAH,KAAS,CAAT,IAAcF,GAAGG,CAAH,KAAS,CAA3B,EAA8B;AAC5B;AACD;;AAED,YAAI,CAACsmB,MAAD,IAAW9sB,KAAK+G,sBAAL,CAA4BV,EAA5B,EAAgCymB,MAAhC,CAAf,EAAwD;AACtD,cAAIwD,QAAQnmB,EAAEoN,IAAF,CAAOw5E,WAAP,CAAmBC,UAAnB,CAA8BluF,GAA9B,EAAmCuD,EAAnC,EAAuCqgD,OAAvC,CAAZ;;AAEA,cAAIp2B,SAAS,IAAb,EAAmB;AACjBtO,oBAAQivE,SAAR,CAAkB3gE,MAAM4gE,OAAN,CAAcC,MAAhC,EAAwC7gE,MAAM9uB,CAA9C,EAAiD,CAAjD,EAAoD8uB,MAAM/oB,KAA1D,EAAiE+oB,MAAM9oB,MAAvE,EAA+EnB,GAAG9H,EAAlF,EAAsF8H,GAAG5H,EAAzF,EAA6F4H,GAAGE,CAAhG,EAAmGF,GAAGG,CAAtG;AACD,WAFD,MAEO;AACL;AACA2D,cAAEwmF,WAAF,CAAc3uE,OAAd,EAAuBlf,GAAvB;AACD;AACF;AACF,OAlBD;;AAoBA6pF,UAAIyE,YAAJ,GAAmB,UAAUpvE,OAAV,EAAmB9I,IAAnB,EAAyB;AAC1C,YAAI/O,IAAI,IAAR;;AAEA,aAAK,IAAIpQ,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;;AAEAoQ,YAAEwmF,WAAF,CAAc3uE,OAAd,EAAuBlf,GAAvB;AACD;AACF,OARD;;AAUA6pF,UAAI0E,kBAAJ,GAAyB,UAAUrvE,OAAV,EAAmB9I,IAAnB,EAAyBwtC,OAAzB,EAAkC55B,MAAlC,EAA0C;AACjE,YAAI3iB,IAAI,IAAR;;AAEA,aAAK,IAAIpQ,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;;AAEAoQ,YAAE2mF,iBAAF,CAAoB9uE,OAApB,EAA6Blf,GAA7B,EAAkC4jD,OAAlC,EAA2C55B,MAA3C;AACD;AACF,OARD;;AAUA6/D,UAAI2E,eAAJ,GAAsB,UAAUtvE,OAAV,EAAmB9I,IAAnB,EAAyBwtC,OAAzB,EAAkC55B,MAAlC,EAA0C;AAC9D,YAAI3iB,IAAI,IAAR;;AAEA,aAAK,IAAIpQ,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;;AAEA,cAAI,CAAC+I,IAAIyY,MAAJ,EAAL,EAAmB;AACjB;AACD;;AAEDpR,YAAE2mF,iBAAF,CAAoB9uE,OAApB,EAA6Blf,GAA7B,EAAkC4jD,OAAlC,EAA2C55B,MAA3C;AACD;AACF,OAZD;;AAcA6/D,UAAI4E,mBAAJ,GAA0B,UAAUvvE,OAAV,EAAmB9I,IAAnB,EAAyBwtC,OAAzB,EAAkC55B,MAAlC,EAA0C;AAClE,YAAI3iB,IAAI,IAAR;;AAEA,YAAIqnF,SAASrnF,EAAEoN,IAAF,CAAOk6E,WAAP,CAAmBC,SAAnB,CAA6Bx4E,IAA7B,EAAmCwtC,OAAnC,CAAb;;AAEA,YAAI8qC,MAAJ,EAAY;AACV,eAAK,IAAIz3F,IAAI,CAAb,EAAgBA,IAAIy3F,OAAOlvF,MAA3B,EAAmCvI,GAAnC,EAAwC;AACtC,gBAAI43F,QAAQH,OAAOz3F,CAAP,CAAZ;AACA,gBAAIsM,KAAKsrF,MAAMtrF,EAAf;;AAEA,gBAAIA,GAAGE,CAAH,KAAS,CAAT,IAAcF,GAAGG,CAAH,KAAS,CAA3B,EAA8B;AAC5B;AACD;;AAEDwb,oBAAQivE,SAAR,CAAkBU,MAAMR,MAAxB,EAAgC9qF,GAAG9H,EAAnC,EAAuC8H,GAAG5H,EAA1C,EAA8C4H,GAAGE,CAAjD,EAAoDF,GAAGG,CAAvD;AACD;AACF,SAXD,MAWO;AACL;AACA2D,YAAEknF,kBAAF,CAAqBrvE,OAArB,EAA8B9I,IAA9B,EAAoCwtC,OAApC,EAA6C55B,MAA7C;AACD;AACF,OApBD;;AAsBA6/D,UAAIiF,eAAJ,GAAsB,UAAU5vE,OAAV,EAAmB9I,IAAnB,EAAyB;AAC7C,YAAIokD,OAAO,SAASA,IAAT,CAAc97D,CAAd,EAAiBC,CAAjB,EAAoB8/C,KAApB,EAA2B;AACpCv/B,kBAAQiuE,SAAR,GAAoB1uC,KAApB;AACAv/B,kBAAQ6vE,QAAR,CAAiBrwF,IAAI,CAArB,EAAwBC,IAAI,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC;AACD,SAHD;;AAKA,aAAK,IAAI1H,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;AACA,cAAIinE,KAAKl+D,IAAIpF,QAAJ,CAAausB,QAAtB;;AAEA,cAAInnB,IAAIyY,MAAJ,EAAJ,EAAkB;AAChB,gBAAIjgB,IAAIwH,IAAIuX,QAAJ,EAAR;;AAEAijD,iBAAKhiE,EAAEkG,CAAP,EAAUlG,EAAEmG,CAAZ,EAAe,SAAf;AACD,WAJD,MAIO;AACL,gBAAIuqC,MAAMg1B,GAAGM,MAAb;;AAEA,iBAAK,IAAI9+D,IAAI,CAAb,EAAgBA,IAAI,CAAJ,GAAQwpC,IAAI1pC,MAA5B,EAAoCE,KAAK,CAAzC,EAA4C;AAC1C,kBAAIhB,IAAIwqC,IAAIxpC,CAAJ,CAAR;AACA,kBAAIf,IAAIuqC,IAAIxpC,IAAI,CAAR,CAAR;;AAEA86D,mBAAK97D,CAAL,EAAQC,CAAR,EAAW,MAAX;AACD;;AAED67D,iBAAK0D,GAAGl4B,IAAR,EAAck4B,GAAGj4B,IAAjB,EAAuB,QAAvB;AACD;AACF;AACF,OA3BD;;AA6BA1vC,aAAOD,OAAP,GAAiBuzF,GAAjB;;AAEA;AAAO,KAllrBG;AAmlrBV;AACA,SAAO,UAAStzF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI8yF,MAAM,EAAV;;AAEAA,UAAImF,aAAJ,GAAoB,UAAU9vE,OAAV,EAAmB+vE,GAAnB,EAAwBC,EAAxB,EAA4BC,EAA5B,EAAgCC,EAAhC,EAAoCC,EAApC,EAAwC3wF,CAAxC,EAA2CC,CAA3C,EAA8C8E,CAA9C,EAAiDC,CAAjD,EAAoD;AACtE,YAAI2D,IAAI,IAAR;;AAEA;AACA,YAAI+nF,MAAM,CAAN,IAAWC,MAAM,CAAjB,IAAsB5rF,KAAK,CAA3B,IAAgCC,KAAK,CAAzC,EAA4C;AAC1C;AACD;;AAEDwb,gBAAQivE,SAAR,CAAkBc,GAAlB,EAAuBC,EAAvB,EAA2BC,EAA3B,EAA+BC,EAA/B,EAAmCC,EAAnC,EAAuC3wF,CAAvC,EAA0CC,CAA1C,EAA6C8E,CAA7C,EAAgDC,CAAhD;AACD,OATD;;AAWAmmF,UAAIyF,kBAAJ,GAAyB,UAAUpwE,OAAV,EAAmB+vE,GAAnB,EAAwB51E,IAAxB,EAA8B9Q,KAA9B,EAAqCgnF,WAArC,EAAkD;AACzE,YAAIloF,IAAI,IAAR;AACA,YAAI5I,MAAM4a,KAAK9B,QAAL,EAAV;AACA,YAAIhT,QAAQ9F,IAAIC,CAAhB;AACA,YAAI8F,QAAQ/F,IAAIE,CAAhB;AACA,YAAI6wF,WAAWn2E,KAAKzD,EAAL,GAAU7a,KAAV,EAAf;AACA,YAAI00F,kBAAkBD,SAASC,eAAT,CAAyBvwF,IAAzB,CAA8BswF,QAA9B,CAAtB;AACA,YAAI77C,MAAM87C,gBAAgBp2E,IAAhB,EAAsB,gBAAtB,EAAwC,OAAxC,EAAiD9Q,KAAjD,CAAV;AACA,YAAImnF,SAASD,gBAAgBp2E,IAAhB,EAAsB,mBAAtB,EAA2C,OAA3C,EAAoD9Q,KAApD,CAAb;AACA,YAAIstE,QAAQx8D,KAAK5U,KAAL,EAAZ;AACA,YAAIqxE,QAAQz8D,KAAK3U,MAAL,EAAZ;AACA,YAAIirF,YAAYt2E,KAAKrV,OAAL,KAAiB,CAAjC;AACA,YAAI4rF,SAAS/Z,SAAS4Z,gBAAgBp2E,IAAhB,EAAsB,8BAAtB,EAAsD,OAAtD,EAA+D9Q,KAA/D,MAA0E,OAA1E,GAAoF,CAApF,GAAwFonF,SAAjG,CAAb;AACA,YAAIE,SAAS/Z,SAAS2Z,gBAAgBp2E,IAAhB,EAAsB,+BAAtB,EAAuD,OAAvD,EAAgE9Q,KAAhE,MAA2E,OAA3E,GAAqF,CAArF,GAAyFonF,SAAlG,CAAb;AACA,YAAIzxB,KAAK7kD,KAAKze,QAAL,CAAcusB,QAAvB;AACA,YAAI2oE,OAAOz2E,KAAKuO,MAAL,CAAY,iBAAZ,EAA+BtwB,KAA1C;AACA,YAAIy4F,aAAaD,SAAS,MAA1B;AACA,YAAIE,aAAaP,gBAAgBp2E,IAAhB,EAAsB,0BAAtB,EAAkD,OAAlD,EAA2D9Q,KAA3D,IAAoEgnF,WAArF;;AAEA,YAAIU,OAAOhB,IAAIxqF,KAAJ,IAAawqF,IAAIiB,OAA5B;AACA,YAAIC,OAAOlB,IAAIvqF,MAAJ,IAAcuqF,IAAImB,OAA7B;;AAEA;AACA,YAAI,QAAQH,IAAR,IAAgB,QAAQE,IAA5B,EAAkC;AAChCl3F,mBAASm6E,IAAT,CAAcC,WAAd,CAA0B4b,GAA1B,EADgC,CACA;;AAEhCgB,iBAAOhB,IAAIiB,OAAJ,GAAcjB,IAAIxqF,KAAJ,IAAawqF,IAAIoB,WAAtC;AACAF,iBAAOlB,IAAImB,OAAJ,GAAcnB,IAAIvqF,MAAJ,IAAcuqF,IAAIqB,YAAvC;;AAEAr3F,mBAASm6E,IAAT,CAAcjvB,WAAd,CAA0B8qC,GAA1B,EANgC,CAMA;AACjC;;AAED,YAAIxrF,IAAIwsF,IAAR;AACA,YAAIvsF,IAAIysF,IAAR;;AAEA,YAAIV,gBAAgBp2E,IAAhB,EAAsB,kBAAtB,EAA0C,OAA1C,EAAmD9Q,KAAnD,MAA8D,MAAlE,EAA0E;AACxE,cAAIknF,gBAAgBp2E,IAAhB,EAAsB,kBAAtB,EAA0C,OAA1C,EAAmD9Q,KAAnD,MAA8D,GAAlE,EAAuE;AACrE9E,gBAAIgsF,gBAAgBp2E,IAAhB,EAAsB,kBAAtB,EAA0C,SAA1C,EAAqD9Q,KAArD,IAA8DqnF,MAAlE;AACD,WAFD,MAEO;AACLnsF,gBAAIgsF,gBAAgBp2E,IAAhB,EAAsB,kBAAtB,EAA0C,SAA1C,EAAqD9Q,KAArD,CAAJ;AACD;AACF;;AAED,YAAIknF,gBAAgBp2E,IAAhB,EAAsB,mBAAtB,EAA2C,OAA3C,EAAoD9Q,KAApD,MAA+D,MAAnE,EAA2E;AACzE,cAAIknF,gBAAgBp2E,IAAhB,EAAsB,mBAAtB,EAA2C,OAA3C,EAAoD9Q,KAApD,MAA+D,GAAnE,EAAwE;AACtE7E,gBAAI+rF,gBAAgBp2E,IAAhB,EAAsB,mBAAtB,EAA2C,SAA3C,EAAsD9Q,KAAtD,IAA+DsnF,MAAnE;AACD,WAFD,MAEO;AACLnsF,gBAAI+rF,gBAAgBp2E,IAAhB,EAAsB,mBAAtB,EAA2C,SAA3C,EAAsD9Q,KAAtD,CAAJ;AACD;AACF;;AAED,YAAI9E,MAAM,CAAN,IAAWC,MAAM,CAArB,EAAwB;AACtB,iBADsB,CACd;AACT;;AAED,YAAIiwC,QAAQ,SAAZ,EAAuB;AACrB,cAAImoB,QAAQ1hE,KAAKiJ,GAAL,CAASusF,SAASnsF,CAAlB,EAAqBosF,SAASnsF,CAA9B,CAAZ;;AAEAD,eAAKq4D,KAAL;AACAp4D,eAAKo4D,KAAL;AACD,SALD,MAKO,IAAInoB,QAAQ,OAAZ,EAAqB;AAC1B,cAAImoB,QAAQ1hE,KAAKkJ,GAAL,CAASssF,SAASnsF,CAAlB,EAAqBosF,SAASnsF,CAA9B,CAAZ;;AAEAD,eAAKq4D,KAAL;AACAp4D,eAAKo4D,KAAL;AACD;;AAED,YAAIp9D,IAAI6F,QAAQqrF,SAAS,CAAzB,CAnEyE,CAmE7C;AAC5B,YAAIH,gBAAgBp2E,IAAhB,EAAsB,uBAAtB,EAA+C,OAA/C,EAAwD9Q,KAAxD,MAAmE,GAAvE,EAA4E;AAC1E7J,eAAK,CAACkxF,SAASnsF,CAAV,IAAegsF,gBAAgBp2E,IAAhB,EAAsB,uBAAtB,EAA+C,SAA/C,EAA0D9Q,KAA1D,CAApB;AACD,SAFD,MAEO;AACL7J,eAAK+wF,gBAAgBp2E,IAAhB,EAAsB,uBAAtB,EAA+C,SAA/C,EAA0D9Q,KAA1D,CAAL;AACD;;AAED,YAAI5J,IAAI6F,QAAQqrF,SAAS,CAAzB,CA1EyE,CA0E7C;AAC5B,YAAIJ,gBAAgBp2E,IAAhB,EAAsB,uBAAtB,EAA+C,OAA/C,EAAwD9Q,KAAxD,MAAmE,GAAvE,EAA4E;AAC1E5J,eAAK,CAACkxF,SAASnsF,CAAV,IAAe+rF,gBAAgBp2E,IAAhB,EAAsB,uBAAtB,EAA+C,SAA/C,EAA0D9Q,KAA1D,CAApB;AACD,SAFD,MAEO;AACL5J,eAAK8wF,gBAAgBp2E,IAAhB,EAAsB,uBAAtB,EAA+C,SAA/C,EAA0D9Q,KAA1D,CAAL;AACD;;AAED,YAAI21D,GAAGsuB,SAAP,EAAkB;AAChB9tF,eAAK6F,KAAL;AACA5F,eAAK6F,KAAL;;AAEAD,kBAAQ,CAAR;AACAC,kBAAQ,CAAR;AACD;;AAED,YAAI+rF,SAASrxE,QAAQsxE,WAArB;;AAEAtxE,gBAAQsxE,WAAR,GAAsBR,UAAtB;;AAEA,YAAIN,WAAW,WAAf,EAA4B;;AAE1B,cAAIK,UAAJ,EAAgB;AACd7wE,oBAAQuxE,IAAR;;AAEA,gBAAIvyB,GAAGsuB,SAAP,EAAkB;AAChBttE,sBAAQ4wE,IAAR,CAAa5xB,GAAGsuB,SAAhB;AACD,aAFD,MAEO;AACLnlF,gBAAEy2D,UAAF,CAAaz2D,EAAE02D,YAAF,CAAe1kD,IAAf,CAAb,EAAmCmhD,IAAnC,CAAwCt7C,OAAxC,EAAiD3a,KAAjD,EAAwDC,KAAxD,EAA+DorF,MAA/D,EAAuEC,MAAvE;;AAEA3wE,sBAAQ4wE,IAAR;AACD;AACF;;AAEDzoF,YAAE2nF,aAAF,CAAgB9vE,OAAhB,EAAyB+vE,GAAzB,EAA8B,CAA9B,EAAiC,CAAjC,EAAoCgB,IAApC,EAA0CE,IAA1C,EAAgDzxF,CAAhD,EAAmDC,CAAnD,EAAsD8E,CAAtD,EAAyDC,CAAzD;;AAEA,cAAIqsF,UAAJ,EAAgB;AACd7wE,oBAAQtI,OAAR;AACD;AACF,SAnBD,MAmBO;AACL,cAAI85E,UAAUxxE,QAAQyxE,aAAR,CAAsB1B,GAAtB,EAA2BS,MAA3B,CAAd;AACAxwE,kBAAQiuE,SAAR,GAAoBuD,OAApB;;AAEArpF,YAAEy2D,UAAF,CAAaz2D,EAAE02D,YAAF,CAAe1kD,IAAf,CAAb,EAAmCmhD,IAAnC,CAAwCt7C,OAAxC,EAAiD3a,KAAjD,EAAwDC,KAAxD,EAA+DorF,MAA/D,EAAuEC,MAAvE;;AAEA3wE,kBAAQ+rE,SAAR,CAAkBvsF,CAAlB,EAAqBC,CAArB;AACAugB,kBAAQmuE,IAAR;AACAnuE,kBAAQ+rE,SAAR,CAAkB,CAACvsF,CAAnB,EAAsB,CAACC,CAAvB;AACD;;AAEDugB,gBAAQsxE,WAAR,GAAsBD,MAAtB;AACD,OA5HD;;AA8HAh6F,aAAOD,OAAP,GAAiBuzF,GAAjB;;AAEA;AAAO,KAturBG;AAuurBV;AACA,SAAO,UAAStzF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;;AAEA,UAAI8yF,MAAM,EAAV;;AAEAA,UAAI+G,oBAAJ,GAA2B,UAAU5wF,GAAV,EAAe87D,KAAf,EAAsB;AAC/C,YAAI,CAACA,KAAL,EAAY;AACV,cAAI16D,OAAOpB,IAAI4V,EAAJ,GAASxU,IAAT,EAAX;AACA,cAAIwiD,UAAU,KAAK35B,aAAL,EAAd;AACA,cAAI4mE,MAAMz2F,KAAKsiC,IAAL,CAAUx/B,KAAK6E,IAAL,CAAUX,OAAOwiD,OAAjB,CAAV,CAAV,CAHU,CAGsC;;AAEhDkY,kBAAQ1hE,KAAK6N,GAAL,CAAS,CAAT,EAAY4oF,GAAZ,CAAR;AACD;;AAED,YAAIC,eAAe9wF,IAAI4nB,MAAJ,CAAW,WAAX,EAAwByb,OAAxB,GAAkCy4B,KAArD;AACA,YAAIi1B,UAAU/wF,IAAI4nB,MAAJ,CAAW,sBAAX,EAAmCyb,OAAjD;;AAEA,YAAIytD,eAAeC,OAAnB,EAA4B;AAC1B,iBAAO,KAAP;AACD;;AAED,eAAO,IAAP;AACD,OAjBD;;AAmBAlH,UAAImC,eAAJ,GAAsB,UAAU9sE,OAAV,EAAmBlf,GAAnB,EAAwBgxD,KAAxB,EAA+B;AACnD,YAAI3pD,IAAI,IAAR;;AAEA,YAAI2pD,UAAUx2D,SAAd,EAAyB;AACvB,cAAI,CAAC6M,EAAEupF,oBAAF,CAAuB5wF,GAAvB,CAAL,EAAkC;AAChC;AACD;AACF,SAJD,MAIO;AACL,cAAI,CAACgxD,KAAL,EAAY;AACV;AACD;AACF;;AAED,YAAIhxD,IAAIyY,MAAJ,EAAJ,EAAkB;AAChB,cAAI2tB,QAAQpmC,IAAI4nB,MAAJ,CAAW,OAAX,CAAZ;;AAEA,cAAI,CAACwe,KAAD,IAAU,CAACA,MAAM9uC,KAArB,EAA4B;AAC1B;AACD;;AAED,cAAI+3E,aAAarvE,IAAI4nB,MAAJ,CAAW,aAAX,EAA0Bye,QAA3C;AACA,cAAIipC,aAAatvE,IAAI4nB,MAAJ,CAAW,aAAX,EAA0Bye,QAA3C;;AAEA,kBAAQgpC,UAAR;AACE,iBAAK,MAAL;AACEnwD,sBAAQ8xE,SAAR,GAAoB,OAApB;AACA;;AAEF,iBAAK,OAAL;AACE9xE,sBAAQ8xE,SAAR,GAAoB,MAApB;AACA;;AAEF;AACE;AACA9xE,sBAAQ8xE,SAAR,GAAoB,QAApB;AAXJ;;AAcA9xE,kBAAQ+xE,YAAR,GAAuB,QAAvB;AACD,SAzBD,MAyBO;AACL,cAAI7qD,QAAQpmC,IAAI4nB,MAAJ,CAAW,OAAX,CAAZ;AACA,cAAIspE,WAAWlxF,IAAI4nB,MAAJ,CAAW,cAAX,CAAf;AACA,cAAIupE,WAAWnxF,IAAI4nB,MAAJ,CAAW,cAAX,CAAf;;AAEA,cAAI,CAAC,CAACwe,KAAD,IAAU,CAACA,MAAM9uC,KAAlB,MAA6B,CAAC45F,QAAD,IAAa,CAACA,SAAS55F,KAApD,MAA+D,CAAC65F,QAAD,IAAa,CAACA,SAAS75F,KAAtF,CAAJ,EAAkG;AAChG;AACD;;AAED4nB,kBAAQ8xE,SAAR,GAAoB,QAApB;AACA9xE,kBAAQ+xE,YAAR,GAAuB,QAAvB;AACD;;AAED5pF,UAAE0kF,QAAF,CAAW7sE,OAAX,EAAoBlf,GAApB;;AAEA,YAAIA,IAAI8Y,MAAJ,EAAJ,EAAkB;AAChBzR,YAAE0kF,QAAF,CAAW7sE,OAAX,EAAoBlf,GAApB,EAAyB,QAAzB;;AAEAqH,YAAE0kF,QAAF,CAAW7sE,OAAX,EAAoBlf,GAApB,EAAyB,QAAzB;AACD;AACF,OA1DD;;AA4DA6pF,UAAIuH,YAAJ,GAAmBvH,IAAIwH,YAAJ,GAAmBxH,IAAImC,eAA1C;;AAEAnC,UAAIyH,YAAJ,GAAmB,UAAUpyE,OAAV,EAAmB;AACpC,YAAIsO,KAAJ;;AAEA,aAAK+jE,UAAL,GAAkB,KAAKA,UAAL,IAAmB,EAArC;;AAEA,aAAK,IAAIt6F,IAAI,CAAb,EAAgBA,IAAI,KAAKs6F,UAAL,CAAgB/xF,MAApC,EAA4CvI,GAA5C,EAAiD;AAC/Cu2B,kBAAQ,KAAK+jE,UAAL,CAAgBt6F,CAAhB,CAAR;;AAEA,cAAIu2B,MAAMtO,OAAN,KAAkBA,OAAtB,EAA+B;AAC7B,mBAAOsO,KAAP;AACD;AACF;;AAEDA,gBAAQ;AACNtO,mBAASA;AADH,SAAR;AAGA,aAAKqyE,UAAL,CAAgBnxF,IAAhB,CAAqBotB,KAArB;;AAEA,eAAOA,KAAP;AACD,OAnBD;;AAqBA;AACA;AACAq8D,UAAI2H,cAAJ,GAAqB,UAAUtyE,OAAV,EAAmBlf,GAAnB,EAAwB;AAC3C;AACA,YAAI61C,gBAAgB71C,IAAI41C,gBAAJ,EAApB;AACA,YAAI67C,aAAazxF,IAAI4nB,MAAJ,CAAW,YAAX,EAAyBye,QAA1C;AACA,YAAIqrD,YAAY1xF,IAAI4nB,MAAJ,CAAW,WAAX,EAAwByb,OAAxB,GAAkC,IAAlD;AACA,YAAIsuD,cAAc3xF,IAAI4nB,MAAJ,CAAW,aAAX,EAA0Bye,QAA5C;AACA,YAAIurD,cAAc5xF,IAAI4nB,MAAJ,CAAW,aAAX,EAA0Bye,QAA5C;AACA,YAAIyP,UAAU91C,IAAI4nB,MAAJ,CAAW,cAAX,EAA2BtwB,KAA3B,GAAmC0I,IAAI4nB,MAAJ,CAAW,SAAX,EAAsBtwB,KAAzD,GAAiEu+C,aAA/E;AACA,YAAIg8C,iBAAiB7xF,IAAI4nB,MAAJ,CAAW,sBAAX,EAAmCtwB,KAAnC,GAA2Cw+C,OAAhE;AACA,YAAI2I,QAAQz+C,IAAI4nB,MAAJ,CAAW,OAAX,EAAoBtwB,KAAhC;AACA,YAAIw6F,eAAe9xF,IAAI4nB,MAAJ,CAAW,oBAAX,EAAiCtwB,KAApD;;AAEA,YAAIy6F,eAAe/xF,IAAIpF,QAAJ,CAAao3F,OAAhC;AACA,YAAIxkE,QAAQ,KAAK8jE,YAAL,CAAkBpyE,OAAlB,CAAZ;;AAEA,YAAIsO,MAAMjQ,GAAN,KAAcw0E,YAAlB,EAAgC;AAC9B7yE,kBAAQ+yE,IAAR,GAAeR,aAAa,GAAb,GAAmBG,WAAnB,GAAiC,GAAjC,GAAuCF,SAAvC,GAAmD,GAAnD,GAAyDC,WAAxE;;AAEAnkE,gBAAMjQ,GAAN,GAAYw0E,YAAZ;AACD;;AAED;;AAEA;AACA7yE,gBAAQ+sE,QAAR,GAAmB,OAAnB;;AAEA,aAAKkB,SAAL,CAAejuE,OAAf,EAAwBu/B,MAAM,CAAN,CAAxB,EAAkCA,MAAM,CAAN,CAAlC,EAA4CA,MAAM,CAAN,CAA5C,EAAsD3I,OAAtD;;AAEA,aAAK21C,WAAL,CAAiBvsE,OAAjB,EAA0B4yE,aAAa,CAAb,CAA1B,EAA2CA,aAAa,CAAb,CAA3C,EAA4DA,aAAa,CAAb,CAA5D,EAA6ED,cAA7E;AACD,OA7BD;;AA+BA,eAASK,SAAT,CAAmBC,GAAnB,EAAwBzzF,CAAxB,EAA2BC,CAA3B,EAA8B8F,KAA9B,EAAqCC,MAArC,EAA6CqH,MAA7C,EAAqD;AACnD,YAAIA,SAASA,UAAU,CAAvB;AACAomF,YAAI7H,SAAJ;AACA6H,YAAI1H,MAAJ,CAAW/rF,IAAIqN,MAAf,EAAuBpN,CAAvB;AACAwzF,YAAIpI,MAAJ,CAAWrrF,IAAI+F,KAAJ,GAAYsH,MAAvB,EAA+BpN,CAA/B;AACAwzF,YAAIjI,gBAAJ,CAAqBxrF,IAAI+F,KAAzB,EAAgC9F,CAAhC,EAAmCD,IAAI+F,KAAvC,EAA8C9F,IAAIoN,MAAlD;AACAomF,YAAIpI,MAAJ,CAAWrrF,IAAI+F,KAAf,EAAsB9F,IAAI+F,MAAJ,GAAaqH,MAAnC;AACAomF,YAAIjI,gBAAJ,CAAqBxrF,IAAI+F,KAAzB,EAAgC9F,IAAI+F,MAApC,EAA4ChG,IAAI+F,KAAJ,GAAYsH,MAAxD,EAAgEpN,IAAI+F,MAApE;AACAytF,YAAIpI,MAAJ,CAAWrrF,IAAIqN,MAAf,EAAuBpN,IAAI+F,MAA3B;AACAytF,YAAIjI,gBAAJ,CAAqBxrF,CAArB,EAAwBC,IAAI+F,MAA5B,EAAoChG,CAApC,EAAuCC,IAAI+F,MAAJ,GAAaqH,MAApD;AACAomF,YAAIpI,MAAJ,CAAWrrF,CAAX,EAAcC,IAAIoN,MAAlB;AACAomF,YAAIjI,gBAAJ,CAAqBxrF,CAArB,EAAwBC,CAAxB,EAA2BD,IAAIqN,MAA/B,EAAuCpN,CAAvC;AACAwzF,YAAI5H,SAAJ;AACA4H,YAAI9E,IAAJ;AACD;;AAED;AACAxD,UAAIkC,QAAJ,GAAe,UAAU7sE,OAAV,EAAmBlf,GAAnB,EAAwBS,MAAxB,EAAgC;AAC7C,YAAIwhB,KAAKjiB,IAAIpF,QAAb;AACA,YAAIusB,WAAWlF,GAAGkF,QAAlB;AACA,YAAI0uB,gBAAgB71C,IAAI41C,gBAAJ,EAApB;AACA,YAAIC,kBAAkB,CAAlB,IAAuB71C,IAAI4nB,MAAJ,CAAW,cAAX,EAA2BtwB,KAA3B,KAAqC,CAAhE,EAAmE;AACjE;AACD;;AAED,YAAI03E,QAAQ7xE,KAAKoD,mBAAL,CAAyB4mB,QAAzB,EAAmC,QAAnC,EAA6C1mB,MAA7C,CAAZ;AACA,YAAIwuE,QAAQ9xE,KAAKoD,mBAAL,CAAyB4mB,QAAzB,EAAmC,QAAnC,EAA6C1mB,MAA7C,CAAZ;AACA,YAAIiT,OAAO,KAAKy9D,YAAL,CAAkBnxE,GAAlB,EAAuBS,MAAvB,CAAX;;AAEA,YAAIiT,QAAQ,IAAR,IAAgBA,SAAS,EAAzB,IAA+B,CAACxZ,MAAM80E,KAAN,CAAhC,IAAgD,CAAC90E,MAAM+0E,KAAN,CAArD,EAAmE;AACjE,eAAKuiB,cAAL,CAAoBtyE,OAApB,EAA6Blf,GAA7B;;AAEA,cAAIoyF,QAAQ3xF,SAASA,SAAS,GAAlB,GAAwB,EAApC;AACA,cAAI4xF,QAAQl1F,KAAKoD,mBAAL,CAAyB4mB,QAAzB,EAAmC,YAAnC,EAAiD1mB,MAAjD,CAAZ;AACA,cAAI6xF,QAAQn1F,KAAKoD,mBAAL,CAAyB4mB,QAAzB,EAAmC,aAAnC,EAAkD1mB,MAAlD,CAAZ;AACA,cAAI8xF,YAAYp1F,KAAKoD,mBAAL,CAAyB4mB,QAAzB,EAAmC,YAAnC,EAAiD1mB,MAAjD,CAAhB;AACA,cAAImmC,UAAU5mC,IAAI4nB,MAAJ,CAAWwqE,QAAQ,eAAnB,EAAoC/uD,OAAlD;AACA,cAAIwD,UAAU7mC,IAAI4nB,MAAJ,CAAWwqE,QAAQ,eAAnB,EAAoC/uD,OAAlD;;AAEA,cAAIvqB,SAAS9Y,IAAI8Y,MAAJ,EAAb;AACA,cAAIL,SAASzY,IAAIyY,MAAJ,EAAb;;AAEA,cAAI6tB,SAAStmC,IAAI4nB,MAAJ,CAAW,aAAX,EAA0BtwB,KAAvC;AACA,cAAIivC,SAASvmC,IAAI4nB,MAAJ,CAAW,aAAX,EAA0BtwB,KAAvC;;AAEA,cAAIwhB,MAAJ,EAAY;AACVwtB,qBAAS,QAAT;AACAC,qBAAS,QAAT;AACD;;AAEDyoC,mBAASpoC,OAAT;AACAqoC,mBAASpoC,OAAT;;AAEA,cAAIC,WAAW9mC,IAAI4nB,MAAJ,CAAW,eAAX,CAAf;AACA,cAAI4f,KAAJ;;AAEA,cAAIV,SAAST,QAAT,KAAsB,YAA1B,EAAwC;AACtCmB,oBAAQ1uB,SAASy5E,SAAT,GAAqB,CAA7B;AACD,WAFD,MAEO,IAAIzrD,SAAST,QAAT,KAAsB,MAA1B,EAAkC;AACvCmB,oBAAQ,CAAR;AACD,WAFM,MAEA;AACLA,oBAAQV,SAASzD,OAAjB;AACD;;AAED,cAAImE,UAAU,CAAd,EAAiB;AACf,gBAAIgrD,WAAWxjB,KAAf;AACA,gBAAIyjB,WAAWxjB,KAAf;;AAEA/vD,oBAAQ+rE,SAAR,CAAkBuH,QAAlB,EAA4BC,QAA5B;AACAvzE,oBAAQuoB,MAAR,CAAeD,KAAf;;AAEAwnC,oBAAQ,CAAR;AACAC,oBAAQ,CAAR;AACD;;AAED,kBAAQ1oC,MAAR;AACE,iBAAK,KAAL;AACE;AACF,iBAAK,QAAL;AACE0oC,uBAASqjB,QAAQ,CAAjB;AACA;AACF,iBAAK,QAAL;AACErjB,uBAASqjB,KAAT;AACA;AARJ;;AAWA,cAAII,oBAAoB1yF,IAAI4nB,MAAJ,CAAW,yBAAX,EAAsCtwB,KAA9D;AACA,cAAIq7F,gBAAgB3yF,IAAI4nB,MAAJ,CAAW,qBAAX,EAAkCtwB,KAAtD;AACA,cAAIs7F,kBAAkB5yF,IAAI4nB,MAAJ,CAAW,mBAAX,EAAgCyb,OAAtD;AACA,cAAIwvD,oBAAoB7yF,IAAI4nB,MAAJ,CAAW,yBAAX,EAAsCyb,OAA9D;;AAEA,cAAIqvD,oBAAoB,CAApB,IAAyBE,kBAAkB,CAAlB,IAAuBD,gBAAgB,CAApE,EAAuE;AACrE,gBAAIG,MAAM9jB,QAAQ6jB,iBAAlB;;AAEA,oBAAQvsD,MAAR;AACE,mBAAK,MAAL;AACEwsD,uBAAOT,KAAP;AACA;AACF,mBAAK,QAAL;AACES,uBAAOT,QAAQ,CAAf;AACA;AACF,mBAAK,OAAL;AACE;AARJ;;AAWA,gBAAIU,MAAM9jB,QAAQqjB,KAAR,GAAgBO,iBAA1B;AACA,gBAAIG,MAAMX,QAAQ,IAAIQ,iBAAtB;AACA,gBAAII,MAAMX,QAAQ,IAAIO,iBAAtB;;AAEA,gBAAIH,oBAAoB,CAAxB,EAA2B;AACzB,kBAAIQ,WAAWh0E,QAAQiuE,SAAvB;AACA,kBAAIgG,sBAAsBnzF,IAAI4nB,MAAJ,CAAW,uBAAX,EAAoCtwB,KAA9D;;AAEA4nB,sBAAQiuE,SAAR,GAAoB,UAAUgG,oBAAoB,CAApB,CAAV,GAAmC,GAAnC,GAAyCA,oBAAoB,CAApB,CAAzC,GAAkE,GAAlE,GAAwEA,oBAAoB,CAApB,CAAxE,GAAiG,GAAjG,GAAuGT,oBAAoB78C,aAA3H,GAA2I,GAA/J;AACA,kBAAIu9C,aAAapzF,IAAI4nB,MAAJ,CAAW,uBAAX,EAAoCye,QAArD;AACA,kBAAI+sD,cAAc,gBAAlB,EAAoC;AAClClB,0BAAUhzE,OAAV,EAAmB4zE,GAAnB,EAAwBC,GAAxB,EAA6BC,GAA7B,EAAkCC,GAAlC,EAAuC,CAAvC;AACD,eAFD,MAEO;AACL/zE,wBAAQ6vE,QAAR,CAAiB+D,GAAjB,EAAsBC,GAAtB,EAA2BC,GAA3B,EAAgCC,GAAhC;AACD;AACD/zE,sBAAQiuE,SAAR,GAAoB+F,QAApB;AACD;;AAED,gBAAIN,kBAAkB,CAAlB,IAAuBD,gBAAgB,CAA3C,EAA8C;AAC5C,kBAAIU,aAAan0E,QAAQusE,WAAzB;AACA,kBAAI6H,gBAAgBp0E,QAAQsmD,SAA5B;AACA,kBAAI+tB,kBAAkBvzF,IAAI4nB,MAAJ,CAAW,mBAAX,EAAgCtwB,KAAtD;AACA,kBAAIk8F,kBAAkBxzF,IAAI4nB,MAAJ,CAAW,mBAAX,EAAgCtwB,KAAtD;;AAEA4nB,sBAAQusE,WAAR,GAAsB,UAAU8H,gBAAgB,CAAhB,CAAV,GAA+B,GAA/B,GAAqCA,gBAAgB,CAAhB,CAArC,GAA0D,GAA1D,GAAgEA,gBAAgB,CAAhB,CAAhE,GAAqF,GAArF,GAA2FZ,gBAAgB98C,aAA3G,GAA2H,GAAjJ;AACA32B,sBAAQsmD,SAAR,GAAoBotB,eAApB;;AAEA,kBAAI1zE,QAAQwtE,WAAZ,EAAyB;AACvB;AACA,wBAAQ8G,eAAR;AACE,uBAAK,QAAL;AACEt0E,4BAAQwtE,WAAR,CAAoB,CAAC,CAAD,EAAI,CAAJ,CAApB;AACA;AACF,uBAAK,QAAL;AACExtE,4BAAQwtE,WAAR,CAAoB,CAAC,CAAD,EAAI,CAAJ,CAApB;AACA;AACF,uBAAK,QAAL;AACExtE,4BAAQsmD,SAAR,GAAoBotB,kBAAkB,CAAtC,CADF,CAC2C;AACzC1zE,4BAAQwtE,WAAR,CAAoB,EAApB;AACA;AACF,uBAAK,OAAL;AACExtE,4BAAQwtE,WAAR,CAAoB,EAApB;AACA;AAbJ;AAeD;;AAEDxtE,sBAAQu0E,UAAR,CAAmBX,GAAnB,EAAwBC,GAAxB,EAA6BC,GAA7B,EAAkCC,GAAlC;;AAEA,kBAAIO,oBAAoB,QAAxB,EAAkC;AAChC,oBAAIE,aAAad,kBAAkB,CAAnC;;AAEA1zE,wBAAQu0E,UAAR,CAAmBX,MAAMY,UAAzB,EAAqCX,MAAMW,UAA3C,EAAuDV,MAAMU,aAAa,CAA1E,EAA6ET,MAAMS,aAAa,CAAhG;AACD;;AAED,kBAAIx0E,QAAQwtE,WAAZ,EAAyB;AACvB;AACAxtE,wBAAQwtE,WAAR,CAAoB,EAApB;AACD;AACDxtE,sBAAQsmD,SAAR,GAAoB8tB,aAApB;AACAp0E,sBAAQusE,WAAR,GAAsB4H,UAAtB;AACD;AACF;;AAED,cAAI7tB,YAAY,IAAIxlE,IAAI4nB,MAAJ,CAAW,oBAAX,EAAiCyb,OAArD,CA3IiE,CA2IH;;AAE9D,cAAImiC,YAAY,CAAhB,EAAmB;AACjBtmD,oBAAQsmD,SAAR,GAAoBA,SAApB;AACD;;AAED,cAAIxlE,IAAI4nB,MAAJ,CAAW,WAAX,EAAwBtwB,KAAxB,KAAkC,MAAtC,EAA8C;AAC5C,gBAAIg2E,QAAQnwE,KAAKoD,mBAAL,CAAyB4mB,QAAzB,EAAmC,sBAAnC,EAA2D1mB,MAA3D,CAAZ;AACA,gBAAIqzE,aAAawe,QAAQhlB,MAAM9tE,MAA/B;;AAEA,oBAAQ+mC,MAAR;AACE,mBAAK,KAAL;AACE0oC,yBAAS,CAAC3B,MAAM9tE,MAAN,GAAe,CAAhB,IAAqBs0E,UAA9B;AACA;AACF,mBAAK,QAAL;AACA,mBAAK,QAAL;AACE7E,yBAAS,CAAC3B,MAAM9tE,MAAN,GAAe,CAAhB,IAAqBs0E,UAA9B;AACA;AAPJ;;AAUA,iBAAK,IAAI58E,IAAI,CAAb,EAAgBA,IAAIo2E,MAAM9tE,MAA1B,EAAkCtI,GAAlC,EAAuC;AACrC,kBAAIsuE,YAAY,CAAhB,EAAmB;AACjBtmD,wBAAQy0E,UAAR,CAAmBrmB,MAAMp2E,CAAN,CAAnB,EAA6B83E,KAA7B,EAAoCC,KAApC;AACD;;AAED/vD,sBAAQ00E,QAAR,CAAiBtmB,MAAMp2E,CAAN,CAAjB,EAA2B83E,KAA3B,EAAkCC,KAAlC;;AAEAA,uBAAS6E,UAAT;AACD;AACF,WAvBD,MAuBO;AACL,gBAAItO,YAAY,CAAhB,EAAmB;AACjBtmD,sBAAQy0E,UAAR,CAAmBjgF,IAAnB,EAAyBs7D,KAAzB,EAAgCC,KAAhC;AACD;;AAED/vD,oBAAQ00E,QAAR,CAAiBlgF,IAAjB,EAAuBs7D,KAAvB,EAA8BC,KAA9B;AACD;;AAED,cAAIznC,UAAU,CAAd,EAAiB;AACftoB,oBAAQuoB,MAAR,CAAe,CAACD,KAAhB;AACAtoB,oBAAQ+rE,SAAR,CAAkB,CAACuH,QAAnB,EAA6B,CAACC,QAA9B;AACD;AACF;AACF,OAjMD;;AAmMAl8F,aAAOD,OAAP,GAAiBuzF,GAAjB;;AAEA;AAAO,KA/ksBG;AAglsBV;AACA,SAAO,UAAStzF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA;;AAEA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAI8yF,MAAM,EAAV;;AAEAA,UAAIkE,QAAJ,GAAe,UAAU7uE,OAAV,EAAmB7F,IAAnB,EAAyByxE,mBAAzB,EAA8CC,SAA9C,EAAyD;AACtE,YAAI1jF,IAAI,IAAR;AACA,YAAI6nE,YAAY,KAAK,CAArB;AAAA,YACIC,aAAa,KAAK,CADtB;AAEA,YAAIltD,KAAK5I,KAAKze,QAAd;AACA,YAAIsjE,KAAKj8C,GAAGkF,QAAZ;AACA,YAAI1oB,MAAM4a,KAAK9B,QAAL,EAAV;;AAEA,YAAI,CAAC9d,GAAGQ,MAAH,CAAUwE,IAAIC,CAAd,CAAD,IAAqB,CAACjF,GAAGQ,MAAH,CAAUwE,IAAIE,CAAd,CAA1B,EAA4C;AAC1C,iBAD0C,CAClC;AACT;;AAED,YAAI,CAAC0a,KAAK4R,OAAL,EAAL,EAAqB;AACnB;AACD;;AAED,YAAI4qB,gBAAgBx8B,KAAKu8B,gBAAL,EAApB;;AAEA,YAAIo1C,WAAW3jF,EAAE2jF,QAAF,EAAf;AACA,YAAIp3D,OAAO,KAAK,CAAhB;AACA,YAAIy4D,eAAe,KAAnB;;AAEA,YAAIroF,UAAUqV,KAAKrV,OAAL,EAAd;;AAEAkrE,oBAAY71D,KAAK5U,KAAL,KAAe,IAAIT,OAA/B;AACAmrE,qBAAa91D,KAAK3U,MAAL,KAAgB,IAAIV,OAAjC;;AAEA;AACA;;AAEA,YAAIT,KAAK,KAAK,CAAd;AACA,YAAIunF,mBAAJ,EAAyB;AACvBvnF,eAAKunF,mBAAL;;AAEA5rE,kBAAQ+rE,SAAR,CAAkB,CAAC1nF,GAAG9H,EAAtB,EAA0B,CAAC8H,GAAG5H,EAA9B;AACD;;AAED;AACA;;AAEA,YAAIk4F,YAAYx6E,KAAKuO,MAAL,CAAY,kBAAZ,CAAhB;AACA,YAAIksE,OAAOD,UAAUv8F,KAArB;AACA,YAAIy8F,aAAa,IAAIj6F,KAAJ,CAAUg6F,KAAKt0F,MAAf,CAAjB;AACA,YAAIo3E,QAAQ,IAAI98E,KAAJ,CAAUg6F,KAAKt0F,MAAf,CAAZ;AACA,YAAIw0F,YAAY,CAAhB;AACA,aAAK,IAAI/8F,IAAI,CAAb,EAAgBA,IAAI68F,KAAKt0F,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAIu/E,MAAMsd,KAAK78F,CAAL,CAAV;AACA,cAAIg9F,OAAOF,WAAW98F,CAAX,IAAgBu/E,OAAO,IAAP,IAAeA,QAAQ,MAAlD;;AAEA,cAAIyd,IAAJ,EAAU;AACR,gBAAIC,mBAAmB76E,KAAKzD,EAAL,GAAU7a,KAAV,GAAkB00F,eAAlB,CAAkCp2E,IAAlC,EAAwC,8BAAxC,EAAwE,OAAxE,EAAiFpiB,CAAjF,CAAvB;;AAEA+8F;;AAEA;AACApd,kBAAM3/E,CAAN,IAAWoQ,EAAEkvE,cAAF,CAAiBC,GAAjB,EAAsB0d,gBAAtB,EAAwC,YAAY;AAC7D76E,mBAAKiB,aAAL,CAAmB,YAAnB;AACD,aAFU,CAAX;AAGD;AACF;;AAED;AACA;;AAEA,YAAI65E,WAAW96E,KAAKuO,MAAL,CAAY,oBAAZ,EAAkCtwB,KAAjD;AACA,YAAI0vC,cAAc3tB,KAAKuO,MAAL,CAAY,cAAZ,EAA4Byb,OAA9C;AACA,YAAI+wD,UAAU/6E,KAAKuO,MAAL,CAAY,kBAAZ,EAAgCtwB,KAA9C;AACA,YAAI+8F,YAAYh7E,KAAKuO,MAAL,CAAY,oBAAZ,EAAkCtwB,KAAlC,GAA0Cu+C,aAA1D;AACA,YAAIy+C,cAAcj7E,KAAKuO,MAAL,CAAY,cAAZ,EAA4BtwB,KAA9C;AACA,YAAIi9F,cAAcl7E,KAAKuO,MAAL,CAAY,cAAZ,EAA4BtwB,KAA9C;AACA,YAAIq7F,gBAAgBt5E,KAAKuO,MAAL,CAAY,gBAAZ,EAA8BtwB,KAA9B,GAAsCu+C,aAA1D;;AAEA32B,gBAAQ+sE,QAAR,GAAmB,OAAnB,CAxEsE,CAwE1C;;AAE5B,YAAIuI,kBAAkB,SAASA,eAAT,GAA2B;AAC/C,cAAIC,QAAQ12F,UAAUyB,MAAV,GAAmB,CAAnB,IAAwBzB,UAAU,CAAV,MAAiBvD,SAAzC,GAAqDuD,UAAU,CAAV,CAArD,GAAoEs2F,SAAhF;;AAEAhtF,YAAE8lF,SAAF,CAAYjuE,OAAZ,EAAqBk1E,QAAQ,CAAR,CAArB,EAAiCA,QAAQ,CAAR,CAAjC,EAA6CA,QAAQ,CAAR,CAA7C,EAAyDK,KAAzD;AACD,SAJD;;AAMA,YAAIC,mBAAmB,SAASA,gBAAT,GAA4B;AACjD,cAAIC,SAAS52F,UAAUyB,MAAV,GAAmB,CAAnB,IAAwBzB,UAAU,CAAV,MAAiBvD,SAAzC,GAAqDuD,UAAU,CAAV,CAArD,GAAoE40F,aAAjF;;AAEAtrF,YAAEokF,WAAF,CAAcvsE,OAAd,EAAuBo1E,YAAY,CAAZ,CAAvB,EAAuCA,YAAY,CAAZ,CAAvC,EAAuDA,YAAY,CAAZ,CAAvD,EAAuEK,MAAvE;AACD,SAJD;;AAMA;AACA;;AAEA,YAAIvB,aAAa/5E,KAAKuO,MAAL,CAAY,OAAZ,EAAqBye,QAAtC;AACA,YAAIuuD,WAAWv7E,KAAKuO,MAAL,CAAY,sBAAZ,EAAoCyb,OAAnD;;AAEA,YAAI2nD,QAAJ,EAAc;AACZ,cAAIsB,eAAe8G,aAAa,GAAb,GAAmBlkB,SAAnB,GAA+B,GAA/B,GAAqCC,UAArC,IAAmDikB,eAAe,SAAf,GAA2B,MAAMwB,SAAS7oE,IAAT,CAAc,GAAd,CAAjC,GAAsD,EAAzG,CAAnB;;AAEA7M,kBAAQ+rE,SAAR,CAAkBxsF,IAAIC,CAAtB,EAAyBD,IAAIE,CAA7B;;AAEA,cAAIu/D,GAAGouB,YAAH,KAAoBA,YAAxB,EAAsC;AACpC14D,mBAAOsqC,GAAGsuB,SAAV;AACAH,2BAAe,IAAf;AACD,WAHD,MAGO;AACLz4D,mBAAO,IAAI64D,MAAJ,EAAP;AACAvuB,eAAGouB,YAAH,GAAkBA,YAAlB;AACApuB,eAAGsuB,SAAH,GAAe54D,IAAf;AACD;AACF;;AAED,YAAIihE,YAAY,SAASA,SAAT,GAAqB;AACnC,cAAI,CAACxI,YAAL,EAAmB;;AAEjB,gBAAIrf,OAAOvuE,GAAX;;AAEA,gBAAIusF,QAAJ,EAAc;AACZhe,qBAAO;AACLtuE,mBAAG,CADE;AAELC,mBAAG;AAFE,eAAP;AAID;;AAED0I,cAAEy2D,UAAF,CAAaz2D,EAAE02D,YAAF,CAAe1kD,IAAf,CAAb,EAAmCmhD,IAAnC,CAAwC5mC,QAAQ1U,OAAhD,EAAyD8tD,KAAKtuE,CAA9D,EAAiEsuE,KAAKruE,CAAtE,EAAyEuwE,SAAzE,EAAoFC,UAApF;AACD;;AAED,cAAI6b,QAAJ,EAAc;AACZ9rE,oBAAQmuE,IAAR,CAAaz5D,IAAb;AACD,WAFD,MAEO;AACL1U,oBAAQmuE,IAAR;AACD;AACF,SApBD;;AAsBA,YAAIyH,aAAa,SAASA,UAAT,GAAsB;AACrC,cAAIvF,cAAcxxF,UAAUyB,MAAV,GAAmB,CAAnB,IAAwBzB,UAAU,CAAV,MAAiBvD,SAAzC,GAAqDuD,UAAU,CAAV,CAArD,GAAoE83C,aAAtF;;AAEA,cAAIk/C,YAAY9yE,GAAGoF,aAAnB;AACA,cAAI2tE,iBAAiB,CAArB;;AAEA,eAAK,IAAIpmF,KAAK,CAAd,EAAiBA,KAAKgoE,MAAMp3E,MAA5B,EAAoCoP,IAApC,EAA0C;AACxC,gBAAImlF,WAAWnlF,EAAX,KAAkBgoE,MAAMhoE,EAAN,EAAUkiB,QAA5B,IAAwC,CAAC8lD,MAAMhoE,EAAN,EAAUjR,KAAvD,EAA8D;AAC5Dq3F;AACA3tF,gBAAEioF,kBAAF,CAAqBpwE,OAArB,EAA8B03D,MAAMhoE,EAAN,CAA9B,EAAyCyK,IAAzC,EAA+CzK,EAA/C,EAAmD2gF,WAAnD;AACD;AACF;;AAEDttE,aAAGoF,aAAH,GAAmB,EAAE2tE,mBAAmBhB,SAArB,CAAnB;AACA,cAAIe,cAAc9yE,GAAGoF,aAArB,EAAoC;AAClC;AACAhO,iBAAKgB,WAAL,CAAiB,KAAjB;AACD;AACF,SAlBD;;AAoBA,YAAI46E,UAAU,SAASA,OAAT,GAAmB;AAC/B,cAAIC,cAAcn3F,UAAUyB,MAAV,GAAmB,CAAnB,IAAwBzB,UAAU,CAAV,MAAiBvD,SAAzC,GAAqDuD,UAAU,CAAV,CAArD,GAAoE,KAAtF;AACA,cAAIo3F,aAAap3F,UAAUyB,MAAV,GAAmB,CAAnB,IAAwBzB,UAAU,CAAV,MAAiBvD,SAAzC,GAAqDuD,UAAU,CAAV,CAArD,GAAoE83C,aAArF;;AAEA,cAAIxuC,EAAEwlB,MAAF,CAASxT,IAAT,CAAJ,EAAoB;AAClBhS,cAAE4tF,OAAF,CAAU/1E,OAAV,EAAmB7F,IAAnB,EAAyB87E,UAAzB;;AAEA;AACA,gBAAID,WAAJ,EAAiB;;AAEf,kBAAI,CAAClK,QAAL,EAAe;AACb3jF,kBAAEy2D,UAAF,CAAaz2D,EAAE02D,YAAF,CAAe1kD,IAAf,CAAb,EAAmCmhD,IAAnC,CAAwCt7C,OAAxC,EAAiDzgB,IAAIC,CAArD,EAAwDD,IAAIE,CAA5D,EAA+DuwE,SAA/D,EAA0EC,UAA1E;AACD;AACF;AACF;AACF,SAfD;;AAiBA,YAAIimB,SAAS,SAASA,MAAT,GAAkB;AAC7B,cAAIC,gBAAgBt3F,UAAUyB,MAAV,GAAmB,CAAnB,IAAwBzB,UAAU,CAAV,MAAiBvD,SAAzC,GAAqDuD,UAAU,CAAV,CAArD,GAAoE83C,aAAxF;;AAEA,cAAIC,UAAU,CAACq+C,WAAW,CAAX,GAAeA,QAAf,GAA0B,CAACA,QAA5B,IAAwCkB,aAAtD;AACA,cAAIh+F,IAAI88F,WAAW,CAAX,GAAe,CAAf,GAAmB,GAA3B;;AAEA,cAAIA,aAAa,CAAjB,EAAoB;AAClB9sF,cAAE8lF,SAAF,CAAYjuE,OAAZ,EAAqB7nB,CAArB,EAAwBA,CAAxB,EAA2BA,CAA3B,EAA8By+C,OAA9B;;AAEA,gBAAIk1C,QAAJ,EAAc;AACZ9rE,sBAAQmuE,IAAR,CAAaz5D,IAAb;AACD,aAFD,MAEO;AACL1U,sBAAQmuE,IAAR;AACD;AACF;AACF,SAfD;;AAiBA,YAAIiI,aAAa,SAASA,UAAT,GAAsB;AACrC,cAAItuD,cAAc,CAAlB,EAAqB;;AAEnB9nB,oBAAQsmD,SAAR,GAAoBx+B,WAApB;AACA9nB,oBAAQssE,OAAR,GAAkB,MAAlB;;AAEA,gBAAItsE,QAAQwtE,WAAZ,EAAyB;AACvB;AACA,sBAAQ6H,WAAR;AACE,qBAAK,QAAL;AACEr1E,0BAAQwtE,WAAR,CAAoB,CAAC,CAAD,EAAI,CAAJ,CAApB;AACA;;AAEF,qBAAK,QAAL;AACExtE,0BAAQwtE,WAAR,CAAoB,CAAC,CAAD,EAAI,CAAJ,CAApB;AACA;;AAEF,qBAAK,OAAL;AACA,qBAAK,QAAL;AACExtE,0BAAQwtE,WAAR,CAAoB,EAApB;AACA;AAZJ;AAcD;;AAED,gBAAI1B,QAAJ,EAAc;AACZ9rE,sBAAQytE,MAAR,CAAe/4D,IAAf;AACD,aAFD,MAEO;AACL1U,sBAAQytE,MAAR;AACD;;AAED,gBAAI4H,gBAAgB,QAApB,EAA8B;AAC5Br1E,sBAAQsmD,SAAR,GAAoBx+B,cAAc,CAAlC;;AAEA,kBAAIimD,MAAM/tE,QAAQguE,wBAAlB;AACAhuE,sBAAQguE,wBAAR,GAAmC,iBAAnC;;AAEA,kBAAIlC,QAAJ,EAAc;AACZ9rE,wBAAQytE,MAAR,CAAe/4D,IAAf;AACD,eAFD,MAEO;AACL1U,wBAAQytE,MAAR;AACD;;AAEDztE,sBAAQguE,wBAAR,GAAmCD,GAAnC;AACD;;AAED;AACA,gBAAI/tE,QAAQwtE,WAAZ,EAAyB;AACvB;AACAxtE,sBAAQwtE,WAAR,CAAoB,EAApB;AACD;AACF;AACF,SAnDD;;AAqDA,YAAIf,cAAc,SAASA,WAAT,GAAuB;AACvC,cAAIrjD,iBAAiBjvB,KAAKuO,MAAL,CAAY,iBAAZ,EAA+Byb,OAApD;AACA,cAAIgF,iBAAiBhvB,KAAKuO,MAAL,CAAY,iBAAZ,EAA+BtwB,KAApD;AACA,cAAI6zF,eAAe9xE,KAAKuO,MAAL,CAAY,eAAZ,EAA6BtwB,KAAhD;;AAEA,cAAI+wC,iBAAiB,CAArB,EAAwB;AACtBhhC,cAAE8lF,SAAF,CAAYjuE,OAAZ,EAAqBisE,aAAa,CAAb,CAArB,EAAsCA,aAAa,CAAb,CAAtC,EAAuDA,aAAa,CAAb,CAAvD,EAAwE9iD,cAAxE;;AAEAhhC,cAAEy2D,UAAF,CAAa,gBAAb,EAA+BtD,IAA/B,CAAoCt7C,OAApC,EAA6CzgB,IAAIC,CAAjD,EAAoDD,IAAIE,CAAxD,EAA2DuwE,YAAY5mC,iBAAiB,CAAxF,EAA2F6mC,aAAa7mC,iBAAiB,CAAzH;;AAEAppB,oBAAQmuE,IAAR;AACD;AACF,SAZD;;AAcA,YAAItB,WAAW,SAASA,QAAT,GAAoB;AACjC1kF,YAAE2kF,eAAF,CAAkB9sE,OAAlB,EAA2B7F,IAA3B,EAAiC0xE,SAAjC;AACD,SAFD;;AAIA,YAAIphD,QAAQtwB,KAAKuO,MAAL,CAAY,OAAZ,EAAqBtwB,KAArB,KAA+B,KAA3C;;AAEA,YAAIqyC,KAAJ,EAAW;AACT,cAAIC,KAAKvwB,KAAKuO,MAAL,CAAY,gBAAZ,EAA8Byb,OAAvC;AACA,cAAIwG,KAAKxwB,KAAKuO,MAAL,CAAY,gBAAZ,EAA8Byb,OAAvC;AACA,cAAI6oD,eAAe7yE,KAAKuO,MAAL,CAAY,eAAZ,EAA6BtwB,KAAhD;AACA,cAAIi+F,kBAAkBrJ,eAAer2C,aAArC;;AAEA32B,kBAAQ+rE,SAAR,CAAkBrhD,EAAlB,EAAsBC,EAAtB;;AAEA2qD,0BAAgBtI,eAAemI,SAA/B;AACAQ;AACAC,qBAAWS,eAAX;AACAN,kBAAQd,aAAa,CAAb,IAAkBntD,gBAAgB,CAA1C;AACAouD,iBAAOG,eAAP;AACAb,2BAAiBxI,eAAeyG,aAAhC;AACA2C;;AAEAp2E,kBAAQ+rE,SAAR,CAAkB,CAACrhD,EAAnB,EAAuB,CAACC,EAAxB;AACD;;AAED2qD;AACAK;AACAC;AACAG,gBAAQd,aAAa,CAAb,IAAkBntD,gBAAgB,CAA1C;AACAouD;AACAV;AACAY;;AAEA,YAAItK,QAAJ,EAAc;AACZ9rE,kBAAQ+rE,SAAR,CAAkB,CAACxsF,IAAIC,CAAvB,EAA0B,CAACD,IAAIE,CAA/B;AACD;;AAEDotF;AACAJ;;AAEA;AACA;;AAEA,YAAIb,mBAAJ,EAAyB;AACvB5rE,kBAAQ+rE,SAAR,CAAkB1nF,GAAG9H,EAArB,EAAyB8H,GAAG5H,EAA5B;AACD;AACF,OAxSD;;AA0SA;AACAkuF,UAAIh9D,MAAJ,GAAa,UAAUxT,IAAV,EAAgB;AAC3BA,eAAOA,KAAK,CAAL,CAAP,CAD2B,CACX;;AAEhB,eAAOA,KAAKze,QAAL,CAAciyB,MAArB;AACD,OAJD;;AAMAg9D,UAAIoL,OAAJ,GAAc,UAAU/1E,OAAV,EAAmB7F,IAAnB,EAAyBk2E,WAAzB,EAAsC9wF,GAAtC,EAA2C;AACvD4a,eAAOA,KAAK,CAAL,CAAP,CADuD,CACvC;AAChB5a,cAAMA,OAAO4a,KAAK9B,QAAL,EAAb;;AAEA,YAAIi+E,UAAUn8E,KAAKzD,EAAL,GAAU7a,KAAV,EAAd;AACA,YAAI06F,UAAUp8E,KAAKuO,MAAL,CAAY,UAAZ,CAAd;AACA,YAAIlpB,IAAID,IAAIC,CAAZ;AACA,YAAIC,IAAIF,IAAIE,CAAZ;AACA,YAAIk3E,QAAQx8D,KAAK5U,KAAL,EAAZ;AACA,YAAIqxE,QAAQz8D,KAAK3U,MAAL,EAAZ;AACA,YAAIqH,SAAS3R,KAAKiJ,GAAL,CAASwyE,KAAT,EAAgBC,KAAhB,IAAyB,CAAtC,CAVuD,CAUd;AACzC,YAAI4f,cAAc,CAAlB,CAXuD,CAWlC;AACrB,YAAI1K,WAAW,KAAKA,QAAL,EAAf;;AAEA,YAAIA,QAAJ,EAAc;AACZtsF,cAAI,CAAJ;AACAC,cAAI,CAAJ;AACD;;AAED,YAAI82F,QAAQnxD,KAAR,KAAkB,GAAtB,EAA2B;AACzBv4B,mBAASA,SAAS0pF,QAAQpyD,OAA1B;AACD,SAFD,MAEO,IAAIoyD,QAAQpyD,OAAR,KAAoB7oC,SAAxB,EAAmC;AACxCuR,mBAAS0pF,QAAQpyD,OAAR,GAAkB,CAA3B;AACD;;AAED,aAAK,IAAIpsC,IAAI,CAAb,EAAgBA,KAAKu+F,QAAQG,cAA7B,EAA6C1+F,GAA7C,EAAkD;AAChD;AACA,cAAI0c,OAAO0F,KAAKuO,MAAL,CAAY,SAAS3wB,CAAT,GAAa,kBAAzB,EAA6CK,KAAxD;AACA,cAAImnD,QAAQplC,KAAKuO,MAAL,CAAY,SAAS3wB,CAAT,GAAa,mBAAzB,EAA8CK,KAA1D;AACA,cAAIw+C,UAAUz8B,KAAKuO,MAAL,CAAY,SAAS3wB,CAAT,GAAa,qBAAzB,EAAgDK,KAAhD,GAAwDi4F,WAAtE;AACA,cAAIjxC,UAAU3qC,OAAO,GAArB,CALgD,CAKtB;;AAE1B;AACA,cAAI2qC,UAAUo3C,WAAV,GAAwB,CAA5B,EAA+B;AAC7Bp3C,sBAAU,IAAIo3C,WAAd;AACD;;AAED,cAAIE,aAAa,MAAMx7F,KAAKsH,EAAX,GAAgB,IAAItH,KAAKsH,EAAT,GAAcg0F,WAA/C,CAZgD,CAYY;AAC5D,cAAIG,aAAa,IAAIz7F,KAAKsH,EAAT,GAAc48C,OAA/B;AACA,cAAIw3C,WAAWF,aAAaC,UAA5B;;AAEA;AACA;AACA;AACA;AACA,cAAIliF,SAAS,CAAT,IAAc+hF,eAAe,CAA7B,IAAkCA,cAAcp3C,OAAd,GAAwB,CAA9D,EAAiE;AAC/D;AACD;;AAEDp/B,kBAAQorE,SAAR;AACAprE,kBAAQurE,MAAR,CAAe/rF,CAAf,EAAkBC,CAAlB;AACAugB,kBAAQ0rE,GAAR,CAAYlsF,CAAZ,EAAeC,CAAf,EAAkBoN,MAAlB,EAA0B6pF,UAA1B,EAAsCE,QAAtC;AACA52E,kBAAQqrE,SAAR;;AAEA,eAAK4C,SAAL,CAAejuE,OAAf,EAAwBu/B,MAAM,CAAN,CAAxB,EAAkCA,MAAM,CAAN,CAAlC,EAA4CA,MAAM,CAAN,CAA5C,EAAsD3I,OAAtD;;AAEA52B,kBAAQmuE,IAAR;;AAEAqI,yBAAep3C,OAAf;AACD;AACF,OA5DD;;AA8DA/nD,aAAOD,OAAP,GAAiBuzF,GAAjB;;AAEA;AAAO,KA78sBG;AA88sBV;AACA,SAAO,UAAStzF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI8yF,MAAM,EAAV;;AAEA,UAAI1sF,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAIg/F,kBAAkB,GAAtB;;AAEA;;AAEAlM,UAAI5/D,aAAJ,GAAoB,YAAY;AAC9B,YAAI/K,UAAU,KAAKzK,IAAL,CAAUuhF,QAAV,CAAmB,CAAnB,CAAd;;AAEA,YAAI,KAAKrd,gBAAL,IAAyB,IAA7B,EAAmC;AACjC,iBAAO,KAAKA,gBAAZ;AACD;;AAED,YAAIsd,eAAe/2E,QAAQg3E,sBAAR,IAAkCh3E,QAAQi3E,4BAA1C,IAA0Ej3E,QAAQk3E,yBAAlF,IAA+Gl3E,QAAQm3E,wBAAvH,IAAmJn3E,QAAQo3E,uBAA3J,IAAsLp3E,QAAQg3E,sBAA9L,IAAwN,CAA3O;;AAEA,eAAO,CAACn9F,OAAOw9F,gBAAP,IAA2B,CAA5B,IAAiCN,YAAxC,CAT8B,CASwB;AACvD,OAVD;;AAYApM,UAAI2M,UAAJ,GAAiB,UAAUt3E,OAAV,EAAmB;AAClC,YAAIu3E,SAAS,KAAKC,WAAL,GAAmB,KAAKA,WAAL,IAAoB,EAApD;AACA,YAAIC,oBAAoB,IAAxB;AACA,YAAInpE,KAAJ;;AAEA,aAAK,IAAIv2B,IAAI,CAAb,EAAgBA,IAAIw/F,OAAOj3F,MAA3B,EAAmCvI,GAAnC,EAAwC;AACtCu2B,kBAAQipE,OAAOx/F,CAAP,CAAR;;AAEA,cAAIu2B,MAAMtO,OAAN,KAAkBA,OAAtB,EAA+B;AAC7By3E,gCAAoB,KAApB;AACA;AACD;AACF;;AAED,YAAIA,iBAAJ,EAAuB;AACrBnpE,kBAAQ;AACNtO,qBAASA;AADH,WAAR;AAGAu3E,iBAAOr2F,IAAP,CAAYotB,KAAZ;AACD;;AAED,eAAOA,KAAP;AACD,OAtBD;;AAwBAq8D,UAAIsD,SAAJ,GAAgB,UAAUjuE,OAAV,EAAmB7X,CAAnB,EAAsB8uB,CAAtB,EAAyBr3B,CAAzB,EAA4BD,CAA5B,EAA+B;AAC7CqgB,gBAAQiuE,SAAR,GAAoB,UAAU9lF,CAAV,GAAc,GAAd,GAAoB8uB,CAApB,GAAwB,GAAxB,GAA8Br3B,CAA9B,GAAkC,GAAlC,GAAwCD,CAAxC,GAA4C,GAAhE;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACD,OAZD;;AAcAgrF,UAAI4B,WAAJ,GAAkB,UAAUvsE,OAAV,EAAmB7X,CAAnB,EAAsB8uB,CAAtB,EAAyBr3B,CAAzB,EAA4BD,CAA5B,EAA+B;AAC/CqgB,gBAAQusE,WAAR,GAAsB,UAAUpkF,CAAV,GAAc,GAAd,GAAoB8uB,CAApB,GAAwB,GAAxB,GAA8Br3B,CAA9B,GAAkC,GAAlC,GAAwCD,CAAxC,GAA4C,GAAlE;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACD,OAZD;;AAcA;AACAgrF,UAAIlQ,eAAJ,GAAsB,UAAUp4D,SAAV,EAAqB;AACzC,YAAIla,IAAI,IAAR;AACA,YAAIoN,OAAOpN,EAAEoN,IAAb;AACA,YAAIlR,KAAK8D,EAAEs0D,yBAAF,EAAT;AACA,YAAIl3D,QAAQlB,GAAG,CAAH,CAAZ;AACA,YAAImB,SAASnB,GAAG,CAAH,CAAb;AACA,YAAI6gB,aAAa/c,EAAE4iB,aAAF,EAAjB;AACA,YAAI2sE,YAAYvvF,EAAEwxE,iBAAlB;;AAEA,YAAIt3D,cAAcla,EAAEoN,IAAF,CAAOoiF,cAAP,CAAsBxvF,EAAEyvF,sBAAxB,CAAd,IAAiEv1E,cAAcla,EAAEoN,IAAF,CAAOoiF,cAAP,CAAsBxvF,EAAE0vF,sBAAxB,CAAnF,EAAoI;AAClI3yE,uBAAawyE,SAAb;AACD;;AAED,YAAII,cAAcvyF,QAAQ2f,UAA1B;AACA,YAAI6yE,eAAevyF,SAAS0f,UAA5B;AACA,YAAIiqE,MAAJ;;AAEA,YAAI2I,gBAAgB3vF,EAAE2vF,WAAlB,IAAiCC,iBAAiB5vF,EAAE4vF,YAAxD,EAAsE;AACpE,iBADoE,CAC5D;AACT;;AAED5vF,UAAEkqF,UAAF,GAAe,IAAf,CArByC,CAqBpB;;AAErB,YAAI2F,kBAAkBziF,KAAKyiF,eAA3B;AACAA,wBAAgBn8F,KAAhB,CAAsB0J,KAAtB,GAA8BA,QAAQ,IAAtC;AACAyyF,wBAAgBn8F,KAAhB,CAAsB2J,MAAtB,GAA+BA,SAAS,IAAxC;;AAEA,aAAK,IAAIzN,IAAI,CAAb,EAAgBA,IAAIoQ,EAAE8vF,aAAtB,EAAqClgG,GAArC,EAA0C;AACxCo3F,mBAAS55E,KAAK2iF,QAAL,CAAcngG,CAAd,CAAT;;AAEAo3F,iBAAO5pF,KAAP,GAAeuyF,WAAf;AACA3I,iBAAO3pF,MAAP,GAAgBuyF,YAAhB;;AAEA5I,iBAAOtzF,KAAP,CAAa0J,KAAb,GAAqBA,QAAQ,IAA7B;AACA4pF,iBAAOtzF,KAAP,CAAa2J,MAAb,GAAsBA,SAAS,IAA/B;AACD;;AAED,aAAK,IAAIzN,IAAI,CAAb,EAAgBA,IAAIoQ,EAAEgwF,YAAtB,EAAoCpgG,GAApC,EAAyC;AACvCo3F,mBAAS55E,KAAKoiF,cAAL,CAAoB5/F,CAApB,CAAT;;AAEAo3F,iBAAO5pF,KAAP,GAAeuyF,WAAf;AACA3I,iBAAO3pF,MAAP,GAAgBuyF,YAAhB;;AAEA5I,iBAAOtzF,KAAP,CAAa0J,KAAb,GAAqBA,QAAQ,IAA7B;AACA4pF,iBAAOtzF,KAAP,CAAa2J,MAAb,GAAsBA,SAAS,IAA/B;AACD;;AAED2C,UAAEiwF,WAAF,GAAgB,CAAhB;AACA,YAAIlzE,cAAc,CAAlB,EAAqB;AACnBiqE,mBAAS55E,KAAKoiF,cAAL,CAAoBxvF,EAAEkwF,cAAtB,CAAT;;AAEAlwF,YAAEiwF,WAAF,GAAgB,CAAhB;AACAjJ,iBAAO5pF,KAAP,GAAeuyF,cAAc3vF,EAAEiwF,WAA/B;AACAjJ,iBAAO3pF,MAAP,GAAgBuyF,eAAe5vF,EAAEiwF,WAAjC;AACD;;AAEDjwF,UAAE2vF,WAAF,GAAgBA,WAAhB;AACA3vF,UAAE4vF,YAAF,GAAiBA,YAAjB;AACD,OA1DD;;AA4DApN,UAAIlmC,QAAJ,GAAe,UAAU6+B,GAAV,EAAephF,IAAf,EAAqBC,GAArB,EAA0BuiD,OAA1B,EAAmC;AAChD,aAAK+lC,MAAL,CAAY;AACV6N,yBAAehV,GADL;AAEViV,sBAAYr2F,IAFF;AAGVs2F,qBAAWr2F,GAHD;AAIVs2F,yBAAe,IAJL;AAKVC,yBAAeh0C;AALL,SAAZ;AAOD,OARD;;AAUAimC,UAAIF,MAAJ,GAAa,UAAU1zE,OAAV,EAAmB;AAC9BA,kBAAUA,WAAW9Y,KAAKiC,iBAAL,EAArB;;AAEA,YAAIo4F,gBAAgBvhF,QAAQuhF,aAA5B;AACA,YAAIG,gBAAgB1hF,QAAQ0hF,aAA5B;AACA,YAAIE,oBAAoB5hF,QAAQ4hF,iBAAhC;AACA,YAAIJ,aAAaxhF,QAAQwhF,UAAzB;AACA,YAAIC,YAAYzhF,QAAQyhF,SAAxB;AACA,YAAIrwF,IAAI,IAAR;AACA,YAAI+c,aAAanO,QAAQ2hF,aAAR,KAA0Bp9F,SAA1B,GAAsC,KAAKyvB,aAAL,EAAtC,GAA6DhU,QAAQ2hF,aAAtF;AACA,YAAIhiF,KAAKvO,EAAEuO,EAAX,CAAc,IAAInB,OAAOpN,EAAEoN,IAAb;AACd,YAAIqjF,WAAWrjF,KAAKsjF,iBAApB;AACA,YAAIC,cAAc3wF,EAAE2c,iBAAF,IAAuB,CAACwzE,aAAxB,KAA0CnwF,EAAEs7E,QAAF,IAAct7E,EAAEqwE,SAAF,CAAYI,QAA1B,IAAsCzwE,EAAEi9E,YAAxC,IAAwDj9E,EAAEoN,IAAF,CAAOksE,YAAzG,CAAlB;AACA,YAAIz8D,aAAajO,QAAQiO,UAAR,KAAuB1pB,SAAvB,GAAmCyb,QAAQiO,UAA3C,GAAwD7c,EAAE6c,UAA3E;AACA,YAAI0yE,YAAYvvF,EAAEwxE,iBAAlB;AACA,YAAIh/D,mBAAmBjE,GAAGiE,gBAAH,EAAvB;AACA,YAAIo+E,oBAAoB5wF,EAAEqwE,SAAF,CAAYqH,YAApC;AACA,YAAI7B,iBAAiB71E,EAAEqwE,SAAF,CAAYsH,SAAZ,IAAyB33E,EAAE8wE,SAAF,CAAY6G,SAArC,GAAiD,IAAjD,GAAwD,KAA7E;AACA96D,qBAAaA,cAAc,CAACszE,aAAf,IAAgCnwF,EAAEqxE,iBAAlC,IAAuD,CAACwE,cAArE;AACA,YAAIgb,uBAAuBh0E,UAA3B;;AAEA,YAAI,CAACszE,aAAL,EAAoB;AAClB,cAAInwF,EAAE8wF,WAAF,KAAkB/zE,UAAtB,EAAkC;AAChC/c,cAAEs1D,oCAAF;AACAt1D,cAAEsyE,eAAF,CAAkBtyE,EAAEka,SAApB;;AAEAla,cAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACA9hB,cAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACD;;AAED9hB,YAAE8wF,WAAF,GAAgB/zE,UAAhB;AACD;;AAED,YAAI,CAACozE,aAAD,IAAkBnwF,EAAE+wF,iBAAxB,EAA2C;AACzCja,uBAAa92E,EAAE+wF,iBAAf;AACD;;AAED,YAAIl0E,UAAJ,EAAgB;AACd,cAAI7c,EAAEgxF,QAAF,IAAc,IAAlB,EAAwB;AACtBhxF,cAAEgxF,QAAF,GAAa,CAAb;AACD;;AAEDhxF,YAAEgxF,QAAF;;AAEA,cAAIhxF,EAAEgxF,QAAF,GAAa,CAAjB,EAAoB;AAClB;AACAH,mCAAuB,KAAvB;AACD;;AAED;AACA,cAAI7wF,EAAEgxF,QAAF,GAAahxF,EAAE0xE,kBAAnB,EAAuC;AACrC;AACA1xE,cAAEwxE,iBAAF,GAAsBxxE,EAAEyxE,WAAxB;AACD;AACF;;AAED,YAAIzxE,EAAEixF,kBAAN,EAA0B;AACxBjxF,YAAEwxE,iBAAF,GAAsB,CAAtB;AACD;;AAED;AACA;AACA,YAAIxxE,EAAEkxF,oBAAF,IAA0B,CAACP,WAA/B,EAA4C;AAC1CF,mBAASzwF,EAAEmxF,IAAX,IAAmB,IAAnB;AACAV,mBAASzwF,EAAEoxF,UAAX,IAAyB,IAAzB;AACD;;AAED,YAAIxsE,YAAYrW,GAAG7a,KAAH,GAAWH,QAAX,CAAoBqxB,SAApC;;AAEA,YAAI7qB,OAAOwU,GAAGxU,IAAH,EAAX;AACA,YAAIs3F,gBAAgBjB,eAAej9F,SAAf,GAA2Bi9F,UAA3B,GAAwCr2F,IAA5D;AACA,YAAIC,MAAMuU,GAAGvU,GAAH,EAAV;AACA,YAAIs3F,eAAe;AACjBj6F,aAAG2C,IAAI3C,CADU;AAEjBC,aAAG0C,IAAI1C;AAFU,SAAnB;;AAKA,YAAI6mD,KAAK;AACPpkD,gBAAMA,IADC;AAEPC,eAAK;AACH3C,eAAG2C,IAAI3C,CADJ;AAEHC,eAAG0C,IAAI1C;AAFJ;AAFE,SAAT;AAOA,YAAIi6F,SAASvxF,EAAEwxF,YAAf;AACA,YAAIC,iBAAiBF,WAAWp+F,SAAX,IAAwBgrD,GAAGpkD,IAAH,KAAYw3F,OAAOx3F,IAA3C,IAAmDokD,GAAGnkD,GAAH,CAAO3C,CAAP,KAAak6F,OAAOv3F,GAAP,CAAW3C,CAA3E,IAAgF8mD,GAAGnkD,GAAH,CAAO1C,CAAP,KAAai6F,OAAOv3F,GAAP,CAAW1C,CAA7H;;AAEA;AACA,YAAI,CAACm6F,cAAD,IAAmB,EAAEb,qBAAqB,CAACp+E,gBAAxB,CAAvB,EAAkE;AAChExS,YAAEwxE,iBAAF,GAAsB,CAAtB;AACD;;AAED,YAAI6e,SAAJ,EAAe;AACbiB,yBAAejB,SAAf;AACD;;AAED;;AAEAgB,yBAAiBt0E,UAAjB;AACAu0E,qBAAaj6F,CAAb,IAAkB0lB,UAAlB;AACAu0E,qBAAah6F,CAAb,IAAkBylB,UAAlB;;AAEA,YAAIhO,OAAO/O,EAAE21D,oBAAF,EAAX;;AAEA,iBAAS+7B,OAAT,CAAiB75E,OAAjB,EAA0BxgB,CAA1B,EAA6BC,CAA7B,EAAgC8E,CAAhC,EAAmCC,CAAnC,EAAsC;AACpC,cAAIupF,MAAM/tE,QAAQguE,wBAAlB;;AAEAhuE,kBAAQguE,wBAAR,GAAmC,iBAAnC;AACA7lF,YAAE8lF,SAAF,CAAYjuE,OAAZ,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC7X,EAAEuxE,sBAAtC;AACA15D,kBAAQ6vE,QAAR,CAAiBrwF,CAAjB,EAAoBC,CAApB,EAAuB8E,CAAvB,EAA0BC,CAA1B;;AAEAwb,kBAAQguE,wBAAR,GAAmCD,GAAnC;AACD;;AAED,iBAAS+L,mBAAT,CAA6B95E,OAA7B,EAAsCd,KAAtC,EAA6C;AAC3C,cAAI66E,IAAJ,EAAUC,KAAV,EAAiBz1F,CAAjB,EAAoBC,CAApB;;AAEA,cAAI,CAAC2D,EAAEixF,kBAAH,KAA0Bp5E,YAAYzK,KAAK0kF,cAAL,CAAoB9xF,EAAEyvF,sBAAtB,CAAZ,IAA6D53E,YAAYzK,KAAK0kF,cAAL,CAAoB9xF,EAAE0vF,sBAAtB,CAAnG,CAAJ,EAAuJ;AACrJkC,mBAAO;AACLv6F,iBAAG2C,IAAI3C,CAAJ,GAAQk4F,SADN;AAELj4F,iBAAG0C,IAAI1C,CAAJ,GAAQi4F;AAFN,aAAP;;AAKAsC,oBAAQ93F,OAAOw1F,SAAf;;AAEAnzF,gBAAI4D,EAAE2vF,WAAF,GAAgBJ,SAApB;AACAlzF,gBAAI2D,EAAE4vF,YAAF,GAAiBL,SAArB;AACD,WAVD,MAUO;AACLqC,mBAAON,YAAP;AACAO,oBAAQR,aAAR;;AAEAj1F,gBAAI4D,EAAE2vF,WAAN;AACAtzF,gBAAI2D,EAAE4vF,YAAN;AACD;;AAED/3E,kBAAQk6E,YAAR,CAAqB,CAArB,EAAwB,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B,EAAiC,CAAjC,EAAoC,CAApC;;AAEA,cAAIh7E,UAAU,YAAd,EAA4B;AAC1B26E,oBAAQ75E,OAAR,EAAiB,CAAjB,EAAoB,CAApB,EAAuBzb,CAAvB,EAA0BC,CAA1B;AACD,WAFD,MAEO,IAAI,CAAC8zF,aAAD,KAAmBp5E,UAAU5jB,SAAV,IAAuB4jB,KAA1C,CAAJ,EAAsD;AAC3Dc,oBAAQm6E,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwB51F,CAAxB,EAA2BC,CAA3B;AACD;;AAED,cAAI,CAACi0F,aAAL,EAAoB;AAClBz4E,oBAAQ+rE,SAAR,CAAkBgO,KAAKv6F,CAAvB,EAA0Bu6F,KAAKt6F,CAA/B;AACAugB,oBAAQ48C,KAAR,CAAco9B,KAAd,EAAqBA,KAArB;AACD;AACD,cAAIxB,SAAJ,EAAe;AACbx4E,oBAAQ+rE,SAAR,CAAkByM,UAAUh5F,CAA5B,EAA+Bg5F,UAAU/4F,CAAzC;AACD;AACD,cAAI84F,UAAJ,EAAgB;AACdv4E,oBAAQ48C,KAAR,CAAc27B,UAAd,EAA0BA,UAA1B;AACD;AACF;;AAED,YAAI,CAACO,WAAL,EAAkB;AAChB3wF,YAAEkxF,oBAAF,GAAyB,KAAzB;AACD;;AAED,YAAIP,WAAJ,EAAiB;AACf3wF,YAAEkxF,oBAAF,GAAyB,IAAzB;;AAEA,cAAIh1F,EAAJ;;AAEA,cAAI,CAAC8D,EAAEiyF,YAAP,EAAqB;AACnBjyF,cAAEiyF,YAAF,GAAiB,EAAjB;;AAEA/1F,iBAAK8D,EAAEiyF,YAAF,CAAe/1F,EAAf,GAAoBqS,GAAGgP,eAAH,GAAqBppB,WAArB,EAAzB;;AAEA6L,cAAEiyF,YAAF,CAAelL,OAAf,GAAyB/mF,EAAEoN,IAAF,CAAOoiF,cAAP,CAAsBxvF,EAAEkwF,cAAxB,CAAzB;;AAEA,gBAAI/U,MAAMn7E,EAAEoN,IAAF,CAAO0kF,cAAP,CAAsB9xF,EAAEkwF,cAAxB,CAAV;;AAEA/U,gBAAI4W,YAAJ,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC,CAAhC;AACA5W,gBAAI6W,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoBhyF,EAAE2vF,WAAF,GAAgB3vF,EAAEiwF,WAAtC,EAAmDjwF,EAAE4vF,YAAF,GAAiB5vF,EAAEiwF,WAAtE;;AAEAjwF,cAAEsiF,MAAF,CAAS;AACP6N,6BAAehV,GADR;AAEPqV,iCAAmB,IAFZ;AAGPD,6BAAexzE,aAAa/c,EAAEiwF;AAHvB,aAAT;;AAMA,gBAAI9xC,KAAKn+C,EAAEiyF,YAAF,CAAe7zC,QAAf,GAA0B;AACjCrkD,oBAAMwU,GAAGxU,IAAH,EAD2B;AAEjCC,mBAAKuU,GAAGvU,GAAH,EAF4B;AAGjCoD,qBAAO4C,EAAE2vF,WAHwB;AAIjCtyF,sBAAQ2C,EAAE4vF;AAJuB,aAAnC;;AAOAzxC,eAAG+zC,IAAH,GAAU;AACR76F,iBAAG,CAAC,IAAI8mD,GAAGnkD,GAAH,CAAO3C,CAAZ,IAAiB8mD,GAAGpkD,IADf;AAERzC,iBAAG,CAAC,IAAI6mD,GAAGnkD,GAAH,CAAO1C,CAAZ,IAAiB6mD,GAAGpkD;AAFf,aAAV;AAID;;AAED02F,mBAASzwF,EAAEmyF,IAAX,IAAmB,KAAnB;AACA1B,mBAASzwF,EAAEmxF,IAAX,IAAmB,KAAnB;;AAEA,cAAIt5E,UAAUzK,KAAKuhF,QAAL,CAAc3uF,EAAEmxF,IAAhB,CAAd;;AAEA,cAAIpK,UAAU/mF,EAAEiyF,YAAF,CAAelL,OAA7B;AACA,cAAI5oC,KAAKn+C,EAAEiyF,YAAF,CAAe7zC,QAAxB;AACAliD,eAAK8D,EAAEiyF,YAAF,CAAe/1F,EAApB;;AAEA2b,kBAAQk6E,YAAR,CAAqB,CAArB,EAAwB,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B,EAAiC,CAAjC,EAAoC,CAApC;;AAEA,cAAIl1E,UAAJ,EAAgB;AACd60E,oBAAQ75E,OAAR,EAAiB,CAAjB,EAAoB,CAApB,EAAuBsmC,GAAG/gD,KAA1B,EAAiC+gD,GAAG9gD,MAApC;AACD,WAFD,MAEO;AACLwa,oBAAQm6E,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwB7zC,GAAG/gD,KAA3B,EAAkC+gD,GAAG9gD,MAArC;AACD;;AAED,cAAI+0F,iBAAiBxtE,UAAU,0BAAV,EAAsC30B,KAA3D;AACA,cAAIoiG,mBAAmBztE,UAAU,4BAAV,EAAwC30B,KAA/D;AACA+P,YAAE8lF,SAAF,CAAYjuE,OAAZ,EAAqBu6E,eAAe,CAAf,CAArB,EAAwCA,eAAe,CAAf,CAAxC,EAA2DA,eAAe,CAAf,CAA3D,EAA8EC,gBAA9E;AACAx6E,kBAAQ6vE,QAAR,CAAiB,CAAjB,EAAoB,CAApB,EAAuBvpC,GAAG/gD,KAA1B,EAAiC+gD,GAAG9gD,MAApC;;AAEA,cAAItD,OAAOwU,GAAGxU,IAAH,EAAX;;AAEA43F,8BAAoB95E,OAApB,EAA6B,KAA7B;;AAEAA,kBAAQm6E,SAAR,CAAkB7zC,GAAG+zC,IAAH,CAAQ76F,CAA1B,EAA6B8mD,GAAG+zC,IAAH,CAAQ56F,CAArC,EAAwC6mD,GAAG/gD,KAAH,GAAW+gD,GAAGpkD,IAAd,GAAqBgjB,UAA7D,EAAyEohC,GAAG9gD,MAAH,GAAY8gD,GAAGpkD,IAAf,GAAsBgjB,UAA/F;AACAlF,kBAAQivE,SAAR,CAAkBC,OAAlB,EAA2B5oC,GAAG+zC,IAAH,CAAQ76F,CAAnC,EAAsC8mD,GAAG+zC,IAAH,CAAQ56F,CAA9C,EAAiD6mD,GAAG/gD,KAAH,GAAW+gD,GAAGpkD,IAAd,GAAqBgjB,UAAtE,EAAkFohC,GAAG9gD,MAAH,GAAY8gD,GAAGpkD,IAAf,GAAsBgjB,UAAxG;AACD,SAhED,MAgEO,IAAI/c,EAAE2c,iBAAF,IAAuB,CAACwzE,aAA5B,EAA2C;AAChD;AACAnwF,YAAEiyF,YAAF,GAAiB,IAAjB;AACD;;AAED,YAAItvE,SAASpU,GAAGoU,MAAH,EAAb;AACA,YAAI2vE,UAAUtyF,EAAEs7E,QAAF,IAAct7E,EAAEqwE,SAAF,CAAYI,QAA1B,IAAsCzwE,EAAEi9E,YAAxC,IAAwDj9E,EAAEoN,IAAF,CAAOksE,YAA/D,IAA+Et5E,EAAEqwE,SAAF,CAAYqH,YAAzG;AACA,YAAI6a,YAAYvyF,EAAE0c,mBAAF,IAAyB41E,OAAzC;;AAEA,YAAIE,cAAc,EAAlB;;AAEAA,oBAAYxyF,EAAEmxF,IAAd,IAAsB,CAACV,SAASzwF,EAAEmxF,IAAX,CAAD,IAAqBt0E,UAArB,IAAmC,CAAC7c,EAAE4xE,oBAAF,CAAuB5xE,EAAEmxF,IAAzB,CAApC,IAAsEnxF,EAAEixF,kBAA9F;AACA,YAAIuB,YAAYxyF,EAAEmxF,IAAd,CAAJ,EAAyB;AACvBnxF,YAAE4xE,oBAAF,CAAuB5xE,EAAEmxF,IAAzB,IAAiC,IAAjC;AACD;;AAEDqB,oBAAYxyF,EAAEmyF,IAAd,IAAsB,CAAC1B,SAASzwF,EAAEmyF,IAAX,CAAD,IAAqBt1E,UAArB,IAAmC,CAAC7c,EAAE4xE,oBAAF,CAAuB5xE,EAAEmyF,IAAzB,CAApC,IAAsEnyF,EAAEixF,kBAA9F;AACA,YAAIuB,YAAYxyF,EAAEmyF,IAAd,CAAJ,EAAyB;AACvBnyF,YAAE4xE,oBAAF,CAAuB5xE,EAAEmyF,IAAzB,IAAiC,IAAjC;AACD;;AAED,YAAI1B,SAASzwF,EAAEmxF,IAAX,KAAoBb,aAApB,IAAqCE,iBAArC,IAA0DgC,YAAYxyF,EAAEmxF,IAAd,CAA9D,EAAmF;AACjF,cAAIsB,YAAY51E,cAAc,CAAC21E,YAAYxyF,EAAEmxF,IAAd,CAAf,IAAsC5B,cAAc,CAApE;AACA,cAAI13E,UAAUs4E,kBAAkBsC,YAAYzyF,EAAEoN,IAAF,CAAO0kF,cAAP,CAAsB9xF,EAAEyvF,sBAAxB,CAAZ,GAA8DriF,KAAKuhF,QAAL,CAAc3uF,EAAEmxF,IAAhB,CAAhF,CAAd;AACA,cAAIp6E,QAAQ8F,cAAc,CAAC41E,SAAf,GAA2B,YAA3B,GAA0Ct/F,SAAtD;;AAEAw+F,8BAAoB95E,OAApB,EAA6Bd,KAA7B;;AAEA,cAAIw7E,SAAJ,EAAe;AACbvyF,cAAEmnF,eAAF,CAAkBtvE,OAAlB,EAA2B9I,KAAK8/D,OAAhC,EAAyC9xD,UAAzC,EAAqD4F,MAArD;AACD,WAFD,MAEO;AACL3iB,cAAEonF,mBAAF,CAAsBvvE,OAAtB,EAA+B9I,KAAK8/D,OAApC,EAA6C9xD,UAA7C,EAAyD4F,MAAzD;AACD;;AAED,cAAI3iB,EAAEopD,KAAN,EAAa;AACXppD,cAAEynF,eAAF,CAAkB5vE,OAAlB,EAA2B9I,KAAK8/D,OAAhC;AACD;;AAED,cAAI,CAACyhB,aAAD,IAAkB,CAACzzE,UAAvB,EAAmC;AACjC4zE,qBAASzwF,EAAEmxF,IAAX,IAAmB,KAAnB;AACD;AACF;;AAED,YAAI,CAACX,iBAAD,KAAuBC,SAASzwF,EAAEmyF,IAAX,KAAoB7B,aAApB,IAAqCkC,YAAYxyF,EAAEmyF,IAAd,CAA5D,CAAJ,EAAsF;AACpF,cAAIM,YAAY51E,cAAc,CAAC21E,YAAYxyF,EAAEmyF,IAAd,CAAf,IAAsC5C,cAAc,CAApE;AACA,cAAI13E,UAAUs4E,kBAAkBsC,YAAYzyF,EAAEoN,IAAF,CAAO0kF,cAAP,CAAsB9xF,EAAE0vF,sBAAxB,CAAZ,GAA8DtiF,KAAKuhF,QAAL,CAAc3uF,EAAEmyF,IAAhB,CAAhF,CAAd;;AAEAR,8BAAoB95E,OAApB,EAA6BgF,cAAc,CAAC41E,SAAf,GAA2B,YAA3B,GAA0Ct/F,SAAvE;;AAEA,cAAIo/F,SAAJ,EAAe;AACbvyF,cAAEmnF,eAAF,CAAkBtvE,OAAlB,EAA2B9I,KAAK6/D,IAAhC,EAAsC7xD,UAAtC,EAAkD4F,MAAlD;AACD,WAFD,MAEO;AACL3iB,cAAEknF,kBAAF,CAAqBrvE,OAArB,EAA8B9I,KAAK6/D,IAAnC,EAAyC7xD,UAAzC,EAAqD4F,MAArD;AACD;;AAED,cAAI3iB,EAAEopD,KAAN,EAAa;AACXppD,cAAEynF,eAAF,CAAkB5vE,OAAlB,EAA2B9I,KAAK6/D,IAAhC;AACD;;AAED,cAAI,CAAC0hB,aAAD,IAAkB,CAACzzE,UAAvB,EAAmC;AACjC4zE,qBAASzwF,EAAEmyF,IAAX,IAAmB,KAAnB;AACD;AACF;;AAED,YAAInyF,EAAEmxE,OAAF,IAAa,CAACqf,iBAAD,IAAsBC,SAASzwF,EAAEoxF,UAAX,CAAtB,IAAgD,CAACd,aAAlE,EAAiF;AAC/E,cAAIz4E,UAAUs4E,iBAAiB/iF,KAAKuhF,QAAL,CAAc3uF,EAAEoxF,UAAhB,CAA/B;;AAEAO,8BAAoB95E,OAApB;;AAEA,cAAI7X,EAAEowE,SAAF,CAAY,CAAZ,KAAkB,CAAlB,KAAwBpwE,EAAEqwE,SAAF,CAAYsH,SAAZ,IAAyB33E,EAAE8wE,SAAF,CAAY6G,SAA7D,CAAJ,EAA6E;AAC3E,gBAAI59E,OAAOiG,EAAEuO,EAAF,CAAKxU,IAAL,EAAX;AACA,gBAAI4lC,cAAc/a,UAAU,4BAAV,EAAwC30B,KAAxC,GAAgD8J,IAAlE;;AAEA8d,oBAAQsmD,SAAR,GAAoBx+B,WAApB;AACA9nB,oBAAQiuE,SAAR,GAAoB,UAAUlhE,UAAU,qBAAV,EAAiC30B,KAAjC,CAAuC,CAAvC,CAAV,GAAsD,GAAtD,GAA4D20B,UAAU,qBAAV,EAAiC30B,KAAjC,CAAuC,CAAvC,CAA5D,GAAwG,GAAxG,GAA8G20B,UAAU,qBAAV,EAAiC30B,KAAjC,CAAuC,CAAvC,CAA9G,GAA0J,GAA1J,GAAgK20B,UAAU,uBAAV,EAAmC30B,KAAnM,GAA2M,GAA/N;;AAEA4nB,oBAAQ6vE,QAAR,CAAiB1nF,EAAEowE,SAAF,CAAY,CAAZ,CAAjB,EAAiCpwE,EAAEowE,SAAF,CAAY,CAAZ,CAAjC,EAAiDpwE,EAAEowE,SAAF,CAAY,CAAZ,IAAiBpwE,EAAEowE,SAAF,CAAY,CAAZ,CAAlE,EAAkFpwE,EAAEowE,SAAF,CAAY,CAAZ,IAAiBpwE,EAAEowE,SAAF,CAAY,CAAZ,CAAnG;;AAEA,gBAAIzwC,cAAc,CAAlB,EAAqB;AACnB9nB,sBAAQusE,WAAR,GAAsB,UAAUx/D,UAAU,4BAAV,EAAwC30B,KAAxC,CAA8C,CAA9C,CAAV,GAA6D,GAA7D,GAAmE20B,UAAU,4BAAV,EAAwC30B,KAAxC,CAA8C,CAA9C,CAAnE,GAAsH,GAAtH,GAA4H20B,UAAU,4BAAV,EAAwC30B,KAAxC,CAA8C,CAA9C,CAA5H,GAA+K,GAA/K,GAAqL20B,UAAU,uBAAV,EAAmC30B,KAAxN,GAAgO,GAAtP;;AAEA4nB,sBAAQu0E,UAAR,CAAmBpsF,EAAEowE,SAAF,CAAY,CAAZ,CAAnB,EAAmCpwE,EAAEowE,SAAF,CAAY,CAAZ,CAAnC,EAAmDpwE,EAAEowE,SAAF,CAAY,CAAZ,IAAiBpwE,EAAEowE,SAAF,CAAY,CAAZ,CAApE,EAAoFpwE,EAAEowE,SAAF,CAAY,CAAZ,IAAiBpwE,EAAEowE,SAAF,CAAY,CAAZ,CAArG;AACD;AACF;;AAED,cAAIhjE,KAAKoqE,iBAAL,IAA0B,CAACx3E,EAAEqwE,SAAF,CAAYsH,SAA3C,EAAsD;AACpD,gBAAI59E,OAAOiG,EAAEuO,EAAF,CAAKxU,IAAL,EAAX;AACA,gBAAI3C,MAAMgW,KAAKoqE,iBAAf;;AAEA3/D,oBAAQiuE,SAAR,GAAoB,UAAUlhE,UAAU,iBAAV,EAA6B30B,KAA7B,CAAmC,CAAnC,CAAV,GAAkD,GAAlD,GAAwD20B,UAAU,iBAAV,EAA6B30B,KAA7B,CAAmC,CAAnC,CAAxD,GAAgG,GAAhG,GAAsG20B,UAAU,iBAAV,EAA6B30B,KAA7B,CAAmC,CAAnC,CAAtG,GAA8I,GAA9I,GAAoJ20B,UAAU,mBAAV,EAA+B30B,KAAnL,GAA2L,GAA/M;;AAEA4nB,oBAAQorE,SAAR;AACAprE,oBAAQ0rE,GAAR,CAAYnsF,IAAIC,CAAhB,EAAmBD,IAAIE,CAAvB,EAA0BstB,UAAU,gBAAV,EAA4BoX,OAA5B,GAAsCjiC,IAAhE,EAAsE,CAAtE,EAAyE,IAAIhH,KAAKsH,EAAlF;AACAwd,oBAAQmuE,IAAR;AACD;;AAED,cAAIrE,eAAe3hF,EAAEyiB,cAArB;AACA,cAAIziB,EAAEmxE,OAAF,IAAawQ,YAAjB,EAA+B;AAC7BA,2BAAe5uF,KAAKskD,KAAL,CAAWsqC,YAAX,CAAf;AACA,gBAAI+Q,MAAM3/F,KAAKskD,KAAL,CAAW,OAAOsqC,YAAlB,CAAV;;AAEA9pE,oBAAQk6E,YAAR,CAAqB,CAArB,EAAwB,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B,EAAiC,CAAjC,EAAoC,CAApC;;AAEAl6E,oBAAQiuE,SAAR,GAAoB,uBAApB;AACAjuE,oBAAQusE,WAAR,GAAsB,uBAAtB;AACAvsE,oBAAQsmD,SAAR,GAAoB,CAApB;AACAtmD,oBAAQ00E,QAAR,CAAiB,eAAe5K,YAAf,GAA8B,QAA9B,GAAyC+Q,GAAzC,GAA+C,MAAhE,EAAwE,CAAxE,EAA2E,EAA3E;;AAEA,gBAAIC,SAAS,EAAb;AACA96E,oBAAQu0E,UAAR,CAAmB,CAAnB,EAAsB,EAAtB,EAA0B,GAA1B,EAA+B,EAA/B;AACAv0E,oBAAQ6vE,QAAR,CAAiB,CAAjB,EAAoB,EAApB,EAAwB,MAAM30F,KAAKiJ,GAAL,CAAS02F,MAAMC,MAAf,EAAuB,CAAvB,CAA9B,EAAyD,EAAzD;AACD;;AAED,cAAI,CAACrC,aAAL,EAAoB;AAClBG,qBAASzwF,EAAEoxF,UAAX,IAAyB,KAAzB;AACD;AACF;;AAED;AACA,YAAIv0E,cAAc0yE,cAAc,CAAhC,EAAmC;AACjC,cAAIqD,UAAUxlF,KAAKuhF,QAAL,CAAc3uF,EAAEmxF,IAAhB,CAAd;AACA,cAAI0B,UAAU7yF,EAAEoN,IAAF,CAAOoiF,cAAP,CAAsBxvF,EAAEyvF,sBAAxB,CAAd;;AAEA,cAAIqD,UAAU1lF,KAAKuhF,QAAL,CAAc3uF,EAAEmyF,IAAhB,CAAd;AACA,cAAIY,UAAU/yF,EAAEoN,IAAF,CAAOoiF,cAAP,CAAsBxvF,EAAE0vF,sBAAxB,CAAd;;AAEA,cAAIsD,iBAAiB,SAASA,cAAT,CAAwB7X,GAAxB,EAA6B8X,GAA7B,EAAkCC,SAAlC,EAA6C;AAChE/X,gBAAI4W,YAAJ,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC,CAAhC;;AAEA,gBAAImB,aAAa,CAACrC,oBAAlB,EAAwC;AACtC1V,kBAAI6W,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoBhyF,EAAE2vF,WAAtB,EAAmC3vF,EAAE4vF,YAArC;AACD,aAFD,MAEO;AACL8B,sBAAQvW,GAAR,EAAa,CAAb,EAAgB,CAAhB,EAAmBn7E,EAAE2vF,WAArB,EAAkC3vF,EAAE4vF,YAApC;AACD;;AAED,gBAAIuD,MAAM5D,SAAV;;AAEApU,gBAAI2L,SAAJ,CAAcmM,GAAd,EAAmB;AACnB,aADA,EACG,CADH,EACM;AACNjzF,cAAE2vF,WAAF,GAAgBwD,GAFhB,EAEqBnzF,EAAE4vF,YAAF,GAAiBuD,GAFtC,EAE2C;AAC3C,aAHA,EAGG,CAHH,EAGM;AACNnzF,cAAE2vF,WAJF,EAIe3vF,EAAE4vF,YAJjB,CAI8B;AAJ9B;AAMD,WAjBD;;AAmBA,cAAIa,SAASzwF,EAAEmxF,IAAX,KAAoBqB,YAAYxyF,EAAEmxF,IAAd,CAAxB,EAA6C;AAC3C6B,2BAAeJ,OAAf,EAAwBC,OAAxB,EAAiCL,YAAYxyF,EAAEmxF,IAAd,CAAjC;AACAV,qBAASzwF,EAAEmxF,IAAX,IAAmB,KAAnB;AACD;;AAED,cAAIV,SAASzwF,EAAEmyF,IAAX,KAAoBK,YAAYxyF,EAAEmyF,IAAd,CAAxB,EAA6C;AAC3Ca,2BAAeF,OAAf,EAAwBC,OAAxB,EAAiCP,YAAYxyF,EAAEmyF,IAAd,CAAjC;AACA1B,qBAASzwF,EAAEmyF,IAAX,IAAmB,KAAnB;AACD;AACF;;AAEDnyF,UAAEwxF,YAAF,GAAiBrzC,EAAjB;;AAEA,YAAIn+C,EAAEixF,kBAAN,EAA0B;AACxBjxF,YAAEixF,kBAAF,GAAuB,KAAvB;AACAjxF,YAAEozF,iBAAF,GAAsB,IAAtB;AACApzF,YAAE6c,UAAF,GAAe,IAAf;AACD;;AAED,YAAIA,UAAJ,EAAgB;AACd7c,YAAE+wF,iBAAF,GAAsBtmF,WAAW,YAAY;AAC3CzK,cAAE+wF,iBAAF,GAAsB,IAAtB;;AAEA/wF,cAAE4xE,oBAAF,CAAuB5xE,EAAEmxF,IAAzB,IAAiC,KAAjC;AACAnxF,cAAE4xE,oBAAF,CAAuB5xE,EAAEmyF,IAAzB,IAAiC,KAAjC;AACAnyF,cAAE6c,UAAF,GAAe,KAAf;AACA7c,cAAEixF,kBAAF,GAAuB,CAACN,WAAxB;AACA3wF,cAAEgxF,QAAF,GAAa,CAAb;;AAEAP,qBAASzwF,EAAEmxF,IAAX,IAAmB,IAAnB;AACAV,qBAASzwF,EAAEmyF,IAAX,IAAmB,IAAnB;;AAEAnyF,cAAE+hB,MAAF;AACD,WAbqB,EAanB2sE,eAbmB,CAAtB;AAcD;;AAED,YAAI,CAACyB,aAAL,EAAoB;AAClB5hF,aAAG2E,IAAH,CAAQ,QAAR;AACD;AACF,OAvZD;;AAyZAhkB,aAAOD,OAAP,GAAiBuzF,GAAjB;;AAEA;AAAO,KA9/tBG;AA+/tBV;AACA,SAAO,UAAStzF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;;AAEA,UAAI8yF,MAAM,EAAV;;AAEA;AACAA,UAAI6Q,eAAJ,GAAsB,UAAUx7E,OAAV,EAAmBxgB,CAAnB,EAAsBC,CAAtB,EAAyB8F,KAAzB,EAAgCC,MAAhC,EAAwC2E,MAAxC,EAAgD;;AAEpE,YAAIs/B,QAAQlkC,QAAQ,CAApB;AACA,YAAIokC,QAAQnkC,SAAS,CAArB;;AAEA,YAAIwa,QAAQorE,SAAZ,EAAuB;AACrBprE,kBAAQorE,SAAR;AACD;;AAEDprE,gBAAQurE,MAAR,CAAe/rF,IAAIiqC,QAAQt/B,OAAO,CAAP,CAA3B,EAAsC1K,IAAIkqC,QAAQx/B,OAAO,CAAP,CAAlD;;AAEA,aAAK,IAAIpS,IAAI,CAAb,EAAgBA,IAAIoS,OAAO7J,MAAP,GAAgB,CAApC,EAAuCvI,GAAvC,EAA4C;AAC1CioB,kBAAQ6qE,MAAR,CAAerrF,IAAIiqC,QAAQt/B,OAAOpS,IAAI,CAAX,CAA3B,EAA0C0H,IAAIkqC,QAAQx/B,OAAOpS,IAAI,CAAJ,GAAQ,CAAf,CAAtD;AACD;;AAEDioB,gBAAQqrE,SAAR;AACD,OAhBD;;AAkBA;AACAV,UAAI8Q,sBAAJ,GAA6B,UAAUz7E,OAAV,EAAmBxgB,CAAnB,EAAsBC,CAAtB,EAAyB8F,KAAzB,EAAgCC,MAAhC,EAAwC;;AAEnE,YAAIG,YAAYJ,QAAQ,CAAxB;AACA,YAAIK,aAAaJ,SAAS,CAA1B;AACA,YAAIC,eAAezH,KAAK0H,uBAAL,CAA6BH,KAA7B,EAAoCC,MAApC,CAAnB;;AAEA,YAAIwa,QAAQorE,SAAZ,EAAuB;AACrBprE,kBAAQorE,SAAR;AACD;;AAED;AACAprE,gBAAQurE,MAAR,CAAe/rF,CAAf,EAAkBC,IAAImG,UAAtB;AACA;AACAoa,gBAAQ07E,KAAR,CAAcl8F,IAAImG,SAAlB,EAA6BlG,IAAImG,UAAjC,EAA6CpG,IAAImG,SAAjD,EAA4DlG,CAA5D,EAA+DgG,YAA/D;AACA;AACAua,gBAAQ07E,KAAR,CAAcl8F,IAAImG,SAAlB,EAA6BlG,IAAImG,UAAjC,EAA6CpG,CAA7C,EAAgDC,IAAImG,UAApD,EAAgEH,YAAhE;AACA;AACAua,gBAAQ07E,KAAR,CAAcl8F,IAAImG,SAAlB,EAA6BlG,IAAImG,UAAjC,EAA6CpG,IAAImG,SAAjD,EAA4DlG,CAA5D,EAA+DgG,YAA/D;AACA;AACAua,gBAAQ07E,KAAR,CAAcl8F,IAAImG,SAAlB,EAA6BlG,IAAImG,UAAjC,EAA6CpG,CAA7C,EAAgDC,IAAImG,UAApD,EAAgEH,YAAhE;AACA;AACAua,gBAAQ6qE,MAAR,CAAerrF,CAAf,EAAkBC,IAAImG,UAAtB;;AAEAoa,gBAAQqrE,SAAR;AACD,OAxBD;;AA0BAV,UAAIgR,4BAAJ,GAAmC,UAAU37E,OAAV,EAAmBxgB,CAAnB,EAAsBC,CAAtB,EAAyB8F,KAAzB,EAAgCC,MAAhC,EAAwC;;AAEzE,YAAIG,YAAYJ,QAAQ,CAAxB;AACA,YAAIK,aAAaJ,SAAS,CAA1B;AACA,YAAIC,eAAezH,KAAK0H,uBAAL,CAA6BH,KAA7B,EAAoCC,MAApC,CAAnB;;AAEA,YAAIwa,QAAQorE,SAAZ,EAAuB;AACrBprE,kBAAQorE,SAAR;AACD;;AAED;AACAprE,gBAAQurE,MAAR,CAAe/rF,CAAf,EAAkBC,IAAImG,UAAtB;AACAoa,gBAAQ6qE,MAAR,CAAerrF,IAAImG,SAAnB,EAA8BlG,IAAImG,UAAlC;AACAoa,gBAAQ6qE,MAAR,CAAerrF,IAAImG,SAAnB,EAA8BlG,CAA9B;;AAEAugB,gBAAQ07E,KAAR,CAAcl8F,IAAImG,SAAlB,EAA6BlG,IAAImG,UAAjC,EAA6CpG,CAA7C,EAAgDC,IAAImG,UAApD,EAAgEH,YAAhE;AACAua,gBAAQ07E,KAAR,CAAcl8F,IAAImG,SAAlB,EAA6BlG,IAAImG,UAAjC,EAA6CpG,IAAImG,SAAjD,EAA4DlG,CAA5D,EAA+DgG,YAA/D;;AAEAua,gBAAQ6qE,MAAR,CAAerrF,IAAImG,SAAnB,EAA8BlG,IAAImG,UAAlC;AACAoa,gBAAQ6qE,MAAR,CAAerrF,CAAf,EAAkBC,IAAImG,UAAtB;;AAEAoa,gBAAQqrE,SAAR;AACD,OAtBD;;AAwBAV,UAAIiR,oBAAJ,GAA2B,UAAU57E,OAAV,EAAmBxgB,CAAnB,EAAsBC,CAAtB,EAAyB8F,KAAzB,EAAgCC,MAAhC,EAAwC;;AAEjE,YAAIG,YAAYJ,QAAQ,CAAxB;AACA,YAAIK,aAAaJ,SAAS,CAA1B;AACA,YAAI4hF,eAAeppF,KAAK+S,2BAAL,EAAnB;;AAEA,YAAIiP,QAAQorE,SAAZ,EAAuB;AACrBprE,kBAAQorE,SAAR;AACD;;AAEDprE,gBAAQurE,MAAR,CAAe/rF,IAAImG,SAAJ,GAAgByhF,YAA/B,EAA6C3nF,IAAImG,UAAjD;;AAEAoa,gBAAQ6qE,MAAR,CAAerrF,IAAImG,SAAJ,GAAgByhF,YAA/B,EAA6C3nF,IAAImG,UAAjD;AACAoa,gBAAQ6qE,MAAR,CAAerrF,IAAImG,SAAnB,EAA8BlG,IAAImG,UAAJ,GAAiBwhF,YAA/C;AACApnE,gBAAQ6qE,MAAR,CAAerrF,IAAImG,SAAnB,EAA8BlG,IAAImG,UAAJ,GAAiBwhF,YAA/C;AACApnE,gBAAQ6qE,MAAR,CAAerrF,IAAImG,SAAJ,GAAgByhF,YAA/B,EAA6C3nF,IAAImG,UAAjD;AACAoa,gBAAQ6qE,MAAR,CAAerrF,IAAImG,SAAJ,GAAgByhF,YAA/B,EAA6C3nF,IAAImG,UAAjD;AACAoa,gBAAQ6qE,MAAR,CAAerrF,IAAImG,SAAnB,EAA8BlG,IAAImG,UAAJ,GAAiBwhF,YAA/C;AACApnE,gBAAQ6qE,MAAR,CAAerrF,IAAImG,SAAnB,EAA8BlG,IAAImG,UAAJ,GAAiBwhF,YAA/C;;AAEApnE,gBAAQqrE,SAAR;AACD,OArBD;;AAuBAV,UAAIkR,cAAJ,GAAqB,UAAU77E,OAAV,EAAmBxgB,CAAnB,EAAsBC,CAAtB,EAAyB8F,KAAzB,EAAgCC,MAAhC,EAAwC;;AAE3D,YAAIG,YAAYJ,QAAQ,CAAxB;AACA,YAAIK,aAAaJ,SAAS,CAA1B;;AAEA,YAAI+hF,SAAS/nF,IAAImG,SAAjB;AACA,YAAI6hF,OAAOhoF,IAAImG,SAAf;AACA,YAAI8hF,SAAShoF,IAAImG,UAAjB;AACA,YAAI8hF,OAAOjoF,IAAImG,UAAf;;AAEA,YAAIk2F,uBAAuB99F,KAAKiT,uBAAL,CAA6B1L,KAA7B,EAAoCC,MAApC,CAA3B;AACA,YAAI8iF,UAAUwT,qBAAqB3qF,WAAnC;AACA,YAAIk3E,UAAUyT,qBAAqB5qF,YAAnC;AACA,YAAIq3E,gBAAgBuT,qBAAqB1qF,eAArB,GAAuCk3E,OAA3D;;AAEA,YAAItoE,QAAQorE,SAAZ,EAAuB;AACrBprE,kBAAQorE,SAAR;AACD;;AAEDprE,gBAAQurE,MAAR,CAAehE,MAAf,EAAuBE,SAASY,OAAhC;;AAEAroE,gBAAQ6qE,MAAR,CAAetD,MAAf,EAAuBG,OAAOW,OAA9B;AACAroE,gBAAQgrE,gBAAR,CAAyBzD,SAASgB,aAAlC,EAAiDb,IAAjD,EAAuDH,SAASe,OAAhE,EAAyEZ,IAAzE;;AAEA1nE,gBAAQ6qE,MAAR,CAAerD,OAAOc,OAAtB,EAA+BZ,IAA/B;AACA1nE,gBAAQgrE,gBAAR,CAAyBxD,OAAOe,aAAhC,EAA+Cb,IAA/C,EAAqDF,IAArD,EAA2DE,OAAOW,OAAlE;;AAEAroE,gBAAQ6qE,MAAR,CAAerD,IAAf,EAAqBC,SAASY,OAA9B;AACAroE,gBAAQgrE,gBAAR,CAAyBxD,OAAOe,aAAhC,EAA+Cd,MAA/C,EAAuDD,OAAOc,OAA9D,EAAuEb,MAAvE;;AAEAznE,gBAAQ6qE,MAAR,CAAetD,SAASe,OAAxB,EAAiCb,MAAjC;AACAznE,gBAAQgrE,gBAAR,CAAyBzD,SAASgB,aAAlC,EAAiDd,MAAjD,EAAyDF,MAAzD,EAAiEE,SAASY,OAA1E;;AAEAroE,gBAAQqrE,SAAR;AACD,OAlCD;;AAoCA,UAAI0Q,OAAO7gG,KAAK2P,GAAL,CAAS,CAAT,CAAX;AACA,UAAImxF,OAAO9gG,KAAK8N,GAAL,CAAS,CAAT,CAAX;;AAEA,UAAI6B,MAAM,EAAV;AACA,UAAI7B,MAAM,EAAV;;AAEA,UAAIizF,kBAAkB/gG,KAAKsH,EAAL,GAAU,EAAhC;;AAEA,WAAK,IAAIzK,IAAI,IAAImD,KAAKsH,EAAtB,EAA0BzK,IAAI,IAAImD,KAAKsH,EAAvC,EAA2CzK,KAAKkkG,eAAhD,EAAiE;AAC/DpxF,YAAI9S,CAAJ,IAASmD,KAAK2P,GAAL,CAAS9S,CAAT,CAAT;AACAiR,YAAIjR,CAAJ,IAASmD,KAAK8N,GAAL,CAASjR,CAAT,CAAT;AACD;;AAED4yF,UAAIuR,eAAJ,GAAsB,UAAUl8E,OAAV,EAAmBzV,OAAnB,EAA4BC,OAA5B,EAAqCjF,KAArC,EAA4CC,MAA5C,EAAoD;AACxE,YAAIwa,QAAQorE,SAAZ,EAAuB;AACrBprE,kBAAQorE,SAAR;AACD;;AAED,YAAIprE,QAAQm8E,OAAZ,EAAqB;AACnBn8E,kBAAQm8E,OAAR,CAAgB5xF,OAAhB,EAAyBC,OAAzB,EAAkCjF,QAAQ,CAA1C,EAA6CC,SAAS,CAAtD,EAAyD,CAAzD,EAA4D,CAA5D,EAA+D,IAAItK,KAAKsH,EAAxE;AACD,SAFD,MAEO;AACL,cAAI45F,IAAJ,EAAUC,IAAV;AACA,cAAIC,KAAK/2F,QAAQ,CAAjB;AACA,cAAIg3F,KAAK/2F,SAAS,CAAlB;AACA,eAAK,IAAIzN,IAAI,IAAImD,KAAKsH,EAAtB,EAA0BzK,IAAI,IAAImD,KAAKsH,EAAvC,EAA2CzK,KAAKkkG,eAAhD,EAAiE;AAC/DG,mBAAO7xF,UAAU+xF,KAAKzxF,IAAI9S,CAAJ,CAAL,GAAcgkG,IAAxB,GAA+BO,KAAKtzF,IAAIjR,CAAJ,CAAL,GAAcikG,IAApD;AACAK,mBAAO7xF,UAAU+xF,KAAKvzF,IAAIjR,CAAJ,CAAL,GAAcgkG,IAAxB,GAA+BQ,KAAK1xF,IAAI9S,CAAJ,CAAL,GAAcikG,IAApD;;AAEA,gBAAIjkG,MAAM,CAAV,EAAa;AACXioB,sBAAQurE,MAAR,CAAe6Q,IAAf,EAAqBC,IAArB;AACD,aAFD,MAEO;AACLr8E,sBAAQ6qE,MAAR,CAAeuR,IAAf,EAAqBC,IAArB;AACD;AACF;AACF;;AAEDr8E,gBAAQqrE,SAAR;AACD,OAxBD;;AA0BAh0F,aAAOD,OAAP,GAAiBuzF,GAAjB;;AAEA;AAAO,KAnruBG;AAoruBV;AACA,SAAO,UAAStzF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAIy+B,OAAOz+B,oBAAoB,CAApB,CAAX;AACA,UAAI2kG,OAAO3kG,oBAAoB,EAApB,CAAX;;AAEA,UAAI4kG,UAAU,EAAd,CAVsD,CAUpC;AAClB,UAAIC,WAAW,EAAf,CAXsD,CAWnC;AACnB,UAAIC,SAAS,CAAC,CAAd,CAZsD,CAYrC;AACjB,UAAIC,SAAS,CAAb,CAbsD,CAatC;AAChB,UAAIv5E,UAAU,IAAd,CAdsD,CAclC;AACpB,UAAIw5E,gBAAgB,CAApB,CAfsD,CAe/B;AACvB,UAAIC,cAAc,IAAlB,CAhBsD,CAgB9B;AACxB,UAAIC,UAAU,IAAd,CAjBsD,CAiBlC;AACpB,UAAIC,UAAU,IAAd,CAlBsD,CAkBlC;AACpB,UAAIC,aAAa,GAAjB,CAnBsD,CAmBhC;AACtB,UAAIC,cAAc,GAAlB,CApBsD,CAoB/B;AACvB,UAAIC,oBAAoB,EAAxB,CArBsD,CAqB1B;AAC5B,UAAIC,sBAAsB,KAA1B,CAtBsD,CAsBrB;AACjC,UAAIC,wBAAwB,KAA5B,CAvBsD,CAuBnB;AACnC,UAAIjyE,UAAU,IAAd,CAxBsD,CAwBlC;AACpB,UAAIC,aAAa,GAAjB,CAzBsD,CAyBhC;AACtB,UAAIC,gBAAgB,GAApB,CA1BsD,CA0B7B;AACzB,UAAIH,cAAc,GAAlB,CA3BsD,CA2B/B;AACvB,UAAIhB,qBAAqB,GAAzB,CA5BsD,CA4BxB;AAC9B,UAAImzE,aAAa,CAAjB,CA7BsD,CA6BlC;;AAEpB,UAAIC,gBAAgB;AAClBnzE,iBAAS,SADS;AAElBozE,mBAAW,WAFO;AAGlBC,qBAAa;AAHK,OAApB;;AAMA,UAAIC,sBAAsB,SAASA,mBAAT,CAA6B3lF,QAA7B,EAAuC;AAC/D,YAAIhE,OAAO,IAAX;;AAEAA,aAAKgE,QAAL,GAAgBA,QAAhB;AACAhE,aAAK4pF,UAAL,GAAkB,EAAlB;;AAEA5pF,aAAK6V,eAAL;AACD,OAPD;;AASA,UAAIg0E,OAAOF,oBAAoBtkG,SAA/B;;AAEAwkG,WAAKC,OAAL,GAAeN,aAAf;;AAEA;AACAK,WAAKE,eAAL,GAAuB,UAAUC,IAAV,EAAgB;AACrC,YAAIhqF,OAAO,IAAX;AACAA,aAAKiqF,YAAL,GAAoBjqF,KAAKiqF,YAAL,IAAqB,EAAzC;;AAEA,eAAOjqF,KAAKiqF,YAAL,CAAkBD,IAAlB,IAA0BhqF,KAAKiqF,YAAL,CAAkBD,IAAlB,KAA2B,EAA5D;AACD,OALD;;AAOA;AACAH,WAAKK,sBAAL,GAA8B,UAAUF,IAAV,EAAgB;AAC5C,YAAIhqF,OAAO,IAAX;;AAEA,YAAImqF,UAAUnqF,KAAKiqF,YAAL,CAAkBG,OAAlB,GAA4BpqF,KAAKiqF,YAAL,CAAkBG,OAAlB,IAA6B,EAAvE;AACA,YAAIC,SAASF,QAAQH,IAAR,IAAgBG,QAAQH,IAAR,KAAiB,EAA9C;;AAEA,eAAOK,MAAP;AACD,OAPD;;AASA;AACAR,WAAKS,eAAL,GAAuB,YAAY;AACjC,YAAItqF,OAAO,IAAX;;AAEA,YAAIpL,IAAIoL,KAAKuqF,aAAL,GAAqBvqF,KAAKuqF,aAAL,IAAsB,IAAIhoE,IAAJ,CAAS,UAAU32B,CAAV,EAAaC,CAAb,EAAgB;AAC1E,iBAAOA,EAAE2+F,IAAF,GAAS5+F,EAAE4+F,IAAlB;AACD,SAFkD,CAAnD;;AAIA,eAAO51F,CAAP;AACD,OARD;;AAUA;AACAi1F,WAAKY,mBAAL,GAA2B,YAAY;AACrC,YAAIzqF,OAAO,IAAX;;AAEA,YAAI0qF,OAAO1qF,KAAK2qF,iBAAL,GAAyB3qF,KAAK2qF,iBAAL,IAA0B,EAA9D;;AAEA,eAAOD,IAAP;AACD,OAND;;AAQAb,WAAK5O,UAAL,GAAkB,UAAUluF,GAAV,EAAeuD,EAAf,EAAmBqgD,OAAnB,EAA4BitC,GAA5B,EAAiCgN,MAAjC,EAAyC;AACzD,YAAI5qF,OAAO,IAAX;AACA,YAAI5L,IAAI,KAAK4P,QAAb;AACA,YAAIinD,KAAKl+D,IAAIpF,QAAJ,CAAausB,QAAtB;AACA,YAAI/lB,OAAOiG,EAAEuO,EAAF,CAAKxU,IAAL,EAAX;;AAEA,YAAImC,GAAGE,CAAH,KAAS,CAAT,IAAcF,GAAGG,CAAH,KAAS,CAAvB,IAA4B,CAAC1D,IAAIirB,OAAJ,EAAjC,EAAgD;AAC9C,iBAAO,IAAP;AACD;;AAED,YAAI4lE,OAAO,IAAX,EAAiB;AACfA,gBAAMz2F,KAAKsiC,IAAL,CAAUx/B,KAAK6E,IAAL,CAAUX,OAAOwiD,OAAjB,CAAV,CAAN;AACD;;AAED,YAAIitC,MAAMgL,MAAV,EAAkB;AAChBhL,gBAAMgL,MAAN;AACD,SAFD,MAEO,IAAIz6F,QAAQmhB,OAAR,IAAmBsuE,MAAMiL,MAA7B,EAAqC;AAC1C,iBAAO,IAAP;AACD;;AAED,YAAIhgC,QAAQ1hE,KAAK6N,GAAL,CAAS,CAAT,EAAY4oF,GAAZ,CAAZ;AACA,YAAIiN,aAAav6F,GAAGG,CAAH,GAAOo4D,KAAxB;AACA,YAAIiiC,aAAax6F,GAAGE,CAAH,GAAOq4D,KAAxB;AACA,YAAI26B,SAASv4B,GAAG8/B,SAAH,GAAe9/B,GAAG8/B,SAAH,IAAgB,EAA5C;AACA,YAAIC,WAAWxH,OAAO5F,GAAP,CAAf;;AAEA,YAAIoN,QAAJ,EAAc;AACZ,iBAAOA,QAAP;AACD;;AAED,YAAIhB,IAAJ,CA9ByD,CA8B/C;;AAEV,YAAIa,cAAcnC,OAAlB,EAA2B;AACzBsB,iBAAOtB,OAAP;AACD,SAFD,MAEO,IAAImC,cAAclC,QAAlB,EAA4B;AACjCqB,iBAAOrB,QAAP;AACD,SAFM,MAEA;AACLqB,iBAAO7iG,KAAKsiC,IAAL,CAAUohE,aAAalC,QAAvB,IAAmCA,QAA1C;AACD;;AAED,YAAIkC,aAAa5B,OAAb,IAAwB6B,aAAa9B,OAArC,IAAgD,CAACK,mBAAD,IAAwBt8F,IAAI8Y,MAAJ,EAAxE,IAAwF,CAACyjF,qBAAD,IAA0Bv8F,IAAI4b,QAAJ,EAAtH,EAAsI;AACpI,iBAAO,IAAP,CADoI,CACvH;AACd;;AAED,YAAIsiF,OAAOjrF,KAAK+pF,eAAL,CAAqBC,IAArB,CAAX;;AAEA;AACA,YAAIkB,MAAMD,KAAKA,KAAK1+F,MAAL,GAAc,CAAnB,CAAV;;AAEA,YAAI4+F,YAAY,SAASA,SAAT,GAAqB;AACnC,iBAAOnrF,KAAKorF,cAAL,CAAoBpB,IAApB,EAA0Bc,UAA1B,KAAyC9qF,KAAKqrF,UAAL,CAAgBrB,IAAhB,EAAsBc,UAAtB,CAAhD;AACD,SAFD;;AAIA;AACA,YAAI,CAACI,GAAL,EAAU;AACRA,gBAAMD,KAAKA,KAAK1+F,MAAL,GAAc,CAAnB,CAAN;AACD;;AAED;AACA,YAAI,CAAC2+F,GAAL,EAAU;AACRA,gBAAMC,WAAN;AACD;;AAED;AACA,YAAID,IAAI15F,KAAJ,GAAY05F,IAAII,SAAhB,GAA4BR,UAAhC,EAA4C;AAC1CI,gBAAMC,WAAN;AACD;;AAED,YAAII,mBAAmBn3F,EAAEupF,oBAAF,CAAuB5wF,GAAvB,EAA4B87D,KAA5B,CAAvB;AACA,YAAI2iC,eAAe,SAASA,YAAT,CAAsBC,UAAtB,EAAkC;AACnD,iBAAOA,cAAcA,WAAWF,gBAAX,KAAgCA,gBAArD;AACD,SAFD;;AAIA,YAAIG,SAASd,UAAUA,WAAWpB,cAAcnzE,OAAhD;AACA,YAAIs1E,iBAAiBf,UAAUA,WAAWpB,cAAcE,WAAxD;AACA,YAAIkC,eAAehB,UAAUA,WAAWpB,cAAcC,SAAtD;;AAEA,YAAIoC,WAAJ,CA7EyD,CA6ExC;AACjB,aAAK,IAAI5nG,IAAI25F,MAAM,CAAnB,EAAsB35F,KAAK4kG,MAA3B,EAAmC5kG,GAAnC,EAAwC;AACtC,cAAIG,IAAIo/F,OAAOv/F,CAAP,CAAR;;AAEA,cAAIG,CAAJ,EAAO;AACLynG,0BAAcznG,CAAd,CAAgB;AACjB;AACF;;AAED,YAAI0nG,aAAaD,eAAeA,YAAY75C,KAAZ,KAAsB4rC,MAAM,CAA3C,GAA+CiO,WAA/C,GAA6D,IAA9E;;AAEA,YAAIpC,YAAY,SAASA,SAAT,GAAqB;AACnCyB,cAAIj/E,OAAJ,CAAYivE,SAAZ,CAAsB4Q,WAAW3Q,OAAX,CAAmBC,MAAzC,EAAiD0Q,WAAWrgG,CAA5D,EAA+D,CAA/D,EAAkEqgG,WAAWt6F,KAA7E,EAAoFs6F,WAAWr6F,MAA/F,EAAuGy5F,IAAII,SAA3G,EAAsH,CAAtH,EAAyHR,UAAzH,EAAqID,UAArI;AACD,SAFD;;AAIA;AACAK,YAAIj/E,OAAJ,CAAYk6E,YAAZ,CAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC;AACA+E,YAAIj/E,OAAJ,CAAYm6E,SAAZ,CAAsB8E,IAAII,SAA1B,EAAqC,CAArC,EAAwCR,UAAxC,EAAoDd,IAApD;;AAEA,YAAIwB,aAAaM,UAAb,CAAJ,EAA8B;AAC5B;AACArC;AACD,SAHD,MAGO,IAAI+B,aAAaK,WAAb,CAAJ,EAA+B;AACpC;AACA;;AAEA,cAAIF,cAAJ,EAAoB;AAClB,iBAAK,IAAI1nG,IAAI4nG,YAAY75C,KAAzB,EAAgC/tD,IAAI25F,GAApC,EAAyC35F,GAAzC,EAA8C;AAC5C6nG,2BAAa9rF,KAAKi7E,UAAL,CAAgBluF,GAAhB,EAAqBuD,EAArB,EAAyBqgD,OAAzB,EAAkC1sD,CAAlC,EAAqCulG,cAAcC,SAAnD,CAAb;AACD;;AAEDA;AACD,WAND,MAMO;AACLzpF,iBAAK+rF,YAAL,CAAkBh/F,GAAlB,EAAuB8+F,YAAY75C,KAAZ,GAAoB,CAA3C;;AAEA,mBAAO65C,WAAP;AACD;AACF,SAfM,MAeA;;AAEL,cAAIG,UAAJ,CAFK,CAEW;AAChB,cAAI,CAACN,MAAD,IAAW,CAACC,cAAZ,IAA8B,CAACC,YAAnC,EAAiD;AAC/C,iBAAK,IAAI3nG,IAAI25F,MAAM,CAAnB,EAAsB35F,KAAK2kG,MAA3B,EAAmC3kG,GAAnC,EAAwC;AACtC,kBAAIG,IAAIo/F,OAAOv/F,CAAP,CAAR;;AAEA,kBAAIG,CAAJ,EAAO;AACL4nG,6BAAa5nG,CAAb,CAAe;AAChB;AACF;AACF;;AAED,cAAIonG,aAAaQ,UAAb,CAAJ,EAA8B;AAC5B;;AAEAhsF,iBAAK+rF,YAAL,CAAkBh/F,GAAlB,EAAuB6wF,GAAvB;;AAEA,mBAAOoO,UAAP;AACD;;AAEDd,cAAIj/E,OAAJ,CAAY+rE,SAAZ,CAAsBkT,IAAII,SAA1B,EAAqC,CAArC;AACAJ,cAAIj/E,OAAJ,CAAY48C,KAAZ,CAAkBA,KAAlB,EAAyBA,KAAzB;;AAEAz0D,YAAEwmF,WAAF,CAAcsQ,IAAIj/E,OAAlB,EAA2Blf,GAA3B,EAAgCuD,EAAhC,EAAoCi7F,gBAApC;;AAEAL,cAAIj/E,OAAJ,CAAY48C,KAAZ,CAAkB,IAAIA,KAAtB,EAA6B,IAAIA,KAAjC;AACAqiC,cAAIj/E,OAAJ,CAAY+rE,SAAZ,CAAsB,CAACkT,IAAII,SAA3B,EAAsC,CAAtC;AACD;;AAEDN,mBAAWxH,OAAO5F,GAAP,IAAc;AACvB7wF,eAAKA,GADkB;AAEvBtB,aAAGy/F,IAAII,SAFgB;AAGvBnQ,mBAAS+P,GAHc;AAIvBl5C,iBAAO4rC,GAJgB;AAKvB/0B,iBAAOA,KALgB;AAMvBr3D,iBAAOs5F,UANgB;AAOvBr5F,kBAAQo5F,UAPe;AAQvBU,4BAAkBA;AARK,SAAzB;;AAWAL,YAAII,SAAJ,IAAiBnkG,KAAKsiC,IAAL,CAAUqhE,aAAahC,aAAvB,CAAjB;;AAEAoC,YAAIe,SAAJ,CAAc9+F,IAAd,CAAmB69F,QAAnB;;AAEAhrF,aAAKksF,oBAAL,CAA0BhB,GAA1B;;AAEA,eAAOF,QAAP;AACD,OAlKD;;AAoKAnB,WAAKsC,iBAAL,GAAyB,UAAUp/F,GAAV,EAAe;AACtC,YAAIiT,OAAO,IAAX;AACA,YAAIwjF,SAASz2F,IAAIpF,QAAJ,CAAausB,QAAb,CAAsB62E,SAAnC;;AAEA,YAAIvH,MAAJ,EAAY;AACV,eAAK,IAAI5F,MAAMgL,MAAf,EAAuBhL,OAAOiL,MAA9B,EAAsCjL,KAAtC,EAA6C;AAC3C,gBAAIrjE,QAAQipE,OAAO5F,GAAP,CAAZ;;AAEA,gBAAIrjE,KAAJ,EAAW;AACT,kBAAI2wE,MAAM3wE,MAAM4gE,OAAhB;;AAEA;AACA+P,kBAAIkB,gBAAJ,IAAwB7xE,MAAM/oB,KAA9B;;AAEA;AACAgyF,qBAAO5F,GAAP,IAAc,IAAd;AACA1zF,mBAAK4C,eAAL,CAAqBo+F,IAAIe,SAAzB,EAAoC1xE,KAApC;;AAEA;AACAva,mBAAKqsF,eAAL,CAAqBt/F,GAArB;;AAEA;AACAiT,mBAAKssF,mBAAL,CAAyBpB,GAAzB;AACD;AACF;AACF;AACF,OA1BD;;AA4BArB,WAAKyC,mBAAL,GAA2B,UAAUpB,GAAV,EAAe;AACxC;AACA,YAAIA,IAAIkB,gBAAJ,IAAwBlD,aAAagC,IAAI15F,KAA7C,EAAoD;AAClD,eAAK+6F,aAAL,CAAmBrB,GAAnB;AACD;AACF,OALD;;AAOArB,WAAKqC,oBAAL,GAA4B,UAAUhB,GAAV,EAAe;AACzC;AACA;;AAEA,YAAIlrF,OAAO,IAAX;AACA,YAAIirF,OAAOjrF,KAAK+pF,eAAL,CAAqBmB,IAAIz5F,MAAzB,CAAX;;AAEA,YAAIy5F,IAAII,SAAJ,GAAgBJ,IAAI15F,KAApB,GAA4B23F,WAA5B,IAA2C+B,IAAIsB,cAAJ,IAAsBpD,iBAArE,EAAwF;AACtFl/F,eAAK4C,eAAL,CAAqBm+F,IAArB,EAA2BC,GAA3B;AACD,SAFD,MAEO;AACLA,cAAIsB,cAAJ;AACD;AACF,OAZD;;AAcA3C,WAAK0C,aAAL,GAAqB,UAAUrB,GAAV,EAAe;AAClC,YAAIlrF,OAAO,IAAX;AACA,YAAIgqF,OAAOkB,IAAIz5F,MAAf;AACA,YAAIw5F,OAAOjrF,KAAK+pF,eAAL,CAAqBC,IAArB,CAAX;;AAEA;;AAEA9/F,aAAK4C,eAAL,CAAqBm+F,IAArB,EAA2BC,GAA3B;;AAEAA,YAAId,OAAJ,GAAc,IAAd;;AAEA;;AAEA,YAAI6B,YAAYf,IAAIe,SAApB;;AAEA,aAAK,IAAIjoG,IAAI,CAAb,EAAgBA,IAAIioG,UAAU1/F,MAA9B,EAAsCvI,GAAtC,EAA2C;AACzC,cAAIgnG,WAAWiB,UAAUjoG,CAAV,CAAf;AACA,cAAI+I,MAAMi+F,SAASj+F,GAAnB;AACA,cAAI6wF,MAAMoN,SAASh5C,KAAnB;AACA,cAAI+4C,YAAYh+F,IAAIpF,QAAJ,CAAausB,QAAb,CAAsB62E,SAAtC;;AAEA,cAAIA,SAAJ,EAAe;AACbA,sBAAUnN,GAAV,IAAiB,IAAjB;AACD;AACF;;AAED1zF,aAAKgD,UAAL,CAAgB++F,SAAhB;;AAEA;;AAEA,YAAI5B,SAASrqF,KAAKkqF,sBAAL,CAA4BF,IAA5B,CAAb;;AAEAK,eAAOl9F,IAAP,CAAY+9F,GAAZ;AACD,OAjCD;;AAmCArB,WAAKwB,UAAL,GAAkB,UAAUrB,IAAV,EAAgByC,IAAhB,EAAsB;AACtC,YAAIzsF,OAAO,IAAX;AACA,YAAIirF,OAAOjrF,KAAK+pF,eAAL,CAAqBC,IAArB,CAAX;AACA,YAAIkB,MAAM,EAAV;;AAEAD,aAAK99F,IAAL,CAAU+9F,GAAV;;AAEAA,YAAIe,SAAJ,GAAgB,EAAhB;;AAEAf,YAAIz5F,MAAJ,GAAau4F,IAAb;AACAkB,YAAI15F,KAAJ,GAAYrK,KAAKkJ,GAAL,CAAS04F,WAAT,EAAsB0D,IAAtB,CAAZ;AACAvB,YAAII,SAAJ,GAAgB,CAAhB;AACAJ,YAAIkB,gBAAJ,GAAuB,CAAvB;AACAlB,YAAIsB,cAAJ,GAAqB,CAArB;;AAEAtB,YAAI9P,MAAJ,GAAap1F,SAASk6E,aAAT,CAAuB,QAAvB,CAAb,CAfsC,CAeS;AAC/CgrB,YAAI9P,MAAJ,CAAW5pF,KAAX,GAAmB05F,IAAI15F,KAAvB;AACA05F,YAAI9P,MAAJ,CAAW3pF,MAAX,GAAoBy5F,IAAIz5F,MAAxB;;AAEAy5F,YAAIj/E,OAAJ,GAAci/E,IAAI9P,MAAJ,CAAWsR,UAAX,CAAsB,IAAtB,CAAd;;AAEA,eAAOxB,GAAP;AACD,OAtBD;;AAwBArB,WAAKuB,cAAL,GAAsB,UAAUpB,IAAV,EAAgByC,IAAhB,EAAsB;AAC1C,YAAIzsF,OAAO,IAAX;AACA,YAAIirF,OAAOjrF,KAAK+pF,eAAL,CAAqBC,IAArB,CAAX;AACA,YAAIK,SAASrqF,KAAKkqF,sBAAL,CAA4BF,IAA5B,CAAb;;AAEA,aAAK,IAAIhmG,IAAI,CAAb,EAAgBA,IAAIqmG,OAAO99F,MAA3B,EAAmCvI,GAAnC,EAAwC;AACtC,cAAIknG,MAAMb,OAAOrmG,CAAP,CAAV;;AAEA,cAAIknG,IAAI15F,KAAJ,IAAai7F,IAAjB,EAAuB;AACrBvB,gBAAId,OAAJ,GAAc,KAAd;;AAEAc,gBAAII,SAAJ,GAAgB,CAAhB;AACAJ,gBAAIkB,gBAAJ,GAAuB,CAAvB;AACAlB,gBAAIsB,cAAJ,GAAqB,CAArB;;AAEAtiG,iBAAKgD,UAAL,CAAgBg+F,IAAIe,SAApB;;AAEAf,gBAAIj/E,OAAJ,CAAYk6E,YAAZ,CAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC;AACA+E,gBAAIj/E,OAAJ,CAAYm6E,SAAZ,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B8E,IAAI15F,KAAhC,EAAuC05F,IAAIz5F,MAA3C;;AAEAvH,iBAAK4C,eAAL,CAAqBu9F,MAArB,EAA6Ba,GAA7B;AACAD,iBAAK99F,IAAL,CAAU+9F,GAAV;;AAEA,mBAAOA,GAAP;AACD;AACF;AACF,OA1BD;;AA4BArB,WAAKkC,YAAL,GAAoB,UAAUh/F,GAAV,EAAe6wF,GAAf,EAAoB;AACtC,YAAI59E,OAAO,IAAX;AACA,YAAIpL,IAAIoL,KAAKsqF,eAAL,EAAR;AACA,YAAII,OAAO1qF,KAAKyqF,mBAAL,EAAX;AACA,YAAI7sF,KAAK7Q,IAAI6Q,EAAJ,EAAT;AACA,YAAI+uF,cAAcjC,KAAK9sF,EAAL,CAAlB;;AAEA,YAAI+uF,WAAJ,EAAiB;AACf;AACAA,sBAAY36C,KAAZ,GAAoB7qD,KAAKkJ,GAAL,CAASs8F,YAAY36C,KAArB,EAA4B4rC,GAA5B,CAApB;AACA+O,sBAAYnC,IAAZ;;AAEA51F,YAAE4uB,UAAF,CAAampE,WAAb;AACD,SAND,MAMO;AACL,cAAI9+F,MAAM;AACRd,iBAAKA,GADG;AAERilD,mBAAO4rC,GAFC;AAGR4M,kBAAM;AAHE,WAAV;;AAMA51F,YAAEzH,IAAF,CAAOU,GAAP;;AAEA68F,eAAK9sF,EAAL,IAAW/P,GAAX;AACD;AACF,OAxBD;;AA0BAg8F,WAAKxzE,OAAL,GAAe,UAAUs6B,OAAV,CAAkB,YAAlB,EAAgC;AAC7C,YAAI3wC,OAAO,IAAX;AACA,YAAIpL,IAAIoL,KAAKsqF,eAAL,EAAR;AACA,YAAII,OAAO1qF,KAAKyqF,mBAAL,EAAX;AACA,YAAImC,WAAW,EAAf;;AAEA,aAAK,IAAI5oG,IAAI,CAAb,EAAgBA,IAAIulG,UAApB,EAAgCvlG,GAAhC,EAAqC;AACnC,cAAI4Q,EAAE8L,IAAF,KAAW,CAAf,EAAkB;AAChB,gBAAI7S,MAAM+G,EAAEwuB,GAAF,EAAV;AACA,gBAAIr2B,MAAMc,IAAId,GAAd;AACA,gBAAIy2F,SAASz2F,IAAIpF,QAAJ,CAAausB,QAAb,CAAsB62E,SAAnC;;AAEA;AACA,gBAAIvH,OAAO31F,IAAImkD,KAAX,KAAqB,IAAzB,EAA+B;AAC7B;AACD;;AAED04C,iBAAK39F,IAAI6Q,EAAJ,EAAL,IAAiB,IAAjB;;AAEAgvF,qBAASz/F,IAAT,CAAcU,GAAd;;AAEA,gBAAIyC,KAAKvD,IAAIxE,WAAJ,EAAT;;AAEAyX,iBAAKi7E,UAAL,CAAgBluF,GAAhB,EAAqBuD,EAArB,EAAyBqgD,OAAzB,EAAkC9iD,IAAImkD,KAAtC,EAA6Cw3C,cAAcnzE,OAA3D;AACD,WAjBD,MAiBO;AACL;AACD;AACF;;AAED,eAAOu2E,QAAP;AACD,OA9BD;;AAgCA/C,WAAKwC,eAAL,GAAuB,UAAUt/F,GAAV,EAAe;AACpC,YAAIiT,OAAO,IAAX;AACA,YAAIpL,IAAIoL,KAAKsqF,eAAL,EAAR;AACA,YAAII,OAAO1qF,KAAKyqF,mBAAL,EAAX;AACA,YAAI58F,MAAM68F,KAAK39F,IAAI6Q,EAAJ,EAAL,CAAV;;AAEA,YAAI/P,OAAO,IAAX,EAAiB;AACf;AACAA,cAAI28F,IAAJ,GAAWtgG,KAAKC,OAAhB;AACAyK,YAAE4uB,UAAF,CAAa31B,GAAb;;AAEA+G,YAAEwuB,GAAF,GALe,CAKN;;AAETsnE,eAAK39F,IAAI6Q,EAAJ,EAAL,IAAiB,IAAjB,CAPe,CAOQ;AACxB;AACF,OAfD;;AAiBAisF,WAAKgD,SAAL,GAAiB,UAAUpmG,EAAV,EAAc;AAC7B,aAAKmjG,UAAL,CAAgBz8F,IAAhB,CAAqB1G,EAArB;AACD,OAFD;AAGAojG,WAAKiD,UAAL,GAAkB,UAAUrmG,EAAV,EAAc;AAC9ByD,aAAK4C,eAAL,CAAqB,KAAK88F,UAA1B,EAAsCnjG,EAAtC;AACD,OAFD;;AAIAojG,WAAKh0E,eAAL,GAAuB4yE,KAAK5yE,eAAL,CAAqB;AAC1CO,4BAAoBA,kBADsB;AAE1CiB,iBAASA,OAFiC;AAG1CC,oBAAYA,UAH8B;AAI1CC,uBAAeA,aAJ2B;AAK1CH,qBAAaA,WAL6B;AAM1CK,aAAK,SAASA,GAAT,CAAazX,IAAb,EAAmB2wC,OAAnB,EAA4B55B,MAA5B,EAAoC;AACvC,iBAAO/W,KAAKqW,OAAL,CAAas6B,OAAb,EAAsB55B,MAAtB,CAAP;AACD,SARyC;AAS1CW,gBAAQ,SAASA,MAAT,CAAgB1X,IAAhB,EAAsB8W,IAAtB,EAA4B;AAClC,eAAK,IAAI9yB,IAAI,CAAb,EAAgBA,IAAIgc,KAAK4pF,UAAL,CAAgBr9F,MAApC,EAA4CvI,GAA5C,EAAiD;AAC/C,gBAAIyC,KAAKuZ,KAAK4pF,UAAL,CAAgB5lG,CAAhB,CAAT;;AAEAyC,eAAGqwB,IAAH;AACD;AACF,SAfyC;AAgB1Ca,sBAAc,SAASA,YAAT,CAAsB3X,IAAtB,EAA4B8W,IAA5B,EAAkC65B,OAAlC,EAA2C55B,MAA3C,EAAmD;AAC/D,eAAK,IAAI/yB,IAAI,CAAb,EAAgBA,IAAI8yB,KAAKvqB,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAIsM,KAAKwmB,KAAK9yB,CAAL,EAAQ+I,GAAR,CAAYxE,WAAZ,EAAT;;AAEA,gBAAI0B,KAAK+G,sBAAL,CAA4BV,EAA5B,EAAgCymB,MAAhC,CAAJ,EAA6C;AAC3C,qBAAO,IAAP;AACD;AACF;;AAED,iBAAO,KAAP;AACD,SA1ByC;AA2B1Ca,kBAAU,SAASA,QAAT,CAAkB5X,IAAlB,EAAwB;AAChC,iBAAOA,KAAKgE,QAAL,CAAc+oC,sBAAd,CAAqCu5B,SAA5C;AACD;AA7ByC,OAArB,CAAvB;;AAgCAhjF,aAAOD,OAAP,GAAiBsmG,mBAAjB;;AAEA;AAAO,KA7qvBG;AA8qvBV;AACA,SAAO,UAASrmG,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAI8yF,MAAM,EAAV;;AAEAA,UAAImW,YAAJ,GAAmB,UAAUv8F,CAAV,EAAaC,CAAb,EAAgB;AACjC,YAAIu8F,SAAShnG,SAASk6E,aAAT,CAAuB,QAAvB,CAAb,CADiC,CACc;AAC/C8sB,eAAOx7F,KAAP,GAAehB,CAAf;AACAw8F,eAAOv7F,MAAP,GAAgBhB,CAAhB;;AAEA,eAAO,CAACu8F,MAAD,EAASA,OAAON,UAAP,CAAkB,IAAlB,CAAT,CAAP;AACD,OAND;;AAQA9V,UAAIqW,iBAAJ,GAAwB,UAAUjqF,OAAV,EAAmB;AACzC,YAAIL,KAAK,KAAKA,EAAd;AACA,YAAIQ,OAAOR,GAAGgP,eAAH,EAAX;AACA,YAAIrhB,KAAK6S,KAAK5a,WAAL,EAAT;AACA,YAAI2kG,UAAU,KAAKxkC,yBAAL,EAAd;AACA,YAAIl3D,QAAQwR,QAAQmqF,IAAR,GAAehmG,KAAKsiC,IAAL,CAAUn5B,GAAGE,CAAb,CAAf,GAAiC08F,QAAQ,CAAR,CAA7C;AACA,YAAIz7F,SAASuR,QAAQmqF,IAAR,GAAehmG,KAAKsiC,IAAL,CAAUn5B,GAAGG,CAAb,CAAf,GAAiCy8F,QAAQ,CAAR,CAA9C;AACA,YAAIE,eAAe5mG,GAAGQ,MAAH,CAAUgc,QAAQqqF,QAAlB,KAA+B7mG,GAAGQ,MAAH,CAAUgc,QAAQsqF,SAAlB,CAAlD;AACA,YAAI38C,UAAU,KAAK35B,aAAL,EAAd;AACA,YAAI6xC,QAAQ,CAAZ;;AAEA,YAAI7lD,QAAQ6lD,KAAR,KAAkBthE,SAAtB,EAAiC;AAC/BiK,mBAASwR,QAAQ6lD,KAAjB;AACAp3D,oBAAUuR,QAAQ6lD,KAAlB;;AAEAA,kBAAQ7lD,QAAQ6lD,KAAhB;AACD,SALD,MAKO,IAAIukC,YAAJ,EAAkB;AACvB,cAAIG,YAAYh9F,QAAhB;AACA,cAAIi9F,YAAYj9F,QAAhB;;AAEA,cAAI/J,GAAGQ,MAAH,CAAUgc,QAAQqqF,QAAlB,CAAJ,EAAiC;AAC/BE,wBAAY1kC,QAAQ7lD,QAAQqqF,QAAhB,GAA2B77F,KAAvC;AACD;;AAED,cAAIhL,GAAGQ,MAAH,CAAUgc,QAAQsqF,SAAlB,CAAJ,EAAkC;AAChCE,wBAAY3kC,QAAQ7lD,QAAQsqF,SAAhB,GAA4B77F,MAAxC;AACD;;AAEDo3D,kBAAQ1hE,KAAKiJ,GAAL,CAASm9F,SAAT,EAAoBC,SAApB,CAAR;;AAEAh8F,mBAASq3D,KAAT;AACAp3D,oBAAUo3D,KAAV;AACD;;AAED,YAAI,CAACukC,YAAL,EAAmB;AACjB57F,mBAASm/C,OAAT;AACAl/C,oBAAUk/C,OAAV;AACAkY,mBAASlY,OAAT;AACD;;AAED,YAAI88C,aAAaznG,SAASk6E,aAAT,CAAuB,QAAvB,CAAjB,CAxCyC,CAwCU;;AAEnDutB,mBAAWj8F,KAAX,GAAmBA,KAAnB;AACAi8F,mBAAWh8F,MAAX,GAAoBA,MAApB;;AAEAg8F,mBAAW3lG,KAAX,CAAiB0J,KAAjB,GAAyBA,QAAQ,IAAjC;AACAi8F,mBAAW3lG,KAAX,CAAiB2J,MAAjB,GAA0BA,SAAS,IAAnC;;AAEA,YAAIi8F,UAAUD,WAAWf,UAAX,CAAsB,IAAtB,CAAd;;AAEA;AACA,YAAIl7F,QAAQ,CAAR,IAAaC,SAAS,CAA1B,EAA6B;;AAE3Bi8F,kBAAQtH,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwB50F,KAAxB,EAA+BC,MAA/B;;AAEAi8F,kBAAQzT,wBAAR,GAAmC,aAAnC;;AAEA,cAAI0T,cAAc,KAAK5jC,oBAAL,EAAlB;;AAEA,cAAI/mD,QAAQmqF,IAAZ,EAAkB;AAChB;AACAO,oBAAQ1V,SAAR,CAAkB,CAAC1nF,GAAG9H,EAAJ,GAASqgE,KAA3B,EAAkC,CAACv4D,GAAG5H,EAAJ,GAASmgE,KAA3C;AACA6kC,oBAAQ7kC,KAAR,CAAcA,KAAd,EAAqBA,KAArB;;AAEA,iBAAKwyB,YAAL,CAAkBqS,OAAlB,EAA2BC,WAA3B;;AAEAD,oBAAQ7kC,KAAR,CAAc,IAAIA,KAAlB,EAAyB,IAAIA,KAA7B;AACA6kC,oBAAQ1V,SAAR,CAAkB1nF,GAAG9H,EAAH,GAAQqgE,KAA1B,EAAiCv4D,GAAG5H,EAAH,GAAQmgE,KAAzC;AACD,WATD,MASO;AACL;AACA,gBAAIz6D,MAAMuU,GAAGvU,GAAH,EAAV;;AAEA,gBAAIm4D,cAAc;AAChB96D,iBAAG2C,IAAI3C,CAAJ,GAAQo9D,KADK;AAEhBn9D,iBAAG0C,IAAI1C,CAAJ,GAAQm9D;AAFK,aAAlB;;AAKAA,qBAASlmD,GAAGxU,IAAH,EAAT;;AAEAu/F,oBAAQ1V,SAAR,CAAkBzxB,YAAY96D,CAA9B,EAAiC86D,YAAY76D,CAA7C;AACAgiG,oBAAQ7kC,KAAR,CAAcA,KAAd,EAAqBA,KAArB;;AAEA,iBAAKwyB,YAAL,CAAkBqS,OAAlB,EAA2BC,WAA3B;;AAEAD,oBAAQ7kC,KAAR,CAAc,IAAIA,KAAlB,EAAyB,IAAIA,KAA7B;AACA6kC,oBAAQ1V,SAAR,CAAkB,CAACzxB,YAAY96D,CAA/B,EAAkC,CAAC86D,YAAY76D,CAA/C;AACD;;AAED;AACA,cAAIsX,QAAQgtC,EAAZ,EAAgB;AACd09C,oBAAQzT,wBAAR,GAAmC,kBAAnC;;AAEAyT,oBAAQxT,SAAR,GAAoBl3E,QAAQgtC,EAA5B;AACA09C,oBAAQ3kC,IAAR,CAAa,CAAb,EAAgB,CAAhB,EAAmBv3D,KAAnB,EAA0BC,MAA1B;AACAi8F,oBAAQtT,IAAR;AACD;AACF;;AAED,eAAOqT,UAAP;AACD,OAnGD;;AAqGA,eAASG,SAAT,CAAmBC,GAAnB,EAAwBC,QAAxB,EAAkC;AAChC,YAAIC,QAAQC,KAAKH,GAAL,CAAZ;AACA,YAAII,OAAO,IAAIC,WAAJ,CAAgBH,MAAMxhG,MAAtB,CAAX;AACA,YAAI4hG,YAAY,IAAIC,UAAJ,CAAeH,IAAf,CAAhB;;AAEA,aAAK,IAAIjqG,IAAI,CAAb,EAAgBA,IAAI+pG,MAAMxhG,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrCmqG,oBAAUnqG,CAAV,IAAe+pG,MAAMM,UAAN,CAAiBrqG,CAAjB,CAAf;AACD;;AAED,eAAO,IAAIsqG,IAAJ,CAAS,CAACL,IAAD,CAAT,EAAiB,EAAEnlF,MAAMglF,QAAR,EAAjB,CAAP;AACD;;AAED,eAASS,WAAT,CAAqBC,MAArB,EAA6B;AAC3B,YAAIxqG,IAAIwqG,OAAOxtE,OAAP,CAAe,GAAf,CAAR;;AAEA,eAAOwtE,OAAOC,MAAP,CAAczqG,IAAI,CAAlB,CAAP;AACD;;AAED,eAAS0qG,MAAT,CAAgB1rF,OAAhB,EAAyBo4E,MAAzB,EAAiC0S,QAAjC,EAA2C;AACzC,YAAIa,SAASvT,OAAOwT,SAAP,CAAiBd,QAAjB,EAA2B9qF,QAAQ6rF,OAAnC,CAAb;;AAEA,gBAAQ7rF,QAAQ0rF,MAAhB;AACE,eAAK,MAAL;AACE,mBAAOd,UAAUW,YAAYI,MAAZ,CAAV,EAA+Bb,QAA/B,CAAP;;AAEF,eAAK,QAAL;AACE,mBAAOS,YAAYI,MAAZ,CAAP;;AAEF,eAAK,WAAL;AACA;AACE,mBAAOA,MAAP;AATJ;AAWD;;AAED/X,UAAI9mC,GAAJ,GAAU,UAAU9sC,OAAV,EAAmB;AAC3B,eAAO0rF,OAAO1rF,OAAP,EAAgB,KAAKiqF,iBAAL,CAAuBjqF,OAAvB,CAAhB,EAAiD,WAAjD,CAAP;AACD,OAFD;;AAIA4zE,UAAI7mC,GAAJ,GAAU,UAAU/sC,OAAV,EAAmB;AAC3B,eAAO0rF,OAAO1rF,OAAP,EAAgB,KAAKiqF,iBAAL,CAAuBjqF,OAAvB,CAAhB,EAAiD,YAAjD,CAAP;AACD,OAFD;;AAIA1f,aAAOD,OAAP,GAAiBuzF,GAAjB;;AAEA;AAAO,KAj1vBG;AAk1vBV;AACA,SAAO,UAAStzF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA;;;;;;AAMA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAI6lG,sBAAsB7lG,oBAAoB,GAApB,CAA1B;AACA,UAAIgrG,sBAAsBhrG,oBAAoB,GAApB,CAA1B;;AAEA,UAAIirG,KAAKC,cAAT;AACA,UAAIpY,MAAMoY,eAAe3pG,SAAzB;;AAEAuxF,UAAIsN,aAAJ,GAAoB,CAApB;AACA;AACAtN,UAAI4O,UAAJ,GAAiB,CAAjB;AACA5O,UAAI2P,IAAJ,GAAW,CAAX;AACA3P,UAAI2O,IAAJ,GAAW,CAAX;;AAEA3O,UAAIwN,YAAJ,GAAmB,CAAnB;AACA;AACAxN,UAAI0N,cAAJ,GAAqB,CAArB;AACA1N,UAAIiN,sBAAJ,GAA6B,CAA7B;AACAjN,UAAIkN,sBAAJ,GAA6B,CAA7B;;AAEA,eAASkL,cAAT,CAAwBhsF,OAAxB,EAAiC;AAC/B,YAAI5O,IAAI,IAAR;;AAEAA,UAAEoN,IAAF,GAAS;AACP2iF,oBAAU,IAAIt9F,KAAJ,CAAU+vF,IAAIsN,aAAd,CADH;AAEPnB,oBAAU,IAAIl8F,KAAJ,CAAU+vF,IAAIsN,aAAd,CAFH;AAGPY,6BAAmB,IAAIj+F,KAAJ,CAAU+vF,IAAIsN,aAAd,CAHZ;;AAKPN,0BAAgB,IAAI/8F,KAAJ,CAAU+vF,IAAIwN,YAAd,CALT;AAMP8B,0BAAgB,IAAIr/F,KAAJ,CAAU+vF,IAAIsN,aAAd;AANT,SAAT;;AASA,YAAI+K,WAAW,6CAAf;;AAEA76F,UAAEoN,IAAF,CAAOyiF,eAAP,GAAyBj+F,SAASk6E,aAAT,CAAuB,KAAvB,CAAzB,CAd+B,CAcyB;AACxD,YAAIgvB,iBAAiB96F,EAAEoN,IAAF,CAAOyiF,eAAP,CAAuBn8F,KAA5C;AACAsM,UAAEoN,IAAF,CAAOyiF,eAAP,CAAuBkL,YAAvB,CAAoC,OAApC,EAA6CF,QAA7C;AACAC,uBAAe5qF,QAAf,GAA0B,UAA1B;AACA4qF,uBAAexuB,MAAf,GAAwB,GAAxB;AACAwuB,uBAAeE,QAAf,GAA0B,QAA1B;;AAEA,YAAI9gF,YAAYtL,QAAQL,EAAR,CAAW2L,SAAX,EAAhB;AACAA,kBAAU8xD,WAAV,CAAsBhsE,EAAEoN,IAAF,CAAOyiF,eAA7B;;AAEA,YAAI,CAAC31E,UAAU+gF,YAAV,CAAuB,OAAvB,KAAmC,EAApC,EAAwCruE,OAAxC,CAAgDiuE,QAAhD,IAA4D,CAAhE,EAAmE;AACjE3gF,oBAAU6gF,YAAV,CAAuB,OAAvB,EAAgC,CAAC7gF,UAAU+gF,YAAV,CAAuB,OAAvB,KAAmC,EAApC,IAA0CJ,QAA1E;AACD;;AAED,aAAK,IAAIjrG,IAAI,CAAb,EAAgBA,IAAI4yF,IAAIsN,aAAxB,EAAuClgG,GAAvC,EAA4C;AAC1C,cAAIo3F,SAAShnF,EAAEoN,IAAF,CAAO2iF,QAAP,CAAgBngG,CAAhB,IAAqBgC,SAASk6E,aAAT,CAAuB,QAAvB,CAAlC,CAD0C,CAC0B;AACpE9rE,YAAEoN,IAAF,CAAOuhF,QAAP,CAAgB/+F,CAAhB,IAAqBo3F,OAAOsR,UAAP,CAAkB,IAAlB,CAArB;AACAtR,iBAAO+T,YAAP,CAAoB,OAApB,EAA6B,iJAAiJ3oG,GAAGkD,EAAH,KAAU,+CAAV,GAA4D,EAA7M,CAA7B;AACA0xF,iBAAOtzF,KAAP,CAAawc,QAAb,GAAwB,UAAxB;AACA82E,iBAAO+T,YAAP,CAAoB,SAApB,EAA+B,UAAUnrG,CAAzC;AACAo3F,iBAAOtzF,KAAP,CAAa44E,MAAb,GAAsBvJ,OAAOyf,IAAIsN,aAAJ,GAAoBlgG,CAA3B,CAAtB;AACAoQ,YAAEoN,IAAF,CAAOyiF,eAAP,CAAuB7jB,WAAvB,CAAmCgb,MAAnC;;AAEAhnF,YAAEoN,IAAF,CAAOsjF,iBAAP,CAAyB9gG,CAAzB,IAA8B,KAA9B;AACD;AACDoQ,UAAEoN,IAAF,CAAO8tF,SAAP,GAAmBl7F,EAAEoN,IAAF,CAAO2iF,QAAP,CAAgB,CAAhB,CAAnB;;AAEA/vF,UAAEoN,IAAF,CAAO2iF,QAAP,CAAgBvN,IAAI2O,IAApB,EAA0B4J,YAA1B,CAAuC,SAAvC,EAAkD,UAAUvY,IAAI2O,IAAd,GAAqB,OAAvE;AACAnxF,UAAEoN,IAAF,CAAO2iF,QAAP,CAAgBvN,IAAI4O,UAApB,EAAgC2J,YAAhC,CAA6C,SAA7C,EAAwD,UAAUvY,IAAI4O,UAAd,GAA2B,YAAnF;AACApxF,UAAEoN,IAAF,CAAO2iF,QAAP,CAAgBvN,IAAI2P,IAApB,EAA0B4I,YAA1B,CAAuC,SAAvC,EAAkD,UAAUvY,IAAI2P,IAAd,GAAqB,OAAvE;;AAEA,aAAK,IAAIviG,IAAI,CAAb,EAAgBA,IAAI4yF,IAAIwN,YAAxB,EAAsCpgG,GAAtC,EAA2C;AACzCoQ,YAAEoN,IAAF,CAAOoiF,cAAP,CAAsB5/F,CAAtB,IAA2BgC,SAASk6E,aAAT,CAAuB,QAAvB,CAA3B,CADyC,CACoB;AAC7D9rE,YAAEoN,IAAF,CAAO0kF,cAAP,CAAsBliG,CAAtB,IAA2BoQ,EAAEoN,IAAF,CAAOoiF,cAAP,CAAsB5/F,CAAtB,EAAyB0oG,UAAzB,CAAoC,IAApC,CAA3B;AACAt4F,YAAEoN,IAAF,CAAOoiF,cAAP,CAAsB5/F,CAAtB,EAAyB8D,KAAzB,CAA+Bwc,QAA/B,GAA0C,UAA1C;AACAlQ,YAAEoN,IAAF,CAAOoiF,cAAP,CAAsB5/F,CAAtB,EAAyBmrG,YAAzB,CAAsC,SAAtC,EAAiD,WAAWnrG,CAA5D;AACAoQ,YAAEoN,IAAF,CAAOoiF,cAAP,CAAsB5/F,CAAtB,EAAyB8D,KAAzB,CAA+B44E,MAA/B,GAAwCvJ,OAAO,CAACnzE,CAAD,GAAK,CAAZ,CAAxC;AACAoQ,YAAEoN,IAAF,CAAOoiF,cAAP,CAAsB5/F,CAAtB,EAAyB8D,KAAzB,CAA+B64E,UAA/B,GAA4C,QAA5C;AACA;AACD;;AAEDvsE,UAAEm7F,YAAF,GAAiB,IAAjB;;AAEAn7F,UAAEoN,IAAF,CAAOw5E,WAAP,GAAqB,IAAI2O,mBAAJ,CAAwBv1F,CAAxB,CAArB;AACAA,UAAEoN,IAAF,CAAOk6E,WAAP,GAAqB,IAAIoT,mBAAJ,CAAwB16F,CAAxB,EAA2BA,EAAEoN,IAAF,CAAOw5E,WAAlC,CAArB;;AAEA5mF,UAAEuuE,gBAAF,CAAmB,SAAS6sB,uBAAT,CAAiCl5E,QAAjC,EAA2CnT,IAA3C,EAAiD;AAClE,eAAK,IAAInf,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;AACA,gBAAIinE,KAAKl+D,IAAIpF,QAAJ,CAAamsB,MAAtB;AACA,gBAAI27E,KAAKxkC,GAAG4W,WAAZ;;AAEA,gBAAI90E,IAAIyY,MAAJ,MAAgBiqF,EAAhB,IAAsBA,GAAGljG,MAAH,KAAc,CAApC,IAAyCkjG,GAAG,UAAH,CAA7C,EAA6D;AAC3D;AACD,aAFD,MAEO;AACLr7F,gBAAEoN,IAAF,CAAOw5E,WAAP,CAAmBmR,iBAAnB,CAAqCp/F,GAArC;AACD;AACF;;AAED,cAAIoW,KAAK5W,MAAL,GAAc,CAAlB,EAAqB;AACnB6H,cAAEoN,IAAF,CAAOk6E,WAAP,CAAmBgU,kBAAnB,CAAsCvsF,IAAtC;AACD;AACF,SAhBD;AAiBD;;AAEDyzE,UAAI1gE,UAAJ,GAAiB,UAAU/V,KAAV,EAAiB9Y,IAAjB,EAAuB;AACtC,YAAI+M,IAAI,IAAR;;AAEA,gBAAQ+L,KAAR;AACE,eAAK,MAAL;AACE/L,cAAEoN,IAAF,CAAOsjF,iBAAP,CAAyBlO,IAAI2O,IAA7B,IAAqCl+F,IAArC;AACA;AACF,eAAK,MAAL;AACE+M,cAAEoN,IAAF,CAAOsjF,iBAAP,CAAyBlO,IAAI2P,IAA7B,IAAqCl/F,IAArC;AACA;AACF,eAAK,QAAL;AACE+M,cAAEoN,IAAF,CAAOsjF,iBAAP,CAAyBlO,IAAI4O,UAA7B,IAA2Cn+F,IAA3C;AACA;AATJ;AAWD,OAdD;;AAgBA;AACA,UAAIsoG,aAAa,OAAOnW,MAAP,KAAkB,WAAnC;;AAEA5C,UAAIgZ,aAAJ,GAAoB,UAAUtiF,EAAV,EAAc;AAChC,YAAIA,OAAO/lB,SAAX,EAAsB;AACpB,iBAAO,KAAKgoG,YAAZ;AACD;;AAED,aAAKA,YAAL,GAAoBjiF,KAAK,IAAL,GAAY,KAAhC;AACD,OAND;;AAQAspE,UAAImB,QAAJ,GAAe,YAAY;AACzB,eAAO4X,cAAc,KAAKJ,YAA1B;AACD,OAFD;;AAIA,OAACzrG,oBAAoB,GAApB,CAAD,EAA2BA,oBAAoB,GAApB,CAA3B,EAAqDA,oBAAoB,GAApB,CAArD,EAA+EA,oBAAoB,GAApB,CAA/E,EAAyGA,oBAAoB,GAApB,CAAzG,EAAmIA,oBAAoB,GAApB,CAAnI,EAA6JA,oBAAoB,GAApB,CAA7J,EAAuLA,oBAAoB,GAApB,CAAvL,EAAiNA,oBAAoB,GAApB,CAAjN,EAA2OA,oBAAoB,GAApB,CAA3O,EAAqQ8J,OAArQ,CAA6Q,UAAUqc,KAAV,EAAiB;AAC5R/f,aAAKgB,MAAL,CAAY0rF,GAAZ,EAAiB3sE,KAAjB;AACD,OAFD;;AAIA3mB,aAAOD,OAAP,GAAiB0rG,EAAjB;;AAEA;AAAO,KAt+vBG;AAu+vBV;AACA,SAAO,UAASzrG,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;AACA,UAAIy+B,OAAOz+B,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAI2kG,OAAO3kG,oBAAoB,EAApB,CAAX;;AAEA,UAAI+rG,eAAe,CAAnB,CAXsD,CAWhC;AACtB,UAAIjH,SAAS,CAAC,CAAd,CAZsD,CAYrC;AACjB,UAAIC,SAAS,CAAb,CAbsD,CAatC;AAChB,UAAIv5E,UAAU,IAAd,CAdsD,CAclC;AACpB,UAAI8G,qBAAqB,EAAzB,CAfsD,CAezB;AAC7B,UAAI05E,wBAAwB,EAA5B,CAhBsD,CAgBtB;AAChC,UAAIC,yBAAyB,IAA7B,CAjBsD,CAiBnB;AACnC,UAAI14E,UAAU,IAAd,CAlBsD,CAkBlC;AACpB,UAAIC,aAAa,GAAjB,CAnBsD,CAmBhC;AACtB,UAAIC,gBAAgB,GAApB,CApBsD,CAoB7B;AACzB,UAAIH,cAAc,GAAlB,CArBsD,CAqB/B;AACvB,UAAImyE,aAAa,CAAjB,CAtBsD,CAsBlC;AACpB,UAAIyG,mBAAmB,GAAvB,CAvBsD,CAuB1B;AAC5B,UAAIC,eAAe,OAAO,IAA1B,CAxBsD,CAwBtB;AAChC,UAAIC,cAAc,IAAlB,CAzBsD,CAyB9B;AACxB,UAAIC,2BAA2B,IAA/B,CA1BsD,CA0BjB;;AAErC,UAAIC,mBAAmB,IAAvB,CA5BsD,CA4BzB;;AAE7B;;AAEA,UAAItB,sBAAsB,SAASA,mBAAT,CAA6B9qF,QAA7B,EAAuCg3E,WAAvC,EAAoD;AAC5E,YAAIh7E,OAAO,IAAX;;AAEA,YAAI5L,IAAI4L,KAAKgE,QAAL,GAAgBA,QAAxB;;AAEAhE,aAAKqwF,aAAL,GAAqB,EAArB,CAL4E,CAKnD;;AAEzBrwF,aAAKswF,QAAL,GAAgB,IAAhB;;AAEAtwF,aAAKuwF,oBAAL,GAA4BrmG,KAAKusB,cAAL,KAAwB,IAAIu5E,gBAAxD;;AAEAhwF,aAAKwwF,QAAL,GAAgB,KAAhB;;AAEAp8F,UAAEyjB,YAAF,CAAe,UAAUvB,QAAV,EAAoBZ,GAApB,EAAyB;AACtC,cAAIA,MAAM1V,KAAKuwF,oBAAX,IAAmCP,gBAAvC,EAAyD;AACvDhwF,iBAAKwwF,QAAL,GAAgB,IAAhB;AACD,WAFD,MAEO;AACLxwF,iBAAKwwF,QAAL,GAAgB,KAAhB;AACD;AACF,SAND;;AAQA,YAAIC,QAAQ,SAASA,KAAT,CAAe7kG,CAAf,EAAkBC,CAAlB,EAAqB;AAC/B,iBAAOA,EAAE2+F,IAAF,GAAS5+F,EAAE4+F,IAAlB;AACD,SAFD;;AAIAxqF,aAAK0wF,WAAL,GAAmB,IAAInuE,IAAJ,CAASkuE,KAAT,CAAnB;;AAEAzwF,aAAKg7E,WAAL,GAAmBA,WAAnB;;AAEAh7E,aAAK2wF,yBAAL;;AAEA3wF,aAAK6V,eAAL;AACD,OAhCD;;AAkCA,UAAI+6E,OAAO9B,oBAAoBzpG,SAA/B;;AAEA,UAAIwrG,cAAc,CAAlB;AACA,UAAI1mG,UAAUhD,KAAK6N,GAAL,CAAS,CAAT,EAAY,EAAZ,IAAkB,CAAhC;;AAEA47F,WAAKE,SAAL,GAAiB,UAAUxgG,EAAV,EAAcstF,GAAd,EAAmB;AAClC,YAAI/0B,QAAQ1hE,KAAK6N,GAAL,CAAS,CAAT,EAAY4oF,GAAZ,CAAZ;;AAEA,YAAIptF,IAAIrJ,KAAKsiC,IAAL,CAAUn5B,GAAGE,CAAH,GAAOq4D,KAAjB,CAAR;AACA,YAAIp4D,IAAItJ,KAAKsiC,IAAL,CAAUn5B,GAAGG,CAAH,GAAOo4D,KAAjB,CAAR;;AAEA,YAAIuyB,SAASp1F,SAASk6E,aAAT,CAAuB,QAAvB,CAAb,CANkC,CAMa;;AAE/Ckb,eAAO5pF,KAAP,GAAehB,CAAf;AACA4qF,eAAO3pF,MAAP,GAAgBhB,CAAhB;;AAEA,YAAImrF,QAAQ;AACVh+E,cAAIizF,cAAc,EAAEA,WAAF,GAAgB1mG,OADxB;AAEVmG,cAAIA,EAFM;AAGV0hD,iBAAO4rC,GAHG;AAIVpsF,iBAAOhB,CAJG;AAKViB,kBAAQhB,CALE;AAMV2qF,kBAAQA,MANE;AAOVnvE,mBAASmvE,OAAOsR,UAAP,CAAkB,IAAlB,CAPC;AAQVvpF,gBAAM,EARI;AASV4tF,qBAAW,EATD;AAUVvG,gBAAM;AAVI,SAAZ;;AAaA;;AAEA,YAAIjb,MAAMqM,MAAM3vE,OAAhB;AACA,YAAI9c,KAAK,CAACysF,MAAMtrF,EAAN,CAAS9H,EAAnB;AACA,YAAI4G,KAAK,CAACwsF,MAAMtrF,EAAN,CAAS5H,EAAnB;;AAEA;AACA6mF,YAAI1mB,KAAJ,CAAUA,KAAV,EAAiBA,KAAjB;AACA0mB,YAAIyI,SAAJ,CAAc7oF,EAAd,EAAkBC,EAAlB;;AAEA,eAAOwsF,KAAP;AACD,OAnCD;;AAqCAgV,WAAKjV,SAAL,GAAiB,UAAUx4E,IAAV,EAAgBwtC,OAAhB,EAAyBitC,GAAzB,EAA8B;AAC7C,YAAI59E,OAAO,IAAX;AACA,YAAI5L,IAAI4L,KAAKgE,QAAb;AACA,YAAIrB,KAAKvO,EAAEuO,EAAX;AACA,YAAIxU,OAAOwU,GAAGxU,IAAH,EAAX;AACA,YAAImiG,WAAWtwF,KAAKswF,QAApB;;AAEAtwF,aAAKswF,QAAL,GAAgB,KAAhB;;AAEA;AACA;;AAEA,YAAI1S,OAAO,IAAX,EAAiB;AACfA,gBAAMz2F,KAAKsiC,IAAL,CAAUx/B,KAAK6E,IAAL,CAAUX,OAAOwiD,OAAjB,CAAV,CAAN;;AAEA,cAAIitC,MAAMgL,MAAV,EAAkB;AAChBhL,kBAAMgL,MAAN;AACD,WAFD,MAEO,IAAIz6F,QAAQmhB,OAAR,IAAmBsuE,MAAMiL,MAA7B,EAAqC;AAC1C,mBAAO,IAAP;AACD;AACF;;AAED7oF,aAAKgxF,0BAAL,CAAgCpT,GAAhC,EAAqCz6E,IAArC;;AAEA,YAAI8tF,cAAcjxF,KAAKqwF,aAAvB;AACA,YAAIxnC,QAAQ1hE,KAAK6N,GAAL,CAAS,CAAT,EAAY4oF,GAAZ,CAAZ;AACA,YAAInC,SAASwV,YAAYrT,GAAZ,IAAmBqT,YAAYrT,GAAZ,KAAoB,EAApD;AACA,YAAIttF,EAAJ;;AAEA,YAAI4gG,cAAclxF,KAAKmxF,eAAL,CAAqBvT,GAArB,EAA0Bz6E,IAA1B,CAAlB;AACA,YAAIiuF,SAAJ;;AAEA,YAAIC,kBAAkB,SAASA,eAAT,GAA2B;AAC/C,cAAIC,iBAAiB,SAASA,cAAT,CAAwBrtG,CAAxB,EAA2B;AAC9C+b,iBAAKgxF,0BAAL,CAAgC/sG,CAAhC,EAAmCkf,IAAnC;;AAEA,gBAAInD,KAAKmxF,eAAL,CAAqBltG,CAArB,EAAwBkf,IAAxB,CAAJ,EAAmC;AACjCiuF,0BAAYH,YAAYhtG,CAAZ,CAAZ;AACA,qBAAO,IAAP;AACD;AACF,WAPD;;AASA,cAAIstG,YAAY,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AACtC,gBAAIJ,SAAJ,EAAe;AACb;AACD;;AAED,iBAAK,IAAIntG,IAAI25F,MAAM4T,GAAnB,EAAwB5I,UAAU3kG,CAAV,IAAeA,KAAK4kG,MAA5C,EAAoD5kG,KAAKutG,GAAzD,EAA8D;AAC5D,kBAAIF,eAAertG,CAAf,CAAJ,EAAuB;AACrB;AACD;AACF;AACF,WAVD;;AAYAstG,oBAAU,CAAC,CAAX;AACAA,oBAAU,CAAC,CAAX;;AAEA;AACA,eAAK,IAAIvtG,IAAIy3F,OAAOlvF,MAAP,GAAgB,CAA7B,EAAgCvI,KAAK,CAArC,EAAwCA,GAAxC,EAA6C;AAC3C,gBAAI43F,QAAQH,OAAOz3F,CAAP,CAAZ;;AAEA,gBAAI43F,MAAM17E,OAAV,EAAmB;AACjBhW,mBAAK4C,eAAL,CAAqB2uF,MAArB,EAA6BG,KAA7B;AACD;AACF;AACF,SAjCD;;AAmCA,YAAI,CAACsV,WAAL,EAAkB;AAChB;AACA;;AAEAG;AACD,SALD,MAKO;AACL;AACA,iBAAO5V,MAAP;AACD;;AAED,YAAIgW,QAAQ,SAASA,KAAT,GAAiB;AAC3B,cAAI,CAACnhG,EAAL,EAAS;AACPA,iBAAKrG,KAAK+B,eAAL,EAAL;;AAEA,iBAAK,IAAIhI,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpCiG,mBAAKyG,iBAAL,CAAuBJ,EAAvB,EAA2B6S,KAAKnf,CAAL,EAAQuE,WAAR,EAA3B;AACD;AACF;;AAED,iBAAO+H,EAAP;AACD,SAVD;;AAYA,YAAIwgG,YAAY,SAASA,SAAT,CAAmBhtF,IAAnB,EAAyB;AACvCA,iBAAOA,QAAQ,EAAf;;AAEA,cAAI4tF,QAAQ5tF,KAAK4tF,KAAjB;;AAEAD;;AAEA,cAAIE,OAAOrhG,GAAGE,CAAH,GAAOq4D,KAAP,IAAgBv4D,GAAGG,CAAH,GAAOo4D,KAAvB,CAAX;;AAEA,cAAI8oC,OAAO1B,YAAX,EAAyB;AACvB,mBAAO,IAAP;AACD;;AAED,cAAIrU,QAAQ57E,KAAK8wF,SAAL,CAAexgG,EAAf,EAAmBstF,GAAnB,CAAZ;;AAEA,cAAI8T,SAAS,IAAb,EAAmB;AACjB,gBAAIp8F,QAAQmmF,OAAOz6D,OAAP,CAAe0wE,KAAf,IAAwB,CAApC;;AAEAjW,mBAAOxuF,MAAP,CAAcqI,KAAd,EAAqB,CAArB,EAAwBsmF,KAAxB;AACD,WAJD,MAIO,IAAI93E,KAAK8tF,MAAL,KAAgBrqG,SAAhB,IAA6Buc,KAAK8tF,MAAtC,EAA8C;AACnD;AACAnW,mBAAO3zE,OAAP,CAAe8zE,KAAf;AACD;;AAED;AACA;AACA;;AAEA,iBAAOA,KAAP;AACD,SA7BD;;AA+BA,YAAI57E,KAAKwwF,QAAL,IAAiB,CAACF,QAAtB,EAAgC;AAC9B;AACA,iBAAO,IAAP;AACD;;AAED;;AAEA,YAAI1U,QAAQ,IAAZ;AACA,YAAIiW,kBAAkB1uF,KAAK5W,MAAL,GAAcsjG,YAApC;AACA,YAAIiC,oBAAoB5B,eAAe,CAACI,QAAxC;;AAEA,aAAK,IAAItsG,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;AACA,cAAIinE,KAAKl+D,IAAIpF,QAAJ,CAAausB,QAAtB;AACA,cAAIsvE,SAASv4B,GAAG8mC,cAAH,GAAoB9mC,GAAG8mC,cAAH,IAAqB,EAAtD;;AAEA;;AAEA,cAAIC,gBAAgBxO,OAAO5F,GAAP,CAApB;;AAEA,cAAIoU,aAAJ,EAAmB;AACjB;AACA;AACApW,oBAAQoW,aAAR;AACA;AACD;;AAED,cAAI,CAACpW,KAAD,IAAUA,MAAMz4E,IAAN,CAAW5W,MAAX,IAAqBslG,eAA/B,IAAkD,CAAC5nG,KAAKmH,wBAAL,CAA8BwqF,MAAMtrF,EAApC,EAAwCvD,IAAIxE,WAAJ,EAAxC,CAAvD,EAAmH;AACjH;;AAEAqzF,oBAAQkV,UAAU,EAAEc,QAAQ,IAAV,EAAgBF,OAAO9V,KAAvB,EAAV,CAAR;;AAEA;AACA,gBAAI,CAACA,KAAL,EAAY;AACV,qBAAO,IAAP;AACD;;AAED;AACD;;AAED,cAAIwV,aAAaU,iBAAjB,EAAoC;AAClC;AACA9xF,iBAAKiyF,UAAL,CAAgBrW,KAAhB,EAAuB7uF,GAAvB;AACD,WAHD,MAGO;AACL;AACAiT,iBAAKkyF,cAAL,CAAoBtW,KAApB,EAA2B7uF,GAA3B,EAAgC6wF,GAAhC,EAAqCjtC,OAArC;AACD;;AAEDirC,gBAAMz4E,IAAN,CAAWhW,IAAX,CAAgBJ,GAAhB;;AAEAy2F,iBAAO5F,GAAP,IAAchC,KAAd;AACD;;AAED;;AAEA,YAAIwV,SAAJ,EAAe;AACb;AACA,iBAAOA,SAAP;AACD;;AAED,YAAIU,iBAAJ,EAAuB;AACrB;AACA,iBAAO,IAAP;AACD;;AAED,eAAOrW,MAAP;AACD,OA1LD;;AA4LA;AACA;AACAmV,WAAKuB,wBAAL,GAAgC,UAAUvU,GAAV,EAAejtC,OAAf,EAAwB;AACtD,eAAOitC,GAAP;AACD,OAFD;;AAIA,eAASwU,YAAT,CAAsBnmF,OAAtB,EAA+B5kB,IAA/B,EAAqC;AACnC,YAAI4kB,QAAQomF,qBAAR,IAAiC,IAArC,EAA2C;AACzCpmF,kBAAQomF,qBAAR,GAAgChrG,IAAhC;AACD,SAFD,MAEO;AACL4kB,kBAAQqmF,2BAAR,GAAsCjrG,IAAtC;AACA4kB,kBAAQsmF,wBAAR,GAAmClrG,IAAnC;AACA4kB,kBAAQumF,uBAAR,GAAkCnrG,IAAlC;AACD;AACF;;AAEDupG,WAAKsB,cAAL,GAAsB,UAAUtW,KAAV,EAAiB7uF,GAAjB,EAAsB6wF,GAAtB,EAA2BjtC,OAA3B,EAAoC;AACxD,YAAI3wC,OAAO,IAAX;AACA,YAAI5L,IAAI,KAAK4P,QAAb;AACA,YAAIiI,UAAU2vE,MAAM3vE,OAApB;AACA,YAAI3b,KAAKvD,IAAIxE,WAAJ,EAAT;;AAEA,YAAI+H,GAAGE,CAAH,KAAS,CAAT,IAAcF,GAAGG,CAAH,KAAS,CAAvB,IAA4B,CAAC1D,IAAIirB,OAAJ,EAAjC,EAAgD;AAC9C;AACD;;AAED,YAAIgzE,WAAWhrF,KAAKg7E,WAApB;AACA,YAAI4P,SAASuF,2BAA2BnF,SAASlB,OAAT,CAAiBJ,WAA5C,GAA0DniG,SAAvE;;AAEAq2F,cAAM59E,KAAKmyF,wBAAL,CAA8BvU,GAA9B,EAAmCjtC,OAAnC,CAAN;;AAEA,YAAIp2B,QAAQ61E,mBAAmBpF,SAAS/P,UAAT,CAAoBluF,GAApB,EAAyBuD,EAAzB,EAA6B,IAA7B,EAAmCstF,GAAnC,EAAwCgN,MAAxC,CAAnB,GAAqE,IAAjF;;AAEA,YAAIrwE,KAAJ,EAAW;AACT,cAAIw1E,sBAAJ,EAA4B;AAC1BqC,yBAAanmF,OAAb,EAAsB,KAAtB;AACD;;AAEDA,kBAAQivE,SAAR,CAAkB3gE,MAAM4gE,OAAN,CAAcC,MAAhC,EAAwC7gE,MAAM9uB,CAA9C,EAAiD,CAAjD,EAAoD8uB,MAAM/oB,KAA1D,EAAiE+oB,MAAM9oB,MAAvE,EAA+EnB,GAAG9H,EAAlF,EAAsF8H,GAAG5H,EAAzF,EAA6F4H,GAAGE,CAAhG,EAAmGF,GAAGG,CAAtG;;AAEA,cAAIs/F,sBAAJ,EAA4B;AAC1BqC,yBAAanmF,OAAb,EAAsB,IAAtB;AACD;AACF,SAVD,MAUO;AACL;AACA7X,YAAEwmF,WAAF,CAAc3uE,OAAd,EAAuBlf,GAAvB;AACD;AACF,OA/BD;;AAiCA6jG,WAAKO,eAAL,GAAuB,UAAUvT,GAAV,EAAez6E,IAAf,EAAqB;AAC1C,YAAInD,OAAO,IAAX;AACA,YAAIy7E,SAASz7E,KAAKqwF,aAAL,CAAmBzS,GAAnB,CAAb;;AAEA,YAAI,CAACnC,MAAD,IAAWA,OAAOlvF,MAAP,KAAkB,CAAjC,EAAoC;AAClC,iBAAO,KAAP;AACD;;AAED,YAAIkmG,kBAAkB,CAAtB;;AAEA,aAAK,IAAIzuG,IAAI,CAAb,EAAgBA,IAAIy3F,OAAOlvF,MAA3B,EAAmCvI,GAAnC,EAAwC;AACtC,cAAI43F,QAAQH,OAAOz3F,CAAP,CAAZ;;AAEA;AACA,cAAI43F,MAAM4O,IAAN,GAAa,CAAjB,EAAoB;AAClB,mBAAO,KAAP;AACD;;AAED;AACA,cAAI5O,MAAM17E,OAAV,EAAmB;AACjB,mBAAO,KAAP;AACD;;AAEDuyF,6BAAmB7W,MAAMz4E,IAAN,CAAW5W,MAA9B;AACD;;AAED;AACA,YAAIkmG,oBAAoBtvF,KAAK5W,MAA7B,EAAqC;AACnC,iBAAO,KAAP;AACD;;AAED,eAAO,IAAP;AACD,OAhCD;;AAkCAqkG,WAAKI,0BAAL,GAAkC,UAAUpT,GAAV,EAAez6E,IAAf,EAAqB;AACrD,YAAIs4E,SAAS,KAAK4U,aAAL,CAAmBzS,GAAnB,CAAb;;AAEA,YAAI,CAACnC,MAAL,EAAa;AACX;AACD;;AAED;AACA;;AAEA,aAAK,IAAIz3F,IAAI,CAAb,EAAgBA,IAAIy3F,OAAOlvF,MAA3B,EAAmCvI,GAAnC,EAAwC;AACtC,cAAI43F,QAAQH,OAAOz3F,CAAP,CAAZ;AACA,cAAI6R,SAAS,CAAC,CAAd;;AAEA;AACA,eAAK,IAAIpJ,IAAI,CAAb,EAAgBA,IAAI0W,KAAK5W,MAAzB,EAAiCE,GAAjC,EAAsC;AACpC,gBAAImvF,MAAMz4E,IAAN,CAAW,CAAX,MAAkBA,KAAK1W,CAAL,CAAtB,EAA+B;AAC7BoJ,uBAASpJ,CAAT;AACA;AACD;AACF;;AAED,cAAIoJ,SAAS,CAAb,EAAgB;AACd;AACA,iBAAK68F,eAAL,CAAqB9W,KAArB;AACA;AACD;;AAED;;AAEA,cAAIn3F,IAAIoR,MAAR;;AAEA,eAAK,IAAIpJ,IAAI,CAAb,EAAgBA,IAAImvF,MAAMz4E,IAAN,CAAW5W,MAA/B,EAAuCE,GAAvC,EAA4C;AAC1C,gBAAImvF,MAAMz4E,IAAN,CAAW1W,CAAX,MAAkB0W,KAAK1e,IAAIgI,CAAT,CAAtB,EAAmC;AACjC;;AAEA,mBAAKimG,eAAL,CAAqB9W,KAArB;AACA;AACD;AACF;AACF;AACF,OAzCD;;AA2CAgV,WAAK+B,sBAAL,GAA8B,UAAUxvF,IAAV,EAAgB+sB,MAAhB,EAAwB;AACpD,YAAIlwB,OAAO,IAAX;AACA,YAAImuC,SAAS3nD,GAAGiB,OAAH,CAAW0b,KAAK,CAAL,CAAX,CAAb;;AAEA;AACA;AACA,aAAK,IAAInf,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI6J,MAAMsgD,SAAS,IAAT,GAAgBhrC,KAAKnf,CAAL,CAA1B;AACA,cAAI+I,MAAMohD,SAAShrC,KAAKnf,CAAL,CAAT,GAAmBmf,KAAKnf,CAAL,EAAQ+I,GAArC;AACA,cAAIk+D,KAAKl+D,IAAIpF,QAAJ,CAAausB,QAAtB;AACA,cAAIsvE,SAASv4B,GAAG8mC,cAAH,GAAoB9mC,GAAG8mC,cAAH,IAAqB,EAAtD;;AAEA,eAAK,IAAI9tG,IAAI2kG,MAAb,EAAqB3kG,KAAK4kG,MAA1B,EAAkC5kG,GAAlC,EAAuC;AACrC,gBAAI23F,QAAQ4H,OAAOv/F,CAAP,CAAZ;;AAEA,gBAAI,CAAC23F,KAAL,EAAY;AACV;AACD;;AAED;AACA;AACA,gBAAI/tF,OAAOmS,KAAKmyF,wBAAL,CAA8BvW,MAAM5pC,KAApC,MAA+CnkD,IAAImkD,KAA9D,EAAqE;AACnE;AACD;;AAED9hB,mBAAO0rD,KAAP,EAAc7uF,GAAd,EAAmBc,GAAnB;AACD;AACF;AACF,OA5BD;;AA8BA+iG,WAAKgC,UAAL,GAAkB,YAAY;AAC5B,YAAI5yF,OAAO,IAAX;AACA,YAAI4yF,aAAa,KAAjB;;AAEA,aAAK,IAAI3uG,IAAI2kG,MAAb,EAAqB3kG,KAAK4kG,MAA1B,EAAkC5kG,GAAlC,EAAuC;AACrC,cAAIw3F,SAASz7E,KAAKqwF,aAAL,CAAmBpsG,CAAnB,CAAb;;AAEA,cAAIw3F,UAAUA,OAAOlvF,MAAP,GAAgB,CAA9B,EAAiC;AAC/BqmG,yBAAa,IAAb;AACA;AACD;AACF;;AAED,eAAOA,UAAP;AACD,OAdD;;AAgBAhC,WAAKlB,kBAAL,GAA0B,UAAUvsF,IAAV,EAAgB;AACxC,YAAInD,OAAO,IAAX;;AAEAA,aAAKuwF,oBAAL,GAA4BrmG,KAAKusB,cAAL,EAA5B;;AAEA;;AAEA,YAAItT,KAAK5W,MAAL,KAAgB,CAAhB,IAAqB,CAACyT,KAAK4yF,UAAL,EAA1B,EAA6C;AAC3C;AACD;;AAED5yF,aAAK2yF,sBAAL,CAA4BxvF,IAA5B,EAAkC,SAAS0vF,gBAAT,CAA0BjX,KAA1B,EAAiC7uF,GAAjC,EAAsCc,GAAtC,EAA2C;AAC3EmS,eAAK0yF,eAAL,CAAqB9W,KAArB;AACD,SAFD;AAGD,OAdD;;AAgBAgV,WAAK8B,eAAL,GAAuB,UAAU9W,KAAV,EAAiB;AACtC;;AAEA,aAAK2U,oBAAL,GAA4BrmG,KAAKusB,cAAL,EAA5B;;AAEA,YAAImlE,MAAM17E,OAAV,EAAmB;AACjB;AACD,SAPqC,CAOpC;;AAEF,YAAI09E,MAAMhC,MAAM5pC,KAAhB;AACA,YAAI7uC,OAAOy4E,MAAMz4E,IAAjB;AACA,YAAIs4E,SAAS,KAAK4U,aAAL,CAAmBzS,GAAnB,CAAb;;AAEA;;AAEA1zF,aAAK4C,eAAL,CAAqB2uF,MAArB,EAA6BG,KAA7B;AACA;;AAEAA,cAAMmV,SAAN,GAAkB,EAAlB;;AAEAnV,cAAM17E,OAAN,GAAgB,IAAhB;;AAEA,YAAI07E,MAAMkX,WAAV,EAAuB;AACrBlX,gBAAMkX,WAAN,CAAkB5yF,OAAlB,GAA4B,IAA5B;AACD;;AAED,aAAK,IAAIlc,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAIw/F,SAASrgF,KAAKnf,CAAL,EAAQ2D,QAAR,CAAiBusB,QAAjB,CAA0B69E,cAAvC;;AAEA,cAAIvO,MAAJ,EAAY;AACVA,mBAAO5F,GAAP,IAAc,IAAd;AACD;AACF;AACF,OAjCD;;AAmCAgT,WAAKmC,qBAAL,GAA6B,UAAU5vF,IAAV,EAAgB;AAC3C,YAAInD,OAAO,IAAX;;AAEA;;AAEAA,aAAK2yF,sBAAL,CAA4BxvF,IAA5B,EAAkC,SAAS6vF,aAAT,CAAuBpX,KAAvB,EAA8B7uF,GAA9B,EAAmCc,GAAnC,EAAwC;AACxE,cAAIolG,OAAOrX,MAAMkX,WAAjB;;AAEA,cAAI,CAACG,IAAL,EAAW;AACTA,mBAAOrX,MAAMkX,WAAN,GAAoB9yF,KAAK8wF,SAAL,CAAelV,MAAMtrF,EAArB,EAAyBsrF,MAAM5pC,KAA/B,CAA3B;AACAihD,iBAAKC,QAAL,GAAgBtX,KAAhB;AACAqX,iBAAK9vF,IAAL,GAAYy4E,MAAMz4E,IAAlB;;AAEA;AACD;;AAED,cAAI,CAAC8vF,KAAKzI,IAAV,EAAgB;AACd,iBAAK,IAAIxmG,IAAI,CAAb,EAAgBA,IAAIivG,KAAK9vF,IAAL,CAAU5W,MAA9B,EAAsCvI,GAAtC,EAA2C;AACzCgc,mBAAKiyF,UAAL,CAAgBgB,IAAhB,EAAsBA,KAAK9vF,IAAL,CAAUnf,CAAV,CAAtB;AACD;;AAED;AACD;AACF,SAlBD;AAmBD,OAxBD;;AA0BA4sG,WAAKD,yBAAL,GAAiC,YAAY;AAC3C,YAAI3wF,OAAO,IAAX;AACA,YAAImzF,UAAU,EAAd;;AAEA,YAAI,CAAC/C,gBAAL,EAAuB;AACrB;AACD;;AAED,YAAIgD,sBAAsBlpG,KAAK+rB,QAAL,CAAc,YAAY;AAClDjW,eAAK+yF,qBAAL,CAA2BI,OAA3B;;AAEAA,oBAAU,EAAV;AACD,SAJyB,EAIvBrD,qBAJuB,CAA1B;;AAMA9vF,aAAKg7E,WAAL,CAAiB6R,SAAjB,CAA2B,UAAUrC,IAAV,EAAgB;AACzC,eAAK,IAAIxmG,IAAI,CAAb,EAAgBA,IAAIwmG,KAAKj+F,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpCmvG,oBAAQhmG,IAAR,CAAaq9F,KAAKxmG,CAAL,CAAb;AACD;;AAEDovG;AACD,SAND;AAOD,OArBD;;AAuBAxC,WAAKqB,UAAL,GAAkB,UAAUrW,KAAV,EAAiB7uF,GAAjB,EAAsB;AACtC,YAAIiT,OAAO,IAAX;AACA,YAAIpL,IAAIoL,KAAK0wF,WAAb;AACA,YAAI2C,QAAQzX,MAAMmV,SAAlB;AACA,YAAI3oB,QAAQirB,MAAMjrB,KAAN,GAAcirB,MAAMjrB,KAAN,IAAe,EAAzC;;AAEA;AACA,YAAIwT,MAAMkX,WAAV,EAAuB;AACrB;AACD;;AAED,YAAI/lG,GAAJ,EAAS;AACP,cAAIq7E,MAAMr7E,IAAI6Q,EAAJ,EAAN,CAAJ,EAAqB;AACnB;AACD;;AAEDy1F,gBAAMlmG,IAAN,CAAWJ,GAAX;AACAq7E,gBAAMr7E,IAAI6Q,EAAJ,EAAN,IAAkB,IAAlB;AACD;;AAED,YAAIg+E,MAAM4O,IAAV,EAAgB;AACd5O,gBAAM4O,IAAN;;AAEA51F,YAAE4uB,UAAF,CAAao4D,KAAb;AACD,SAJD,MAIO;AACLA,gBAAM4O,IAAN,GAAa,CAAb;;AAEA51F,YAAEzH,IAAF,CAAOyuF,KAAP;AACD;AACF,OA7BD;;AA+BAgV,WAAKv6E,OAAL,GAAe,UAAUs6B,OAAV,EAAmB;AAChC,YAAI3wC,OAAO,IAAX;AACA,YAAIpL,IAAIoL,KAAK0wF,WAAb;AACA,YAAI55E,OAAO,EAAX;AACA,YAAIq8E,UAAU,CAAd;;AAEA,eAAOA,UAAU5J,UAAjB,EAA6B;AAC3B,cAAI30F,EAAE8L,IAAF,OAAa,CAAjB,EAAoB;AAClB;AACD;;AAED,cAAIk7E,QAAQhnF,EAAE0+F,IAAF,EAAZ;;AAEA;AACA,cAAI1X,MAAMkX,WAAV,EAAuB;AACrB;AACAl+F,cAAEwuB,GAAF;AACA;AACD;;AAED;AACA,cAAIw4D,MAAMsX,QAAN,IAAkBtX,UAAUA,MAAMsX,QAAN,CAAeJ,WAA/C,EAA4D;AAC1D;AACAl+F,cAAEwuB,GAAF;AACA;AACD;;AAED,cAAIw4D,MAAM17E,OAAV,EAAmB;AACjB;AACAtL,cAAEwuB,GAAF;AACA;AACD;;AAED,cAAIr2B,MAAM6uF,MAAMmV,SAAN,CAAgB3sE,KAAhB,EAAV;;AAEA,cAAIr3B,GAAJ,EAAS;AACP;;AAEAiT,iBAAKkyF,cAAL,CAAoBtW,KAApB,EAA2B7uF,GAA3B,EAAgC6uF,MAAM5pC,KAAtC,EAA6CrB,OAA7C;;AAEAwiD;AACD;;AAED,cAAIr8E,KAAKvqB,MAAL,KAAgB,CAApB,EAAuB;AACrB;AACAuqB,iBAAK3pB,IAAL,CAAU,IAAV;AACD;;AAED;AACA,cAAIyuF,MAAMmV,SAAN,CAAgBxkG,MAAhB,KAA2B,CAA/B,EAAkC;AAChCqI,cAAEwuB,GAAF;;AAEAw4D,kBAAM4O,IAAN,GAAa,CAAb;;AAEA;;AAEA;AACA,gBAAI5O,MAAMsX,QAAV,EAAoB;AAClBlzF,mBAAKuzF,qBAAL,CAA2B3X,KAA3B;AACD;;AAED57E,iBAAKwzF,aAAL;AACD;AACF;;AAED,eAAO18E,IAAP;AACD,OAlED;;AAoEA85E,WAAK2C,qBAAL,GAA6B,UAAU3X,KAAV,EAAiB;AAC5C,YAAI57E,OAAO,IAAX;AACA,YAAIyzF,gBAAgBzzF,KAAKqwF,aAAL,CAAmBzU,MAAM5pC,KAAzB,CAApB;AACA,YAAI0hD,WAAW9X,MAAMsX,QAArB;AACA,YAAI59F,QAAQm+F,cAAczyE,OAAd,CAAsB0yE,QAAtB,CAAZ;;AAEA;AACA;AACA,YAAIp+F,QAAQ,CAAR,IAAao+F,SAASxzF,OAA1B,EAAmC;AACjC;AACA;AACD;;AAEDuzF,sBAAcn+F,KAAd,IAAuBsmF,KAAvB,CAb4C,CAad;;AAE9B;AACA,aAAK,IAAI53F,IAAI,CAAb,EAAgBA,IAAI43F,MAAMz4E,IAAN,CAAW5W,MAA/B,EAAuCvI,GAAvC,EAA4C;AAC1C,cAAIgrB,KAAK4sE,MAAMz4E,IAAN,CAAWnf,CAAX,EAAc2D,QAAvB;AACA,cAAI4yB,QAAQvL,GAAG+iF,cAAH,GAAoB/iF,GAAG+iF,cAAH,IAAqB,EAArD;;AAEA,cAAIx3E,KAAJ,EAAW;AACTA,kBAAMqhE,MAAM5pC,KAAZ,IAAqB4pC,KAArB;AACD;AACF;;AAED;;AAEA57E,aAAKwzF,aAAL;AACD,OA5BD;;AA8BA5C,WAAK4C,aAAL,GAAqBtpG,KAAK+rB,QAAL,CAAc,YAAY;AAC7C,YAAI7hB,IAAI,KAAK4P,QAAb;;AAEA5P,UAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACA9hB,UAAE8hB,UAAF,CAAa,MAAb,EAAqB,IAArB;AACA9hB,UAAE+hB,MAAF;AACD,OANoB,EAMlB,GANkB,CAArB;;AAQAy6E,WAAK/6E,eAAL,GAAuB4yE,KAAK5yE,eAAL,CAAqB;AAC1CO,4BAAoBA,kBADsB;AAE1CiB,iBAASA,OAFiC;AAG1CC,oBAAYA,UAH8B;AAI1CC,uBAAeA,aAJ2B;AAK1CH,qBAAaA,WAL6B;AAM1CK,aAAK,SAASA,GAAT,CAAazX,IAAb,EAAmB2wC,OAAnB,EAA4B;AAC/B,iBAAO3wC,KAAKqW,OAAL,CAAas6B,OAAb,CAAP;AACD,SARyC;AAS1Cj5B,gBAAQxtB,KAAKO,IAT6B;AAU1CktB,sBAAcztB,KAAKI,OAVuB;AAW1CstB,kBAAU,SAASA,QAAT,CAAkB5X,IAAlB,EAAwB;AAChC,iBAAOA,KAAKgE,QAAL,CAAc+oC,sBAAd,CAAqCw5B,SAA5C;AACD;AAbyC,OAArB,CAAvB;;AAgBAjjF,aAAOD,OAAP,GAAiByrG,mBAAjB;;AAEA;AAAO,KA3rxBG;AA4rxBV;AACA,SAAO,UAASxrG,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI8yF,MAAM,EAAV;;AAEAA,UAAI5D,aAAJ,GAAoB,UAAUzuF,IAAV,EAAgB0nB,OAAhB,EAAyBzV,OAAzB,EAAkCC,OAAlC,EAA2CjF,KAA3C,EAAkDC,MAAlD,EAA0D2E,MAA1D,EAAkE;AACpF,gBAAQ7R,IAAR;AACE,eAAK,SAAL;AACE,mBAAO,KAAK4jG,eAAL,CAAqBl8E,OAArB,EAA8BzV,OAA9B,EAAuCC,OAAvC,EAAgDjF,KAAhD,EAAuDC,MAAvD,CAAP;AACF,eAAK,SAAL;AACE,mBAAO,KAAKg2F,eAAL,CAAqBx7E,OAArB,EAA8BzV,OAA9B,EAAuCC,OAAvC,EAAgDjF,KAAhD,EAAuDC,MAAvD,EAA+D2E,MAA/D,CAAP;AACF,eAAK,gBAAL;AACE,mBAAO,KAAKsxF,sBAAL,CAA4Bz7E,OAA5B,EAAqCzV,OAArC,EAA8CC,OAA9C,EAAuDjF,KAAvD,EAA8DC,MAA9D,CAAP;AACF,eAAK,cAAL;AACE,mBAAO,KAAKo2F,oBAAL,CAA0B57E,OAA1B,EAAmCzV,OAAnC,EAA4CC,OAA5C,EAAqDjF,KAArD,EAA4DC,MAA5D,CAAP;AACF,eAAK,sBAAL;AACE,mBAAO,KAAKm2F,4BAAL,CAAkC37E,OAAlC,EAA2CzV,OAA3C,EAAoDC,OAApD,EAA6DjF,KAA7D,EAAoEC,MAApE,CAAP;AACF,eAAK,QAAL;AACE,mBAAO,KAAKq2F,cAAL,CAAoB77E,OAApB,EAA6BzV,OAA7B,EAAsCC,OAAtC,EAA+CjF,KAA/C,EAAsDC,MAAtD,CAAP;AAZJ;AAcD,OAfD;;AAiBAnO,aAAOD,OAAP,GAAiBuzF,GAAjB;;AAEA;AAAO,KAvtxBG;AAwtxBV;AACA,SAAO,UAAStzF,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGAR,aAAOD,OAAP,GAAiB,CAAC,EAAEkB,MAAM,MAAR,EAAgBu4B,MAAMh5B,oBAAoB,GAApB,CAAtB,EAAD,EAAmD,EAAES,MAAM,MAAR,EAAgBu4B,MAAMh5B,oBAAoB,EAApB,CAAtB,EAAnD,EAAoG,EAAES,MAAM,QAAR,EAAkBu4B,MAAMh5B,oBAAoB,GAApB,CAAxB,EAApG,CAAjB;;AAEA;AAAO,KAhuxBG;AAiuxBV;AACA,SAAO,UAASR,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,eAAS6vG,YAAT,CAAsB3wF,OAAtB,EAA+B;AAC7B,aAAKA,OAAL,GAAeA,OAAf;AACA,aAAKyO,aAAL,GAAqB,CAArB,CAF6B,CAEL;AACzB;;AAED,UAAIhnB,OAAO,SAASA,IAAT,GAAgB,CAAE,CAA7B;;AAEAkpG,mBAAatuG,SAAb,GAAyB;AACvBgyC,kCAA0B5sC,IADH;AAEvBoe,gBAAQ,SAASA,MAAT,GAAkB;AACxB,eAAK4I,aAAL;AACD,SAJsB;AAKvBuyD,cAAMv5E;AALiB,OAAzB;;AAQAnH,aAAOD,OAAP,GAAiBswG,YAAjB;;AAEA;AAAO,KAxvxBG;AAyvxBV;AACA,SAAO,UAASrwG,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIuqB,OAAOvqB,oBAAoB,EAApB,CAAX;AACA,UAAI+4B,YAAY/4B,oBAAoB,EAApB,CAAhB;AACA,UAAIi5B,aAAaj5B,oBAAoB,EAApB,CAAjB;;AAEA,UAAI8vG,YAAY,SAASA,SAAT,CAAmB5wF,OAAnB,EAA4B;AAC1C;AACA;AACA,YAAIA,YAAYzb,SAAhB,EAA2B;AACzByb,oBAAU,EAAV;AACD;;AAED;AACA,YAAIxc,GAAGO,WAAH,CAAeic,OAAf,CAAJ,EAA6B;AAC3B,iBAAO,IAAIqL,IAAJ,CAASrL,OAAT,CAAP;AACD;;AAED;AAJA,aAKK,IAAIxc,GAAGG,MAAH,CAAUqc,OAAV,CAAJ,EAAwB;AACzB,mBAAO6Z,UAAUhyB,KAAV,CAAgBgyB,SAAhB,EAA2B/xB,SAA3B,CAAP;AACD;AACJ,OAhBD;;AAkBA;AACA8oG,gBAAUluC,GAAV,GAAgB,UAAU9qC,GAAV,EAAe;AAC7B,YAAItuB,OAAOzF,MAAMxB,SAAN,CAAgB+F,KAAhB,CAAsBlH,IAAtB,CAA2B4G,SAA3B,EAAsC,CAAtC,CAAX,CAD6B,CACwB;;AAErDwB,aAAKwb,OAAL,CAAa8rF,SAAb,EAH6B,CAGJ;;AAEzBh5E,YAAI/vB,KAAJ,CAAU,IAAV,EAAgByB,IAAhB;;AAEA,eAAO,IAAP;AACD,OARD;;AAUA;AACAsnG,gBAAUC,OAAV,GAAoB/vG,oBAAoB,EAApB,CAApB;;AAEA;AACA8vG,gBAAU7rG,UAAV,GAAuB6rG,UAAU72E,UAAV,GAAuBA,UAA9C;;AAEAz5B,aAAOD,OAAP,GAAiBuwG,SAAjB;;AAEA;AAAO,KAzyxBG;AA0yxBV;AACA,SAAO,UAAStwG,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,eAASgwG,SAAT,GAAqB;AACnB,aAAK/oF,IAAL,GAAY,EAAZ;AACD;;AAED,UAAIxlB,IAAIuuG,UAAUzuG,SAAlB;;AAEAE,QAAEme,GAAF,GAAQ,UAAU4G,GAAV,EAAe1d,GAAf,EAAoB;AAC1B,aAAKme,IAAL,CAAUT,GAAV,IAAiB1d,GAAjB;AACD,OAFD;;AAIArH,QAAE+nC,MAAF,GAAW,UAAUhjB,GAAV,EAAe;AACxB,aAAKS,IAAL,CAAUT,GAAV,IAAiB,IAAjB;AACD,OAFD;;AAIA/kB,QAAE+d,GAAF,GAAQ,UAAUgH,GAAV,EAAe;AACrB,eAAO,KAAKS,IAAL,CAAUT,GAAV,KAAkB,IAAzB;AACD,OAFD;;AAIA/kB,QAAET,GAAF,GAAQ,UAAUwlB,GAAV,EAAe;AACrB,eAAO,KAAKS,IAAL,CAAUT,GAAV,CAAP;AACD,OAFD;;AAIA;AACA;AACAhnB,aAAOD,OAAP,GAAiBywG,SAAjB;;AAEA;AAAO,KA10xBG;AA20xBV;AACA,SAAO,UAASxwG,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIiwG,iBAAiB,YAAY;AAAE,iBAASC,aAAT,CAAuB1oG,GAAvB,EAA4BtH,CAA5B,EAA+B;AAAE,cAAIiwG,OAAO,EAAX,CAAe,IAAIv8D,KAAK,IAAT,CAAe,IAAIw8D,KAAK,KAAT,CAAgB,IAAIC,KAAK5sG,SAAT,CAAoB,IAAI;AAAE,iBAAK,IAAIoU,KAAKrQ,IAAI5F,OAAOC,QAAX,GAAT,EAAiCyuG,EAAtC,EAA0C,EAAE18D,KAAK,CAAC08D,KAAKz4F,GAAG4C,IAAH,EAAN,EAAiB4T,IAAxB,CAA1C,EAAyEulB,KAAK,IAA9E,EAAoF;AAAEu8D,mBAAK9mG,IAAL,CAAUinG,GAAG/vG,KAAb,EAAqB,IAAIL,KAAKiwG,KAAK1nG,MAAL,KAAgBvI,CAAzB,EAA4B;AAAQ;AAAE,WAAvJ,CAAwJ,OAAO2b,GAAP,EAAY;AAAEu0F,iBAAK,IAAL,CAAWC,KAAKx0F,GAAL;AAAW,WAA5L,SAAqM;AAAE,gBAAI;AAAE,kBAAI,CAAC+3B,EAAD,IAAO/7B,GAAG,QAAH,CAAX,EAAyBA,GAAG,QAAH;AAAiB,aAAhD,SAAyD;AAAE,kBAAIu4F,EAAJ,EAAQ,MAAMC,EAAN;AAAW;AAAE,WAAC,OAAOF,IAAP;AAAc,SAAC,OAAO,UAAU3oG,GAAV,EAAetH,CAAf,EAAkB;AAAE,cAAI6C,MAAMC,OAAN,CAAcwE,GAAd,CAAJ,EAAwB;AAAE,mBAAOA,GAAP;AAAa,WAAvC,MAA6C,IAAI5F,OAAOC,QAAP,IAAmBjB,OAAO4G,GAAP,CAAvB,EAAoC;AAAE,mBAAO0oG,cAAc1oG,GAAd,EAAmBtH,CAAnB,CAAP;AAA+B,WAArE,MAA2E;AAAE,kBAAM,IAAIkb,SAAJ,CAAc,sDAAd,CAAN;AAA8E;AAAE,SAArO;AAAwO,OAAhoB,EAArB;;AAEA,UAAIm1F,WAAWvwG,oBAAoB,EAApB,CAAf;AAAA,UACI+0B,qBAAqBw7E,SAASx7E,kBADlC;;AAGA,UAAIy7E,SAASxwG,oBAAoB,GAApB,CAAb;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI+b,WAAW/b,oBAAoB,EAApB,CAAf;;AAEA;AACA;AACA,UAAIywG,iBAAiB,SAASA,cAAT,CAAwBxzF,GAAxB,EAA6B;AAChD,eAAOA,IAAIyzF,OAAJ,CAAY,IAAIC,MAAJ,CAAW,UAAUH,OAAOI,QAAjB,GAA4B,GAAvC,EAA4C,GAA5C,CAAZ,EAA8D,UAAUtsG,KAAV,EAAiBusG,EAAjB,EAAqB;AACxF,iBAAOA,EAAP;AACD,SAFM,CAAP;AAGD,OAJD;;AAMA,UAAIC,mBAAmB,SAASA,gBAAT,CAA0B70F,QAA1B,EAAoC80F,cAApC,EAAoDC,gBAApD,EAAsE;AAC3F,YAAID,mBAAmB90F,SAASA,SAASxT,MAAT,GAAkB,CAA3B,CAAvB,EAAsD;AACpDwT,mBAASA,SAASxT,MAAT,GAAkB,CAA3B,IAAgCuoG,gBAAhC;AACD;AACF,OAJD;;AAMA;AACA;AACA;AACA;AACA;AACA,UAAIC,QAAQ,CAAC;AACXxwG,cAAM,OADK;AAEX6c,eAAO,IAFI;AAGX4zF,eAAO,MAAMV,OAAOn0F,KAAb,GAAqB,GAHjB;AAIX80F,kBAAU,SAASA,QAAT,CAAkBl1F,QAAlB,EAA4BqB,KAA5B,EAAmC8zF,IAAnC,EAAyC;AACjD,cAAIC,QAAQpB,eAAemB,IAAf,EAAqB,CAArB,CAAZ;AAAA,cACI/0F,QAAQg1F,MAAM,CAAN,CADZ;;AAGA/zF,gBAAMjB,KAAN,GAAcA,UAAU,GAAV,GAAgBA,KAAhB,GAAwBA,QAAQ,GAA9C;AACD;AATU,OAAD,EAUT;AACD5b,cAAM,OADL;AAED6c,eAAO,IAFN;AAGD4zF,eAAOn8E,kBAHN;AAIDo8E,kBAAU,SAASA,QAAT,CAAkBl1F,QAAlB,EAA4BqB,KAA5B,EAAmCg0F,KAAnC,EAA0C;AAClD,cAAIC,QAAQtB,eAAeqB,KAAf,EAAsB,CAAtB,CAAZ;AAAA,cACIv3F,QAAQw3F,MAAM,CAAN,CADZ;;AAGAj0F,gBAAMQ,cAAN,CAAqBzU,IAArB,CAA0B0Q,KAA1B;AACD;AATA,OAVS,EAoBT;AACDtZ,cAAM,IADL;AAED6c,eAAO,IAFN;AAGD4zF,eAAO,SAASV,OAAO12F,EAAhB,GAAqB,GAH3B;AAIDq3F,kBAAU,SAASA,QAAT,CAAkBl1F,QAAlB,EAA4BqB,KAA5B,EAAmCk0F,KAAnC,EAA0C;AAClD,cAAIC,QAAQxB,eAAeuB,KAAf,EAAsB,CAAtB,CAAZ;AAAA,cACI13F,KAAK23F,MAAM,CAAN,CADT;;AAGAn0F,gBAAMS,GAAN,CAAU1U,IAAV,CAAeonG,eAAe32F,EAAf,CAAf;AACD;AATA,OApBS,EA8BT;AACDrZ,cAAM,WADL;AAED6c,eAAO,IAFN;AAGD4zF,eAAO,SAASV,OAAOvnE,SAAhB,GAA4B,GAHlC;AAIDkoE,kBAAU,SAASA,QAAT,CAAkBl1F,QAAlB,EAA4BqB,KAA5B,EAAmCo0F,KAAnC,EAA0C;AAClD,cAAIC,QAAQ1B,eAAeyB,KAAf,EAAsB,CAAtB,CAAZ;AAAA,cACIzoE,YAAY0oE,MAAM,CAAN,CADhB;;AAGAr0F,gBAAMU,OAAN,CAAc3U,IAAd,CAAmBonG,eAAexnE,SAAf,CAAnB;AACD;AATA,OA9BS,EAwCT;AACDxoC,cAAM,YADL;AAED6c,eAAO,IAFN;AAGD4zF,eAAO,aAAaV,OAAOoB,QAApB,GAA+B,UAHrC;AAIDT,kBAAU,SAASA,QAAT,CAAkBl1F,QAAlB,EAA4BqB,KAA5B,EAAmCu0F,KAAnC,EAA0C;AAClD,cAAIC,SAAS7B,eAAe4B,KAAf,EAAsB,CAAtB,CAAb;AAAA,cACID,WAAWE,OAAO,CAAP,CADf;;AAGAx0F,gBAAMI,IAAN,CAAWrU,IAAX,CAAgB;AACdsU,mBAAO8yF,eAAemB,QAAf;AADO,WAAhB;AAGD;AAXA,OAxCS,EAoDT;AACDnxG,cAAM,aADL;AAED6c,eAAO,IAFN;AAGD4zF,eAAO,aAAaV,OAAOoB,QAApB,GAA+B,QAA/B,GAA0CpB,OAAOuB,YAAjD,GAAgE,QAAhE,GAA2EvB,OAAOjwG,KAAlF,GAA0F,UAHhG;AAID4wG,kBAAU,SAASA,QAAT,CAAkBl1F,QAAlB,EAA4BqB,KAA5B,EAAmC00F,MAAnC,EAA2C;AACnD,cAAIC,SAAShC,eAAe+B,MAAf,EAAuB,CAAvB,CAAb;AAAA,cACIJ,WAAWK,OAAO,CAAP,CADf;AAAA,cAEIF,eAAeE,OAAO,CAAP,CAFnB;AAAA,cAGI1xG,QAAQ0xG,OAAO,CAAP,CAHZ;;AAKA,cAAIC,gBAAgB,IAAIvB,MAAJ,CAAW,MAAMH,OAAO3tG,MAAb,GAAsB,GAAjC,EAAsCsvG,IAAtC,CAA2C5xG,KAA3C,KAAqD,IAAzE;;AAEA,cAAI2xG,aAAJ,EAAmB;AACjB3xG,oBAAQA,MAAMkd,SAAN,CAAgB,CAAhB,EAAmBld,MAAMkI,MAAN,GAAe,CAAlC,CAAR;AACD,WAFD,MAEO;AACLlI,oBAAQ0pD,WAAW1pD,KAAX,CAAR;AACD;;AAED+c,gBAAMI,IAAN,CAAWrU,IAAX,CAAgB;AACdsU,mBAAO8yF,eAAemB,QAAf,CADO;AAEdh0F,sBAAUm0F,YAFI;AAGdxxG,mBAAOA;AAHO,WAAhB;AAKD;AAvBA,OApDS,EA4ET;AACDE,cAAM,UADL;AAED6c,eAAO,IAFN;AAGD4zF,eAAO,aAAaV,OAAO4B,MAApB,GAA6B,QAA7B,GAAwC5B,OAAOoB,QAA/C,GAA0D,UAHhE;AAIDT,kBAAU,SAASA,QAAT,CAAkBl1F,QAAlB,EAA4BqB,KAA5B,EAAmC+0F,MAAnC,EAA2C;AACnD,cAAIC,SAASrC,eAAeoC,MAAf,EAAuB,CAAvB,CAAb;AAAA,cACID,SAASE,OAAO,CAAP,CADb;AAAA,cAEIV,WAAWU,OAAO,CAAP,CAFf;;AAIAh1F,gBAAMI,IAAN,CAAWrU,IAAX,CAAgB;AACdsU,mBAAO8yF,eAAemB,QAAf,CADO;AAEdh0F,sBAAUw0F;AAFI,WAAhB;AAID;AAbA,OA5ES,EA0FT;AACD3xG,cAAM,aADL;AAED6c,eAAO,IAFN;AAGD4zF,eAAO,gBAAgBV,OAAO3yF,IAAvB,GAA8B,QAA9B,GAAyC2yF,OAAOuB,YAAhD,GAA+D,QAA/D,GAA0EvB,OAAOttG,MAAjF,GAA0F,aAHhG;AAIDiuG,kBAAU,SAASA,QAAT,CAAkBl1F,QAAlB,EAA4BqB,KAA5B,EAAmCi1F,MAAnC,EAA2C;AACnD,cAAIC,SAASvC,eAAesC,MAAf,EAAuB,CAAvB,CAAb;AAAA,cACI10F,OAAO20F,OAAO,CAAP,CADX;AAAA,cAEIT,eAAeS,OAAO,CAAP,CAFnB;AAAA,cAGItvG,SAASsvG,OAAO,CAAP,CAHb;;AAKAl1F,gBAAMO,IAAN,CAAWxU,IAAX,CAAgB;AACdsU,mBAAO8yF,eAAe5yF,IAAf,CADO;AAEdD,sBAAUm0F,YAFI;AAGdxxG,mBAAO0pD,WAAW/mD,MAAX;AAHO,WAAhB;AAKD;AAfA,OA1FS,EA0GT;AACDzC,cAAM,WADL;AAEDgyG,mBAAW,IAFV;AAGDvB,eAAOV,OAAOiC,SAHb;AAIDtB,kBAAU,SAASA,QAAT,CAAkBl1F,QAAlB,EAA4B;AACpC;AACA,cAAIy2F,YAAYz2F,SAASA,SAASxT,MAAT,EAAT,IAA8BsT,UAA9C;AACAE,mBAAS02F,cAAT,GAA0B,IAA1B;;AAEA,iBAAOD,SAAP;AACD;AAVA,OA1GS,EAqHT;AACDjyG,cAAM,cADL;AAEDgyG,mBAAW,IAFV;AAGDvB,eAAOV,OAAOoC,YAHb;AAIDzB,kBAAU,SAASA,QAAT,CAAkBl1F,QAAlB,EAA4BqB,KAA5B,EAAmC;AAC3C,cAAIu1F,YAAY92F,UAAhB;AACA,cAAIkC,SAASX,KAAb;AACA,cAAIY,SAASnC,UAAb;;AAEA82F,oBAAUx2F,KAAV,GAAkB,OAAlB;AACAw2F,oBAAU30F,MAAV,GAAmBA,MAAnB;AACA20F,oBAAU50F,MAAV,GAAmBA,MAAnB;AACA40F,oBAAUr1F,OAAV,GAAoBvB,SAAS02F,cAA7B;;AAEA;AACA7B,2BAAiB70F,QAAjB,EAA2BqB,KAA3B,EAAkCu1F,SAAlC;;AAEA;AACA,iBAAO30F,MAAP;AACD;AAnBA,OArHS,EAyIT;AACDzd,cAAM,gBADL;AAEDgyG,mBAAW,IAFV;AAGDvB,eAAOV,OAAOsC,cAHb;AAID3B,kBAAU,SAASA,QAAT,CAAkBl1F,QAAlB,EAA4BqB,KAA5B,EAAmC;AAC3C,cAAIu1F,YAAY92F,UAAhB;AACA,cAAIkC,SAASX,KAAb;AACA,cAAIY,SAASnC,UAAb;;AAEA82F,oBAAUx2F,KAAV,GAAkB,OAAlB;AACAw2F,oBAAU10F,cAAV,GAA2B,CAACF,MAAD,EAASC,MAAT,CAA3B;AACA20F,oBAAUr1F,OAAV,GAAoBvB,SAAS02F,cAA7B;;AAEA;AACA7B,2BAAiB70F,QAAjB,EAA2BqB,KAA3B,EAAkCu1F,SAAlC;;AAEA;AACA,iBAAO30F,MAAP;AACD;AAlBA,OAzIS,EA4JT;AACDzd,cAAM,OADL;AAEDgyG,mBAAW,IAFV;AAGDvB,eAAOV,OAAOlyF,KAHb;AAID6yF,kBAAU,SAASA,QAAT,CAAkBl1F,QAAlB,EAA4BqB,KAA5B,EAAmC;AAC3C;AACA,cAAIy1F,aAAah3F,UAAjB;AACAg3F,qBAAW30F,MAAX,GAAoBd,KAApB;AACAy1F,qBAAWv1F,OAAX,GAAqBvB,SAAS02F,cAA9B;;AAEA;AACA7B,2BAAiB70F,QAAjB,EAA2BqB,KAA3B,EAAkCy1F,UAAlC;;AAEA;AACA,iBAAOA,UAAP;AACD;AAfA,OA5JS,EA4KT;AACDtyG,cAAM,YADL;AAEDgyG,mBAAW,IAFV;AAGDvB,eAAOV,OAAOjyF,UAHb;AAID4yF,kBAAU,SAASA,QAAT,CAAkBl1F,QAAlB,EAA4BqB,KAA5B,EAAmC;AAC3C;AACA,cAAI01F,kBAAkBj3F,UAAtB;AACAi3F,0BAAgB30F,QAAhB,GAA2Bf,KAA3B;AACA01F,0BAAgBx1F,OAAhB,GAA0BvB,SAAS02F,cAAnC;;AAEA;AACA7B,2BAAiB70F,QAAjB,EAA2BqB,KAA3B,EAAkC01F,eAAlC;;AAEA;AACA,iBAAOA,eAAP;AACD;AAfA,OA5KS,EA4LT;AACDvyG,cAAM,SADL;AAEDwyG,kBAAU,IAFT;AAGD/B,eAAOV,OAAOhzF,OAHb;AAID2zF,kBAAU,SAASA,QAAT,CAAkBl1F,QAAlB,EAA4BqB,KAA5B,EAAmC;AAC3C,cAAIrB,SAAS02F,cAAT,IAA2B,IAA3B,IAAmCr1F,MAAME,OAAN,IAAiBF,KAAxD,EAA+D;AAC7DlX,iBAAKQ,KAAL,CAAW,0CAA0CqV,SAAShU,QAAT,EAA1C,GAAgE,GAA3E;AACA,mBAAO,KAAP;AACD;;AAEDgU,mBAAS02F,cAAT,GAA0Br1F,KAA1B;AACAA,gBAAME,OAAN,GAAgBF,KAAhB;AACArB,mBAASA,SAASxT,MAAT,GAAkB,CAA3B,EAA8B+U,OAA9B,GAAwCF,KAAxC;AACD;AAbA,OA5LS,CAAZ;;AA4MA2zF,YAAMnnG,OAAN,CAAc,UAAUoR,CAAV,EAAa;AACzB,eAAOA,EAAEg4F,QAAF,GAAa,IAAIvC,MAAJ,CAAW,MAAMz1F,EAAEg2F,KAAnB,CAApB;AACD,OAFD;;AAIA1xG,aAAOD,OAAP,GAAiB0xG,KAAjB;;AAEA;AAAO,KA/jyBG;AAgkyBV;AACA,SAAO,UAASzxG,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIuwG,WAAWvwG,oBAAoB,EAApB,CAAf;AAAA,UACI40B,uBAAuB27E,SAAS37E,oBADpC;;AAGA,UAAIlyB,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA;AACA,UAAImzG,gBAAgB,SAASA,aAAT,CAAuB71F,KAAvB,EAA8B/L,MAA9B,EAAsC;AACxD,YAAI6hG,iBAAiB,IAArB;AACA,aAAK,IAAIxqG,IAAI,CAAb,EAAgBA,IAAI0U,MAAM/L,OAAO9Q,IAAb,EAAmBgI,MAAvC,EAA+CG,GAA/C,EAAoD;AAClD,cAAI8U,OAAOJ,MAAM/L,OAAO9Q,IAAb,EAAmBmI,CAAnB,CAAX;AACA,cAAIgV,WAAWF,KAAKE,QAApB;AACA,cAAIrd,QAAQmd,KAAKnd,KAAjB;AACA,cAAIod,QAAQD,KAAKC,KAAjB;AACA,cAAI01F,WAAW,KAAK,CAApB;AACA,cAAIC,WAAW/hG,OAAOgiG,UAAP,CAAkB51F,KAAlB,CAAf;;AAEA,cAAIC,YAAY,IAAZ,IAAoBrd,SAAS,IAAjC,EAAuC;AACrC,gBAAIizG,WAAW,CAAC9wG,GAAGG,MAAH,CAAUywG,QAAV,CAAD,IAAwB,CAAC5wG,GAAGQ,MAAH,CAAUowG,QAAV,CAAzB,GAA+C,EAA/C,GAAoD,KAAKA,QAAxE;AACA,gBAAIG,SAAS,KAAKlzG,KAAlB;;AAEA,gBAAImzG,kBAAkB,KAAtB;AACA,gBAAI91F,SAASsf,OAAT,CAAiB,GAAjB,KAAyB,CAA7B,EAAgC;AAC9Bs2E,yBAAWA,SAAS94B,WAAT,EAAX;AACA+4B,uBAASA,OAAO/4B,WAAP,EAAT;;AAEA98D,yBAAWA,SAAS8yF,OAAT,CAAiB,GAAjB,EAAsB,EAAtB,CAAX;AACAgD,gCAAkB,IAAlB;AACD;;AAED,gBAAIC,UAAU,KAAd;AACA,gBAAI/1F,SAASsf,OAAT,CAAiB,GAAjB,KAAyB,CAA7B,EAAgC;AAC9Btf,yBAAWA,SAAS8yF,OAAT,CAAiB,GAAjB,EAAsB,EAAtB,CAAX;AACAiD,wBAAU,IAAV;AACD;;AAED;AACA;AACA,gBAAID,eAAJ,EAAqB;AACnBnzG,sBAAQkzG,OAAO/4B,WAAP,EAAR;AACA44B,yBAAWE,SAAS94B,WAAT,EAAX;AACD;;AAED,gBAAIk5B,YAAY,KAAhB;;AAEA,oBAAQh2F,QAAR;AACE,mBAAK,IAAL;AACEy1F,2BAAWG,SAASt2E,OAAT,CAAiBu2E,MAAjB,KAA4B,CAAvC;AACA;AACF,mBAAK,IAAL;AACEJ,2BAAWG,SAASt2E,OAAT,CAAiBu2E,MAAjB,EAAyBD,SAAS/qG,MAAT,GAAkBgrG,OAAOhrG,MAAlD,KAA6D,CAAxE;AACA;AACF,mBAAK,IAAL;AACE4qG,2BAAWG,SAASt2E,OAAT,CAAiBu2E,MAAjB,MAA6B,CAAxC;AACA;AACF,mBAAK,GAAL;AACEJ,2BAAWC,aAAa/yG,KAAxB;AACA;AACF,mBAAK,GAAL;AACEqzG,4BAAY,IAAZ;AACAP,2BAAWC,WAAW/yG,KAAtB;AACA;AACF,mBAAK,IAAL;AACEqzG,4BAAY,IAAZ;AACAP,2BAAWC,YAAY/yG,KAAvB;AACA;AACF,mBAAK,GAAL;AACEqzG,4BAAY,IAAZ;AACAP,2BAAWC,WAAW/yG,KAAtB;AACA;AACF,mBAAK,IAAL;AACEqzG,4BAAY,IAAZ;AACAP,2BAAWC,YAAY/yG,KAAvB;AACA;AACF;AACE8yG,2BAAW,KAAX;AACA;AA/BJ;;AAkCA;AACA,gBAAIM,YAAYL,YAAY,IAAZ,IAAoB,CAACM,SAAjC,CAAJ,EAAiD;AAC/CP,yBAAW,CAACA,QAAZ;AACD;AACF,WAlED,MAkEO,IAAIz1F,YAAY,IAAhB,EAAsB;AAC3B,oBAAQA,QAAR;AACE,mBAAK,GAAL;AACEy1F,2BAAWC,WAAW,IAAX,GAAkB,KAA7B;AACA;AACF,mBAAK,GAAL;AACED,2BAAWC,WAAW,KAAX,GAAmB,IAA9B;AACA;AACF,mBAAK,GAAL;AACED,2BAAWC,aAAa7vG,SAAxB;AACA;AATJ;AAWD,WAZM,MAYA;AACL4vG,uBAAWC,aAAa7vG,SAAxB;AACD;;AAED,cAAI,CAAC4vG,QAAL,EAAe;AACbD,6BAAiB,KAAjB;AACA;AACD;AACF,SAhGuD,CAgGtD;;AAEF,eAAOA,cAAP;AACD,OAnGD,CAXsD,CA8GnD;;AAEH;AACA,UAAIS,mBAAmB,SAASA,gBAAT,CAA0Bv2F,KAA1B,EAAiCw2F,WAAjC,EAA8Cz0F,IAA9C,EAAoD;AACzE,YAAI/B,SAAS,IAAb,EAAmB;AACjB,cAAIy2F,YAAY,KAAhB;;AAEA,cAAI,CAACD,WAAL,EAAkB;AAChB,mBAAO,KAAP;AACD;;AAEDz0F,iBAAOA,MAAP,CAPiB,CAOF;;AAEf;AACA,eAAK,IAAInf,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAI8zG,aAAa12F,KAAb,EAAoB+B,KAAKnf,CAAL,CAApB,CAAJ,EAAkC;AAChC6zG,0BAAY,IAAZ;AACA;AACD;AACF;;AAED,iBAAOA,SAAP;AACD,SAlBD,MAkBO;AACL,iBAAO,IAAP;AACD;AACF,OAtBD;;AAwBA,UAAIC,eAAe,SAASA,YAAT,CAAsB12F,KAAtB,EAA6BrU,GAA7B,EAAkC;AACnD;AACA,YAAIqU,MAAMhB,SAAV,EAAqB;AACnB,iBAAOgB,MAAMjB,KAAN,KAAgB,GAAhB,IAAuBiB,MAAMjB,KAAN,KAAgBpT,IAAIoT,KAAJ,EAA9C;AACD;;AAED;AACA,YAAIiB,MAAMjB,KAAN,IAAe,IAAf,IAAuBiB,MAAMjB,KAAN,IAAe,GAAtC,IAA6CiB,MAAMjB,KAAN,IAAepT,IAAIoT,KAAJ,EAAhE,EAA6E;AAC3E,iBAAO,KAAP;AACD;;AAED,YAAIwC,KAAK5V,IAAI4V,EAAJ,EAAT;AACA,YAAIjW,IAAI,KAAK,CAAb;;AAEA;AACA,YAAIqrG,yBAAyB,IAA7B;AACA,aAAKrrG,IAAI,CAAT,EAAYA,IAAI0U,MAAMQ,cAAN,CAAqBrV,MAArC,EAA6CG,GAA7C,EAAkD;AAChD,cAAI2U,MAAMD,MAAMQ,cAAN,CAAqBlV,CAArB,CAAV;;AAEAqrG,mCAAyBr/E,qBAAqBrX,GAArB,EAA0BtU,GAA1B,CAAzB;;AAEA,cAAI,CAACgrG,sBAAL,EAA6B;AAC9B;AACD,YAAI,CAACA,sBAAL,EAA6B,OAAO,KAAP;;AAE7B;AACA,YAAIC,cAAc,IAAlB;AACA,aAAKtrG,IAAI,CAAT,EAAYA,IAAI0U,MAAMS,GAAN,CAAUtV,MAA1B,EAAkCG,GAAlC,EAAuC;AACrC,cAAIkR,KAAKwD,MAAMS,GAAN,CAAUnV,CAAV,CAAT;AACA,cAAIurG,WAAWlrG,IAAI6Q,EAAJ,EAAf;;AAEAo6F,wBAAcA,eAAep6F,MAAMq6F,QAAnC;;AAEA,cAAI,CAACD,WAAL,EAAkB;AACnB;AACD,YAAI,CAACA,WAAL,EAAkB,OAAO,KAAP;;AAElB;AACA,YAAIE,kBAAkB,IAAtB;AACA,aAAKxrG,IAAI,CAAT,EAAYA,IAAI0U,MAAMU,OAAN,CAAcvV,MAA9B,EAAsCG,GAAtC,EAA2C;AACzC,cAAIuY,MAAM7D,MAAMU,OAAN,CAAcpV,CAAd,CAAV;;AAEAwrG,4BAAkBA,mBAAmBnrG,IAAI+/B,QAAJ,CAAa7nB,GAAb,CAArC;;AAEA,cAAI,CAACizF,eAAL,EAAsB;AACvB;AACD,YAAI,CAACA,eAAL,EAAsB,OAAO,KAAP;;AAEtB;AACA,YAAIhB,iBAAiBD,cAAc71F,KAAd,EAAqB;AACxC7c,gBAAM,MADkC;AAExC8yG,sBAAY,SAASA,UAAT,CAAoB51F,KAApB,EAA2B;AACrC,mBAAO1U,IAAIyU,IAAJ,CAASC,KAAT,CAAP;AACD;AAJuC,SAArB,CAArB;;AAOA,YAAI,CAACy1F,cAAL,EAAqB;AACnB,iBAAO,KAAP;AACD;;AAED;AACA,YAAIiB,iBAAiBlB,cAAc71F,KAAd,EAAqB;AACxC7c,gBAAM,MADkC;AAExC8yG,sBAAY,SAASA,UAAT,CAAoB51F,KAApB,EAA2B;AACrC,mBAAO1U,IAAI0U,KAAJ,GAAP;AACD;AAJuC,SAArB,CAArB;;AAOA,YAAI,CAAC02F,cAAL,EAAqB;AACnB,iBAAO,KAAP;AACD;;AAED;AACA,YAAI/2F,MAAM1Z,UAAN,IAAoB,IAAxB,EAA8B;AAC5B,cAAI0wG,aAAah3F,MAAM1Z,UAAN,CAAiBmb,gBAAjB,CAAkC9V,IAAI6Q,EAAJ,EAAlC,CAAjB;;AAEA,cAAI,CAACw6F,UAAL,EAAiB;AACf,mBAAO,KAAP;AACD;AACF;;AAED;AACA,YAAIh3F,MAAMf,MAAN,IAAgB,IAAhB,IAAwBtT,IAAIrF,UAAJ,GAAiBipB,IAAjB,CAAsBvP,MAAMf,MAA5B,CAA5B,EAAiE;AAC/D,iBAAO,KAAP;AACD;;AAED,YAAI2+C,aAAar8C,GAAGiE,gBAAH,EAAjB;AACA,YAAIyxF,YAAY,SAASA,SAAT,GAAqB;AACnC,iBAAOtrG,IAAIgV,MAAJ,EAAP;AACD,SAFD;AAGA,YAAIu2F,YAAY,SAASA,SAAT,GAAqB;AACnC,iBAAOvrG,IAAIiV,MAAJ,EAAP;AACD,SAFD;;AAIA,YAAI,CAAC21F,iBAAiBv2F,MAAMc,MAAvB,EAA+B88C,UAA/B,EAA2C,YAAY;AAC1D,iBAAOjyD,IAAImV,MAAJ,EAAP;AACD,SAFI,CAAL,EAEI;AACF,iBAAO,KAAP;AACD;;AAED,YAAI,CAACy1F,iBAAiBv2F,MAAMe,QAAvB,EAAiC68C,UAAjC,EAA6C,YAAY;AAC5D,iBAAOjyD,IAAIihC,OAAJ,EAAP;AACD,SAFI,CAAL,EAEI;AACF,iBAAO,KAAP;AACD;;AAED,YAAI,CAAC2pE,iBAAiBv2F,MAAMgB,KAAvB,EAA8B48C,UAA9B,EAA0C,YAAY;AACzD,iBAAOjyD,IAAI4Z,QAAJ,EAAP;AACD,SAFI,CAAL,EAEI;AACF,iBAAO,KAAP;AACD;;AAED,YAAI,CAACgxF,iBAAiBv2F,MAAMiB,UAAvB,EAAmC28C,UAAnC,EAA+C,YAAY;AAC9D,iBAAOjyD,IAAI4c,WAAJ,EAAP;AACD,SAFI,CAAL,EAEI;AACF,iBAAO,KAAP;AACD;;AAED,YAAI,CAACguF,iBAAiBv2F,MAAMW,MAAvB,EAA+B,IAA/B,EAAqCs2F,SAArC,CAAL,EAAsD;AACpD,iBAAO,KAAP;AACD;;AAED,YAAI,CAACV,iBAAiBv2F,MAAMY,MAAvB,EAA+B,IAA/B,EAAqCs2F,SAArC,CAAL,EAAsD;AACpD,iBAAO,KAAP;AACD;;AAED,YAAIl3F,MAAMa,cAAV,EAA0B;AACxB,cAAIs2F,KAAKn3F,MAAMa,cAAN,CAAqB,CAArB,CAAT;AACA,cAAI2J,KAAKxK,MAAMa,cAAN,CAAqB,CAArB,CAAT;;AAEA,cAAI01F,iBAAiBY,EAAjB,EAAqB,IAArB,EAA2BF,SAA3B,KAAyCV,iBAAiB/rF,EAAjB,EAAqB,IAArB,EAA2B0sF,SAA3B,CAA7C,EAAoF;AAClF;AACD,WAFD,MAEO,IAAIX,iBAAiBY,EAAjB,EAAqB,IAArB,EAA2BD,SAA3B,KAAyCX,iBAAiB/rF,EAAjB,EAAqB,IAArB,EAA2BysF,SAA3B,CAA7C,EAAoF;AACzF;AACD,WAFM,MAEA;AACL,mBAAO,KAAP;AACD;AACF;;AAED;AACA,eAAO,IAAP;AACD,OA7ID,CAzIsD,CAsRnD;;AAEH;AACA,UAAIh4F,SAAS,SAASA,MAAT,CAAgB3Y,UAAhB,EAA4B;AACvC,YAAIsY,OAAO,IAAX;AACA,YAAI2C,KAAKjb,WAAWib,EAAX,EAAT;;AAEA;AACA,YAAI3C,KAAKE,OAAL,EAAJ,EAAoB;AAClB,iBAAOyC,GAAGjb,UAAH,EAAP;AACD;;AAED;AACA,YAAIsY,KAAKzT,MAAL,KAAgB,CAAhB,IAAqByT,KAAK,CAAL,EAAQzT,MAAR,KAAmB,CAAxC,IAA6CyT,KAAK,CAAL,EAAQ6B,GAAR,CAAYtV,MAAZ,KAAuB,CAAxE,EAA2E;AACzE,iBAAO7E,WAAWuc,cAAX,CAA0BjE,KAAK,CAAL,EAAQ6B,GAAR,CAAY,CAAZ,CAA1B,EAA0Cna,UAA1C,EAAP;AACD;;AAED,YAAI8wG,mBAAmB,SAASA,gBAAT,CAA0B/wG,OAA1B,EAAmC;AACxD,eAAK,IAAIgF,IAAI,CAAb,EAAgBA,IAAIuT,KAAKzT,MAAzB,EAAiCE,GAAjC,EAAsC;AACpC,gBAAI2U,QAAQpB,KAAKvT,CAAL,CAAZ;;AAEA,gBAAIqrG,aAAa12F,KAAb,EAAoB3Z,OAApB,CAAJ,EAAkC;AAChC,qBAAO,IAAP;AACD;AACF;;AAED,iBAAO,KAAP;AACD,SAVD;;AAYA,YAAIuY,KAAKS,IAAL,MAAe,IAAnB,EAAyB;AACvB+3F,6BAAmB,SAASA,gBAAT,GAA4B;AAC7C,mBAAO,IAAP;AACD,WAFD;AAGD;;AAED,YAAIC,qBAAqB/wG,WAAW2Y,MAAX,CAAkBm4F,gBAAlB,CAAzB;;AAEA,eAAOC,kBAAP;AACD,OAnCD,CAzRsD,CA4TnD;;AAEH;AACA,UAAI1gF,UAAU,SAASA,OAAT,CAAiBhrB,GAAjB,EAAsB;AAClC,YAAIiT,OAAO,IAAX;;AAEA;AACA,YAAIA,KAAKE,OAAL,EAAJ,EAAoB;AAClB,iBAAO,KAAP;AACD;;AAED,aAAK,IAAIzT,IAAI,CAAb,EAAgBA,IAAIuT,KAAKzT,MAAzB,EAAiCE,GAAjC,EAAsC;AACpC,cAAI2U,QAAQpB,KAAKvT,CAAL,CAAZ;;AAEA,cAAIqrG,aAAa12F,KAAb,EAAoBrU,GAApB,CAAJ,EAA8B;AAC5B,mBAAO,IAAP;AACD;AACF;;AAED,eAAO,KAAP;AACD,OAjBD,CA/TsD,CAgVnD;;AAEHzJ,aAAOD,OAAP,GAAiB,EAAE00B,SAASA,OAAX,EAAoB1X,QAAQA,MAA5B,EAAjB;;AAEA;AAAO,KAr5yBG;AAs5yBV;AACA,SAAO,UAAS/c,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAIixG,QAAQjxG,oBAAoB,GAApB,CAAZ;AACA,UAAI+b,WAAW/b,oBAAoB,EAApB,CAAf;;AAEA;AACA,UAAI40G,cAAc,SAASA,WAAT,CAAqBC,SAArB,EAAgC;AAChD,YAAIC,OAAO,KAAK,CAAhB;AACA,YAAIxwG,QAAQ,KAAK,CAAjB;AACA,YAAI7D,OAAO,KAAK,CAAhB;;AAEA,aAAK,IAAIkI,IAAI,CAAb,EAAgBA,IAAIsoG,MAAMxoG,MAA1B,EAAkCE,GAAlC,EAAuC;AACrC,cAAIuS,IAAI+1F,MAAMtoG,CAAN,CAAR;AACA,cAAI1H,IAAIia,EAAEza,IAAV;;AAEA,cAAIJ,IAAIw0G,UAAUvwG,KAAV,CAAgB4W,EAAEg4F,QAAlB,CAAR;;AAEA,cAAI7yG,KAAK,IAAT,EAAe;AACbiE,oBAAQjE,CAAR;AACAy0G,mBAAO55F,CAAP;AACAza,mBAAOQ,CAAP;;AAEA,gBAAI8zG,WAAW10G,EAAE,CAAF,CAAf;AACAw0G,wBAAYA,UAAUp3F,SAAV,CAAoBs3F,SAAStsG,MAA7B,CAAZ;;AAEA,kBARa,CAQN;AACR;AACF;;AAED,eAAO;AACLqsG,gBAAMA,IADD;AAELxwG,iBAAOA,KAFF;AAGL7D,gBAAMA,IAHD;AAILo0G,qBAAWA;AAJN,SAAP;AAMD,OA7BD;;AA+BA;AACA,UAAIG,oBAAoB,SAASA,iBAAT,CAA2BH,SAA3B,EAAsC;AAC5D,YAAIvwG,QAAQuwG,UAAUvwG,KAAV,CAAgB,MAAhB,CAAZ;;AAEA,YAAIA,KAAJ,EAAW;AACT,cAAIywG,WAAWzwG,MAAM,CAAN,CAAf;AACAuwG,sBAAYA,UAAUp3F,SAAV,CAAoBs3F,SAAStsG,MAA7B,CAAZ;AACD;;AAED,eAAOosG,SAAP;AACD,OATD;;AAWA,UAAIr4F,QAAQ,SAASA,KAAT,CAAeP,QAAf,EAAyB;AACnC,YAAIC,OAAO,IAAX;;AAEA,YAAI24F,YAAY34F,KAAKrY,QAAL,CAAcsY,YAAd,GAA6BF,QAA7C;;AAEA,YAAIg5F,eAAe/4F,KAAK,CAAL,IAAUH,UAA7B;AACAG,aAAKzT,MAAL,GAAc,CAAd;;AAEAosG,oBAAYG,kBAAkBH,SAAlB,CAAZ,CARmC,CAQO;;AAE1C,iBAAS;AACP,cAAIK,QAAQN,YAAYC,SAAZ,CAAZ;;AAEA,cAAIK,MAAMJ,IAAN,IAAc,IAAlB,EAAwB;AACtB1uG,iBAAKQ,KAAL,CAAW,mBAAmBqV,QAAnB,GAA8B,aAAzC;AACA,mBAAO,KAAP;AACD,WAHD,MAGO;AACL,gBAAIzT,OAAO0sG,MAAM5wG,KAAN,CAAYgD,KAAZ,CAAkB,CAAlB,CAAX;;AAEA;AACA,gBAAI8hB,MAAM8rF,MAAMJ,IAAN,CAAW3D,QAAX,CAAoBj1F,IAApB,EAA0B+4F,YAA1B,EAAwCzsG,IAAxC,CAAV;;AAEA,gBAAI4gB,QAAQ,KAAZ,EAAmB;AACjB,qBAAO,KAAP,CADiB,CACH;AACf,aAFD,MAEO,IAAIA,OAAO,IAAX,EAAiB;AACtB6rF,6BAAe7rF,GAAf,CADsB,CACF;AACrB;AACF;;AAEDyrF,sBAAYK,MAAML,SAAlB;;AAEA;AACA,cAAIA,UAAUvwG,KAAV,CAAgB,OAAhB,CAAJ,EAA8B;AAC5B;AACD;AACF;;AAED;AACA,aAAK,IAAIqE,IAAI,CAAb,EAAgBA,IAAIuT,KAAKzT,MAAzB,EAAiCE,GAAjC,EAAsC;AACpC,cAAI2U,QAAQpB,KAAKvT,CAAL,CAAZ;;AAEA,cAAI2U,MAAME,OAAN,IAAiB,IAArB,EAA2B;AACzB;AACA,qBAAS;AACP,kBAAIF,MAAME,OAAN,KAAkBF,KAAtB,EAA6B;AAC3B;AACD,eAHM,CAGL;;AAEF,kBAAIA,MAAMc,MAAN,IAAgB,IAApB,EAA0B;AACxB;AACA,oBAAIA,SAASd,MAAMc,MAAnB;AACA,oBAAIE,QAAQhB,KAAZ;;AAEAgB,sBAAMF,MAAN,GAAe,IAAf;AACAA,uBAAOE,KAAP,GAAeA,KAAf;;AAEAhB,wBAAQc,MAAR,CARwB,CAQR;AACjB,eATD,MASO,IAAId,MAAMe,QAAN,IAAkB,IAAtB,EAA4B;AACjC;AACA,oBAAIA,WAAWf,MAAMe,QAArB;AACA,oBAAIE,aAAajB,KAAjB;;AAEAiB,2BAAWF,QAAX,GAAsB,IAAtB;AACAA,yBAASE,UAAT,GAAsBA,UAAtB;;AAEAjB,wBAAQe,QAAR,CARiC,CAQf;AACnB,eATM,MASA,IAAIf,MAAMW,MAAN,IAAgBX,MAAMY,MAAtB,IAAgCZ,MAAMa,cAA1C,EAA0D;AAC/D/X,qBAAKQ,KAAL,CAAW,mBAAmBsV,KAAKS,IAAL,EAAnB,GAAiC,+FAA5C;AACA,uBAAO,KAAP;AACD,eAHM,MAGA;AACLvW,qBAAKQ,KAAL,CAAW,iDAAiDsV,KAAKS,IAAL,EAAjD,GAA+D,0CAA1E;AACA,uBAAO,KAAP;AACD;AACF,aAhCwB,CAgCvB;;AAEFT,iBAAKvT,CAAL,IAAU2U,MAAME,OAAhB,CAlCyB,CAkCA;AAC1B,WAtCmC,CAsClC;AACH,SA7EkC,CA6EjC;;AAEF,eAAO,IAAP,CA/EmC,CA+EtB;AACd,OAhFD;;AAkFAhe,aAAOD,OAAP,GAAiB,EAAEid,OAAOA,KAAT,EAAjB;;AAEA;AAAO,KAhizBG;AAiizBV;AACA,SAAO,UAAShd,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA;AACA,UAAIwwG,SAAS;AACXI,kBAAU,4FADC,EAC6F;AACxGmB,sBAAc,iCAFH,EAEsC;AACjDK,gBAAQ,aAHG,EAGY;AACvBvvG,gBAAQ,sBAAsB,GAAtB,GAA4B,mBAJzB,EAI8C;AACzDK,gBAAQkD,KAAK8qG,KAAL,CAAWhuG,MALR,EAKgB;AAC3B2a,cAAM,2BANK,EAMwB;AACnC40F,mBAAW,WAPA,EAOa;AACxBl0F,oBAAY,MARD;AASXD,eAAO,WATI;AAUXd,iBAAS,KAVE;AAWXnB,eAAO,eAXI;AAYXu2F,sBAAc,YAZH;AAaXE,wBAAgB;AAbL,OAAb;AAeAtC,aAAOoB,QAAP,GAAkB,sBAAsBpB,OAAOI,QAA7B,GAAwC,KAA1D,CAvBsD,CAuBW;AACjEJ,aAAOjwG,KAAP,GAAeiwG,OAAO3tG,MAAP,GAAgB,GAAhB,GAAsB2tG,OAAOttG,MAA5C,CAxBsD,CAwBF;AACpDstG,aAAOvnE,SAAP,GAAmBunE,OAAOoB,QAA1B,CAzBsD,CAyBlB;AACpCpB,aAAO12F,EAAP,GAAY02F,OAAOoB,QAAnB,CA1BsD,CA0BzB;;AAE7B,OAAC,YAAY;AACX,YAAIuD,MAAM,KAAK,CAAf;AAAA,YACIC,KAAK,KAAK,CADd;AAAA,YAEIl1G,IAAI,KAAK,CAFb;;AAIA;AACAi1G,cAAM3E,OAAOuB,YAAP,CAAoB9oF,KAApB,CAA0B,GAA1B,CAAN;AACA,aAAK/oB,IAAI,CAAT,EAAYA,IAAIi1G,IAAI1sG,MAApB,EAA4BvI,GAA5B,EAAiC;AAC/Bk1G,eAAKD,IAAIj1G,CAAJ,CAAL;AACAswG,iBAAOuB,YAAP,IAAuB,OAAOqD,EAA9B;AACD;;AAED;AACAD,cAAM3E,OAAOuB,YAAP,CAAoB9oF,KAApB,CAA0B,GAA1B,CAAN;AACA,aAAK/oB,IAAI,CAAT,EAAYA,IAAIi1G,IAAI1sG,MAApB,EAA4BvI,GAA5B,EAAiC;AAC/Bk1G,eAAKD,IAAIj1G,CAAJ,CAAL;;AAEA,cAAIk1G,GAAGl4E,OAAH,CAAW,GAAX,KAAmB,CAAvB,EAA0B;AACxB;AACD,WAL8B,CAK7B;AACF,cAAIk4E,OAAO,GAAX,EAAgB;AACd;AACD,WAR8B,CAQ7B;;AAEF5E,iBAAOuB,YAAP,IAAuB,SAASqD,EAAhC;AACD;AACF,OA1BD;;AA4BA51G,aAAOD,OAAP,GAAiBixG,MAAjB;;AAEA;AAAO,KA5lzBG;AA6lzBV;AACA,SAAO,UAAShxG,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAI8b,UAAU9b,oBAAoB,CAApB,CAAd;;AAEA,UAAIo1B,QAAQ,EAAZ;;AAEA;AACA;AACA;AACA;AACAA,YAAMruB,KAAN,GAAc,UAAUsY,IAAV,EAAgB;AAC5B,YAAInD,OAAO,IAAX;AACA,YAAIgP,KAAKhP,KAAKrY,QAAd;AACA,YAAIgb,KAAKqM,GAAGrM,EAAZ;AACA,YAAI8+B,cAAc9+B,GAAGjb,UAAH,EAAlB;;AAEA,YAAIsnB,GAAGmK,QAAP,EAAiB;AACf;AACAnK,aAAGmqF,aAAH,GAAmB,EAAnB;AACAnqF,aAAGoqF,SAAH,GAAe,EAAf;;AAEAp5F,eAAKq5F,aAAL,CAAmBl2F,IAAnB,EAAyB,IAAzB;AACD;;AAED,aAAK,IAAIm2F,KAAK,CAAd,EAAiBA,KAAKn2F,KAAK5W,MAA3B,EAAmC+sG,IAAnC,EAAyC;AACvC,cAAIvsG,MAAMoW,KAAKm2F,EAAL,CAAV;;AAEA,cAAIC,UAAUv5F,KAAKw5F,cAAL,CAAoBzsG,GAApB,CAAd;;AAEA,cAAIwsG,QAAQ/yF,KAAZ,EAAmB;AACjB;AACD,WAFD,MAEO;AACLi7B,wBAAYv6B,KAAZ,CAAkBna,GAAlB;AACD;;AAED,cAAI0sG,WAAWz5F,KAAK05F,eAAL,CAAqBH,OAArB,CAAf;AACA,cAAII,MAAM35F,KAAK45F,iBAAL,CAAuBL,OAAvB,EAAgCE,QAAhC,EAA0C1sG,GAA1C,CAAV;;AAEA,cAAI,CAACiiB,GAAGmK,QAAR,EAAkB;AAChBnZ,iBAAKkiC,iBAAL,CAAuBn1C,GAAvB,EAA4B4sG,IAAIE,SAAhC;AACD;;AAED75F,eAAK85F,gBAAL,CAAsB/sG,GAAtB;AACD,SAjC2B,CAiC1B;;AAEFiiB,WAAGmK,QAAH,GAAc,KAAd;;AAEA,eAAOsoB,WAAP;AACD,OAtCD;;AAwCAvoB,YAAM6gF,iBAAN,GAA0B,UAAUC,SAAV,EAAqBC,SAArB,EAAgC;AACxD,YAAIj6F,OAAO,IAAX;AACA,YAAIua,QAAQva,KAAKrY,QAAL,CAAcyxG,SAAd,GAA0Bp5F,KAAKrY,QAAL,CAAcyxG,SAAd,IAA2B,EAAjE;AACA,YAAIc,aAAaF,YAAY,GAAZ,GAAkBC,SAAnC;AACA,YAAInrC,YAAYv0C,MAAM2/E,UAAN,CAAhB;;AAEA,YAAIprC,SAAJ,EAAe;AACb,iBAAOA,SAAP;AACD;;AAED,YAAI+qC,YAAY,EAAhB;AACA,YAAIM,YAAY,EAAhB;;AAEA,aAAK,IAAIn2G,IAAI,CAAb,EAAgBA,IAAIgc,KAAKzT,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAIurF,MAAMvvE,KAAKhc,CAAL,CAAV;AACA,cAAIo2G,YAAYJ,UAAUh2G,CAAV,MAAiB,GAAjC;AACA,cAAIq2G,YAAYJ,UAAUj2G,CAAV,MAAiB,GAAjC;AACA,cAAIs2G,eAAeF,cAAcC,SAAjC;AACA,cAAIE,oBAAoBhrB,IAAIh2D,gBAAJ,CAAqBhtB,MAArB,GAA8B,CAAtD;;AAEA,cAAI+tG,gBAAgBC,iBAApB,EAAuC;AACrC,gBAAItwF,QAAQ,KAAK,CAAjB;;AAEA,gBAAIqwF,gBAAgBC,iBAApB,EAAuC;AACrCtwF,sBAAQslE,IAAIj2D,UAAZ,CADqC,CACb;AACzB,aAFD,MAEO,IAAIghF,YAAJ,EAAkB;AACvBrwF,sBAAQslE,IAAIj2D,UAAZ,CADuB,CACC;AACzB,aAFM,MAEA,IAAIihF,iBAAJ,EAAuB;AAC5BtwF,sBAAQslE,IAAIh2D,gBAAZ,CAD4B,CACE;AAC/B;;AAED,iBAAK,IAAI9sB,IAAI,CAAb,EAAgBA,IAAIwd,MAAM1d,MAA1B,EAAkCE,GAAlC,EAAuC;AACrC,kBAAI+sB,OAAOvP,MAAMxd,CAAN,CAAX;AACA,kBAAIlI,OAAOi1B,KAAKj1B,IAAhB;;AAEA;AACA;AACA;AACA,kBAAIi2G,oBAAoB,KAAxB;AACA,mBAAK,IAAI9tG,IAAI1I,IAAI,CAAjB,EAAoB0I,IAAIsT,KAAKzT,MAA7B,EAAqCG,GAArC,EAA0C;AACxC,oBAAI+tG,WAAWz6F,KAAKtT,CAAL,CAAf;AACA,oBAAIguG,cAAcT,UAAUvtG,CAAV,MAAiB,GAAnC;;AAEA,oBAAI,CAACguG,WAAL,EAAkB;AAChB;AACD,iBANuC,CAMtC;;AAEFF,oCAAoBC,SAASnhF,UAAT,CAAoBE,KAAKj1B,IAAzB,KAAkC,IAAtD;;AAEA,oBAAIi2G,iBAAJ,EAAuB;AACrB;AACD,iBAZuC,CAYtC;AACH;;AAED,kBAAI,CAACL,UAAU51G,IAAV,CAAD,IAAoB,CAACi2G,iBAAzB,EAA4C;AAC1CL,0BAAU51G,IAAV,IAAkB,IAAlB;AACAs1G,0BAAU1sG,IAAV,CAAe5I,IAAf;AACD;AACF,aAtCoC,CAsCnC;AACH,WA9CmC,CA8ClC;AACH,SA5DuD,CA4DtD;;AAEFg2B,cAAM2/E,UAAN,IAAoBL,SAApB;AACA,eAAOA,SAAP;AACD,OAhED;;AAkEA3gF,YAAMsgF,cAAN,GAAuB,UAAUzsG,GAAV,EAAe;AACpC,YAAIiT,OAAO,IAAX;AACA,YAAI26F,SAAS,EAAb;AACA,YAAId,YAAY,KAAK,CAArB;AACA,YAAIe,UAAU7tG,IAAIpF,QAAJ,CAAakzG,WAAb,IAA4B,EAA1C;;AAEA,YAAI76F,KAAKrY,QAAL,CAAcwxB,QAAlB,EAA4B;AAC1ByhF,oBAAU,EAAV,CAD0B,CACZ;AACf;;AAED;AACA,aAAK,IAAI52G,IAAI,CAAb,EAAgBA,IAAIgc,KAAKzT,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAIioB,UAAUjM,KAAKhc,CAAL,CAAd;AACA,cAAI82G,yBAAyB7uF,QAAQlM,QAAR,IAAoBkM,QAAQlM,QAAR,CAAiBgY,OAAjB,CAAyBhrB,GAAzB,CAAjD,CAFoC,CAE4C;;AAEhF,cAAI+tG,sBAAJ,EAA4B;AAC1BH,sBAAU,GAAV;AACD,WAFD,MAEO;AACLA,sBAAU,GAAV;AACD;AACF,SApBmC,CAoBlC;;AAEFd,oBAAY75F,KAAK+5F,iBAAL,CAAuBa,OAAvB,EAAgCD,MAAhC,CAAZ;;AAEA5tG,YAAIpF,QAAJ,CAAakzG,WAAb,GAA2BF,MAA3B;;AAEA,eAAO;AACLrwF,eAAKqwF,MADA;AAELI,yBAAelB,SAFV;AAGLrzF,iBAAOqzF,UAAUttG,MAAV,KAAqB;AAHvB,SAAP;AAKD,OA/BD;;AAiCA;AACA2sB,YAAMwgF,eAAN,GAAwB,UAAUH,OAAV,EAAmB;AACzC,YAAIoB,SAASpB,QAAQjvF,GAArB;AACA,YAAItK,OAAO,IAAX;AACA,YAAIg7F,YAAY,KAAKrzG,QAAL,CAAcwxG,aAAd,GAA8B,KAAKxxG,QAAL,CAAcwxG,aAAd,IAA+B,EAA7E;;AAEA;AACA,YAAI6B,UAAUL,MAAV,CAAJ,EAAuB;AACrB,iBAAOK,UAAUL,MAAV,CAAP;AACD;;AAED,YAAI7yG,QAAQ;AACVH,oBAAU;AACR2iB,iBAAKqwF;AADG;AADA,SAAZ;;AAMA,aAAK,IAAI32G,IAAI,CAAb,EAAgBA,IAAIgc,KAAKzT,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAIurF,MAAMvvE,KAAKhc,CAAL,CAAV;AACA,cAAIi3G,SAASN,OAAO32G,CAAP,MAAc,GAA3B;;AAEA,cAAI,CAACi3G,MAAL,EAAa;AACX;AACD;;AAED,eAAK,IAAIxuG,IAAI,CAAb,EAAgBA,IAAI8iF,IAAIj2D,UAAJ,CAAe/sB,MAAnC,EAA2CE,GAA3C,EAAgD;AAC9C,gBAAI+sB,OAAO+1D,IAAIj2D,UAAJ,CAAe7sB,CAAf,CAAX;;AAEA3E,kBAAM0xB,KAAKj1B,IAAX,IAAmBi1B,IAAnB;AACD;AACF;;AAEDwhF,kBAAUL,MAAV,IAAoB7yG,KAApB;AACA,eAAOA,KAAP;AACD,OAjCD;;AAmCAoxB,YAAM0gF,iBAAN,GAA0B,UAAUL,OAAV,EAAmBE,QAAnB,EAA6B1sG,GAA7B,EAAkC;AAC1D,YAAIiT,OAAO,IAAX;AACA,YAAI65F,YAAYN,QAAQwB,aAAxB;AACA,YAAIG,eAAe,EAAnB;;AAEA,aAAK,IAAIl3G,IAAI,CAAb,EAAgBA,IAAI61G,UAAUttG,MAA9B,EAAsCvI,GAAtC,EAA2C;AACzC,cAAIm3G,eAAetB,UAAU71G,CAAV,CAAnB;AACA,cAAIo3G,UAAU3B,SAAS0B,YAAT,CAAd;AACA,cAAIE,UAAUtuG,IAAI4nB,MAAJ,CAAWwmF,YAAX,CAAd;;AAEA,cAAI,CAACC,OAAL,EAAc;AACZ;AACA,gBAAI,CAACC,OAAL,EAAc;AACZ,uBADY,CACF;AACV;AACD,aAHD,MAGO,IAAIA,QAAQx3D,MAAZ,EAAoB;AACzBu3D,wBAAU,EAAE72G,MAAM42G,YAAR,EAAsBG,gBAAgB,IAAtC,EAAV;AACD,aAFM,MAEA;AACLF,wBAAU,EAAE72G,MAAM42G,YAAR,EAAsB7tE,QAAQ,IAA9B,EAAV;AACD;AACF;;AAED;AACA,cAAI+tE,YAAYD,OAAhB,EAAyB;AACvB;AACD;;AAED,cAAIG,cAAcL,aAAaC,YAAb,IAA6B;AAC7Ch0E,kBAAMk0E;AADuC,WAA/C;;AAIAr7F,eAAKw7F,mBAAL,CAAyBzuG,GAAzB,EAA8BquG,OAA9B;;AAEAG,sBAAYh9F,IAAZ,GAAmBxR,IAAI4nB,MAAJ,CAAWwmF,YAAX,CAAnB;;AAEA,cAAII,YAAYh9F,IAAZ,IAAoBg9F,YAAYh9F,IAAZ,CAAiBslC,MAAzC,EAAiD;AAC/C03D,wBAAYh9F,IAAZ,GAAmBg9F,YAAYh9F,IAAZ,CAAiBk9F,QAApC;AACD;AACF;;AAED,eAAO;AACL5B,qBAAWqB;AADN,SAAP;AAGD,OA3CD;;AA6CAhiF,YAAM4gF,gBAAN,GAAyB,UAAU/sG,GAAV,EAAe;AACtC,YAAIiiB,KAAKjiB,IAAIpF,QAAb;AACA,YAAIqY,OAAO,IAAX;;AAEA,YAAIjT,IAAI6X,OAAJ,EAAJ,EAAmB;AACjB;AACD;;AAED;AACA,YAAIgV,SAAS,KAAb;AACA,YAAI5K,GAAG7O,KAAH,KAAa,OAAjB,EAA0B;AACxB,eAAK,IAAInc,IAAI,CAAb,EAAgBA,KAAKgc,KAAK0iF,cAA1B,EAA0C1+F,GAA1C,EAA+C;AAC7C;AACA,gBAAI03G,QAAQ3uG,IAAI4nB,MAAJ,CAAW,SAAS3wB,CAAT,GAAa,kBAAxB,EAA4CK,KAAxD;;AAEA,gBAAIq3G,QAAQ,CAAZ,EAAe;AACb9hF,uBAAS,IAAT;AACA;AACD;AACF;AACF;;AAED5K,WAAG4K,MAAH,GAAYA,MAAZ;;AAEA,YAAIumB,YAAYpzC,IAAI4nB,MAAJ,CAAW,gBAAX,EAA6Bye,QAA7C;AACA,YAAI0oC,UAAU/uE,IAAI4nB,MAAJ,CAAW,OAAX,EAAoBye,QAAlC;AACA,YAAIuoE,aAAa5uG,IAAI4nB,MAAJ,CAAW,cAAX,EAA2Bye,QAA5C;AACA,YAAIwoE,aAAa7uG,IAAI4nB,MAAJ,CAAW,cAAX,EAA2Bye,QAA5C;AACA,YAAI0sC,SAAS/yE,IAAI4nB,MAAJ,CAAW,YAAX,EAAyBye,QAAtC;AACA,YAAI1yB,OAAO3T,IAAI4nB,MAAJ,CAAW,WAAX,EAAwByb,OAAxB,GAAkC,IAA7C;AACA,YAAI2vC,SAAShzE,IAAI4nB,MAAJ,CAAW,aAAX,EAA0Bye,QAAvC;AACA;AACA,YAAItT,SAAS/yB,IAAI4nB,MAAJ,CAAW,aAAX,EAA0Bye,QAAvC;AACA,YAAIE,SAASvmC,IAAI4nB,MAAJ,CAAW,aAAX,EAA0Bye,QAAvC;AACA,YAAIC,SAAStmC,IAAI4nB,MAAJ,CAAW,aAAX,EAA0Bye,QAAvC;AACA,YAAIyoE,SAAS9uG,IAAI4nB,MAAJ,CAAW,oBAAX,EAAiCyb,OAA9C;AACA,YAAI0rE,OAAO/uG,IAAI4nB,MAAJ,CAAW,WAAX,EAAwBye,QAAnC;AACA,YAAI2oE,QAAQhvG,IAAI4nB,MAAJ,CAAW,gBAAX,EAA6Byb,OAAzC;AACA,YAAIuvC,gBAAgBG,SAAS,GAAT,GAAep/D,IAAf,GAAsB,GAAtB,GAA4Bq/D,MAA5B,GAAqC,GAArC,GAA2CjgD,MAA3C,GAAoD,GAApD,GAA0DqgB,SAA1D,GAAsE,GAAtE,GAA4E7M,MAA5E,GAAqF,GAArF,GAA2FD,MAA3F,GAAoG,GAApG,GAA0GwoE,MAA1G,GAAmH,GAAnH,GAAyHC,IAAzH,GAAgI,GAAhI,GAAsIC,KAA1J;AACA/sF,WAAG2wD,aAAH,GAAmBA,aAAnB;AACA3wD,WAAGgtF,cAAH,GAAoBr8B,gBAAgB,GAAhB,GAAsBg8B,UAA1C;AACA3sF,WAAGitF,cAAH,GAAoBt8B,gBAAgB,GAAhB,GAAsBi8B,UAA1C;AACA5sF,WAAG0vD,QAAH,GAAciB,gBAAgB,GAAhB,GAAsB7D,OAApC;AACA9sD,WAAG+vE,OAAH,GAAajf,SAAS,GAAT,GAAehgD,MAAf,GAAwB,GAAxB,GAA8Bpf,IAA9B,GAAqC,GAArC,GAA2Cq/D,MAAxD;;AAEA/wD,WAAGktF,QAAH,GAAczmF,KAAKC,GAAL,EAAd;AACD,OA9CD;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAwD,YAAMsiF,mBAAN,GAA4B,UAAUzuG,GAAV,EAAeovG,UAAf,EAA2B;AACrD,YAAIn8F,OAAO,IAAX;AACA,YAAIwZ,OAAO2iF,UAAX;AACA,YAAIr0G,QAAQiF,IAAIpF,QAAJ,CAAaG,KAAzB;AACA,YAAIsvG,WAAW,KAAK,CAApB;AAAA,YACIgF,WAAW,KAAK,CADpB;AAEA,YAAIhiF,QAAQpa,KAAKoa,KAAjB;AACA,YAAItR,OAAO9I,KAAKsZ,UAAL,CAAgBE,KAAKj1B,IAArB,EAA2BukB,IAAtC;AACA,YAAIuzF,eAAe7iF,KAAKqqB,MAAxB;AACA,YAAIy4D,WAAWx0G,MAAM0xB,KAAKj1B,IAAX,CAAf;AACA,YAAIg4G,mBAAmBD,YAAYA,SAASz4D,MAA5C;AACA,YAAI70B,KAAKjiB,IAAIpF,QAAb;AACA,YAAI60G,kBAAkB,SAAtB;;AAEA,YAAIC,cAAc,SAASA,WAAT,GAAuB;AACvCz8F,eAAK08F,kBAAL,CAAwB3vG,GAAxB,EAA6BysB,KAAKj1B,IAAlC,EAAwC+3G,WAAWA,SAASj4G,KAApB,GAA4B,IAApE,EAA0Em1B,KAAKn1B,KAA/E;AACD,SAFD;;AAIA;AACA,YAAI83G,WAAW53G,IAAX,KAAoB,aAApB,IAAqC43G,WAAW93G,KAAX,KAAqB,UAA1D,IAAwE0I,IAAI8Y,MAAJ,EAAxE,KAAyF9Y,IAAIurB,MAAJ,MAAgBvrB,IAAIgV,MAAJ,GAAa4G,QAAb,EAAhB,IAA2C5b,IAAIiV,MAAJ,GAAa2G,QAAb,EAApI,CAAJ,EAAkK;AAChK6Q,iBAAO2iF,aAAa,KAAK77F,KAAL,CAAW67F,WAAW53G,IAAtB,EAA4B,QAA5B,EAAsC83G,YAAtC,CAApB;AACD;;AAED,YAAI7iF,KAAK8T,MAAT,EAAiB;AACf;AACAxlC,gBAAM0xB,KAAKj1B,IAAX,IAAmBgD,SAAnB;;AAEAk1G;;AAEA,iBAAO,IAAP;AACD;;AAED,YAAIjjF,KAAK8hF,cAAT,EAAyB;AACvB;AACA,cAAI,CAACgB,QAAL,EAAe;AACbG;;AAEA,mBAAO,IAAP,CAHa,CAGA;AACd,WAJD,MAIO,IAAIH,SAASz4D,MAAb,EAAqB;AAC1B;AACAy4D,qBAASb,QAAT,GAAoBl0G,SAApB;;AAEAk1G;;AAEA,mBAAO,IAAP;AACD,WAPM,MAOA;AACL,mBAAO,KAAP,CADK,CACS;AACf;AACF;;AAED;AACA,YAAIjjF,KAAKmjF,YAAT,EAAuB;AACrB;AACA,cAAI,CAACL,QAAL,EAAe;AACbG;;AAEA,mBAAO,IAAP,CAHa,CAGA;AACd,WAJD,MAIO,IAAIH,SAASz4D,MAAb,EAAqB;AAC1B;AACA;AACA/7C,kBAAM0xB,KAAKj1B,IAAX,IAAmB+3G,SAASb,QAA5B;;AAEAgB;;AAEA,mBAAO,IAAP;AACD,WARM,MAQA;AACL,mBAAO,KAAP,CADK,CACS;AACf;AACF;;AAED,YAAIG,kBAAkB,SAASA,eAAT,GAA2B;AAC/C1yG,eAAKQ,KAAL,CAAW,8EAA8EqC,IAAI6Q,EAAJ,EAA9E,GAAyF,kBAAzF,GAA8G4b,KAAKj1B,IAAnH,GAA0H,qBAA1H,GAAkJi1B,KAAK/X,KAAvJ,GAA+J,cAA/J,GAAgL+X,KAAK/X,KAArL,GAA6L,+CAA7L,GAA+O+X,KAAK/X,KAApP,GAA4P,WAAvQ;AACD,SAFD;;AAIA;AACA,gBAAQ+X,KAAKK,MAAb,GAAsB;AACpB,eAAKO,MAAMyiF,OAAX;AACE;AACE;AACA,kBAAI92F,SAASyT,KAAK/X,KAAL,CAAWsL,KAAX,CAAiB,GAAjB,CAAb;AACA,kBAAI+vF,YAAY9tF,GAAGxN,IAAnB;;AAEA,mBAAK,IAAIxd,IAAI,CAAb,EAAgBA,IAAI+hB,OAAOxZ,MAAX,IAAqBuwG,SAArC,EAAgD94G,GAAhD,EAAqD;AACnD,oBAAIyd,QAAQsE,OAAO/hB,CAAP,CAAZ;AACA84G,4BAAYA,UAAUr7F,KAAV,CAAZ;AACD;;AAED,kBAAI4pC,UAAU,KAAK,CAAnB;AACA,kBAAI,CAAC7kD,GAAGQ,MAAH,CAAU81G,SAAV,CAAL,EAA2B;AACzB;AACAzxD,0BAAU,CAAV;AACD,eAHD,MAGO;AACLA,0BAAU,CAACyxD,YAAYtjF,KAAKujF,QAAlB,KAA+BvjF,KAAKwjF,QAAL,GAAgBxjF,KAAKujF,QAApD,CAAV;AACD;;AAED;AACA,kBAAI1xD,UAAU,CAAd,EAAiB;AACfA,0BAAU,CAAV;AACD,eAFD,MAEO,IAAIA,UAAU,CAAd,EAAiB;AACtBA,0BAAU,CAAV;AACD;;AAED,kBAAIviC,KAAK0iC,KAAT,EAAgB;AACd,oBAAIyxD,KAAKzjF,KAAK0jF,QAAL,CAAc,CAAd,CAAT;AACA,oBAAIC,KAAK3jF,KAAK4jF,QAAL,CAAc,CAAd,CAAT;AACA,oBAAIC,KAAK7jF,KAAK0jF,QAAL,CAAc,CAAd,CAAT;AACA,oBAAII,KAAK9jF,KAAK4jF,QAAL,CAAc,CAAd,CAAT;AACA,oBAAIG,KAAK/jF,KAAK0jF,QAAL,CAAc,CAAd,CAAT;AACA,oBAAI9qE,KAAK5Y,KAAK4jF,QAAL,CAAc,CAAd,CAAT;AACA,oBAAII,KAAKhkF,KAAK0jF,QAAL,CAAc,CAAd,KAAoB,IAApB,GAA2B,CAA3B,GAA+B1jF,KAAK0jF,QAAL,CAAc,CAAd,CAAxC;AACA,oBAAIO,KAAKjkF,KAAK4jF,QAAL,CAAc,CAAd,KAAoB,IAApB,GAA2B,CAA3B,GAA+B5jF,KAAK4jF,QAAL,CAAc,CAAd,CAAxC;;AAEA,oBAAIM,MAAM,CAACv2G,KAAKskD,KAAL,CAAWwxD,KAAK,CAACE,KAAKF,EAAN,IAAY5xD,OAA5B,CAAD,EAAuClkD,KAAKskD,KAAL,CAAW4xD,KAAK,CAACC,KAAKD,EAAN,IAAYhyD,OAA5B,CAAvC,EAA6ElkD,KAAKskD,KAAL,CAAW8xD,KAAK,CAACnrE,KAAKmrE,EAAN,IAAYlyD,OAA5B,CAA7E,EAAmHlkD,KAAKskD,KAAL,CAAW+xD,KAAK,CAACC,KAAKD,EAAN,IAAYnyD,OAA5B,CAAnH,CAAV;;AAEA+wD,2BAAW,EAAE;AACXv4D,0BAAQrqB,KAAKqqB,MADJ,EACY;AACrBt/C,wBAAMi1B,KAAKj1B,IAFF;AAGTF,yBAAOq5G,GAHE;AAITtqE,4BAAU,SAASsqE,IAAI,CAAJ,CAAT,GAAkB,IAAlB,GAAyBA,IAAI,CAAJ,CAAzB,GAAkC,IAAlC,GAAyCA,IAAI,CAAJ,CAAzC,GAAkD;AAJnD,iBAAX;AAMD,eAlBD,MAkBO,IAAI50F,KAAK9hB,MAAT,EAAiB;AACtB,oBAAI22G,YAAYnkF,KAAK0jF,QAAL,GAAgB,CAAC1jF,KAAK4jF,QAAL,GAAgB5jF,KAAK0jF,QAAtB,IAAkC7xD,OAAlE;AACA+wD,2BAAW,KAAK97F,KAAL,CAAWkZ,KAAKj1B,IAAhB,EAAsBo5G,SAAtB,EAAiCnkF,KAAKqqB,MAAtC,EAA8C24D,eAA9C,CAAX;AACD,eAHM,MAGA;AACL,uBAAO,KAAP,CADK,CACS;AACf;;AAED,kBAAI,CAACJ,QAAL,EAAe;AACb;AACAA,2BAAW,KAAK97F,KAAL,CAAWkZ,KAAKj1B,IAAhB,EAAsB+3G,SAASlpE,QAA/B,EAAyC5Z,KAAKqqB,MAA9C,EAAsD24D,eAAtD,CAAX;AACD;;AAED,kBAAI,CAACJ,QAAL,EAAe;AACbQ;AACD;AACDR,uBAASwB,OAAT,GAAmBpkF,IAAnB,CA1DF,CA0D2B;AACzBA,qBAAO4iF,QAAP,CA3DF,CA2DmB;;AAEjB;AACD;;AAEH;AACA,eAAKhiF,MAAM5Y,IAAX;AACE;AACE;AACA,kBAAIq8F,UAAUrkF,KAAK/X,KAAL,CAAWsL,KAAX,CAAiB,GAAjB,CAAd;AACA,kBAAI+wF,aAAa9uF,GAAGxN,IAApB;;AAEA,kBAAIs8F,UAAJ,EAAgB;AACd,qBAAK,IAAIniG,KAAK,CAAd,EAAiBA,KAAKkiG,QAAQtxG,MAA9B,EAAsCoP,IAAtC,EAA4C;AAC1C,sBAAIoiG,SAASF,QAAQliG,EAAR,CAAb;AACAmiG,+BAAaA,WAAWC,MAAX,CAAb;AACD;AACF;;AAED3B,yBAAW,KAAK97F,KAAL,CAAWkZ,KAAKj1B,IAAhB,EAAsBu5G,UAAtB,EAAkCtkF,KAAKqqB,MAAvC,EAA+C24D,eAA/C,CAAX;;AAEA,kBAAI,CAACJ,QAAL,EAAe;AACb;AACA,oBAAI4B,cAAc1B,WAAWA,SAASlpE,QAApB,GAA+B,EAAjD;;AAEAgpE,2BAAW,KAAK97F,KAAL,CAAWkZ,KAAKj1B,IAAhB,EAAsBy5G,WAAtB,EAAmCxkF,KAAKqqB,MAAxC,EAAgD24D,eAAhD,CAAX;AACD;;AAED,kBAAI,CAACJ,QAAL,EAAe;AACbQ;AACD;AACDR,uBAASwB,OAAT,GAAmBpkF,IAAnB,CAxBF,CAwB2B;AACzBA,qBAAO4iF,QAAP,CAzBF,CAyBmB;;AAEjB;AACD;;AAEH,eAAKhiF,MAAM3zB,EAAX;AACE;AACE,kBAAIA,KAAK+yB,KAAKn1B,KAAd;AACA,kBAAI45G,WAAWx3G,GAAGsG,GAAH,CAAf;;AAEAqvG,yBAAW,KAAK97F,KAAL,CAAWkZ,KAAKj1B,IAAhB,EAAsB05G,QAAtB,EAAgCzkF,KAAKqqB,MAArC,EAA6C24D,eAA7C,CAAX;AACAJ,uBAASwB,OAAT,GAAmBpkF,IAAnB,CALF,CAK2B;AACzBA,qBAAO4iF,QAAP,CANF,CAMmB;;AAEjB;AACD;;AAEH,eAAK70G,SAAL;AACE,kBA/GJ,CA+GW;;AAET;AACE,mBAAO,KAAP,CAlHJ,CAkHkB;AAlHlB;;AAqHA;AACA,YAAI80G,YAAJ,EAAkB;AAChB,cAAIE,gBAAJ,EAAsB;AACpB;AACA/iF,iBAAKiiF,QAAL,GAAgBa,SAASb,QAAzB,CAFoB,CAEe;AACpC,WAHD,MAGO;AACL;AACAjiF,iBAAKiiF,QAAL,GAAgBa,QAAhB;AACD;;AAEDx0G,gBAAM0xB,KAAKj1B,IAAX,IAAmBi1B,IAAnB,CATgB,CASS;AAC1B,SAVD,MAUO;AACL;AACA,cAAI+iF,gBAAJ,EAAsB;AACpB;AACAD,qBAASb,QAAT,GAAoBjiF,IAApB;AACD,WAHD,MAGO;AACL;AACA1xB,kBAAM0xB,KAAKj1B,IAAX,IAAmBi1B,IAAnB;AACD;AACF;;AAEDijF;;AAEA,eAAO,IAAP;AACD,OAzND;;AA2NAvjF,YAAMmgF,aAAN,GAAsB,UAAUl2F,IAAV,EAAgB+6F,YAAhB,EAA8B;AAClD,YAAIl+F,OAAO,IAAX;AACA,YAAIiK,QAAQjK,KAAKsZ,UAAjB;;AAEA,aAAK,IAAIt1B,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;;AAEA,cAAI,CAACk6G,YAAL,EAAmB;AACjBnxG,gBAAIpF,QAAJ,CAAaG,KAAb,GAAqB,EAArB;AACD,WAFD,MAEO;AACL,gBAAIA,QAAQiF,IAAIpF,QAAJ,CAAaG,KAAzB;;AAEA,iBAAK,IAAI2E,IAAI,CAAb,EAAgBA,IAAIwd,MAAM1d,MAA1B,EAAkCE,GAAlC,EAAuC;AACrC,kBAAI+sB,OAAOvP,MAAMxd,CAAN,CAAX;AACA,kBAAI4uG,UAAUvzG,MAAM0xB,KAAKj1B,IAAX,CAAd;;AAEA,kBAAI82G,OAAJ,EAAa;AACX,oBAAIA,QAAQx3D,MAAZ,EAAoB;AAClBw3D,0BAAQI,QAAR,GAAmB,IAAnB;AACD,iBAFD,MAEO;AACL3zG,wBAAM0xB,KAAKj1B,IAAX,IAAmB,IAAnB;AACD;AACF;AACF;AACF;AACF;AACF,OA1BD;;AA4BA;AACA20B,YAAMgX,MAAN,GAAe,YAAY;AACzB,YAAIvtB,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;AACA,YAAIQ,OAAOR,GAAGgP,eAAH,EAAX;;AAEAxO,aAAKiE,WAAL;AACD,OALD;;AAOA;AACA;AACA8R,YAAMyoB,aAAN,GAAsB,UAAUx+B,IAAV,EAAgB;AACpC,YAAInD,OAAO,IAAX;AACA,YAAI2C,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;AACA,YAAI8+B,cAAc9+B,GAAGjb,UAAH,EAAlB;;AAEA,aAAK,IAAI1D,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC;AACA,cAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;AACA,cAAI8D,QAAQiF,IAAIpF,QAAJ,CAAaG,KAAzB;AACA,cAAIq2G,aAAa,KAAjB;;AAEA,eAAK,IAAI1xG,IAAI,CAAb,EAAgBA,IAAIuT,KAAKsZ,UAAL,CAAgB/sB,MAApC,EAA4CE,GAA5C,EAAiD;AAC/C;AACA,gBAAI+sB,OAAOxZ,KAAKsZ,UAAL,CAAgB7sB,CAAhB,CAAX;AACA,gBAAI2xG,cAAct2G,MAAM0xB,KAAKj1B,IAAX,CAAlB;;AAEA,gBAAI65G,eAAeA,YAAYR,OAA/B,EAAwC;AACtC,kBAAIA,UAAUQ,YAAYR,OAA1B;;AAEA,mBAAKpC,mBAAL,CAAyBzuG,GAAzB,EAA8B6wG,OAA9B,EAHsC,CAGE;;AAExCO,2BAAa,IAAb;AACD;AACF;;AAED,cAAIA,UAAJ,EAAgB;AACd,iBAAKrE,gBAAL,CAAsB/sG,GAAtB;;AAEA00C,wBAAYv6B,KAAZ,CAAkBna,GAAlB;AACD;AACF;;AAED,eAAO00C,WAAP;AACD,OAjCD;;AAmCA;AACAvoB,YAAMgpB,iBAAN,GAA0B,UAAUn1C,GAAV,EAAe8sG,SAAf,EAA0BwE,QAA1B,EAAoC;AAC5D,YAAIr+F,OAAO,IAAX;AACA,YAAIgP,KAAKjiB,IAAIpF,QAAb;AACA,YAAIsiB,QAAQld,IAAI4nB,MAAJ,CAAW,qBAAX,EAAkCtwB,KAA9C;AACA,YAAI4yB,WAAWlqB,IAAI4nB,MAAJ,CAAW,qBAAX,EAAkCyb,OAAjD;AACA,YAAIlE,QAAQn/B,IAAI4nB,MAAJ,CAAW,kBAAX,EAA+Byb,OAA3C;;AAEA,YAAInmB,MAAM1d,MAAN,GAAe,CAAf,IAAoB0qB,WAAW,CAAnC,EAAsC;;AAEpC,cAAInvB,QAAQ,EAAZ;;AAEA;AACA,cAAIw2G,UAAU,KAAd;AACA,eAAK,IAAIt6G,IAAI,CAAb,EAAgBA,IAAIimB,MAAM1d,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,gBAAIw1B,OAAOvP,MAAMjmB,CAAN,CAAX;AACA,gBAAIu6G,UAAUxxG,IAAI4nB,MAAJ,CAAW6E,IAAX,CAAd;AACA,gBAAIglF,WAAW3E,UAAUrgF,IAAV,CAAf;;AAEA,gBAAI,CAACglF,QAAL,EAAe;AACb;AACD;;AAED,gBAAIC,WAAWD,SAASr3E,IAAxB;AACA,gBAAIu3E,WAAWD,QAAf;AACA,gBAAIE,SAASH,SAASjgG,IAAT,IAAiB,IAAjB,GAAwBigG,SAASjgG,IAAjC,GAAwCggG,OAArD;AACA,gBAAIzyE,OAAO,KAAX;AACA,gBAAI8yE,UAAU,KAAK,CAAnB;AACA,gBAAIC,SAAS,QAAb,CAdqC,CAcd;;AAEvB,gBAAI,CAACH,QAAL,EAAe;AACb;AACD;;AAED;AACA,gBAAIl4G,GAAGQ,MAAH,CAAU03G,SAAStuE,OAAnB,KAA+B5pC,GAAGQ,MAAH,CAAU23G,OAAOvuE,OAAjB,CAAnC,EAA8D;AAC5DtE,qBAAO6yE,OAAOvuE,OAAP,GAAiBsuE,SAAStuE,OAAjC,CAD4D,CAClB;AAC1CwuE,wBAAUF,SAAStuE,OAAT,GAAmByuE,SAAS/yE,IAAtC;;AAEA;AACD,aALD,MAKO,IAAItlC,GAAGQ,MAAH,CAAU03G,SAASr6G,KAAnB,KAA6BmC,GAAGQ,MAAH,CAAU23G,OAAOt6G,KAAjB,CAAjC,EAA0D;AAC/DynC,qBAAO6yE,OAAOt6G,KAAP,GAAeq6G,SAASr6G,KAA/B,CAD+D,CACzB;AACtCu6G,wBAAUF,SAASr6G,KAAT,GAAiBw6G,SAAS/yE,IAApC;;AAEA;AACD,aALM,MAKA,IAAItlC,GAAGI,KAAH,CAAS83G,SAASr6G,KAAlB,KAA4BmC,GAAGI,KAAH,CAAS+3G,OAAOt6G,KAAhB,CAAhC,EAAwD;AAC7DynC,qBAAO4yE,SAASr6G,KAAT,CAAe,CAAf,MAAsBs6G,OAAOt6G,KAAP,CAAa,CAAb,CAAtB,IAAyCq6G,SAASr6G,KAAT,CAAe,CAAf,MAAsBs6G,OAAOt6G,KAAP,CAAa,CAAb,CAA/D,IAAkFq6G,SAASr6G,KAAT,CAAe,CAAf,MAAsBs6G,OAAOt6G,KAAP,CAAa,CAAb,CAA/G;;AAEAu6G,wBAAUF,SAAStrE,QAAnB;AACD;;AAED;AACA,gBAAItH,IAAJ,EAAU;AACRhkC,oBAAM0xB,IAAN,IAAcmlF,OAAOvrE,QAArB,CADQ,CACuB;AAC/B,mBAAK5e,WAAL,CAAiBznB,GAAjB,EAAsBysB,IAAtB,EAA4BolF,OAA5B,EAFQ,CAE8B;AACtCN,wBAAU,IAAV;AACD;AACF,WAjDmC,CAiDlC;;AAEF;AACA,cAAI,CAACA,OAAL,EAAc;AACZ;AACD;;AAEDtvF,aAAG8vF,aAAH,GAAmB,IAAnB;;AAEA,cAAIl/F,OAAJ,CAAY,UAAUX,OAAV,EAAmB;AAC7B,gBAAIitB,QAAQ,CAAZ,EAAe;AACbn/B,kBAAIo/B,cAAJ,CAAmBD,KAAnB,EAA0BhO,IAA1B,GAAiCt1B,OAAjC,GAA2CC,IAA3C,CAAgDoW,OAAhD;AACD,aAFD,MAEO;AACLA;AACD;AACF,WAND,EAMGpW,IANH,CAMQ,YAAY;AAClB,mBAAOkE,IAAImjB,SAAJ,CAAc;AACnBpoB,qBAAOA,KADY;AAEnBmvB,wBAAUA,QAFS;AAGnBupB,sBAAQzzC,IAAI4nB,MAAJ,CAAW,4BAAX,EAAyCtwB,KAH9B;AAInB+rB,qBAAO;AAJY,aAAd,EAKJ8N,IALI,GAKGt1B,OALH,EAAP;AAMD,WAbD,EAaGC,IAbH,CAaQ,YAAY;AAClB;AACAmX,iBAAKwiC,cAAL,CAAoBz1C,GAApB,EAAyBkd,KAAzB;AACAld,gBAAIsa,aAAJ,CAAkB,OAAlB;AACA;;AAEA2H,eAAG8vF,aAAH,GAAmB,KAAnB;AACD,WApBD;AAqBD,SA/ED,MA+EO,IAAI9vF,GAAG8vF,aAAP,EAAsB;AAC3B,eAAKt8D,cAAL,CAAoBz1C,GAApB,EAAyBkd,KAAzB;AACAld,cAAIsa,aAAJ,CAAkB,OAAlB;;AAEA2H,aAAG8vF,aAAH,GAAmB,KAAnB;AACD;AACF,OA5FD;;AA8FA5lF,YAAMwjF,kBAAN,GAA2B,UAAU3vG,GAAV,EAAexI,IAAf,EAAqBw6G,SAArB,EAAgCC,OAAhC,EAAyC;AAClE,YAAIxlF,OAAO,KAAKF,UAAL,CAAgB/0B,IAAhB,CAAX;;AAEA,YAAIi1B,KAAKylF,cAAL,IAAuB,IAAvB,KAAgCF,aAAa,IAAb,IAAqBvlF,KAAKylF,cAAL,CAAoBF,SAApB,EAA+BC,OAA/B,CAArD,CAAJ,EAAmG;AACjG,eAAKr3G,QAAL,CAAcgb,EAAd,CAAiBkG,MAAjB,CAAwB;AACtBC,kBAAM,QADgB;AAEtB3F,kBAAMpW;AAFgB,WAAxB;AAID;AACF,OATD;;AAWAzJ,aAAOD,OAAP,GAAiB61B,KAAjB;;AAEA;AAAO,KAzx0BG;AA0x0BV;AACA,SAAO,UAAS51B,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;;AAEA,UAAIo1B,QAAQ,EAAZ;;AAEA;AACA;AACAA,YAAM1E,WAAN,GAAoB,UAAUrR,IAAV,EAAgB5e,IAAhB,EAAsBF,KAAtB,EAA6B69C,iBAA7B,EAAgD;AAClE,YAAIliC,OAAO,IAAX;AACA,YAAIiK,QAAQ,EAAZ;AACA,YAAIo0F,WAAW,IAAf;;AAEA;AACA,YAAI95G,SAAS,GAAT,IAAgBA,SAAS,IAA7B,EAAmC;AACjC;;AAEA,cAAIF,UAAUkD,SAAd,EAAyB;AACvB,iBAAK,IAAIvD,IAAI,CAAb,EAAgBA,IAAIgc,KAAKsZ,UAAL,CAAgB/sB,MAApC,EAA4CvI,GAA5C,EAAiD;AAC/C,kBAAIw1B,OAAOxZ,KAAKsZ,UAAL,CAAgBt1B,CAAhB,CAAX;AACA,kBAAIi5B,QAAQzD,KAAKj1B,IAAjB;;AAEA,kBAAI43G,aAAa,KAAK77F,KAAL,CAAW2c,KAAX,EAAkB54B,KAAlB,EAAyB,IAAzB,CAAjB;;AAEA,kBAAI83G,UAAJ,EAAgB;AACdlyF,sBAAM9c,IAAN,CAAWgvG,UAAX;AACD;AACF;AACF;AACF,SAfD,MAeO,IAAI31G,GAAGG,MAAH,CAAUpC,IAAV,CAAJ,EAAqB;AAC1B;AACA,cAAI26G,cAAc,KAAK5+F,KAAL,CAAW/b,IAAX,EAAiBF,KAAjB,EAAwB,IAAxB,CAAlB;;AAEA,cAAI66G,WAAJ,EAAiB;AACfj1F,kBAAM9c,IAAN,CAAW+xG,WAAX;AACD;AACF,SAPM,MAOA,IAAI14G,GAAGO,WAAH,CAAexC,IAAf,CAAJ,EAA0B;AAC/B;AACA,cAAI46G,iBAAiB56G,IAArB;AACA29C,8BAAoB79C,KAApB;;AAEA,cAAIi+C,QAAQ59C,OAAO8H,IAAP,CAAY2yG,cAAZ,CAAZ;;AAEA,eAAK,IAAIxjG,KAAK,CAAd,EAAiBA,KAAK2mC,MAAM/1C,MAA5B,EAAoCoP,IAApC,EAA0C;AACxC,gBAAIyjG,SAAS98D,MAAM3mC,EAAN,CAAb;AACA,gBAAI0jG,QAAQr/F,KAAKsZ,UAAL,CAAgB8lF,MAAhB,CAAZ;AACA,gBAAIliF,SAASiiF,eAAeC,MAAf,CAAb;;AAEA,gBAAIliF,WAAW31B,SAAf,EAA0B;AACxB;AACA21B,uBAASiiF,eAAej1G,KAAKwvB,UAAL,CAAgB0lF,MAAhB,CAAf,CAAT;AACD;;AAED,gBAAIliF,WAAW31B,SAAf,EAA0B;AACxB,kBAAI+3G,eAAe,KAAKh/F,KAAL,CAAW8+F,MAAX,EAAmBliF,MAAnB,EAA2B,IAA3B,CAAnB;;AAEA,kBAAIoiF,YAAJ,EAAkB;AAChBr1F,sBAAM9c,IAAN,CAAWmyG,YAAX;AACD;AACF;AACF;AACF,SAzBM,MAyBA;AACL;AACA,iBAAO,KAAP;AACD;;AAED;AACA,YAAIr1F,MAAM1d,MAAN,KAAiB,CAArB,EAAwB;AACtB,iBAAO,KAAP;AACD;;AAED;AACA,YAAI2gB,MAAM,KAAV,CAhEkE,CAgEjD;AACjB,aAAK,IAAIvQ,MAAM,CAAf,EAAkBA,MAAMwG,KAAK5W,MAA7B,EAAqCoQ,KAArC,EAA4C;AAC1C;AACA,cAAI5P,MAAMoW,KAAKxG,GAAL,CAAV;AACA,cAAIk9F,YAAY,EAAhB;AACA,cAAI2E,WAAW,KAAK,CAApB;;AAEA,eAAK,IAAI/xG,IAAI,CAAb,EAAgBA,IAAIwd,MAAM1d,MAA1B,EAAkCE,GAAlC,EAAuC;AACrC;AACA,gBAAI8yG,SAASt1F,MAAMxd,CAAN,CAAb;;AAEA,gBAAIy1C,iBAAJ,EAAuB;AACrB,kBAAIu8D,WAAW1xG,IAAI4nB,MAAJ,CAAW4qF,OAAOh7G,IAAlB,CAAf;AACAi6G,yBAAW3E,UAAU0F,OAAOh7G,IAAjB,IAAyB,EAAE4iC,MAAMs3E,QAAR,EAApC;AACD;;AAEDvxF,kBAAM,KAAKsuF,mBAAL,CAAyBzuG,GAAzB,EAA8BwyG,MAA9B,KAAyCryF,GAA/C;;AAEA,gBAAIg1B,iBAAJ,EAAuB;AACrBs8D,uBAASjgG,IAAT,GAAgBxR,IAAI4nB,MAAJ,CAAW4qF,OAAOh7G,IAAlB,CAAhB;AACD;AACF,WApByC,CAoBxC;;AAEF,cAAI2oB,GAAJ,EAAS;AACP,iBAAK4sF,gBAAL,CAAsB/sG,GAAtB;AACD;;AAED,cAAIm1C,iBAAJ,EAAuB;AACrB,iBAAKA,iBAAL,CAAuBn1C,GAAvB,EAA4B8sG,SAA5B,EAAuCwE,QAAvC;AACD;AACF,SA9FiE,CA8FhE;;AAEF,eAAOnxF,GAAP;AACD,OAjGD;;AAmGA;AACAgM,YAAM22B,cAAN,GAAuB,UAAU1sC,IAAV,EAAgB5e,IAAhB,EAAsBF,KAAtB,EAA6B;AAClDE,eAAO2F,KAAKs1G,UAAL,CAAgBj7G,IAAhB,CAAP;;AAEA,aAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAImf,KAAK5W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAI+I,MAAMoW,KAAKnf,CAAL,CAAV;AACA,cAAIw1B,OAAOzsB,IAAIpF,QAAJ,CAAaG,KAAb,CAAmBvD,IAAnB,CAAX;AACA,cAAIukB,OAAO,KAAKwQ,UAAL,CAAgB/0B,IAAhB,EAAsBukB,IAAjC;AACA,cAAI22F,UAAU32F,KAAK0iC,KAAnB;AACA,cAAIk0D,UAAU52F,KAAK62F,OAAnB;;AAEA,cAAI,CAACnmF,IAAD,IAAS,CAACA,KAAKqqB,MAAnB,EAA2B;AACzB;AACA,iBAAKrvB,WAAL,CAAiBznB,GAAjB,EAAsBxI,IAAtB,EAA4BF,KAA5B;AACA;AACD;;AAED,cAAIu7G,WAAWpmF,KAAK4W,OAAL,IAAgB,IAAhB,GAAuB5W,KAAK4W,OAA5B,GAAsC5W,KAAKn1B,KAA1D;;AAEAm1B,eAAKn1B,KAAL,GAAaA,KAAb;;AAEA,cAAIm1B,KAAK4W,OAAL,IAAgB,IAApB,EAA0B;AACxB5W,iBAAK4W,OAAL,GAAe/rC,KAAf;AACD;;AAED,cAAIo7G,OAAJ,EAAa;AACXjmF,iBAAK4Z,QAAL,GAAgB,SAAS/uC,MAAMy0B,IAAN,CAAW,GAAX,CAAT,GAA2B,GAA3C;AACD,WAFD,MAEO,IAAI4mF,OAAJ,EAAa;AAClBlmF,iBAAK4Z,QAAL,GAAgB/uC,MAAMy0B,IAAN,CAAW,GAAX,CAAhB;AACD,WAFM,MAEA;AACLU,iBAAK4Z,QAAL,GAAgB,KAAK/uC,KAArB;AACD;;AAED,eAAKq4G,kBAAL,CAAwB3vG,GAAxB,EAA6BxI,IAA7B,EAAmCq7G,QAAnC,EAA6Cv7G,KAA7C;AACD;AACF,OAlCD;;AAoCA60B,YAAMqpB,iBAAN,GAA0B,UAAUp/B,IAAV,EAAgB++B,iBAAhB,EAAmC;AAC3D,eAAO,KAAKM,cAAL,CAAoBr/B,IAApB,EAA0B,KAAK08F,aAA/B,EAA8C39D,iBAA9C,CAAP;AACD,OAFD;;AAIAhpB,YAAMspB,cAAN,GAAuB,UAAUr/B,IAAV,EAAgB8G,KAAhB,EAAuBi4B,iBAAvB,EAA0C;AAC/D,YAAIm8D,WAAW,IAAf;;AAEA,aAAK,IAAI5xG,IAAI,CAAb,EAAgBA,IAAI0W,KAAK5W,MAAzB,EAAiCE,GAAjC,EAAsC;AACpC,cAAIM,MAAMoW,KAAK1W,CAAL,CAAV;AACA,cAAIotG,YAAY,EAAhB;;AAEA,eAAK,IAAI71G,IAAI,CAAb,EAAgBA,IAAIimB,MAAM1d,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,gBAAIO,OAAO0lB,MAAMjmB,CAAN,CAAX;AACA,gBAAIw1B,OAAO,KAAKF,UAAL,CAAgB/0B,IAAhB,CAAX;AACA,gBAAIk6G,WAAW1xG,IAAI4nB,MAAJ,CAAW6E,KAAKj1B,IAAhB,CAAf;;AAEA,gBAAI,CAACk6G,QAAD,IAAa,CAACA,SAAS56D,MAA3B,EAAmC;AACjC;AACA;AACD;;AAED,gBAAIx/C,QAAQ,EAAZ,CAVqC,CAUrB;AAChB,gBAAI83G,aAAa,KAAK77F,KAAL,CAAW/b,IAAX,EAAiBF,KAAjB,EAAwB,IAAxB,CAAjB;AACA,gBAAIm6G,WAAW3E,UAAUrgF,KAAKj1B,IAAf,IAAuB,EAAE4iC,MAAMs3E,QAAR,EAAtC;;AAEA,iBAAKjD,mBAAL,CAAyBzuG,GAAzB,EAA8BovG,UAA9B;;AAEAqC,qBAASjgG,IAAT,GAAgBxR,IAAI4nB,MAAJ,CAAW6E,KAAKj1B,IAAhB,CAAhB;AACD,WArBmC,CAqBlC;;AAEF,eAAKu1G,gBAAL,CAAsB/sG,GAAtB;;AAEA,cAAIm1C,iBAAJ,EAAuB;AACrB,iBAAKA,iBAAL,CAAuBn1C,GAAvB,EAA4B8sG,SAA5B,EAAuCwE,QAAvC;AACD;AACF,SA/B8D,CA+B7D;AACH,OAhCD;;AAkCA/6G,aAAOD,OAAP,GAAiB61B,KAAjB;;AAEA;AAAO,KAv90BG;AAw90BV;AACA,SAAO,UAAS51B,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIgC,SAAShC,oBAAoB,CAApB,CAAb;;AAEA,UAAIo1B,QAAQ,EAAZ;;AAEA;AACAA,YAAM4mF,iBAAN,GAA0B,YAAY;AACpC,YAAIC,KAAK,KAAKC,YAAL,CAAkB,WAAlB,CAAT;;AAEA,YAAID,MAAM,IAAV,EAAgB;AACd,iBAAOhyD,WAAWgyD,EAAX,CAAP;AACD,SAFD,MAEO;AACL,iBAAO,CAAP,CADK,CACK;AACX;AACF,OARD;;AAUA;AACA7mF,YAAM8mF,YAAN,GAAqB,UAAUzyG,QAAV,EAAoB;AACvC,YAAIoV,KAAK,KAAKhb,QAAL,CAAcgb,EAAvB;AACA,YAAIra,aAAaqa,GAAG2L,SAAH,EAAjB;;AAEA,YAAIxoB,UAAUwC,UAAV,IAAwBxC,OAAOotD,gBAAnC,EAAqD;AACnD,iBAAOptD,OAAOotD,gBAAP,CAAwB5qD,UAAxB,EAAoC6qD,gBAApC,CAAqD5lD,QAArD,CAAP;AACD;AACF,OAPD;;AASAjK,aAAOD,OAAP,GAAiB61B,KAAjB;;AAEA;AAAO,KAz/0BG;AA0/0BV;AACA,SAAO,UAAS51B,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAIo1B,QAAQ,EAAZ;;AAEA;AACAA,YAAM+oB,gBAAN,GAAyB,UAAUl1C,GAAV,EAAeysB,IAAf,EAAqB;AAC5C,YAAIA,IAAJ,EAAU;AACR,iBAAO,KAAK2oB,qBAAL,CAA2Bp1C,GAA3B,EAAgCysB,IAAhC,EAAsC,IAAtC,CAAP;AACD,SAFD,MAEO;AACL,iBAAO,KAAK4oB,WAAL,CAAiBr1C,GAAjB,EAAsB,IAAtB,CAAP;AACD;AACF,OAND;;AAQA;AACAmsB,YAAMkpB,WAAN,GAAoB,UAAUr1C,GAAV,EAAekzG,aAAf,EAA8B;AAChD,YAAIjgG,OAAO,IAAX;;AAEAjT,cAAMA,IAAI,CAAJ,CAAN,CAHgD,CAGlC;;AAEd,YAAIA,GAAJ,EAAS;AACP,cAAI+mB,SAAS,EAAb;;AAEA,eAAK,IAAI9vB,IAAI,CAAb,EAAgBA,IAAIgc,KAAKsZ,UAAL,CAAgB/sB,MAApC,EAA4CvI,GAA5C,EAAiD;AAC/C,gBAAIw1B,OAAOxZ,KAAKsZ,UAAL,CAAgBt1B,CAAhB,CAAX;AACA,gBAAI4I,MAAMoT,KAAKmiC,qBAAL,CAA2Bp1C,GAA3B,EAAgCysB,KAAKj1B,IAArC,EAA2C07G,aAA3C,CAAV;;AAEA,gBAAIrzG,OAAO,IAAX,EAAiB;AACfknB,qBAAO0F,KAAKj1B,IAAZ,IAAoBqI,GAApB;AACAknB,qBAAO5pB,KAAKwvB,UAAL,CAAgBF,KAAKj1B,IAArB,CAAP,IAAqCqI,GAArC;AACD;AACF;;AAED,iBAAOknB,MAAP;AACD;AACF,OApBD;;AAsBAoF,YAAMsjE,eAAN,GAAwB,UAAUzvF,GAAV,EAAe3H,QAAf,EAAyB86G,WAAzB,EAAsC5qG,KAAtC,EAA6C;AACnE,YAAIqf,SAAS5nB,IAAI4nB,MAAJ,CAAWvvB,QAAX,EAAqB86G,WAArB,EAAkC5qG,KAAlC,CAAb;AACA,eAAOqf,UAAU,IAAV,GAAiBA,MAAjB,GAA0B5nB,IAAI4V,EAAJ,GAAS7a,KAAT,GAAiB+5C,kBAAjB,CAAoCz8C,QAApC,EAA8C86G,WAA9C,EAA2D,CAA3D,CAAjC;AACD,OAHD;;AAKAhnF,YAAMipB,qBAAN,GAA8B,UAAUp1C,GAAV,EAAeQ,QAAf,EAAyB0yG,aAAzB,EAAwC;AACpE,YAAIjgG,OAAO,IAAX;;AAEAjT,cAAMA,IAAI,CAAJ,CAAN,CAHoE,CAGtD;;AAEd,YAAIA,GAAJ,EAAS;AACP,cAAIysB,OAAOxZ,KAAKsZ,UAAL,CAAgB/rB,QAAhB,CAAX;;AAEA,cAAIisB,KAAK2mF,KAAT,EAAgB;AACd3mF,mBAAOA,KAAK4mF,QAAZ;AACD;;AAED,cAAIt3F,OAAO0Q,KAAK1Q,IAAhB;AACA,cAAIu3F,YAAYtzG,IAAI4nB,MAAJ,CAAW6E,KAAKj1B,IAAhB,CAAhB;AACA,cAAI4J,OAAOpB,IAAI4V,EAAJ,GAASxU,IAAT,EAAX;;AAEA,cAAIkyG,SAAJ,EAAe;AACb,gBAAIhvE,QAAQgvE,UAAUhvE,KAAV,GAAkBvoB,KAAKw3F,aAAL,IAAsB,IAAxC,GAA+C,IAA3D;AACA,gBAAI1zG,MAAMykC,QAAQ,GAAG5rB,MAAH,CAAU46F,UAAUjwE,OAApB,EAA6BntB,GAA7B,CAAiC,UAAUmtB,OAAV,EAAmB;AACpE,qBAAOA,WAAW6vE,gBAAgB9xG,IAAhB,GAAuB,CAAlC,IAAuCkjC,KAA9C;AACD,aAFiB,EAEfvY,IAFe,CAEV,GAFU,CAAR,GAEKunF,UAAUjtE,QAFzB;;AAIA,mBAAOxmC,GAAP;AACD;AACF;AACF,OAzBD;;AA2BAssB,YAAMo1B,sBAAN,GAA+B,UAAUvhD,GAAV,EAAewzG,QAAf,EAAyB;AACtD,YAAIzsF,SAAS,EAAb;;AAEA,aAAK,IAAI9vB,IAAI,CAAb,EAAgBA,IAAIu8G,SAASh0G,MAA7B,EAAqCvI,GAArC,EAA0C;AACxC,cAAIw8G,UAAUD,SAASv8G,CAAT,CAAd;AACA,cAAIO,OAAOi8G,QAAQj8G,IAAnB;;AAEA,cAAI87G,YAAYtzG,IAAI4nB,MAAJ,CAAWpwB,IAAX,CAAhB;;AAEA,cAAI87G,cAAc94G,SAAlB,EAA6B;AAC3B;AACA,gBAAIf,GAAGO,WAAH,CAAes5G,SAAf,CAAJ,EAA+B;AAC7BA,0BAAY,KAAK//F,KAAL,CAAW/b,IAAX,EAAiB87G,UAAUjtE,QAA3B,CAAZ;AACD,aAFD,MAEO;AACLitE,0BAAY,KAAK//F,KAAL,CAAW/b,IAAX,EAAiB87G,SAAjB,CAAZ;AACD;AACF;;AAED,cAAIA,SAAJ,EAAe;AACbvsF,mBAAOvvB,IAAP,IAAe87G,SAAf;AACD;AACF;;AAED,eAAOvsF,MAAP;AACD,OAxBD;;AA0BAoF,YAAM86B,YAAN,GAAqB,UAAUysD,QAAV,EAAoB;AACvC,YAAIzgG,OAAO,IAAX;AACA,YAAI8T,SAAS,EAAb;AACA,YAAIhsB,QAAQ24G,QAAZ;AACA,YAAIx2F,QAAQjK,KAAKsZ,UAAjB;;AAEA,YAAIxxB,KAAJ,EAAW;AACT,cAAIw6C,QAAQ59C,OAAO8H,IAAP,CAAY1E,KAAZ,CAAZ;;AAEA,eAAK,IAAI9D,IAAI,CAAb,EAAgBA,IAAIs+C,MAAM/1C,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,gBAAIO,OAAO+9C,MAAMt+C,CAAN,CAAX;AACA,gBAAI4I,MAAM9E,MAAMvD,IAAN,CAAV;AACA,gBAAIi1B,OAAOvP,MAAM1lB,IAAN,KAAe0lB,MAAM/f,KAAKs1G,UAAL,CAAgBj7G,IAAhB,CAAN,CAA1B;AACA,gBAAI87G,YAAY,KAAK//F,KAAL,CAAWkZ,KAAKj1B,IAAhB,EAAsBqI,GAAtB,CAAhB;;AAEA,gBAAIyzG,SAAJ,EAAe;AACbvsF,qBAAO3mB,IAAP,CAAYkzG,SAAZ;AACD;AACF;AACF;;AAED,eAAOvsF,MAAP;AACD,OAtBD;;AAwBAxwB,aAAOD,OAAP,GAAiB61B,KAAjB;;AAEA;AAAO,KAzn1BG;AA0n1BV;AACA,SAAO,UAAS51B,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIo1B,QAAQ,EAAZ;;AAEAA,YAAMc,cAAN,GAAuB,UAAU3W,IAAV,EAAgB;AACrC,YAAIvb,QAAQ,IAAZ;;AAEA,aAAK,IAAI9D,IAAI,CAAb,EAAgBA,IAAIqf,KAAK9W,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,cAAIioB,UAAU5I,KAAKrf,CAAL,CAAd;AACA,cAAI+b,WAAWkM,QAAQlM,QAAvB;AACA,cAAIkK,QAAQgC,QAAQnkB,KAAR,IAAiBmkB,QAAQsI,GAArC;AACA,cAAI+tB,QAAQ59C,OAAO8H,IAAP,CAAYyd,KAAZ,CAAZ;;AAEAniB,gBAAMiY,QAAN,CAAeA,QAAf,EANoC,CAMV;;AAE1B,eAAK,IAAItT,IAAI,CAAb,EAAgBA,IAAI61C,MAAM/1C,MAA1B,EAAkCE,GAAlC,EAAuC;AACrC,gBAAIlI,OAAO+9C,MAAM71C,CAAN,CAAX;AACA,gBAAIpI,QAAQ4lB,MAAM1lB,IAAN,CAAZ;;AAEAuD,kBAAMysB,GAAN,CAAUhwB,IAAV,EAAgBF,KAAhB,EAJqC,CAIb;AACzB;AACF;;AAED,eAAOyD,KAAP;AACD,OApBD;;AAsBA;AACAoxB,YAAMgB,QAAN,GAAiB,UAAU7W,IAAV,EAAgB;AAC/B,YAAIvb,QAAQ,IAAZ;;AAEAA,cAAMmxB,cAAN;AACAnxB,cAAMkyB,cAAN,CAAqB3W,IAArB;;AAEA,eAAOvb,KAAP;AACD,OAPD;;AASA;AACAoxB,YAAM7V,IAAN,GAAa,YAAY;AACvB,YAAIA,OAAO,EAAX;;AAEA,aAAK,IAAIrf,IAAI,KAAK08G,aAAlB,EAAiC18G,IAAI,KAAKuI,MAA1C,EAAkDvI,GAAlD,EAAuD;AACrD,cAAIurF,MAAM,KAAKvrF,CAAL,CAAV;AACA,cAAI+b,WAAWwvE,IAAIxvE,QAAnB;AACA,cAAIkK,QAAQslE,IAAIj2D,UAAhB;AACA,cAAI/E,MAAM,EAAV;;AAEA,eAAK,IAAI9nB,IAAI,CAAb,EAAgBA,IAAIwd,MAAM1d,MAA1B,EAAkCE,GAAlC,EAAuC;AACrC,gBAAI+sB,OAAOvP,MAAMxd,CAAN,CAAX;AACA8nB,gBAAIiF,KAAKj1B,IAAT,IAAiBi1B,KAAK4Z,QAAtB;AACD;;AAED/vB,eAAKlW,IAAL,CAAU;AACR4S,sBAAU,CAACA,QAAD,GAAY,MAAZ,GAAqBA,SAAShU,QAAT,EADvB;AAERjE,mBAAOysB;AAFC,WAAV;AAID;;AAED,eAAOlR,IAAP;AACD,OArBD;;AAuBA/f,aAAOD,OAAP,GAAiB61B,KAAjB;;AAEA;AAAO,KA5r1BG;AA6r1BV;AACA,SAAO,UAAS51B,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;AACA,UAAImG,OAAOnG,oBAAoB,CAApB,CAAX;;AAEA,UAAIo1B,QAAQ,EAAZ;;AAEA;AACAA,YAAM5Y,KAAN,GAAc,UAAU/b,IAAV,EAAgBF,KAAhB,EAAuBg4G,YAAvB,EAAqCsE,UAArC,EAAiD;AAC7D,YAAI3gG,OAAO,IAAX;;AAEA;AACA,YAAIxZ,GAAGC,EAAH,CAAMpC,KAAN,CAAJ,EAAkB;AAChB,iBAAO2b,KAAK4gG,aAAL,CAAmBr8G,IAAnB,EAAyBF,KAAzB,EAAgCg4G,YAAhC,EAA8CsE,UAA9C,CAAP;AACD;;AAED,YAAIE,UAAUF,eAAe,SAAf,IAA4BA,eAAe,IAA3C,IAAmDA,eAAe,KAAlE,IAA2EA,cAAc,IAAzF,GAAgG,UAAhG,GAA6GA,UAA3H;AACA,YAAIG,UAAU,CAACv8G,IAAD,EAAOF,KAAP,EAAcg4G,YAAd,EAA4BwE,OAA5B,EAAqC/nF,IAArC,CAA0C,GAA1C,CAAd;AACA,YAAIioF,YAAY/gG,KAAK+gG,SAAL,GAAiB/gG,KAAK+gG,SAAL,IAAkB,EAAnD;AACA,YAAI7zF,MAAM,KAAK,CAAf;;AAEA,YAAI,EAAEA,MAAM6zF,UAAUD,OAAV,CAAR,CAAJ,EAAiC;AAC/B5zF,gBAAM6zF,UAAUD,OAAV,IAAqB9gG,KAAK4gG,aAAL,CAAmBr8G,IAAnB,EAAyBF,KAAzB,EAAgCg4G,YAAhC,EAA8CsE,UAA9C,CAA3B;AACD;;AAED;AACA;AACA,YAAItE,gBAAgBsE,eAAe,SAAnC,EAA8C;AAC5C;AACAzzF,gBAAMhjB,KAAKiB,IAAL,CAAU+hB,GAAV,CAAN;;AAEA,cAAIA,GAAJ,EAAS;AACPA,gBAAI7oB,KAAJ,GAAY6F,KAAKiB,IAAL,CAAU+hB,IAAI7oB,KAAd,CAAZ,CADO,CAC2B;AACnC;AACF;;AAED,eAAO6oB,GAAP;AACD,OA7BD;;AA+BAgM,YAAM0nF,aAAN,GAAsB,UAAUr8G,IAAV,EAAgBF,KAAhB,EAAuBg4G,YAAvB,EAAqCsE,UAArC,EAAiD;AACrE,YAAInnF,OAAO,KAAKwnF,SAAL,CAAez8G,IAAf,EAAqBF,KAArB,EAA4Bg4G,YAA5B,EAA0CsE,UAA1C,CAAX;;AAEA,YAAI,CAACnnF,IAAD,IAASn1B,SAAS,IAAtB,EAA4B;AAC1B6F,eAAKQ,KAAL,CAAW,wCAAX,EAAqDnG,IAArD,EAA2DF,KAA3D;AACD;;AAED,eAAOm1B,IAAP;AACD,OARD;;AAUA;AACA;AACA;AACA;AACA;AACA;AACAN,YAAM8nF,SAAN,GAAkB,UAAUz8G,IAAV,EAAgBF,KAAhB,EAAuBg4G,YAAvB,EAAqCsE,UAArC,EAAiD;AACjE,YAAI3gG,OAAO,IAAX;;AAEAzb,eAAO2F,KAAKs1G,UAAL,CAAgBj7G,IAAhB,CAAP,CAHiE,CAGnC;;AAE9B,YAAIa,WAAW4a,KAAKsZ,UAAL,CAAgB/0B,IAAhB,CAAf;AACA,YAAI08G,cAAc58G,KAAlB;AACA,YAAI+1B,QAAQpa,KAAKoa,KAAjB;;AAEA,YAAI,CAACh1B,QAAL,EAAe;AACb,iBAAO,IAAP;AACD,SAXgE,CAW/D;AACF,YAAIf,UAAUkD,SAAV,IAAuBlD,UAAU,IAArC,EAA2C;AACzC,iBAAO,IAAP;AACD,SAdgE,CAc/D;;AAEF;AACA,YAAIe,SAAS+6G,KAAb,EAAoB;AAClB/6G,qBAAWA,SAASg7G,QAApB;AACA77G,iBAAOa,SAASb,IAAhB;AACD;;AAED,YAAIyxG,gBAAgBxvG,GAAGG,MAAH,CAAUtC,KAAV,CAApB;AACA,YAAI2xG,aAAJ,EAAmB;AACjB;AACA3xG,kBAAQA,MAAM68G,IAAN,EAAR;AACD;;AAED,YAAIp4F,OAAO1jB,SAAS0jB,IAApB;AACA,YAAI,CAACA,IAAL,EAAW;AACT,iBAAO,IAAP;AACD,SA/BgE,CA+B/D;;AAEF;AACA,YAAIuzF,iBAAiBh4G,UAAU,EAAV,IAAgBA,UAAU,IAA3C,CAAJ,EAAsD;AACpD,iBAAO;AACLE,kBAAMA,IADD;AAELF,mBAAOA,KAFF;AAGLw/C,oBAAQ,IAHH;AAIL84D,0BAAc;AAJT,WAAP;AAMD;;AAED;AACA,YAAIn2G,GAAGC,EAAH,CAAMpC,KAAN,CAAJ,EAAkB;AAChB,iBAAO;AACLE,kBAAMA,IADD;AAELF,mBAAOA,KAFF;AAGL+uC,sBAAU,IAHL;AAILvZ,oBAAQO,MAAM3zB,EAJT;AAKLo9C,oBAAQw4D;AALH,WAAP;AAOD;;AAED;AACA,YAAI76F,OAAO,KAAK,CAAhB;AAAA,YACIq7F,UAAU,KAAK,CADnB;AAEA,YAAI,CAAC7G,aAAD,IAAkB2K,UAAtB,EAAkC;AAChC;;AAED,SAHD,MAGO,IAAIn/F,OAAO,IAAIizF,MAAJ,CAAWr6E,MAAM5Y,IAAN,CAAWwzF,KAAtB,EAA6BiB,IAA7B,CAAkC5xG,KAAlC,CAAX,EAAqD;AAC1D,cAAIg4G,YAAJ,EAAkB;AAChB,mBAAO,KAAP;AACD,WAHyD,CAGxD;;AAEF,cAAIxiF,SAASO,MAAM5Y,IAAnB;;AAEA,iBAAO;AACLjd,kBAAMA,IADD;AAELF,mBAAOmd,IAFF;AAGL4xB,sBAAU,KAAK/uC,KAHV;AAILw1B,oBAAQA,MAJH;AAKLpY,mBAAOD,KAAK,CAAL,CALF;AAMLqiC,oBAAQw4D;AANH,WAAP;AAQD,SAfM,MAeA,IAAIQ,UAAU,IAAIpI,MAAJ,CAAWr6E,MAAMyiF,OAAN,CAAc7H,KAAzB,EAAgCiB,IAAhC,CAAqC5xG,KAArC,CAAd,EAA2D;AAChE,cAAIg4G,YAAJ,EAAkB;AAChB,mBAAO,KAAP;AACD,WAH+D,CAG9D;AACF,cAAIvzF,KAAKq4F,QAAT,EAAmB;AACjB,mBAAO,KAAP;AACD,WAN+D,CAM9D;;AAEF,cAAIC,UAAUhnF,MAAMyiF,OAApB;;AAEA;AACA,cAAI,EAAE/zF,KAAK0iC,KAAL,IAAc1iC,KAAK9hB,MAArB,CAAJ,EAAkC;AAChC,mBAAO,KAAP;AACD;;AAED,cAAIk2G,WAAW,KAAK58F,KAAL,CAAW/b,IAAX,EAAiBs4G,QAAQ,CAAR,CAAjB,CAAf,CAfgE,CAenB;AAC7C,cAAI,CAACK,QAAD,IAAaA,SAASrjF,MAA1B,EAAkC;AAChC,mBAAO,KAAP;AACD,WAlB+D,CAkB9D;;AAEF,cAAIujF,WAAW,KAAK98F,KAAL,CAAW/b,IAAX,EAAiBs4G,QAAQ,CAAR,CAAjB,CAAf,CApBgE,CAoBnB;AAC7C,cAAI,CAACO,QAAD,IAAaA,SAASvjF,MAA1B,EAAkC;AAChC,mBAAO,KAAP;AACD,WAvB+D,CAuB9D;;AAEF;AACA,cAAIqjF,SAAS74G,KAAT,KAAmB+4G,SAAS/4G,KAAhC,EAAuC;AACrC,mBAAO,KAAP,CADqC,CACvB;AACf,WAFD,MAEO,IAAIykB,KAAK0iC,KAAT,EAAgB;AACrB,gBAAI+W,KAAK26C,SAAS74G,KAAlB;AACA,gBAAIm+D,KAAK46C,SAAS/4G,KAAlB;;AAEA,gBAAIqiB,OAAO67C,GAAG,CAAH,MAAUC,GAAG,CAAH,CAAV,CAAgB;AAAhB,eACRD,GAAG,CAAH,MAAUC,GAAG,CAAH,CADF,CACQ;AADR,eAERD,GAAG,CAAH,MAAUC,GAAG,CAAH,CAFF,CAEQ;AAFR,iBAGN;AACLD,eAAG,CAAH,MAAUC,GAAG,CAAH,CAAV,CAAgB;AAAhB,eACG,CAACD,GAAG,CAAH,KAAS,IAAT,IAAiBA,GAAG,CAAH,MAAU,CAA5B,OAAoC;AACvCC,eAAG,CAAH,KAAS,IAAT,IAAiBA,GAAG,CAAH,MAAU,CADxB,CALQ,CAMmB;AANnB,aAAX;;AASA,gBAAI97C,IAAJ,EAAU;AACR,qBAAO,KAAP;AACD,aAfoB,CAenB;AACH;;AAED,iBAAO;AACLniB,kBAAMA,IADD;AAELF,mBAAOw4G,OAFF;AAGLzpE,sBAAU,KAAK/uC,KAHV;AAILw1B,oBAAQunF,OAJH;AAKL3/F,mBAAOo7F,QAAQ,CAAR,CALF;AAMLE,sBAAUhvD,WAAW8uD,QAAQ,CAAR,CAAX,CANL,EAM6B;AAClCG,sBAAUjvD,WAAW8uD,QAAQ,CAAR,CAAX,CAPL;AAQLK,sBAAUA,SAAS74G,KARd;AASL+4G,sBAAUA,SAAS/4G,KATd;AAULw/C,oBAAQw4D;AAVH,WAAP;AAYD;;AAED,YAAIvzF,KAAKq4F,QAAL,IAAiBR,eAAe,UAApC,EAAgD;AAC9C,cAAInhG,OAAO,KAAK,CAAhB;;AAEA,cAAIw2F,aAAJ,EAAmB;AACjBx2F,mBAAOnb,MAAM0oB,KAAN,CAAY,KAAZ,CAAP;AACD,WAFD,MAEO,IAAIvmB,GAAGI,KAAH,CAASvC,KAAT,CAAJ,EAAqB;AAC1Bmb,mBAAOnb,KAAP;AACD,WAFM,MAEA;AACLmb,mBAAO,CAACnb,KAAD,CAAP;AACD;;AAED,cAAIykB,KAAKu4F,YAAL,IAAqB7hG,KAAKjT,MAAL,GAAc,CAAd,KAAoB,CAA7C,EAAgD;AAC9C,mBAAO,IAAP;AACD;;AAED,cAAI+0G,SAAS,EAAb;AACA,cAAIC,WAAW,EAAf;AACA,cAAIC,WAAW,EAAf;AACA,cAAIC,UAAU,KAAd;;AAEA,eAAK,IAAIz9G,IAAI,CAAb,EAAgBA,IAAIwb,KAAKjT,MAAzB,EAAiCvI,GAAjC,EAAsC;AACpC,gBAAIuB,IAAIya,KAAKM,KAAL,CAAW/b,IAAX,EAAiBib,KAAKxb,CAAL,CAAjB,EAA0Bq4G,YAA1B,EAAwC,UAAxC,CAAR;;AAEAoF,sBAAUA,WAAWj7G,GAAGG,MAAH,CAAUpB,EAAElB,KAAZ,CAArB;;AAEAi9G,mBAAOn0G,IAAP,CAAY5H,EAAElB,KAAd;AACAm9G,qBAASr0G,IAAT,CAAc5H,EAAE6qC,OAAF,IAAa,IAAb,GAAoB7qC,EAAE6qC,OAAtB,GAAgC7qC,EAAElB,KAAhD;AACAk9G,qBAASp0G,IAAT,CAAc5H,EAAE8rC,KAAhB;AACD;;AAED,cAAIvoB,KAAK44F,QAAL,IAAiB,CAAC54F,KAAK44F,QAAL,CAAcJ,MAAd,EAAsBC,QAAtB,CAAtB,EAAuD;AACrD,mBAAO,IAAP;AACD;;AAED,cAAIz4F,KAAK64F,UAAL,IAAmBF,OAAvB,EAAgC;AAC9B,gBAAIH,OAAO/0G,MAAP,KAAkB,CAAlB,IAAuB/F,GAAGG,MAAH,CAAU26G,OAAO,CAAP,CAAV,CAA3B,EAAiD;AAC/C,qBAAO;AACL/8G,sBAAMA,IADD;AAELF,uBAAOi9G,OAAO,CAAP,CAFF;AAGLluE,0BAAUkuE,OAAO,CAAP,CAHL;AAILz9D,wBAAQw4D;AAJH,eAAP;AAMD,aAPD,MAOO;AACL,qBAAO,IAAP;AACD;AACF;;AAED,iBAAO;AACL93G,kBAAMA,IADD;AAELF,mBAAOi9G,MAFF;AAGLlxE,qBAASoxE,QAHJ;AAILpuE,sBAAUkuE,OAAOxoF,IAAP,CAAY,GAAZ,CAJL;AAKL+qB,oBAAQw4D,YALH;AAMLhrE,mBAAOkwE;AANF,WAAP;AAQD;;AAED;AACA,YAAIK,aAAa,SAASA,UAAT,GAAsB;AACrC,eAAK,IAAIjmG,KAAK,CAAd,EAAiBA,KAAKmN,KAAK+4F,KAAL,CAAWt1G,MAAjC,EAAyCoP,IAAzC,EAA+C;AAC7C,gBAAImmG,KAAKh5F,KAAK+4F,KAAL,CAAWlmG,EAAX,CAAT;;AAEA,gBAAImmG,OAAOz9G,KAAX,EAAkB;AAChB,qBAAO;AACLE,sBAAMA,IADD;AAELF,uBAAOA,KAFF;AAGL+uC,0BAAU,KAAK/uC,KAHV;AAILw/C,wBAAQw4D;AAJH,eAAP;AAMD;AACF;;AAED,iBAAO,IAAP;AACD,SAfD;;AAiBA;AACA,YAAIvzF,KAAK9hB,MAAT,EAAiB;AACf,cAAIqqC,QAAQ,KAAK,CAAjB;AACA,cAAIivE,gBAAgB,IAApB,CAFe,CAEW;;AAE1B,cAAIx3F,KAAKuoB,KAAT,EAAgB;AACd;AACAA,oBAAQvoB,KAAKuoB,KAAb;AACD;;AAED,cAAIvoB,KAAKw3F,aAAT,EAAwB;AACtBA,4BAAgBx3F,KAAKw3F,aAArB;AACD;;AAED,cAAI,CAACx3F,KAAKi5F,QAAV,EAAoB;AAClB,gBAAI/L,aAAJ,EAAmB;AACjB,kBAAIgM,aAAa,WAAWl5F,KAAKm5F,YAAL,GAAoB,MAApB,GAA6B,EAAxC,CAAjB;AACA,kBAAI5wE,KAAJ,EAAW;AACT2wE,6BAAa3wE,KAAb;AACD,eAJgB,CAIf;AACF,kBAAIjpC,QAAQ/D,MAAM+D,KAAN,CAAY,OAAO8B,KAAK8qG,KAAL,CAAWhuG,MAAlB,GAA2B,IAA3B,GAAkCg7G,UAAlC,GAA+C,IAA/C,GAAsD,GAAlE,CAAZ;;AAEA,kBAAI55G,KAAJ,EAAW;AACT/D,wBAAQ+D,MAAM,CAAN,CAAR;AACAipC,wBAAQjpC,MAAM,CAAN,KAAYk4G,aAApB;AACD;AACF,aAXD,MAWO,IAAI,CAACjvE,KAAD,IAAUvoB,KAAKw3F,aAAnB,EAAkC;AACvCjvE,sBAAQivE,aAAR,CADuC,CAChB;AACxB;AACF;;AAEDj8G,kBAAQ0pD,WAAW1pD,KAAX,CAAR;;AAEA;AACA,cAAI4C,MAAM5C,KAAN,KAAgBykB,KAAK+4F,KAAL,KAAet6G,SAAnC,EAA8C;AAC5C,mBAAO,IAAP;AACD;;AAED;AACA;AACA,cAAIN,MAAM5C,KAAN,KAAgBykB,KAAK+4F,KAAL,KAAet6G,SAAnC,EAA8C;AAC5ClD,oBAAQ48G,WAAR;;AAEA,mBAAOW,YAAP;AACD;;AAED;AACA,cAAI94F,KAAK5hB,OAAL,IAAgB,CAACV,GAAGU,OAAH,CAAW7C,KAAX,CAArB,EAAwC;AACtC,mBAAO,IAAP;AACD;;AAED;AACA,cAAIykB,KAAK1Y,GAAL,KAAa7I,SAAb,KAA2BlD,QAAQykB,KAAK1Y,GAAb,IAAoB0Y,KAAKo5F,SAAL,IAAkB79G,UAAUykB,KAAK1Y,GAAhF,KAAwF0Y,KAAKzY,GAAL,KAAa9I,SAAb,KAA2BlD,QAAQykB,KAAKzY,GAAb,IAAoByY,KAAKq5F,SAAL,IAAkB99G,UAAUykB,KAAKzY,GAAhF,CAA5F,EAAkL;AAChL,mBAAO,IAAP;AACD;;AAED,cAAI6c,MAAM;AACR3oB,kBAAMA,IADE;AAERF,mBAAOA,KAFC;AAGR+uC,sBAAU,KAAK/uC,KAAL,IAAcgtC,QAAQA,KAAR,GAAgB,EAA9B,CAHF;AAIRA,mBAAOA,KAJC;AAKRwS,oBAAQw4D;AALA,WAAV;;AAQA;AACA,cAAIvzF,KAAKi5F,QAAL,IAAiB1wE,UAAU,IAAV,IAAkBA,UAAU,IAAjD,EAAuD;AACrDnkB,gBAAIkjB,OAAJ,GAAc/rC,KAAd;AACD,WAFD,MAEO;AACL6oB,gBAAIkjB,OAAJ,GAAciB,UAAU,IAAV,IAAkB,CAACA,KAAnB,GAA2BhtC,KAA3B,GAAmC,KAAKy7G,iBAAL,KAA2Bz7G,KAA5E;AACD;;AAED;AACA,cAAIgtC,UAAU,IAAV,IAAkBA,UAAU,GAAhC,EAAqC;AACnCnkB,gBAAIkjB,OAAJ,GAAciB,UAAU,IAAV,GAAiBhtC,KAAjB,GAAyB,OAAOA,KAA9C;AACD;;AAED;AACA,cAAIgtC,UAAU,KAAV,IAAmBA,UAAU,KAAjC,EAAwC;AACtCnkB,gBAAIkjB,OAAJ,GAAciB,UAAU,KAAV,GAAkBhtC,KAAlB,GAA0B4F,KAAKsE,OAAL,CAAalK,KAAb,CAAxC;AACD;;AAED;AACA,cAAIgtC,UAAU,GAAd,EAAmB;AACjBnkB,gBAAIkjB,OAAJ,GAAc/rC,QAAQ,GAAtB;AACD;;AAED,iBAAO6oB,GAAP;AACD,SAtFD,MAsFO,IAAIpE,KAAKs5F,QAAT,EAAmB;;AAExB,cAAIn4F,QAAQ,EAAZ;AACA,cAAIo4F,WAAW,KAAKh+G,KAApB;;AAEA,cAAIg+G,aAAa,MAAjB,EAAyB;AACvB;;AAED,WAHD,MAGO;AACL;;AAEA,gBAAIC,aAAaD,SAASt1F,KAAT,CAAe,GAAf,CAAjB;AACA,iBAAK,IAAIpQ,MAAM,CAAf,EAAkBA,MAAM2lG,WAAW/1G,MAAnC,EAA2CoQ,KAA3C,EAAkD;AAChD,kBAAIpP,WAAW+0G,WAAW3lG,GAAX,EAAgBukG,IAAhB,EAAf;;AAEA,kBAAIlhG,KAAKsZ,UAAL,CAAgB/rB,QAAhB,CAAJ,EAA+B;AAC7B0c,sBAAM9c,IAAN,CAAWI,QAAX;AACD;AACF;;AAED,gBAAI0c,MAAM1d,MAAN,KAAiB,CAArB,EAAwB;AACtB,qBAAO,IAAP;AACD;AACF;;AAED,iBAAO;AACLhI,kBAAMA,IADD;AAELF,mBAAO4lB,KAFF;AAGLmpB,sBAAUnpB,MAAM1d,MAAN,KAAiB,CAAjB,GAAqB,MAArB,GAA8B0d,MAAM6O,IAAN,CAAW,IAAX,CAHnC;AAIL+qB,oBAAQw4D;AAJH,WAAP;AAMD,SA/BM,MA+BA,IAAIvzF,KAAK0iC,KAAT,EAAgB;AACrB,cAAI+2D,QAAQr4G,KAAKs4G,WAAL,CAAiBn+G,KAAjB,CAAZ;;AAEA,cAAI,CAACk+G,KAAL,EAAY;AACV,mBAAO,IAAP;AACD;;AAED,iBAAO;AACLh+G,kBAAMA,IADD;AAELF,mBAAOk+G,KAFF;AAGLnyE,qBAASmyE,KAHJ;AAILnvE,sBAAU,KAAK/uC,KAJV;AAKLw/C,oBAAQw4D;AALH,WAAP;AAOD,SAdM,MAcA,IAAIvzF,KAAKksF,KAAL,IAAclsF,KAAK25F,OAAvB,EAAgC;;AAErC;AACA,cAAI35F,KAAK+4F,KAAT,EAAgB;AACd,gBAAIa,WAAWd,YAAf;;AAEA,gBAAIc,QAAJ,EAAc;AACZ,qBAAOA,QAAP;AACD;AACF;;AAED,cAAID,UAAU35F,KAAK25F,OAAL,GAAe35F,KAAK25F,OAApB,GAA8B,CAAC35F,KAAKksF,KAAN,CAA5C;;AAEA,eAAK,IAAIp4F,MAAM,CAAf,EAAkBA,MAAM6lG,QAAQl2G,MAAhC,EAAwCqQ,KAAxC,EAA+C;AAC7C,gBAAIo4F,QAAQ,IAAIP,MAAJ,CAAWgO,QAAQ7lG,GAAR,CAAX,CAAZ,CAD6C,CACP;AACtC,gBAAIzY,IAAI6wG,MAAMiB,IAAN,CAAW5xG,KAAX,CAAR;;AAEA,gBAAIF,CAAJ,EAAO;AACL;AACA,qBAAO;AACLI,sBAAMA,IADD;AAELF,uBAAOykB,KAAK65F,qBAAL,GAA6Bx+G,EAAE,CAAF,CAA7B,GAAoCA,CAFtC;AAGLivC,0BAAU,KAAK/uC,KAHV;AAILw/C,wBAAQw4D;AAJH,eAAP;AAMD;AACF;;AAED,iBAAO,IAAP,CA5BqC,CA4BxB;AACd,SA7BM,MA6BA,IAAIvzF,KAAKniB,MAAT,EAAiB;AACtB;AACA,iBAAO;AACLpC,kBAAMA,IADD;AAELF,mBAAO,KAAKA,KAFP;AAGL+uC,sBAAU,KAAK/uC,KAHV;AAILw/C,oBAAQw4D;AAJH,WAAP;AAMD,SARM,MAQA,IAAIvzF,KAAK+4F,KAAT,EAAgB;AACrB;AACA,iBAAOD,YAAP;AACD,SAHM,MAGA;AACL,iBAAO,IAAP,CADK,CACQ;AACd;AACF,OAjYD;;AAmYAt+G,aAAOD,OAAP,GAAiB61B,KAAjB;;AAEA;AAAO,KA9n2BG;AA+n2BV;AACA,SAAO,UAAS51B,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEA,UAAIo1B,QAAQ,EAAZ;;AAEA,OAAC,YAAY;AACX,YAAIlyB,SAASkD,KAAK8qG,KAAL,CAAWhuG,MAAxB;AACA,YAAI47G,OAAO14G,KAAK8qG,KAAL,CAAW6N,cAAtB;AACA,YAAIC,OAAO54G,KAAK8qG,KAAL,CAAW+N,cAAtB;AACA,YAAIC,OAAO94G,KAAK8qG,KAAL,CAAWgO,IAAtB;AACA,YAAIC,OAAO/4G,KAAK8qG,KAAL,CAAWiO,IAAtB;AACA,YAAIzhG,OAAO,SAASA,IAAT,CAAchU,MAAd,EAAsB;AAC/B,iBAAO,MAAMA,MAAN,GAAe,gCAAtB;AACD,SAFD;AAGA,YAAIqvG,UAAU,SAASA,OAAT,CAAiBrvG,MAAjB,EAAyB;AACrC,cAAI01G,SAASl8G,SAAS,QAAT,GAAoB47G,IAApB,GAA2B,GAA3B,GAAiCE,IAAjC,GAAwC,GAAxC,GAA8CE,IAA9C,GAAqD,GAArD,GAA2DC,IAAxE;AACA,iBAAO,MAAMz1G,MAAN,GAAe,gCAAf,GAAkDxG,MAAlD,GAA2D,eAA3D,GAA6EA,MAA7E,GAAsF,aAAtF,GAAsGk8G,MAAtG,GAA+G,eAA/G,GAAiIA,MAAjI,GAA0I,OAAjJ;AACD,SAHD;AAIA,YAAIC,aAAa,CAAC,0CAAD,EAA6C,UAA7C,EAAyD,QAAzD,CAAjB;;AAEA;AACAjqF,cAAMkB,KAAN,GAAc;AACZmE,gBAAM,EAAEv3B,QAAQ,IAAV,EAAgBoJ,KAAK,CAArB,EAAwBihC,OAAO,MAA/B,EAAuCivE,eAAe,IAAtD,EADM;AAEZj1D,mBAAS,EAAErkD,QAAQ,IAAV,EAAgBoJ,KAAK,CAArB,EAAwBC,KAAK,GAA7B,EAAkCghC,OAAO,GAAzC,EAA8CivE,eAAe,GAA7D,EAFG;AAGZ8C,yBAAe,EAAEp8G,QAAQ,IAAV,EAAgBoJ,KAAK,CAArB,EAAwBC,KAAK,CAA7B,EAAgC0xG,UAAU,IAA1C,EAHH;AAIZsB,0BAAgB,EAAEr8G,QAAQ,IAAV,EAAgBoJ,KAAK,CAArB,EAAwBC,KAAK,CAA7B,EAAgC0xG,UAAU,IAA1C,EAAgDZ,UAAU,IAA1D,EAJJ;AAKZmC,yBAAe,EAAEt8G,QAAQ,IAAV,EAAgBoJ,KAAK,CAAC,CAAtB,EAAyBC,KAAK,CAA9B,EAAiC0xG,UAAU,IAA3C,EALH;AAMZwB,0BAAgB,EAAEv8G,QAAQ,IAAV,EAAgBoJ,KAAK,CAArB,EAAwBlJ,SAAS,IAAjC,EAAuC66G,UAAU,IAAjD,EANJ;AAOZz9F,oBAAU,EAAEu9F,OAAO,CAAC,QAAD,EAAW,QAAX,CAAT,EAPE;AAQZngD,oBAAU,EAAE16D,QAAQ,IAAV,EAAgBoJ,KAAK,CAArB,EAAwByxG,OAAO,CAAC,OAAD,CAA/B,EARE;AASZ76G,kBAAQ,EAAEA,QAAQ,IAAV,EAAgB+6G,UAAU,IAA1B,EATI;AAUZyB,mBAAS,EAAEx8G,QAAQ,IAAV,EAAgB+6G,UAAU,IAA1B,EAAgCZ,UAAU,IAA1C,EAVG;AAWZsC,0BAAgB,EAAEz8G,QAAQ,IAAV,EAAgB+6G,UAAU,IAA1B,EAAgC3xG,KAAK,CAArC,EAAwC8xG,WAAW,IAAnD,EAXJ;AAYZxhG,gBAAM,EAAE1Z,QAAQ,IAAV,EAAgBoJ,KAAK,CAArB,EAZM;AAaZszG,6BAAmB,EAAE18G,QAAQ,IAAV,EAbP,EAayB;AACrC28G,8BAAoB,EAAE38G,QAAQ,IAAV,EAAgBm6G,UAAU,IAA1B,EAdR,EAc0C;AACtDyC,4BAAkB,EAAE58G,QAAQ,IAAV,EAAgBoJ,KAAK,CAArB,EAAwB6xG,cAAc,IAAtC,EAfN;AAgBZ4B,6BAAmB,EAAEhC,OAAO,CAAC,OAAD,EAAU,QAAV,EAAoB,SAApB,EAA+B,KAA/B,EAAsC,KAAtC,CAAT,EAhBP;AAiBZiC,gBAAM,EAAE98G,QAAQ,IAAV,EAAgBoJ,KAAK,CAArB,EAAwB6xG,cAAc,IAAtC,EAA4CJ,OAAO,CAAC,MAAD,CAAnD,EAA6DV,UAAU,IAAvE,EAjBM;AAkBZ4C,iBAAO,EAAE/8G,QAAQ,IAAV,EAAgBi7G,cAAc,IAA9B,EAAoCd,UAAU,IAA9C,EAlBK;AAmBZ6C,wBAAc,EAAEnC,OAAO,CAAC,OAAD,EAAU,iBAAV,CAAT,EAAuCV,UAAU,IAAjD,EAnBF;AAoBZ8C,oBAAU,EAAEpC,OAAO,CAAC,QAAD,EAAW,UAAX,EAAuB,UAAvB,EAAmC,WAAnC,CAAT,EAA0DV,UAAU,IAApE,EApBE;AAqBZ+C,iBAAO,EAAErC,OAAO,CAAC,MAAD,EAAS,SAAT,EAAoB,OAApB,CAAT,EAAuCV,UAAU,IAAjD,EArBK;AAsBZgD,yBAAe,EAAEtC,OAAO,CAAC,WAAD,EAAc,iBAAd,CAAT,EAA2CV,UAAU,IAArD,EAtBH;AAuBZiD,kBAAQ,EAAEvC,OAAO,CAAC,MAAD,EAAS,MAAT,CAAT,EAvBI;AAwBZr2D,iBAAO,EAAEA,OAAO,IAAT,EAxBK;AAyBZnkD,gBAAM,EAAEw6G,OAAO,CAAC,KAAD,EAAQ,IAAR,CAAT,EAzBM;AA0BZzpB,qBAAW,EAAEypB,OAAO,CAAC,OAAD,EAAU,QAAV,EAAoB,QAApB,CAAT,EA1BC;AA2BZvgB,uBAAa,EAAEugB,OAAO,CAAC,OAAD,EAAU,QAAV,EAAoB,QAApB,EAA8B,QAA9B,CAAT,EA3BD;AA4BZzyC,sBAAY,EAAEyyC,OAAO,CAAC,QAAD,EAAW,kBAAX,EAA+B,UAA/B,EAA2C,UAA3C,CAAT,EA5BA;AA6BZvhC,sBAAY,EAAE00B,OAAO,0CAAT,EA7BA;AA8BZqP,uBAAa,EAAExC,OAAO,CAAC,YAAD,EAAe,QAAf,CAAT,EA9BD;AA+BZthC,qBAAW,EAAEshC,OAAO,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,CAAT,EA/BC;AAgCZphC,sBAAY,EAAEohC,OAAO,CAAC,QAAD,EAAW,MAAX,EAAmB,QAAnB,EAA6B,SAA7B,EAAwC,KAAxC,EAA+C,KAA/C,EAAsD,KAAtD,EAA6D,KAA7D,EAAoE,KAApE,EAA2E,KAA3E,EAAkF,KAAlF,EAAyF,KAAzF,EAAgG,GAAhG,EAAqG,GAArG,EAA0G,GAA1G,EAA+G,GAA/G,EAAoH,GAApH,EAAyH,GAAzH,EAA8H,GAA9H,EAAmI,GAAnI,EAAwI,GAAxI,CAAT,EAhCA;AAiCZyC,0BAAgB,EAAEzC,OAAO,CAAC,MAAD,EAAS,WAAT,EAAsB,UAAtB,EAAkC,cAAlC,CAAT,EAjCJ;AAkCZvjC,yBAAe,EAAEujC,OAAO,CAAC,MAAD,EAAS,WAAT,EAAsB,WAAtB,CAAT,EAlCH;AAmCZ0C,oBAAU,EAAE1C,OAAO,CAAC,MAAD,EAAS,MAAT,EAAiB,UAAjB,CAAT,EAnCE;AAoCZ2C,+BAAqB,EAAE3C,OAAO,CAAC,WAAD,EAAc,gBAAd,CAAT,EApCT;AAqCZ4C,qBAAW,EAAE5C,OAAO,CAAC,WAAD,EAAc,gBAAd,EAAgC,cAAhC,EAAgD,sBAAhD,EAAwE,QAAxE,EAAkF,SAAlF,EAA6F,UAA7F,EAAyG,QAAzG,EAAmH,UAAnH,EAA+H,SAA/H,EAA0I,gBAA1I,EAA4J,UAA5J,EAAwK,SAAxK,EAAmL,KAAnL,EAA0L,MAA1L,EAAkM,SAAlM,EAA6M,KAA7M,EAAoN,UAApN,EAAgO,SAAhO,CAAT,EArCC;AAsCZ6C,iCAAuB,EAAE7C,OAAO,CAAC,SAAD,EAAY,SAAZ,CAAT,EAtCX;AAuCZjoB,sBAAY,EAAEioB,OAAO,CAAC,KAAD,EAAQ,UAAR,EAAoB,cAApB,EAAoC,gBAApC,EAAsD,oBAAtD,EAA4E,wBAA5E,EAAsG,KAAtG,EAA6G,QAA7G,EAAuH,QAAvH,EAAiI,SAAjI,EAA4I,MAA5I,CAAT,EAvCA;AAwCZ/nB,qBAAW,EAAE+nB,OAAO,CAAC,QAAD,EAAW,QAAX,CAAT,EAxCC;AAyCZ/sE,mBAAS,EAAE+sE,OAAO,CAAC,SAAD,EAAY,MAAZ,CAAT,EAzCG;AA0CZlhC,sBAAY,EAAEkhC,OAAO,CAAC,QAAD,EAAW,SAAX,CAAT,EA1CA;AA2CZ8C,0BAAgB,EAAE9C,OAAO,CAAC,QAAD,EAAW,QAAX,EAAqB,MAArB,EAA6B,KAA7B,CAAT,EA3CJ;AA4CZ+C,yBAAe,EAAE/C,OAAO,CAAC,MAAD,EAAS,QAAT,CAAT,EA5CH;AA6CZvuE,kBAAQ,EAAEuuE,OAAO,CAAC,KAAD,EAAQ,QAAR,EAAkB,QAAlB,CAAT,EA7CI;AA8CZxuE,kBAAQ,EAAEwuE,OAAO,CAAC,MAAD,EAAS,QAAT,EAAmB,OAAnB,CAAT,EA9CI;AA+CZphG,gBAAM,EAAE9Z,QAAQ,IAAV,EA/CM;AAgDZ6a,gBAAM,EAAEo8F,SAAS,IAAX,EAAiB5I,OAAOxzF,KAAK,MAAL,CAAxB,EAhDM;AAiDZqjG,sBAAY,EAAEjH,SAAS,IAAX,EAAiB5I,OAAOxzF,KAAK,YAAL,CAAxB,EAjDA;AAkDZ+H,mBAAS,EAAEq0F,SAAS,IAAX,EAAiB5I,OAAOxzF,KAAK,SAAL,CAAxB,EAlDG;AAmDZq7F,mBAAS,EAAEe,SAAS,IAAX,EAAiB5I,OAAO6H,QAAQ,SAAR,CAAxB,EAnDG;AAoDZiI,yBAAe,EAAElH,SAAS,IAAX,EAAiB5I,OAAO6H,QAAQ,eAAR,CAAxB,EApDH;AAqDZkI,sBAAY,EAAEnH,SAAS,IAAX,EAAiB5I,OAAO6H,QAAQ,YAAR,CAAxB,EArDA;AAsDZp2G,cAAI,EAAEm3G,SAAS,IAAX,EAAiBn3G,IAAI,IAArB,EAtDQ;AAuDZ88E,eAAK,EAAEk/B,SAASU,UAAX,EAAuBR,uBAAuB,IAA9C,EAvDO;AAwDZ9hB,gBAAM,EAAE4hB,SAASU,UAAX,EAAuBR,uBAAuB,IAA9C,EAAoDxB,UAAU,IAA9D,EAxDM;AAyDZiB,oBAAU,EAAEA,UAAU,IAAZ,EAzDE;AA0DZxrG,iBAAO,EAAE5P,QAAQ,IAAV,EAAgBqqC,OAAO,SAAvB,EAAkCivE,eAAe,KAAjD,EA1DK;AA2DZ0E,wBAAc,EAAEh+G,QAAQ,IAAV,EAAgBqqC,OAAO,SAAvB,EAAkCivE,eAAe,KAAjD,EAAwDuB,OAAO,CAAC,MAAD,EAAS,YAAT,CAA/D,EA3DF;AA4DZoD,4BAAkB,EAAEj+G,QAAQ,IAAV,EAAgBm6G,UAAU,IAA1B,EAAgCE,cAAc,IAA9C,EAAoDjxG,KAAK,CAAC,CAA1D,EAA6DC,KAAK,CAAlE,EAAqE0xG,UAAU,IAA/E,EA5DN;AA6DZjwC,yBAAe,EAAE+vC,OAAO,CAAC,cAAD,EAAiB,eAAjB,CAAT,EA7DH;AA8DZqD,wBAAc;AACZl+G,oBAAQ,IADI,EACEm6G,UAAU,IADZ,EACkB9vE,OAAO,iBADzB,EAC4CivE,eAAe,IAD3D;AAEZuB,mBAAO,CAAC,gBAAD,EAAmB,iBAAnB,EAAsC,iBAAtC,CAFK,EAEqDF,YAAY,IAFjE;AAGZD,sBAAU,SAASA,QAAT,CAAkBJ,MAAlB,EAA0BC,QAA1B,EAAoC;AAC5C,sBAAQD,OAAO/0G,MAAf;AACE,qBAAK,CAAL;AACE;AACA,yBAAOg1G,SAAS,CAAT,MAAgB,KAAhB,IAAyBA,SAAS,CAAT,MAAgB,KAAzC,IAAkDA,SAAS,CAAT,MAAgB,KAAlE,IAA2EA,SAAS,CAAT,MAAgB,KAAlG;AACF,qBAAK,CAAL;AACE;AACA,yBAAO/6G,GAAGG,MAAH,CAAU26G,OAAO,CAAP,CAAV,KAAwBC,SAAS,CAAT,MAAgB,KAAxC,IAAiDA,SAAS,CAAT,MAAgB,KAAxE;AACF;AACE,yBAAO,KAAP;AARJ;AAUD;AAdW,WA9DF;AA8EZ/gE,kBAAQ;AACNiiE,qBAAS,CAAC,0BAA0Bz7G,MAA1B,GAAmC,aAAnC,GAAmDA,MAAnD,GAA4D,WAA7D,EAA0E,gCAAgCA,MAAhC,GAAyC,aAAzC,GAAyDA,MAAzD,GAAkE,aAAlE,GAAkFA,MAAlF,GAA2F,aAA3F,GAA2GA,MAA3G,GAAoH,WAA9L,CADH;AAEN66G,mBAAO,CAAC,QAAD,EAAW,MAAX,EAAmB,SAAnB,EAA8B,UAA9B,EAA0C,aAA1C,EAAyD,cAAzD,EAAyE,eAAzE,EAA0F,kBAA1F,EAA8G,cAA9G,EAA8H,eAA9H,EAA+I,kBAA/I,EAAmK,eAAnK,EAAoL,gBAApL,EAAsM,mBAAtM,EAA2N,eAA3N,EAA4O,gBAA5O,EAA8P,mBAA9P,EAAmR,eAAnR,EAAoS,gBAApS,EAAsT,mBAAtT,EAA2U,cAA3U,EAA2V,eAA3V,EAA4W,kBAA5W,EAAgY,cAAhY,EAAgZ,eAAhZ,EAAia,kBAAja;AAFD;AA9EI,SAAd;;AAoFA,YAAIsD,aAAa;AACfC,uBAAa,SAASA,WAAT,CAAqBC,IAArB,EAA2BC,IAA3B,EAAiC;AAC5C,gBAAID,SAAS,CAAT,IAAcC,SAAS,CAA3B,EAA8B;AAC5B,qBAAO,IAAP;AACD,aAFD,MAEO,IAAID,SAAS,CAAT,IAAcC,SAAS,CAA3B,EAA8B;AACnC,qBAAO,IAAP;AACD,aAFM,MAEA;AACL,qBAAO,KAAP;AACD;AACF,WATc;AAUfC,mBAAS,SAASA,OAAT,CAAiBF,IAAjB,EAAuBC,IAAvB,EAA6B;AACpC,mBAAOD,SAASC,IAAhB;AACD;AAZc,SAAjB;;AAeA,YAAIE,KAAKL,UAAT;;AAEA;AACA,YAAI51G,IAAI2pB,MAAMkB,KAAd;AACA,YAAInQ,QAAQiP,MAAMI,UAAN,GAAmB;AAC/B;AACA,UAAE/0B,MAAM,OAAR,EAAiBukB,MAAMvZ,EAAEkR,IAAzB,EAF+B,EAEE,EAAElc,MAAM,eAAR,EAAyBukB,MAAMvZ,EAAEy1G,YAAjC,EAFF,EAEmD,EAAEzgH,MAAM,eAAR,EAAyBukB,MAAMvZ,EAAEm0G,iBAAjC,EAFnD,EAEyG,EAAEn/G,MAAM,eAAR,EAAyBukB,MAAMvZ,EAAEm0G,iBAAjC,EAFzG;;AAI/B;AACA,UAAEn/G,MAAM,cAAR,EAAwBukB,MAAMvZ,EAAEkR,IAAhC,EAL+B,EAKS,EAAElc,MAAM,sBAAR,EAAgCukB,MAAMvZ,EAAEy1G,YAAxC,EALT,EAKiE,EAAEzgH,MAAM,sBAAR,EAAgCukB,MAAMvZ,EAAEm0G,iBAAxC,EALjE,EAK8H,EAAEn/G,MAAM,sBAAR,EAAgCukB,MAAMvZ,EAAEm0G,iBAAxC,EAL9H,EAK2L,EAAEn/G,MAAM,oBAAR,EAA8BukB,MAAMvZ,EAAEmR,IAAtC,EAL3L;;AAO/B;AACA,UAAEnc,MAAM,cAAR,EAAwBukB,MAAMvZ,EAAEkR,IAAhC,EAR+B,EAQS,EAAElc,MAAM,sBAAR,EAAgCukB,MAAMvZ,EAAEy1G,YAAxC,EART,EAQiE,EAAEzgH,MAAM,sBAAR,EAAgCukB,MAAMvZ,EAAEm0G,iBAAxC,EARjE,EAQ8H,EAAEn/G,MAAM,sBAAR,EAAgCukB,MAAMvZ,EAAEm0G,iBAAxC,EAR9H,EAQ2L,EAAEn/G,MAAM,oBAAR,EAA8BukB,MAAMvZ,EAAEmR,IAAtC,EAR3L;;AAU/B;AACA,UAAEnc,MAAM,aAAR,EAAuBukB,MAAMvZ,EAAE+jC,MAA/B,EAX+B,EAWU,EAAE/uC,MAAM,aAAR,EAAuBukB,MAAMvZ,EAAE8jC,MAA/B,EAXV,EAWmD,EAAE9uC,MAAM,OAAR,EAAiBukB,MAAMvZ,EAAEi8C,KAAzB,EAXnD,EAWqF,EAAEjnD,MAAM,oBAAR,EAA8BukB,MAAMvZ,EAAEi8C,KAAtC,EAXrF,EAWoI,EAAEjnD,MAAM,oBAAR,EAA8BukB,MAAMvZ,EAAEmR,IAAtC,EAXpI,EAWkL,EAAEnc,MAAM,sBAAR,EAAgCukB,MAAMvZ,EAAE6zG,aAAxC,EAXlL,EAW2O,EAAE7+G,MAAM,cAAR,EAAwBukB,MAAMvZ,EAAE6zG,aAAhC,EAX3O,EAW4R,EAAE7+G,MAAM,uBAAR,EAAiCukB,MAAMvZ,EAAEi8C,KAAzC,EAX5R,EAW8U,EAAEjnD,MAAM,yBAAR,EAAmCukB,MAAMvZ,EAAE6zG,aAA3C,EAX9U,EAW0Y,EAAE7+G,MAAM,yBAAR,EAAmCukB,MAAMvZ,EAAEmR,IAA3C,EAX1Y,EAW6b,EAAEnc,MAAM,qBAAR,EAA+BukB,MAAMvZ,EAAE6zG,aAAvC,EAX7b,EAWqf,EAAE7+G,MAAM,mBAAR,EAA6BukB,MAAMvZ,EAAEi8C,KAArC,EAXrf,EAWmiB,EAAEjnD,MAAM,mBAAR,EAA6BukB,MAAMvZ,EAAEmR,IAArC,EAXniB,EAWglB,EAAEnc,MAAM,mBAAR,EAA6BukB,MAAMvZ,EAAE+xF,WAArC,EAXhlB,EAWooB,EAAE/8F,MAAM,uBAAR,EAAiCukB,MAAMvZ,EAAEi1G,mBAAzC,EAXpoB;AAY/B;AACA,UAAEjgH,MAAM,gBAAR,EAA0BukB,MAAMvZ,EAAE+uE,aAAlC,EAb+B,EAaoB,EAAE/5E,MAAM,WAAR,EAAqBukB,MAAMvZ,EAAEg1G,QAA7B,EAbpB,EAa6D,EAAEhgH,MAAM,gBAAR,EAA0BukB,MAAMvZ,EAAEmR,IAAlC,EAb7D,EAauG,EAAEnc,MAAM,aAAR,EAAuBukB,MAAMvZ,EAAElI,IAA/B,EAbvG,EAa8I,EAAE9C,MAAM,aAAR,EAAuBukB,MAAMvZ,EAAE+wE,UAA/B,EAb9I,EAa2L,EAAE/7E,MAAM,YAAR,EAAsBukB,MAAMvZ,EAAEgxE,SAA9B,EAb3L;AAc/B;AACA,UAAEh8E,MAAM,aAAR,EAAuBukB,MAAMvZ,EAAEkxE,UAA/B,EAf+B,EAec,EAAEl8E,MAAM,WAAR,EAAqBukB,MAAMvZ,EAAEmR,IAA7B,EAfd,EAemD,EAAEnc,MAAM,sBAAR,EAAgCukB,MAAMvZ,EAAEmR,IAAxC,EAfnD;;AAiB/B;AACA,UAAEnc,MAAM,QAAR,EAAkBukB,MAAMvZ,EAAElI,IAA1B,EAlB+B;;AAoB/B;AACA,UAAE9C,MAAM,SAAR,EAAmBukB,MAAMvZ,EAAEulC,OAA3B,EAAoCmqE,gBAAgBuG,GAAGD,OAAvD,EArB+B,EAqBmC,EAAEhhH,MAAM,YAAR,EAAsBukB,MAAMvZ,EAAEoxE,UAA9B,EAA0Cs+B,gBAAgBuG,GAAGD,OAA7D,EArBnC,EAqB2G,EAAEhhH,MAAM,SAAR,EAAmBukB,MAAMvZ,EAAE6zG,aAA3B,EAA0CnE,gBAAgBuG,GAAGJ,WAA7D,EArB3G,EAqBuL,EAAE7gH,MAAM,kBAAR,EAA4BukB,MAAMvZ,EAAEo1G,cAApC,EAAoD1F,gBAAgBuG,GAAGD,OAAvE,EArBvL,EAqByQ,EAAEhhH,MAAM,iBAAR,EAA2BukB,MAAMvZ,EAAEq1G,aAAnC,EAAkD3F,gBAAgBuG,GAAGD,OAArE,EArBzQ,EAqByV,EAAEhhH,MAAM,SAAR,EAAmBukB,MAAMvZ,EAAEg0G,cAA3B,EAA2CtE,gBAAgBuG,GAAGD,OAA9D,EArBzV;;AAuB/B;AACA,UAAEhhH,MAAM,iBAAR,EAA2BukB,MAAMvZ,EAAEmR,IAAnC,EAxB+B,EAwBY,EAAEnc,MAAM,eAAR,EAAyBukB,MAAMvZ,EAAEi8C,KAAjC,EAxBZ,EAwBsD,EAAEjnD,MAAM,iBAAR,EAA2BukB,MAAMvZ,EAAE6zG,aAAnC,EAxBtD;;AA0B/B;AACA,UAAE7+G,MAAM,qBAAR,EAA+BukB,MAAMvZ,EAAE6yG,QAAvC,EA3B+B,EA2BoB,EAAE79G,MAAM,qBAAR,EAA+BukB,MAAMvZ,EAAEgvB,IAAvC,EA3BpB,EA2BmE,EAAEh6B,MAAM,kBAAR,EAA4BukB,MAAMvZ,EAAEgvB,IAApC,EA3BnE,EA2B+G,EAAEh6B,MAAM,4BAAR,EAAsCukB,MAAMvZ,EAAEixC,MAA9C,EA3B/G;;AA6B/B;AACA,UAAEj8C,MAAM,QAAR,EAAkBukB,MAAMvZ,EAAEmyD,QAA1B,EA9B+B,EA8BO,EAAEn9D,MAAM,OAAR,EAAiBukB,MAAMvZ,EAAEmyD,QAAzB,EA9BP,EA8B4C,EAAEn9D,MAAM,OAAR,EAAiBukB,MAAMvZ,EAAEk1G,SAAzB,EA9B5C,EA8BkF,EAAElgH,MAAM,sBAAR,EAAgCukB,MAAMvZ,EAAE01G,gBAAxC,EA9BlF,EA8B8I,EAAE1gH,MAAM,kBAAR,EAA4BukB,MAAMvZ,EAAEi8C,KAApC,EA9B9I,EA8B2L,EAAEjnD,MAAM,oBAAR,EAA8BukB,MAAMvZ,EAAE6zG,aAAtC,EA9B3L,EA8BkP,EAAE7+G,MAAM,oBAAR,EAA8BukB,MAAMvZ,EAAE+zG,aAAtC,EA9BlP,EA8ByS,EAAE/+G,MAAM,SAAR,EAAmBukB,MAAMvZ,EAAEq0G,gBAA3B,EA9BzS,EA8BwV,EAAEr/G,MAAM,qBAAR,EAA+BukB,MAAMvZ,EAAEs0G,iBAAvC,EA9BxV;;AAgC/B;AACA,UAAEt/G,MAAM,cAAR,EAAwBukB,MAAMvZ,EAAEi8C,KAAhC,EAjC+B,EAiCU,EAAEjnD,MAAM,gBAAR,EAA0BukB,MAAMvZ,EAAE6zG,aAAlC,EAjCV,EAiC6D,EAAE7+G,MAAM,cAAR,EAAwBukB,MAAMvZ,EAAEmR,IAAhC,EAjC7D,EAiCqG,EAAEnc,MAAM,cAAR,EAAwBukB,MAAMvZ,EAAE+xF,WAAhC,EAjCrG;;AAmC/B;AACA,UAAE/8F,MAAM,kBAAR,EAA4BukB,MAAMvZ,EAAEsxF,IAApC,EApC+B,EAoCa,EAAEt8F,MAAM,8BAAR,EAAwCukB,MAAMvZ,EAAE40G,aAAhD,EApCb,EAoC8E,EAAE5/G,MAAM,0BAAR,EAAoCukB,MAAMvZ,EAAE8zG,cAA5C,EApC9E,EAoC4I,EAAE9+G,MAAM,uBAAR,EAAiCukB,MAAMvZ,EAAEw0G,KAAzC,EApC5I,EAoC8L,EAAEx/G,MAAM,uBAAR,EAAiCukB,MAAMvZ,EAAEw0G,KAAzC,EApC9L,EAoCgP,EAAEx/G,MAAM,8BAAR,EAAwCukB,MAAMvZ,EAAEy0G,YAAhD,EApChP,EAoCgT,EAAEz/G,MAAM,+BAAR,EAAyCukB,MAAMvZ,EAAEy0G,YAAjD,EApChT,EAoCiX,EAAEz/G,MAAM,mBAAR,EAA6BukB,MAAMvZ,EAAE00G,QAArC,EApCjX,EAoCka,EAAE1/G,MAAM,gBAAR,EAA0BukB,MAAMvZ,EAAE20G,KAAlC,EApCla,EAoC6c,EAAE3/G,MAAM,iBAAR,EAA2BukB,MAAMvZ,EAAE60G,MAAnC,EApC7c,EAoC0f,EAAE7/G,MAAM,kBAAR,EAA4BukB,MAAMvZ,EAAEu0G,IAApC,EApC1f,EAoCsiB,EAAEv/G,MAAM,mBAAR,EAA6BukB,MAAMvZ,EAAEu0G,IAArC,EApCtiB;;AAsC/B;AACA,UAAEv/G,MAAM,UAAR,EAAoBukB,MAAMvZ,EAAE+U,QAA5B,EAvC+B,EAuCS,EAAE/f,MAAM,4BAAR,EAAsCukB,MAAMvZ,EAAEm1G,qBAA9C,EAvCT,EAuCgF,EAAEngH,MAAM,WAAR,EAAqBukB,MAAMvZ,EAAEmR,IAA7B,EAvChF,EAuCqH,EAAEnc,MAAM,qBAAR,EAA+BukB,MAAMvZ,EAAEq0G,gBAAvC,EAvCrH,EAuCgL,EAAEr/G,MAAM,sBAAR,EAAgCukB,MAAMvZ,EAAEq0G,gBAAxC,EAvChL,EAuC4O,EAAEr/G,MAAM,YAAR,EAAsBukB,MAAMvZ,EAAEmR,IAA9B,EAvC5O,EAuCkR,EAAEnc,MAAM,qBAAR,EAA+BukB,MAAMvZ,EAAEq0G,gBAAvC,EAvClR,EAuC6U,EAAEr/G,MAAM,wBAAR,EAAkCukB,MAAMvZ,EAAEq0G,gBAA1C,EAvC7U;;AAyC/B;AACA,UAAEr/G,MAAM,YAAR,EAAsBukB,MAAMvZ,EAAE6oF,SAA9B,EA1C+B,EA0CY,EAAE7zF,MAAM,YAAR,EAAsBukB,MAAMvZ,EAAEi8C,KAA9B,EA1CZ,EA0CmD,EAAEjnD,MAAM,aAAR,EAAuBukB,MAAMvZ,EAAE6/D,UAA/B,EA1CnD,EA0CgG,EAAE7qE,MAAM,iBAAR,EAA2BukB,MAAMvZ,EAAE6zG,aAAnC,EA1ChG,EA0CoJ,EAAE7+G,MAAM,iBAAR,EAA2BukB,MAAMvZ,EAAE21G,YAAnC,EA1CpJ,EA0CuM,EAAE3gH,MAAM,iBAAR,EAA2BukB,MAAMvZ,EAAE21G,YAAnC,EA1CvM,EA0C0P,EAAE3gH,MAAM,yBAAR,EAAmCukB,MAAMvZ,EAAEmR,IAA3C,EA1C1P,EA0C6S,EAAEnc,MAAM,yBAAR,EAAmCukB,MAAMvZ,EAAEo0G,kBAA3C,EA1C7S,EA0C8W,EAAEp/G,MAAM,uBAAR,EAAiCukB,MAAMvZ,EAAEi0G,OAAzC,EA1C9W,EA0Cka,EAAEj/G,MAAM,mBAAR,EAA6BukB,MAAMvZ,EAAEo0G,kBAArC,EA1Cla,EA0C6d,EAAEp/G,MAAM,iBAAR,EAA2BukB,MAAMvZ,EAAEi0G,OAAnC,EA1C7d,EA0C2gB,EAAEj/G,MAAM,gBAAR,EAA0BukB,MAAMvZ,EAAEuiE,aAAlC,EA1C3gB,EA0C8jB,EAAEvtE,MAAM,aAAR,EAAuBukB,MAAMvZ,EAAEk0G,cAA/B,EA1C9jB,EA0C+mB,EAAEl/G,MAAM,gBAAR,EAA0BukB,MAAMvZ,EAAEqH,KAAlC,EA1C/mB,EA0C0pB,EAAErS,MAAM,YAAR,EAAsBukB,MAAMvZ,EAAEqH,KAA9B,EA1C1pB,EA0CisB,EAAErS,MAAM,2BAAR,EAAqCukB,MAAMvZ,EAAEmR,IAA7C,EA1CjsB,EA0CsvB,EAAEnc,MAAM,2BAAR,EAAqCukB,MAAMvZ,EAAEmR,IAA7C,EA1CtvB;;AA4C/B;AACA,UAAEnc,MAAM,OAAR,EAAiBukB,MAAMvZ,EAAElI,IAAzB,EA7C+B,EA6CE,EAAE9C,MAAM,gBAAR,EAA0BukB,MAAMvZ,EAAEm0G,iBAAlC,EA7CF,EA6CyD,EAAEn/G,MAAM,gBAAR,EAA0BukB,MAAMvZ,EAAEm0G,iBAAlC,EA7CzD,EA6CgH,EAAEn/G,MAAM,eAAR,EAAyBukB,MAAMvZ,EAAE6zG,aAAjC,EA7ChH;;AA+C/B;AACA,UAAE7+G,MAAM,qBAAR,EAA+BukB,MAAMvZ,EAAEi8C,KAAvC,EAhD+B,EAgDiB,EAAEjnD,MAAM,uBAAR,EAAiCukB,MAAMvZ,EAAE6zG,aAAzC,EAhDjB,EAgD2E,EAAE7+G,MAAM,4BAAR,EAAsCukB,MAAMvZ,EAAEi8C,KAA9C,EAhD3E,EAgDkI,EAAEjnD,MAAM,4BAAR,EAAsCukB,MAAMvZ,EAAEmR,IAA9C,EAhDlI,EAgDwL,EAAEnc,MAAM,iBAAR,EAA2BukB,MAAMvZ,EAAEi8C,KAAnC,EAhDxL,EAgDoO,EAAEjnD,MAAM,mBAAR,EAA6BukB,MAAMvZ,EAAE6zG,aAArC,EAhDpO,EAgD0R,EAAE7+G,MAAM,gBAAR,EAA0BukB,MAAMvZ,EAAEmR,IAAlC,EAhD1R,EAgDoU,EAAEnc,MAAM,0BAAR,EAAoCukB,MAAMvZ,EAAEi8C,KAA5C,EAhDpU,EAgDyX,EAAEjnD,MAAM,4BAAR,EAAsCukB,MAAMvZ,EAAE6zG,aAA9C,EAhDzX,CAA/B;;AAkDA;AACA,YAAIqC,UAAUvsF,MAAMusF,OAAN,GAAgB,CAAC,EAAElhH,MAAM,SAAR,EAAmB67G,UAAU,OAA7B,EAAD,EAAyC,EAAE77G,MAAM,wBAAR,EAAkC67G,UAAU,yBAA5C,EAAzC,EAAkH,EAAE77G,MAAM,sBAAR,EAAgC67G,UAAU,uBAA1C,EAAlH,EAAuL,EAAE77G,MAAM,oBAAR,EAA8B67G,UAAU,eAAxC,EAAvL,EAAkP,EAAE77G,MAAM,cAAR,EAAwB67G,UAAU,SAAlC,EAAlP,EAAiS,EAAE77G,MAAM,eAAR,EAAyB67G,UAAU,SAAnC,EAAjS,EAAiV,EAAE77G,MAAM,aAAR,EAAuB67G,UAAU,SAAjC,EAAjV,EAA+X,EAAE77G,MAAM,gBAAR,EAA0B67G,UAAU,SAApC,EAA/X,CAA9B;;AAEA;AACAlnF,cAAMwpE,cAAN,GAAuB,EAAvB,CA7KW,CA6KgB;AAC3Bz4E,cAAM9c,IAAN,CAAW,EAAE5I,MAAM,UAAR,EAAoBukB,MAAMvZ,EAAEq0G,gBAA5B,EAAX;AACA,aAAK,IAAI5/G,IAAI,CAAb,EAAgBA,KAAKk1B,MAAMwpE,cAA3B,EAA2C1+F,GAA3C,EAAgD;AAC9CimB,gBAAM9c,IAAN,CAAW,EAAE5I,MAAM,SAASP,CAAT,GAAa,mBAArB,EAA0C8kB,MAAMvZ,EAAEi8C,KAAlD,EAAX;AACAvhC,gBAAM9c,IAAN,CAAW,EAAE5I,MAAM,SAASP,CAAT,GAAa,kBAArB,EAAyC8kB,MAAMvZ,EAAE87C,OAAjD,EAAX;AACAphC,gBAAM9c,IAAN,CAAW,EAAE5I,MAAM,SAASP,CAAT,GAAa,qBAArB,EAA4C8kB,MAAMvZ,EAAE6zG,aAApD,EAAX;AACD;;AAED;AACA,YAAIsC,gBAAgBxsF,MAAMwsF,aAAN,GAAsB,CAAC,QAAD,EAAW,YAAX,EAAyB,QAAzB,EAAmC,YAAnC,CAA1C;AACA,SAAC,EAAEnhH,MAAM,aAAR,EAAuBukB,MAAMvZ,EAAEqqF,UAA/B,EAAD,EAA8C,EAAEr1F,MAAM,aAAR,EAAuBukB,MAAMvZ,EAAEi8C,KAA/B,EAA9C,EAAsF,EAAEjnD,MAAM,YAAR,EAAsBukB,MAAMvZ,EAAEuqF,SAA9B,EAAtF,EAAiIlsF,OAAjI,CAAyI,UAAU4rB,IAAV,EAAgB;AACvJksF,wBAAc93G,OAAd,CAAsB,UAAUJ,MAAV,EAAkB;AACtC,gBAAIjJ,OAAOiJ,SAAS,GAAT,GAAegsB,KAAKj1B,IAA/B;AACA,gBAAIukB,OAAO0Q,KAAK1Q,IAAhB;;AAEAmB,kBAAM9c,IAAN,CAAW,EAAE5I,MAAMA,IAAR,EAAcukB,MAAMA,IAApB,EAAX;AACD,WALD;AAMD,SAPD,EAOG,EAPH;;AASA;AACAoQ,cAAM2mF,aAAN,GAAsB51F,MAAMhH,GAAN,CAAU,UAAU1d,CAAV,EAAa;AAC3C,iBAAOA,EAAEhB,IAAT;AACD,SAFqB,CAAtB;;AAIA;AACA,aAAK,IAAIoX,KAAK,CAAd,EAAiBA,KAAKsO,MAAM1d,MAA5B,EAAoCoP,IAApC,EAA0C;AACxC,cAAI6d,OAAOvP,MAAMtO,EAAN,CAAX;;AAEAsO,gBAAMuP,KAAKj1B,IAAX,IAAmBi1B,IAAnB,CAHwC,CAGf;AAC1B;;AAED;AACA,aAAK,IAAI7c,MAAM,CAAf,EAAkBA,MAAM8oG,QAAQl5G,MAAhC,EAAwCoQ,KAAxC,EAA+C;AAC7C,cAAIwjG,QAAQsF,QAAQ9oG,GAAR,CAAZ;AACA,cAAIgpG,eAAe17F,MAAMk2F,MAAMC,QAAZ,CAAnB;AACA,cAAIwF,YAAY;AACdrhH,kBAAM47G,MAAM57G,IADE;AAEd47G,mBAAO,IAFO;AAGdC,sBAAUuF;AAHI,WAAhB;;AAMA;AACA17F,gBAAM9c,IAAN,CAAWy4G,SAAX;;AAEA37F,gBAAMk2F,MAAM57G,IAAZ,IAAoBqhH,SAApB,CAZ6C,CAYd;AAChC;AACF,OA3ND;;AA6NA1sF,YAAM2oB,kBAAN,GAA2B,UAAUt9C,IAAV,EAAgB;AACzC,eAAO,KAAKshH,oBAAL,GAA4BthH,IAA5B,CAAP;AACD,OAFD;;AAIA20B,YAAM2sF,oBAAN,GAA6B37G,KAAKyD,OAAL,CAAa,YAAY;AACpD,YAAIm4G,WAAW57G,KAAKgB,MAAL,CAAY;AACzB;AACA,oBAAU,KAFe;AAGzB,yBAAe,IAHU;AAIzB,yBAAe,KAJU;AAKzB,yBAAe,QALU;AAMzB,mBAAS,MANgB;AAOzB,gCAAsB,MAPG;AAQzB,gCAAsB,CARG;AASzB,kCAAwB,CATC;AAUzB,0BAAgB,CAVS;AAWzB,6BAAmB,MAXM;AAYzB,4BAAkB,MAZO;AAazB,uBAAa,MAbY;AAczB,4BAAkB,IAdO;AAezB,mCAAyB,MAfA;AAgBzB,qCAA2B,CAhBF;AAiBzB,mCAAyB,WAjBA;AAkBzB,qCAA2B,CAlBF;AAmBzB,iCAAuB,CAnBE;AAoBzB,+BAAqB,CApBI;AAqBzB,+BAAqB,OArBI;AAsBzB,+BAAqB,MAtBI;AAuBzB,yBAAe,uCAvBU;AAwBzB,wBAAc,QAxBW;AAyBzB;AACA,yBAAe,QA1BU;AA2BzB,uBAAa,EA3BY;AA4BzB,kCAAwB,CA5BC;AA6BzB,2BAAiB,MA7BQ;AA8BzB,kCAAwB,MA9BC;AA+BzB,kCAAwB,MA/BC;AAgCzB,wBAAc,SAhCW;AAiCzB,qBAAW,SAjCc;AAkCzB,qBAAW,CAlCc;AAmCzB,8BAAoB,MAnCK;AAoCzB,6BAAmB,MApCM;AAqCzB,qBAAW,CArCc;AAsCzB,mBAAS,EAtCgB;AAuCzB,2BAAiB,CAvCQ;AAwCzB,2BAAiB,CAxCQ;AAyCzB,0BAAgB,EAzCS;AA0CzB,gCAAsB,CA1CG;AA2CzB,kCAAwB,CA3CC;AA4CzB,kCAAwB,CA5CC;AA6CzB,0BAAgB,EA7CS;AA8CzB,gCAAsB,CA9CG;AA+CzB,kCAAwB,CA/CC;AAgDzB,kCAAwB,CAhDC;AAiDzB,6BAAmB,CAjDM;AAkDzB,2BAAiB,MAlDQ;AAmDzB,6BAAmB,EAnDM;AAoDzB,iCAAuB,MApDE;AAqDzB,iCAAuB,CArDE;AAsDzB,8BAAoB,CAtDK;AAuDzB,wCAA8B,QAvDL;;AAyDzB;AACA,gCAAsB,CA1DG;AA2DzB,8BAAoB,MA3DK;AA4DzB,gCAAsB,CA5DG;AA6DzB,8BAAoB,MA7DK;AA8DzB,0CAAgC,WA9DP;AA+DzB,sCAA4B,CA/DH;AAgEzB,mCAAyB,KAhEA;AAiEzB,mCAAyB,KAjEA;AAkEzB,0CAAgC,iBAlEP;AAmEzB,2CAAiC,iBAnER;AAoEzB,+BAAqB,WApEI;AAqEzB,4BAAkB,MArEO;AAsEzB,6BAAmB,MAtEM;AAuEzB,8BAAoB,MAvEK;AAwEzB,+BAAqB,MAxEI;AAyEzB,0BAAgB,MAzES;AA0EzB,4BAAkB,CA1EO;AA2EzB,0BAAgB,CA3ES;AA4EzB,0BAAgB,OA5ES;AA6EzB,oBAAU,EA7Ee;AA8EzB,mBAAS,EA9EgB;AA+EzB,mBAAS,SA/EgB;AAgFzB,kCAAwB,kCAhFC;;AAkFzB;AACA,mBAAS,IAnFgB;AAoFzB,4BAAkB,CApFO;AAqFzB,4BAAkB,CArFO;AAsFzB,2BAAiB,CAtFQ;;AAwFzB;AACA,qBAAW,CAzFc;AA0FzB,iCAAuB,OA1FE;AA2FzB,sBAAY,QA3Fa;AA4FzB,wCAA8B,SA5FL;AA6FzB,uBAAa,CA7FY;AA8FzB,iCAAuB,CA9FE;AA+FzB,kCAAwB,CA/FC;AAgGzB,wBAAc,CAhGW;AAiGzB,iCAAuB,CAjGE;AAkGzB,oCAA0B;AAlGD,SAAZ,EAmGZ;AACD;AACA,sBAAY;AAFX,SAnGY,EAsGZ,CAAC,EAAE3G,MAAM,4BAAR,EAAsCF,OAAO,OAA7C,EAAD,EAAyD,EAAEE,MAAM,2BAAR,EAAqCF,OAAO,IAA5C,EAAzD,EAA6G,EAAEE,MAAM,8BAAR,EAAwCF,OAAO,CAA/C,EAA7G,EAAiKq5C,MAAjK,CAAwK,UAAUnpB,GAAV,EAAeiF,IAAf,EAAqB;AAC9L,eAAK,IAAIx1B,IAAI,CAAb,EAAgBA,KAAKk1B,MAAMwpE,cAA3B,EAA2C1+F,GAA3C,EAAgD;AAC9C,gBAAIO,OAAOi1B,KAAKj1B,IAAL,CAAUiwG,OAAV,CAAkB,OAAlB,EAA2BxwG,CAA3B,CAAX;AACA,gBAAI4I,MAAM4sB,KAAKn1B,KAAf;;AAEAkwB,gBAAIhwB,IAAJ,IAAYqI,GAAZ;AACD;;AAED,iBAAO2nB,GAAP;AACD,SATE,EASA,EATA,CAtGY,EA+GP;AACN;AACA,wBAAc,OAFR;AAGN,wBAAc,MAHR;AAIN,qCAA2B,EAJrB;AAKN,mCAAyB,GALnB;AAMN,6BAAmB,GANb;AAON,+BAAqB,EAPf;AAQN,4BAAkB,cARZ;AASN,yBAAe,QATT;AAUN,6BAAmB,CAVb;AAWN,yBAAe,CAXT;AAYN,4BAAkB,QAZZ;AAaN,wBAAc,QAbR;AAcN,uCAA6B,CAdvB;AAeN,uCAA6B,CAfvB;AAgBN,6BAAmB,iBAhBb;AAiBN,6BAAmB;AAjBb,SA/GO,EAiIZ,CAAC,EAAEhwB,MAAM,aAAR,EAAuBF,OAAO,MAA9B,EAAD,EAAyC,EAAEE,MAAM,aAAR,EAAuBF,OAAO,MAA9B,EAAzC,EAAiF,EAAEE,MAAM,YAAR,EAAsBF,OAAO,QAA7B,EAAjF,EAA0Hq5C,MAA1H,CAAiI,UAAUnpB,GAAV,EAAeiF,IAAf,EAAqB;AACvJN,gBAAMwsF,aAAN,CAAoB93G,OAApB,CAA4B,UAAUJ,MAAV,EAAkB;AAC5C,gBAAIjJ,OAAOiJ,SAAS,GAAT,GAAegsB,KAAKj1B,IAA/B;AACA,gBAAIqI,MAAM4sB,KAAKn1B,KAAf;;AAEAkwB,gBAAIhwB,IAAJ,IAAYqI,GAAZ;AACD,WALD;;AAOA,iBAAO2nB,GAAP;AACD,SATE,EASA,EATA,CAjIY,CAAf;;AA4IA,YAAIwxF,cAAc,EAAlB;;AAEA,aAAK,IAAI/hH,IAAI,CAAb,EAAgBA,IAAI,KAAKs1B,UAAL,CAAgB/sB,MAApC,EAA4CvI,GAA5C,EAAiD;AAC/C,cAAIw1B,OAAO,KAAKF,UAAL,CAAgBt1B,CAAhB,CAAX;;AAEA,cAAIw1B,KAAK4mF,QAAT,EAAmB;AACjB;AACD;;AAED,cAAI77G,OAAOi1B,KAAKj1B,IAAhB;AACA,cAAIqI,MAAMk5G,SAASvhH,IAAT,CAAV;AACA,cAAI43G,aAAa,KAAK77F,KAAL,CAAW/b,IAAX,EAAiBqI,GAAjB,CAAjB;;AAEAm5G,sBAAYxhH,IAAZ,IAAoB43G,UAApB;AACD;;AAED,eAAO4J,WAAP;AACD,OA9J4B,CAA7B;;AAgKA7sF,YAAME,oBAAN,GAA6B,YAAY;AACvC,aAAKrZ,QAAL,CAAc,cAAd,EAA8B;AAA9B,SACCwU,GADD,CACK;AACH,mBAAS,WADN;AAEH,qBAAW,EAFR;AAGH,8BAAoB,MAHjB;AAIH,0BAAgB,MAJb;AAKH,0BAAgB;AALb,SADL,EAOGxU,QAPH,CAOY,MAPZ,EAOoB;AAPpB,SAQCwU,GARD,CAQK;AACH,mBAAS,CADN;AAEH,yBAAe;AAFZ,SARL,EAWGxU,QAXH,CAWY,kBAXZ,EAWgCwU,GAXhC,CAWoC;AAClC,yBAAe,QADmB;AAElC,6BAAmB,iBAFe;AAGlC,6BAAmB;AAHe,SAXpC,EAeGxU,QAfH,CAeY,WAfZ,EAeyBwU,GAfzB,CAe6B;AAC3B,8BAAoB,SADO;AAE3B,wBAAc,SAFa;AAG3B,gCAAsB,SAHK;AAI3B,gCAAsB,SAJK;AAK3B,oCAA0B,SALC;AAM3B,oCAA0B;AANC,SAf7B,EAsBGxU,QAtBH,CAsBY,sBAtBZ,EAsBoCwU,GAtBpC,CAsBwC;AACtC,8BAAoB,SADkB;AAEtC,0BAAgB;AAFsB,SAtBxC,EAyBGxU,QAzBH,CAyBY,SAzBZ,EAyBuBwU,GAzBvB,CAyB2B;AACzB,2BAAiB,OADQ;AAEzB,6BAAmB,EAFM;AAGzB,6BAAmB;AAHM,SAzB3B,EA6BGxU,QA7BH,CA6BY,MA7BZ,EA6BoB;AA7BpB,SA8BCwU,GA9BD,CA8BK;AACH,iCAAuB,MADpB;AAEH,mCAAyB,IAFtB;AAGH,wCAA8B,MAH3B;AAIH,wCAA8B,CAJ3B;AAKH,6BAAmB,OALhB;AAMH,+BAAqB,IANlB;AAOH,4BAAkB,EAPf;AAQH,sCAA4B,MARzB;AASH,wCAA8B;AAT3B,SA9BL;;AA0CA,aAAKmsF,aAAL,GAAqB,KAAKn0G,MAA1B;AACD,OA5CD;;AA8CAjJ,aAAOD,OAAP,GAAiB61B,KAAjB;;AAEA;AAAO,KA3j3BG;AA4j3BV;AACA,SAAO,UAAS51B,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIoG,OAAOpG,oBAAoB,CAApB,CAAX;AACA,UAAIgc,WAAWhc,oBAAoB,CAApB,CAAf;;AAEA,UAAIo1B,QAAQ,EAAZ;;AAEAA,YAAMe,gBAAN,GAAyB,UAAUtzB,MAAV,EAAkB;AACzC,YAAIqZ,OAAO,IAAX;AACA,YAAIlY,QAAQ,IAAZ;AACA,YAAI6wG,YAAY,KAAKhyG,MAArB;AACA,YAAIq/G,iBAAiB,KAAK,CAA1B;AACA,YAAIC,WAAW,KAAK,CAApB;AACA,YAAIC,gBAAgB,KAAK,CAAzB;;AAEA;AACAvN,oBAAYA,UAAUnE,OAAV,CAAkB,uBAAlB,EAA2C,EAA3C,CAAZ;;AAEA,iBAAS2R,8BAAT,GAA0C;AACxC;AACA,cAAIxN,UAAUpsG,MAAV,GAAmBy5G,eAAez5G,MAAtC,EAA8C;AAC5CosG,wBAAYA,UAAUlK,MAAV,CAAiBuX,eAAez5G,MAAhC,CAAZ;AACD,WAFD,MAEO;AACLosG,wBAAY,EAAZ;AACD;AACF;;AAED,iBAASyN,uBAAT,GAAmC;AACjC;AACA,cAAIH,SAAS15G,MAAT,GAAkB25G,cAAc35G,MAApC,EAA4C;AAC1C05G,uBAAWA,SAASxX,MAAT,CAAgByX,cAAc35G,MAA9B,CAAX;AACD,WAFD,MAEO;AACL05G,uBAAW,EAAX;AACD;AACF;;AAED,eAAO,IAAP,EAAa;AACX,cAAII,qBAAqB1N,UAAUvwG,KAAV,CAAgB,OAAhB,CAAzB;AACA,cAAIi+G,kBAAJ,EAAwB;AACtB;AACD;;AAED,cAAIC,cAAc3N,UAAUvwG,KAAV,CAAgB,qCAAhB,CAAlB;;AAEA,cAAI,CAACk+G,WAAL,EAAkB;AAChBp8G,iBAAKQ,KAAL,CAAW,8GAA8GiuG,SAAzH;AACA;AACD;;AAEDqN,2BAAiBM,YAAY,CAAZ,CAAjB;;AAEA;AACA,cAAIjtF,cAAcitF,YAAY,CAAZ,CAAlB;AACA,cAAIjtF,gBAAgB,MAApB,EAA4B;AAC1B,gBAAItZ,WAAW,IAAID,QAAJ,CAAauZ,WAAb,CAAf;AACA,gBAAItZ,SAASpY,QAAT,CAAkBuY,OAAtB,EAA+B;AAC7BhW,mBAAKQ,KAAL,CAAW,6EAA6E2uB,WAAxF;;AAEA;AACA8sF;AACA;AACD;AACF;;AAED;AACA,cAAII,WAAWD,YAAY,CAAZ,CAAf;AACA,cAAIE,eAAe,KAAnB;AACAP,qBAAWM,QAAX;AACA,cAAIt8F,QAAQ,EAAZ;;AAEA,iBAAO,IAAP,EAAa;AACX,gBAAIw8F,sBAAsBR,SAAS79G,KAAT,CAAe,OAAf,CAA1B;AACA,gBAAIq+G,mBAAJ,EAAyB;AACvB;AACD;;AAED,gBAAIC,aAAaT,SAAS79G,KAAT,CAAe,2BAAf,CAAjB;;AAEA,gBAAI,CAACs+G,UAAL,EAAiB;AACfx8G,mBAAKQ,KAAL,CAAW,oGAAoG67G,QAA/G;AACAC,6BAAe,IAAf;AACA;AACD;;AAEDN,4BAAgBQ,WAAW,CAAX,CAAhB;AACA,gBAAIC,UAAUD,WAAW,CAAX,CAAd;AACA,gBAAInP,SAASmP,WAAW,CAAX,CAAb;;AAEA,gBAAIltF,OAAOxZ,KAAKsZ,UAAL,CAAgBqtF,OAAhB,CAAX;AACA,gBAAI,CAACntF,IAAL,EAAW;AACTtvB,mBAAKQ,KAAL,CAAW,kDAAkDw7G,aAA7D;;AAEA;AACAE;AACA;AACD;;AAED,gBAAIjK,aAAar0G,MAAMwY,KAAN,CAAYqmG,OAAZ,EAAqBpP,MAArB,CAAjB;;AAEA,gBAAI,CAAC4E,UAAL,EAAiB;AACfjyG,mBAAKQ,KAAL,CAAW,wDAAwDw7G,aAAnE;;AAEA;AACAE;AACA;AACD;;AAEDn8F,kBAAM9c,IAAN,CAAW;AACT5I,oBAAMoiH,OADG;AAET/5G,mBAAK2qG;AAFI,aAAX;AAIA6O;AACD;;AAED,cAAII,YAAJ,EAAkB;AAChBL;AACA;AACD;;AAED;AACAr+G,gBAAMiY,QAAN,CAAesZ,WAAf;AACA,eAAK,IAAIr1B,IAAI,CAAb,EAAgBA,IAAIimB,MAAM1d,MAA1B,EAAkCvI,GAAlC,EAAuC;AACrC,gBAAIq7G,QAAQp1F,MAAMjmB,CAAN,CAAZ;AACA8D,kBAAMysB,GAAN,CAAU8qF,MAAM96G,IAAhB,EAAsB86G,MAAMzyG,GAA5B;AACD;;AAEDu5G;AACD;;AAED,eAAOr+G,KAAP;AACD,OA3HD;;AA6HAoxB,YAAMiB,UAAN,GAAmB,UAAUxzB,MAAV,EAAkB;AACnC,YAAImB,QAAQ,IAAZ;;AAEAA,cAAMmxB,cAAN;AACAnxB,cAAMmyB,gBAAN,CAAuBtzB,MAAvB;;AAEA,eAAOmB,KAAP;AACD,OAPD;;AASAxE,aAAOD,OAAP,GAAiB61B,KAAjB;;AAEA;AAAO,KA/s3BG;AAgt3BV;AACA,SAAO,UAAS51B,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEAR,aAAOD,OAAP,GAAiB;AACf;AACAujH,mBAAW,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AACjC,cAAI,EAAEA,IAAIt6G,MAAJ,KAAe,CAAf,IAAoBs6G,IAAIt6G,MAAJ,KAAe,CAArC,KAA2Cs6G,IAAI,CAAJ,MAAW,GAA1D,EAA+D;AAC7D;AACD;;AAED,cAAIC,WAAWD,IAAIt6G,MAAJ,KAAe,CAA9B;AACA,cAAI6H,IAAI,KAAK,CAAb;AAAA,cACI8uB,IAAI,KAAK,CADb;AAAA,cAEIr3B,IAAI,KAAK,CAFb;AAGA,cAAIk7G,OAAO,EAAX;;AAEA,cAAID,QAAJ,EAAc;AACZ1yG,gBAAI4yG,SAASH,IAAI,CAAJ,IAASA,IAAI,CAAJ,CAAlB,EAA0BE,IAA1B,CAAJ;AACA7jF,gBAAI8jF,SAASH,IAAI,CAAJ,IAASA,IAAI,CAAJ,CAAlB,EAA0BE,IAA1B,CAAJ;AACAl7G,gBAAIm7G,SAASH,IAAI,CAAJ,IAASA,IAAI,CAAJ,CAAlB,EAA0BE,IAA1B,CAAJ;AACD,WAJD,MAIO;AACL3yG,gBAAI4yG,SAASH,IAAI,CAAJ,IAASA,IAAI,CAAJ,CAAlB,EAA0BE,IAA1B,CAAJ;AACA7jF,gBAAI8jF,SAASH,IAAI,CAAJ,IAASA,IAAI,CAAJ,CAAlB,EAA0BE,IAA1B,CAAJ;AACAl7G,gBAAIm7G,SAASH,IAAI,CAAJ,IAASA,IAAI,CAAJ,CAAlB,EAA0BE,IAA1B,CAAJ;AACD;;AAED,iBAAO,CAAC3yG,CAAD,EAAI8uB,CAAJ,EAAOr3B,CAAP,CAAP;AACD,SAxBc;;AA0Bf;AACAo7G,mBAAW,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AACjC,cAAIh6F,MAAM,KAAK,CAAf;AACA,cAAIzc,IAAI,KAAK,CAAb;AAAA,cACIjL,IAAI,KAAK,CADb;AAAA,cAEIvB,IAAI,KAAK,CAFb;AAAA,cAGI2H,IAAI,KAAK,CAHb;AAAA,cAIIwI,IAAI,KAAK,CAJb;AAAA,cAKI8uB,IAAI,KAAK,CALb;AAAA,cAMIr3B,IAAI,KAAK,CANb;AAOA,mBAASs7G,OAAT,CAAiB5hH,CAAjB,EAAoBqP,CAApB,EAAuBrF,CAAvB,EAA0B;AACxB,gBAAIA,IAAI,CAAR,EAAWA,KAAK,CAAL;AACX,gBAAIA,IAAI,CAAR,EAAWA,KAAK,CAAL;AACX,gBAAIA,IAAI,IAAI,CAAZ,EAAe,OAAOhK,IAAI,CAACqP,IAAIrP,CAAL,IAAU,CAAV,GAAcgK,CAAzB;AACf,gBAAIA,IAAI,IAAI,CAAZ,EAAe,OAAOqF,CAAP;AACf,gBAAIrF,IAAI,IAAI,CAAZ,EAAe,OAAOhK,IAAI,CAACqP,IAAIrP,CAAL,KAAW,IAAI,CAAJ,GAAQgK,CAAnB,IAAwB,CAAnC;AACf,mBAAOhK,CAAP;AACD;;AAED,cAAIpB,IAAI,IAAIswG,MAAJ,CAAW,MAAM,KAAKO,KAAL,CAAW8N,IAAjB,GAAwB,GAAnC,EAAwC7M,IAAxC,CAA6CiR,GAA7C,CAAR;AACA,cAAI/iH,CAAJ,EAAO;;AAEL;AACAsM,gBAAIu2G,SAAS7iH,EAAE,CAAF,CAAT,CAAJ;AACA,gBAAIsM,IAAI,CAAR,EAAW;AACTA,kBAAI,CAAC,MAAM,CAAC,CAAD,GAAKA,CAAL,GAAS,GAAhB,IAAuB,GAA3B;AACD,aAFD,MAEO,IAAIA,IAAI,GAAR,EAAa;AAClBA,kBAAIA,IAAI,GAAR;AACD;AACDA,iBAAK,GAAL,CATK,CASK;;AAEVjL,gBAAIuoD,WAAW5pD,EAAE,CAAF,CAAX,CAAJ;AACA,gBAAIqB,IAAI,CAAJ,IAASA,IAAI,GAAjB,EAAsB;AACpB;AACD,aAdI,CAcH;AACFA,gBAAIA,IAAI,GAAR,CAfK,CAeQ;;AAEbvB,gBAAI8pD,WAAW5pD,EAAE,CAAF,CAAX,CAAJ;AACA,gBAAIF,IAAI,CAAJ,IAASA,IAAI,GAAjB,EAAsB;AACpB;AACD,aApBI,CAoBH;AACFA,gBAAIA,IAAI,GAAR,CArBK,CAqBQ;;AAEb2H,gBAAIzH,EAAE,CAAF,CAAJ;AACA,gBAAIyH,MAAMrE,SAAV,EAAqB;AACnBqE,kBAAImiD,WAAWniD,CAAX,CAAJ;;AAEA,kBAAIA,IAAI,CAAJ,IAASA,IAAI,CAAjB,EAAoB;AAClB;AACD,eALkB,CAKjB;AACH;;AAED;AACA;AACA,gBAAIpG,MAAM,CAAV,EAAa;AACX4O,kBAAI8uB,IAAIr3B,IAAI1E,KAAKskD,KAAL,CAAWxnD,IAAI,GAAf,CAAZ,CADW,CACsB;AAClC,aAFD,MAEO;AACL,kBAAI2Q,IAAI3Q,IAAI,GAAJ,GAAUA,KAAK,IAAIuB,CAAT,CAAV,GAAwBvB,IAAIuB,CAAJ,GAAQvB,IAAIuB,CAA5C;AACA,kBAAID,IAAI,IAAItB,CAAJ,GAAQ2Q,CAAhB;AACAR,kBAAIjN,KAAKskD,KAAL,CAAW,MAAM07D,QAAQ5hH,CAAR,EAAWqP,CAAX,EAAcnE,IAAI,IAAI,CAAtB,CAAjB,CAAJ;AACAyyB,kBAAI/7B,KAAKskD,KAAL,CAAW,MAAM07D,QAAQ5hH,CAAR,EAAWqP,CAAX,EAAcnE,CAAd,CAAjB,CAAJ;AACA5E,kBAAI1E,KAAKskD,KAAL,CAAW,MAAM07D,QAAQ5hH,CAAR,EAAWqP,CAAX,EAAcnE,IAAI,IAAI,CAAtB,CAAjB,CAAJ;AACD;;AAEDyc,kBAAM,CAAC9Y,CAAD,EAAI8uB,CAAJ,EAAOr3B,CAAP,EAAUD,CAAV,CAAN;AACD;;AAED,iBAAOshB,GAAP;AACD,SA9Fc;;AAgGf;AACAk6F,mBAAW,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AACjC,cAAIn6F,MAAM,KAAK,CAAf;;AAEA,cAAI/oB,IAAI,IAAIswG,MAAJ,CAAW,MAAM,KAAKO,KAAL,CAAW4N,IAAjB,GAAwB,GAAnC,EAAwC3M,IAAxC,CAA6CoR,GAA7C,CAAR;AACA,cAAIljH,CAAJ,EAAO;AACL+oB,kBAAM,EAAN;;AAEA,gBAAIo6F,QAAQ,EAAZ;AACA,iBAAK,IAAItjH,IAAI,CAAb,EAAgBA,KAAK,CAArB,EAAwBA,GAAxB,EAA6B;AAC3B,kBAAIujH,UAAUpjH,EAAEH,CAAF,CAAd;;AAEA,kBAAIujH,QAAQA,QAAQh7G,MAAR,GAAiB,CAAzB,MAAgC,GAApC,EAAyC;AACvC+6G,sBAAMtjH,CAAN,IAAW,IAAX;AACD;AACDujH,wBAAUx5D,WAAWw5D,OAAX,CAAV;;AAEA,kBAAID,MAAMtjH,CAAN,CAAJ,EAAc;AACZujH,0BAAUA,UAAU,GAAV,GAAgB,GAA1B,CADY,CACmB;AAChC;;AAED,kBAAIA,UAAU,CAAV,IAAeA,UAAU,GAA7B,EAAkC;AAChC;AACD,eAd0B,CAczB;;AAEFr6F,kBAAI/f,IAAJ,CAAShG,KAAKC,KAAL,CAAWmgH,OAAX,CAAT;AACD;;AAED,gBAAIC,kBAAkBF,MAAM,CAAN,KAAYA,MAAM,CAAN,CAAZ,IAAwBA,MAAM,CAAN,CAA9C;AACA,gBAAIG,YAAYH,MAAM,CAAN,KAAYA,MAAM,CAAN,CAAZ,IAAwBA,MAAM,CAAN,CAAxC;AACA,gBAAIE,mBAAmB,CAACC,SAAxB,EAAmC;AACjC;AACD,aA3BI,CA2BH;;AAEF,gBAAIjhF,QAAQriC,EAAE,CAAF,CAAZ;AACA,gBAAIqiC,UAAUj/B,SAAd,EAAyB;AACvBi/B,sBAAQunB,WAAWvnB,KAAX,CAAR;;AAEA,kBAAIA,QAAQ,CAAR,IAAaA,QAAQ,CAAzB,EAA4B;AAC1B;AACD,eALsB,CAKrB;;AAEFtZ,kBAAI/f,IAAJ,CAASq5B,KAAT;AACD;AACF;;AAED,iBAAOtZ,GAAP;AACD,SA/Ic;;AAiJfw6F,yBAAiB,SAASA,eAAT,CAAyBl8D,KAAzB,EAAgC;AAC/C,iBAAO,KAAKm8D,MAAL,CAAYn8D,MAAMgzB,WAAN,EAAZ,CAAP;AACD,SAnJc;;AAqJfgkC,qBAAa,SAASA,WAAT,CAAqBh3D,KAArB,EAA4B;AACvC,iBAAO,CAAChlD,GAAGI,KAAH,CAAS4kD,KAAT,IAAkBA,KAAlB,GAA0B,IAA3B,KAAoC,KAAKk8D,eAAL,CAAqBl8D,KAArB,CAApC,IAAmE,KAAKo7D,SAAL,CAAep7D,KAAf,CAAnE,IAA4F,KAAK47D,SAAL,CAAe57D,KAAf,CAA5F,IAAqH,KAAKy7D,SAAL,CAAez7D,KAAf,CAA5H;AACD,SAvJc;;AAyJfm8D,gBAAQ;AACN;AACA1vF,uBAAa,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAFP,EAEqB;;AAE3B;AACA2vF,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CALL;AAMNC,wBAAc,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CANR;AAONC,gBAAM,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,CAPA;AAQNC,sBAAY,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CARN;AASNC,iBAAO,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CATD;AAUNC,iBAAO,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAVD;AAWNC,kBAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAXF;AAYNC,iBAAO,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAZD;AAaNC,0BAAgB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAbV;AAcNC,gBAAM,CAAC,CAAD,EAAI,CAAJ,EAAO,GAAP,CAdA;AAeNC,sBAAY,CAAC,GAAD,EAAM,EAAN,EAAU,GAAV,CAfN;AAgBNC,iBAAO,CAAC,GAAD,EAAM,EAAN,EAAU,EAAV,CAhBD;AAiBNC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAjBL;AAkBNC,qBAAW,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,CAlBL;AAmBNC,sBAAY,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CAnBN;AAoBNC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,CApBL;AAqBNC,iBAAO,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,CArBD;AAsBNC,0BAAgB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAtBV;AAuBNC,oBAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAvBJ;AAwBNC,mBAAS,CAAC,GAAD,EAAM,EAAN,EAAU,EAAV,CAxBH;AAyBNC,gBAAM,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,CAzBA;AA0BNC,oBAAU,CAAC,CAAD,EAAI,CAAJ,EAAO,GAAP,CA1BJ;AA2BNC,oBAAU,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,CA3BJ;AA4BNC,yBAAe,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,CA5BT;AA6BNC,oBAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA7BJ;AA8BNC,qBAAW,CAAC,CAAD,EAAI,GAAJ,EAAS,CAAT,CA9BL;AA+BNC,oBAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA/BJ;AAgCNC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAhCL;AAiCNC,uBAAa,CAAC,GAAD,EAAM,CAAN,EAAS,GAAT,CAjCP;AAkCNC,0BAAgB,CAAC,EAAD,EAAK,GAAL,EAAU,EAAV,CAlCV;AAmCNC,sBAAY,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CAnCN;AAoCNC,sBAAY,CAAC,GAAD,EAAM,EAAN,EAAU,GAAV,CApCN;AAqCNC,mBAAS,CAAC,GAAD,EAAM,CAAN,EAAS,CAAT,CArCH;AAsCNC,sBAAY,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAtCN;AAuCNC,wBAAc,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAvCR;AAwCNC,yBAAe,CAAC,EAAD,EAAK,EAAL,EAAS,GAAT,CAxCT;AAyCNC,yBAAe,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAzCT;AA0CNC,yBAAe,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CA1CT;AA2CNC,yBAAe,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,CA3CT;AA4CNC,sBAAY,CAAC,GAAD,EAAM,CAAN,EAAS,GAAT,CA5CN;AA6CNC,oBAAU,CAAC,GAAD,EAAM,EAAN,EAAU,GAAV,CA7CJ;AA8CNC,uBAAa,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,CA9CP;AA+CNC,mBAAS,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA/CH;AAgDNC,mBAAS,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAhDH;AAiDNC,sBAAY,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,CAjDN;AAkDNC,qBAAW,CAAC,GAAD,EAAM,EAAN,EAAU,EAAV,CAlDL;AAmDNC,uBAAa,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAnDP;AAoDNC,uBAAa,CAAC,EAAD,EAAK,GAAL,EAAU,EAAV,CApDP;AAqDNC,mBAAS,CAAC,GAAD,EAAM,CAAN,EAAS,GAAT,CArDH;AAsDNC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAtDL;AAuDNC,sBAAY,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAvDN;AAwDNC,gBAAM,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CAxDA;AAyDNC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,CAzDL;AA0DNC,gBAAM,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA1DA;AA2DNC,gBAAM,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA3DA;AA4DNC,iBAAO,CAAC,CAAD,EAAI,GAAJ,EAAS,CAAT,CA5DD;AA6DNC,uBAAa,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,CA7DP;AA8DNC,oBAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA9DJ;AA+DNC,mBAAS,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA/DH;AAgENC,qBAAW,CAAC,GAAD,EAAM,EAAN,EAAU,EAAV,CAhEL;AAiENC,kBAAQ,CAAC,EAAD,EAAK,CAAL,EAAQ,GAAR,CAjEF;AAkENC,iBAAO,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAlED;AAmENC,iBAAO,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAnED;AAoENC,oBAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CApEJ;AAqENC,yBAAe,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CArET;AAsENC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CAtEL;AAuENC,wBAAc,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAvER;AAwENC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAxEL;AAyENC,sBAAY,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAzEN;AA0ENC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA1EL;AA2ENC,gCAAsB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA3EhB;AA4ENC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA5EL;AA6ENC,sBAAY,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA7EN;AA8ENC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA9EL;AA+ENC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA/EL;AAgFNC,uBAAa,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAhFP;AAiFNC,yBAAe,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,CAjFT;AAkFNC,wBAAc,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAlFR;AAmFNC,0BAAgB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAnFV;AAoFNC,0BAAgB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CApFV;AAqFNC,0BAAgB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CArFV;AAsFNC,uBAAa,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAtFP;AAuFNC,gBAAM,CAAC,CAAD,EAAI,GAAJ,EAAS,CAAT,CAvFA;AAwFNC,qBAAW,CAAC,EAAD,EAAK,GAAL,EAAU,EAAV,CAxFL;AAyFNC,iBAAO,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAzFD;AA0FNC,mBAAS,CAAC,GAAD,EAAM,CAAN,EAAS,GAAT,CA1FH;AA2FNC,kBAAQ,CAAC,GAAD,EAAM,CAAN,EAAS,CAAT,CA3FF;AA4FNC,4BAAkB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA5FZ;AA6FNC,sBAAY,CAAC,CAAD,EAAI,CAAJ,EAAO,GAAP,CA7FN;AA8FNC,wBAAc,CAAC,GAAD,EAAM,EAAN,EAAU,GAAV,CA9FR;AA+FNC,wBAAc,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA/FR;AAgGNC,0BAAgB,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,CAhGV;AAiGNC,2BAAiB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAjGX;AAkGNC,6BAAmB,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,CAlGb;AAmGNC,2BAAiB,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,CAnGX;AAoGNC,2BAAiB,CAAC,GAAD,EAAM,EAAN,EAAU,GAAV,CApGX;AAqGNC,wBAAc,CAAC,EAAD,EAAK,EAAL,EAAS,GAAT,CArGR;AAsGNC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAtGL;AAuGNC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAvGL;AAwGNC,oBAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAxGJ;AAyGNC,uBAAa,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAzGP;AA0GNC,gBAAM,CAAC,CAAD,EAAI,CAAJ,EAAO,GAAP,CA1GA;AA2GNC,mBAAS,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA3GH;AA4GNC,iBAAO,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CA5GD;AA6GNC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,CA7GL;AA8GNC,kBAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CA9GF;AA+GNC,qBAAW,CAAC,GAAD,EAAM,EAAN,EAAU,CAAV,CA/GL;AAgHNC,kBAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAhHF;AAiHNC,yBAAe,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAjHT;AAkHNC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAlHL;AAmHNC,yBAAe,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAnHT;AAoHNC,yBAAe,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CApHT;AAqHNC,sBAAY,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CArHN;AAsHNC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAtHL;AAuHNC,gBAAM,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,CAvHA;AAwHNC,gBAAM,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAxHA;AAyHNC,gBAAM,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAzHA;AA0HNC,sBAAY,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA1HN;AA2HNC,kBAAQ,CAAC,GAAD,EAAM,CAAN,EAAS,GAAT,CA3HF;AA4HNC,eAAK,CAAC,GAAD,EAAM,CAAN,EAAS,CAAT,CA5HC;AA6HNC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA7HL;AA8HNC,qBAAW,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,CA9HL;AA+HNC,uBAAa,CAAC,GAAD,EAAM,EAAN,EAAU,EAAV,CA/HP;AAgINC,kBAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAhIF;AAiINC,sBAAY,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,CAjIN;AAkINC,oBAAU,CAAC,EAAD,EAAK,GAAL,EAAU,EAAV,CAlIJ;AAmINC,oBAAU,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAnIJ;AAoINC,kBAAQ,CAAC,GAAD,EAAM,EAAN,EAAU,EAAV,CApIF;AAqINC,kBAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CArIF;AAsINC,mBAAS,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAtIH;AAuINC,qBAAW,CAAC,GAAD,EAAM,EAAN,EAAU,GAAV,CAvIL;AAwINC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAxIL;AAyINC,qBAAW,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAzIL;AA0INC,gBAAM,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA1IA;AA2INC,uBAAa,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,CA3IP;AA4INC,qBAAW,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,CA5IL;AA6INC,eAAK,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA7IC;AA8INC,gBAAM,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,CA9IA;AA+INC,mBAAS,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CA/IH;AAgJNC,kBAAQ,CAAC,GAAD,EAAM,EAAN,EAAU,EAAV,CAhJF;AAiJNC,qBAAW,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,CAjJL;AAkJNC,kBAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAlJF;AAmJNC,iBAAO,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAnJD;AAoJNC,iBAAO,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CApJD;AAqJNC,sBAAY,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CArJN;AAsJNC,kBAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,CAtJF;AAuJNC,uBAAa,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX;AAvJP;AAzJO,OAAjB;;AAoTA;AAAO,KA5g4BG;AA6g4BV;AACA,SAAO,UAASxtH,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEAR,aAAOD,OAAP,GAAiB;AACf;AACA0tH,kBAAU,SAASA,QAAT,CAAkB9tG,GAAlB,EAAuB;AAC/B,cAAIuD,QAAQ,IAAZ;;AAEA,cAAIvD,OAAO,IAAX,EAAiB;AACf,mBAAOve,OAAO8H,IAAP,CAAYyW,GAAZ,EAAiB1W,MAAjB,KAA4B,CAAnC;AACD;;AAED,iBAAOia,KAAP;AACD,SAVc;;AAYf;AACAwqG,iBAAS,SAASA,OAAT,CAAiBhuG,OAAjB,EAA0B;AACjC,cAAIpc,QAAQ,KAAK41B,MAAL,CAAYxZ,OAAZ,CAAZ;;AAEA,cAAIpc,SAAS,IAAb,EAAmB;AACjB;AACA,iBAAK21B,MAAL,CAAY,KAAKrxB,MAAL,CAAY,EAAZ,EAAgB8X,OAAhB,EAAyB;AACnC3e,qBAAO,CAAC2e,QAAQ3e,KAAT;AAD4B,aAAzB,CAAZ;AAGD,WALD,MAKO;AACLuC,kBAAMuG,IAAN,CAAW6V,QAAQ3e,KAAnB;AACD;AACF,SAxBc;;AA0Bf;AACAk4B,gBAAQ,SAASA,MAAT,CAAgBvZ,OAAhB,EAAyB;AAC/B,cAAIpd,MAAMod,QAAQC,GAAlB;AACA,cAAIqH,MAAM,KAAK,CAAf;AACA,cAAI9d,OAAOwW,QAAQxW,IAAnB;AACA,cAAIvI,IAAIuI,KAAKD,MAAb;;AAEA,eAAK,IAAIvI,IAAI,CAAb,EAAgBA,IAAIC,CAApB,EAAuBD,GAAvB,EAA4B;AAC1B,gBAAImxD,OAAO3oD,KAAKxI,CAAL,CAAX;;AAEA,gBAAIwC,GAAGO,WAAH,CAAeouD,IAAf,CAAJ,EAA0B;AACxB,mBAAKzqD,KAAL,CAAW,kCAAX;AACD;;AAED,gBAAI1G,IAAIwI,KAAKD,MAAL,GAAc,CAAtB,EAAyB;;AAEvB;AACA,kBAAI3G,IAAIuvD,IAAJ,KAAa,IAAjB,EAAuB;AACrBvvD,oBAAIuvD,IAAJ,IAAY,EAAZ;AACD;;AAEDvvD,oBAAMA,IAAIuvD,IAAJ,CAAN;AACD,aARD,MAQO;AACL;AACAvvD,kBAAIuvD,IAAJ,IAAYnyC,QAAQ3e,KAApB;AACD;AACF;AACF,SArDc;;AAuDf;AACAm4B,gBAAQ,SAASA,MAAT,CAAgBxZ,OAAhB,EAAyB;AAC/B,cAAIpd,MAAMod,QAAQC,GAAlB;AACA,cAAIzW,OAAOwW,QAAQxW,IAAnB;AACA,cAAIvI,IAAIuI,KAAKD,MAAb;;AAEA,eAAK,IAAIvI,IAAI,CAAb,EAAgBA,IAAIC,CAApB,EAAuBD,GAAvB,EAA4B;AAC1B,gBAAIsmB,MAAM9d,KAAKxI,CAAL,CAAV;;AAEA,gBAAIwC,GAAGO,WAAH,CAAeujB,GAAf,CAAJ,EAAyB;AACvB,mBAAK5f,KAAL,CAAW,kCAAX;AACD;;AAED9E,kBAAMA,IAAI0kB,GAAJ,CAAN;;AAEA,gBAAI1kB,OAAO,IAAX,EAAiB;AACf,qBAAOA,GAAP;AACD;AACF;;AAED,iBAAOA,GAAP;AACD,SA5Ec;;AA8Ef;AACAqrH,mBAAW,SAASA,SAAT,CAAmBjuG,OAAnB,EAA4B;AACrC,cAAIpd,MAAMod,QAAQC,GAAlB;AACA,cAAIzW,OAAOwW,QAAQxW,IAAnB;AACA,cAAIvI,IAAIuI,KAAKD,MAAb;AACA,cAAI2kH,eAAeluG,QAAQkuG,YAA3B;;AAEA,eAAK,IAAIltH,IAAI,CAAb,EAAgBA,IAAIC,CAApB,EAAuBD,GAAvB,EAA4B;AAC1B,gBAAIsmB,MAAM9d,KAAKxI,CAAL,CAAV;;AAEA,gBAAIwC,GAAGO,WAAH,CAAeujB,GAAf,CAAJ,EAAyB;AACvB,mBAAK5f,KAAL,CAAW,qCAAX;AACD;;AAED,gBAAIymH,UAAUntH,MAAMgf,QAAQxW,IAAR,CAAaD,MAAb,GAAsB,CAA1C;AACA,gBAAI4kH,OAAJ,EAAa;;AAEX,kBAAID,YAAJ,EAAkB;AAChB;AACA,oBAAIvqG,WAAWjiB,OAAO8H,IAAP,CAAY5G,GAAZ,CAAf;;AAEA,qBAAK,IAAI6G,IAAI,CAAb,EAAgBA,IAAIka,SAASpa,MAA7B,EAAqCE,GAArC,EAA0C;AACxC,sBAAI2V,QAAQuE,SAASla,CAAT,CAAZ;;AAEA,sBAAI,CAACykH,aAAa9uG,KAAb,CAAL,EAA0B;AACxBxc,wBAAIwc,KAAJ,IAAa7a,SAAb;AACD;AACF;AACF,eAXD,MAWO;AACL3B,oBAAI0kB,GAAJ,IAAW/iB,SAAX;AACD;AACF,aAhBD,MAgBO;AACL3B,oBAAMA,IAAI0kB,GAAJ,CAAN;AACD;AACF;AACF;AAjHc,OAAjB;;AAoHA;AAAO,KAzo4BG;AA0o4BV;AACA,SAAO,UAAShnB,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIkD,SAAS,qDAAb;;AAEA,UAAI47G,OAAO,gBAAgB57G,MAAhB,GAAyB,iBAAzB,GAA6CA,MAA7C,GAAsD,iBAAtD,GAA0EA,MAA1E,GAAmF,oBAAnF,GAA0GA,MAA1G,GAAmH,QAA9H;AACA,UAAI67G,iBAAiB,kBAAkB77G,MAAlB,GAA2B,mBAA3B,GAAiDA,MAAjD,GAA0D,mBAA1D,GAAgFA,MAAhF,GAAyF,sBAAzF,GAAkHA,MAAlH,GAA2H,QAAhJ;;AAEA,UAAI87G,OAAO,gBAAgB97G,MAAhB,GAAyB,aAAzB,GAAyCA,MAAzC,GAAkD,gBAAlD,GAAqEA,MAArE,GAA8E,mBAA9E,GAAoGA,MAApG,GAA6G,QAAxH;AACA,UAAI+7G,iBAAiB,kBAAkB/7G,MAAlB,GAA2B,eAA3B,GAA6CA,MAA7C,GAAsD,kBAAtD,GAA2EA,MAA3E,GAAoF,qBAApF,GAA4GA,MAA5G,GAAqH,QAA1I;;AAEA,UAAIg8G,OAAO,mBAAX;AACA,UAAIC,OAAO,mBAAX;;AAEA3/G,aAAOD,OAAP,GAAiB;AACf2xG,eAAO;AACLhuG,kBAAQA,MADH;AAEL47G,gBAAMA,IAFD;AAGLC,0BAAgBA,cAHX;AAILC,gBAAMA,IAJD;AAKLC,0BAAgBA,cALX;AAMLC,gBAAMA,IAND;AAOLC,gBAAMA;AAPD;AADQ,OAAjB;;AAYA;AAAO,KAvq4BG;AAwq4BV;AACA,SAAO,UAAS3/G,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,eAASstH,SAAT,CAAmBxlH,CAAnB,EAAsBC,CAAtB,EAAyB;AACvB,YAAID,IAAIC,CAAR,EAAW;AACT,iBAAO,CAAC,CAAR;AACD,SAFD,MAEO,IAAID,IAAIC,CAAR,EAAW;AAChB,iBAAO,CAAP;AACD,SAFM,MAEA;AACL,iBAAO,CAAP;AACD;AACF;;AAED,eAAS4sB,UAAT,CAAoB7sB,CAApB,EAAuBC,CAAvB,EAA0B;AACxB,eAAO,CAAC,CAAD,GAAKulH,UAAUxlH,CAAV,EAAaC,CAAb,CAAZ;AACD;;AAEDvI,aAAOD,OAAP,GAAiB;AACfm1B,cAAM;AACJ44F,qBAAWA,SADP;AAEJ34F,sBAAYA;AAFR;AADS,OAAjB;;AAOA;AAAO,KAns4BG;AAos4BV;AACA,SAAO,UAASn1B,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAI6J,UAAU7J,oBAAoB,EAApB,CAAd;AACA,UAAI0C,KAAK1C,oBAAoB,CAApB,CAAT;;AAEAR,aAAOD,OAAP,GAAiB;;AAEfm8G,oBAAY7xG,QAAQ,UAAUoT,GAAV,EAAe;AACjC,iBAAOA,IAAIyzF,OAAJ,CAAY,UAAZ,EAAwB,UAAU5xE,CAAV,EAAa;AAC1C,mBAAO,MAAMA,EAAE47C,WAAF,EAAb;AACD,WAFM,CAAP;AAGD,SAJW,CAFG;;AAQf9kD,oBAAY/rB,QAAQ,UAAUoT,GAAV,EAAe;AACjC,iBAAOA,IAAIyzF,OAAJ,CAAY,QAAZ,EAAsB,UAAU5xE,CAAV,EAAa;AACxC,mBAAOA,EAAE,CAAF,EAAK27C,WAAL,EAAP;AACD,WAFM,CAAP;AAGD,SAJW,CARG;;AAcf9wE,sBAAcE,QAAQ,UAAUH,MAAV,EAAkBuT,GAAlB,EAAuB;AAC3C,iBAAOvT,SAASuT,IAAI,CAAJ,EAAOw9D,WAAP,EAAT,GAAgCx9D,IAAIQ,SAAJ,CAAc,CAAd,CAAvC;AACD,SAFa,EAEX,UAAU/T,MAAV,EAAkBuT,GAAlB,EAAuB;AACxB,iBAAOvT,SAAS,GAAT,GAAeuT,GAAtB;AACD,SAJa,CAdC;;AAoBfg6B,oBAAY,SAASA,UAAT,CAAoBh6B,GAApB,EAAyB;AACnC,cAAIva,GAAG2B,WAAH,CAAe4Y,GAAf,CAAJ,EAAyB;AACvB,mBAAOA,GAAP;AACD;;AAED,iBAAOA,IAAIswG,MAAJ,CAAW,CAAX,EAAc9yC,WAAd,KAA8Bx9D,IAAIQ,SAAJ,CAAc,CAAd,CAArC;AACD;;AA1Bc,OAAjB;;AA8BA;AAAO,KA3u4BG;AA4u4BV;AACA,SAAO,UAASje,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD;;AAGA,UAAIgC,SAAShC,oBAAoB,CAApB,CAAb;AACA,UAAIwtH,cAAcxrH,SAASA,OAAOwrH,WAAhB,GAA8B,IAAhD;;AAEA,UAAIpnH,OAAO,EAAX;;AAEA,UAAIqnH,OAAOD,eAAeA,YAAY57F,GAA3B,GAAiC,YAAY;AACtD,eAAO47F,YAAY57F,GAAZ,EAAP;AACD,OAFU,GAEP,YAAY;AACd,eAAOD,KAAKC,GAAL,EAAP;AACD,OAJD;;AAMA,UAAI87F,MAAM,YAAY;AACpB,YAAI1rH,MAAJ,EAAY;AACV,cAAIA,OAAO8mD,qBAAX,EAAkC;AAChC,mBAAO,UAAUnmD,EAAV,EAAc;AACnBX,qBAAO8mD,qBAAP,CAA6BnmD,EAA7B;AACD,aAFD;AAGD,WAJD,MAIO,IAAIX,OAAO2rH,wBAAX,EAAqC;AAC1C,mBAAO,UAAUhrH,EAAV,EAAc;AACnBX,qBAAO2rH,wBAAP,CAAgChrH,EAAhC;AACD,aAFD;AAGD,WAJM,MAIA,IAAIX,OAAO4rH,2BAAX,EAAwC;AAC7C,mBAAO,UAAUjrH,EAAV,EAAc;AACnBX,qBAAO4rH,2BAAP,CAAmCjrH,EAAnC;AACD,aAFD;AAGD,WAJM,MAIA,IAAIX,OAAO6rH,uBAAX,EAAoC;AACzC,mBAAO,UAAUlrH,EAAV,EAAc;AACnBX,qBAAO6rH,uBAAP,CAA+BlrH,EAA/B;AACD,aAFD;AAGD;AACF;;AAED,eAAO,UAAUA,EAAV,EAAc;AACnB,cAAIA,EAAJ,EAAQ;AACNoY,uBAAW,YAAY;AACrBpY,iBAAG8qH,MAAH;AACD,aAFD,EAEG,OAAO,EAFV;AAGD;AACF,SAND;AAOD,OA5BS,EAAV;;AA8BArnH,WAAK0iD,qBAAL,GAA6B,UAAUnmD,EAAV,EAAc;AACzC+qH,YAAI/qH,EAAJ;AACD,OAFD;;AAIAyD,WAAKusB,cAAL,GAAsB86F,IAAtB;;AAEArnH,WAAK+rB,QAAL,GAAgBnyB,oBAAoB,GAApB,CAAhB;;AAEAoG,WAAKwrB,GAAL,GAAW,YAAY;AACrB,eAAOD,KAAKC,GAAL,EAAP;AACD,OAFD;;AAIApyB,aAAOD,OAAP,GAAiB6G,IAAjB;;AAEA;AAAO,KAzy4BG;AA0y4BV;AACA,SAAO,UAAS5G,MAAT,EAAiBD,OAAjB,EAA0B;;AAEjC;AACA,UAAIuuH,UAAUtuH,OAAOD,OAAP,GAAiB,EAA/B;;AAEA;AACA;AACA;AACA;;AAEA,UAAIwuH,gBAAJ;AACA,UAAIC,kBAAJ;;AAEA,eAASC,gBAAT,GAA4B;AACxB,cAAM,IAAIC,KAAJ,CAAU,iCAAV,CAAN;AACH;AACD,eAASC,mBAAT,GAAgC;AAC5B,cAAM,IAAID,KAAJ,CAAU,mCAAV,CAAN;AACH;AACA,mBAAY;AACT,YAAI;AACA,cAAI,OAAOnzG,UAAP,KAAsB,UAA1B,EAAsC;AAClCgzG,+BAAmBhzG,UAAnB;AACH,WAFD,MAEO;AACHgzG,+BAAmBE,gBAAnB;AACH;AACJ,SAND,CAME,OAAO/yG,CAAP,EAAU;AACR6yG,6BAAmBE,gBAAnB;AACH;AACD,YAAI;AACA,cAAI,OAAO7mC,YAAP,KAAwB,UAA5B,EAAwC;AACpC4mC,iCAAqB5mC,YAArB;AACH,WAFD,MAEO;AACH4mC,iCAAqBG,mBAArB;AACH;AACJ,SAND,CAME,OAAOjzG,CAAP,EAAU;AACR8yG,+BAAqBG,mBAArB;AACH;AACJ,OAnBA,GAAD;AAoBA,eAASC,UAAT,CAAoBC,GAApB,EAAyB;AACrB,YAAIN,qBAAqBhzG,UAAzB,EAAqC;AACjC;AACA,iBAAOA,WAAWszG,GAAX,EAAgB,CAAhB,CAAP;AACH;AACD;AACA,YAAI,CAACN,qBAAqBE,gBAArB,IAAyC,CAACF,gBAA3C,KAAgEhzG,UAApE,EAAgF;AAC5EgzG,6BAAmBhzG,UAAnB;AACA,iBAAOA,WAAWszG,GAAX,EAAgB,CAAhB,CAAP;AACH;AACD,YAAI;AACA;AACA,iBAAON,iBAAiBM,GAAjB,EAAsB,CAAtB,CAAP;AACH,SAHD,CAGE,OAAMnzG,CAAN,EAAQ;AACN,cAAI;AACA;AACA,mBAAO6yG,iBAAiB3tH,IAAjB,CAAsB,IAAtB,EAA4BiuH,GAA5B,EAAiC,CAAjC,CAAP;AACH,WAHD,CAGE,OAAMnzG,CAAN,EAAQ;AACN;AACA,mBAAO6yG,iBAAiB3tH,IAAjB,CAAsB,IAAtB,EAA4BiuH,GAA5B,EAAiC,CAAjC,CAAP;AACH;AACJ;AAGJ;AACD,eAASC,eAAT,CAAyBC,MAAzB,EAAiC;AAC7B,YAAIP,uBAAuB5mC,YAA3B,EAAyC;AACrC;AACA,iBAAOA,aAAamnC,MAAb,CAAP;AACH;AACD;AACA,YAAI,CAACP,uBAAuBG,mBAAvB,IAA8C,CAACH,kBAAhD,KAAuE5mC,YAA3E,EAAyF;AACrF4mC,+BAAqB5mC,YAArB;AACA,iBAAOA,aAAamnC,MAAb,CAAP;AACH;AACD,YAAI;AACA;AACA,iBAAOP,mBAAmBO,MAAnB,CAAP;AACH,SAHD,CAGE,OAAOrzG,CAAP,EAAS;AACP,cAAI;AACA;AACA,mBAAO8yG,mBAAmB5tH,IAAnB,CAAwB,IAAxB,EAA8BmuH,MAA9B,CAAP;AACH,WAHD,CAGE,OAAOrzG,CAAP,EAAS;AACP;AACA;AACA,mBAAO8yG,mBAAmB5tH,IAAnB,CAAwB,IAAxB,EAA8BmuH,MAA9B,CAAP;AACH;AACJ;AAIJ;AACD,UAAIjiG,QAAQ,EAAZ;AACA,UAAIkiG,WAAW,KAAf;AACA,UAAIC,YAAJ;AACA,UAAIC,aAAa,CAAC,CAAlB;;AAEA,eAASC,eAAT,GAA2B;AACvB,YAAI,CAACH,QAAD,IAAa,CAACC,YAAlB,EAAgC;AAC5B;AACH;AACDD,mBAAW,KAAX;AACA,YAAIC,aAAahmH,MAAjB,EAAyB;AACrB6jB,kBAAQmiG,aAAa9sG,MAAb,CAAoB2K,KAApB,CAAR;AACH,SAFD,MAEO;AACHoiG,uBAAa,CAAC,CAAd;AACH;AACD,YAAIpiG,MAAM7jB,MAAV,EAAkB;AACdmmH;AACH;AACJ;;AAED,eAASA,UAAT,GAAsB;AAClB,YAAIJ,QAAJ,EAAc;AACV;AACH;AACD,YAAIK,UAAUT,WAAWO,eAAX,CAAd;AACAH,mBAAW,IAAX;;AAEA,YAAI55G,MAAM0X,MAAM7jB,MAAhB;AACA,eAAMmM,GAAN,EAAW;AACP65G,yBAAeniG,KAAf;AACAA,kBAAQ,EAAR;AACA,iBAAO,EAAEoiG,UAAF,GAAe95G,GAAtB,EAA2B;AACvB,gBAAI65G,YAAJ,EAAkB;AACdA,2BAAaC,UAAb,EAAyB3gG,GAAzB;AACH;AACJ;AACD2gG,uBAAa,CAAC,CAAd;AACA95G,gBAAM0X,MAAM7jB,MAAZ;AACH;AACDgmH,uBAAe,IAAf;AACAD,mBAAW,KAAX;AACAF,wBAAgBO,OAAhB;AACH;;AAEDf,cAAQgB,QAAR,GAAmB,UAAUT,GAAV,EAAe;AAC9B,YAAI7lH,OAAO,IAAIzF,KAAJ,CAAUiE,UAAUyB,MAAV,GAAmB,CAA7B,CAAX;AACA,YAAIzB,UAAUyB,MAAV,GAAmB,CAAvB,EAA0B;AACtB,eAAK,IAAIvI,IAAI,CAAb,EAAgBA,IAAI8G,UAAUyB,MAA9B,EAAsCvI,GAAtC,EAA2C;AACvCsI,iBAAKtI,IAAI,CAAT,IAAc8G,UAAU9G,CAAV,CAAd;AACH;AACJ;AACDosB,cAAMjjB,IAAN,CAAW,IAAI0lH,IAAJ,CAASV,GAAT,EAAc7lH,IAAd,CAAX;AACA,YAAI8jB,MAAM7jB,MAAN,KAAiB,CAAjB,IAAsB,CAAC+lH,QAA3B,EAAqC;AACjCJ,qBAAWQ,UAAX;AACH;AACJ,OAXD;;AAaA;AACA,eAASG,IAAT,CAAcV,GAAd,EAAmBvrH,KAAnB,EAA0B;AACtB,aAAKurH,GAAL,GAAWA,GAAX;AACA,aAAKvrH,KAAL,GAAaA,KAAb;AACH;AACDisH,WAAKxtH,SAAL,CAAewsB,GAAf,GAAqB,YAAY;AAC7B,aAAKsgG,GAAL,CAAStnH,KAAT,CAAe,IAAf,EAAqB,KAAKjE,KAA1B;AACH,OAFD;AAGAgrH,cAAQkB,KAAR,GAAgB,SAAhB;AACAlB,cAAQmB,OAAR,GAAkB,IAAlB;AACAnB,cAAQoB,GAAR,GAAc,EAAd;AACApB,cAAQqB,IAAR,GAAe,EAAf;AACArB,cAAQ/d,OAAR,GAAkB,EAAlB,CAhKiC,CAgKX;AACtB+d,cAAQsB,QAAR,GAAmB,EAAnB;;AAEA,eAASzoH,IAAT,GAAgB,CAAE;;AAElBmnH,cAAQtkG,EAAR,GAAa7iB,IAAb;AACAmnH,cAAQrkG,WAAR,GAAsB9iB,IAAtB;AACAmnH,cAAQn2F,IAAR,GAAehxB,IAAf;AACAmnH,cAAQlkG,GAAR,GAAcjjB,IAAd;AACAmnH,cAAQnkG,cAAR,GAAyBhjB,IAAzB;AACAmnH,cAAQuB,kBAAR,GAA6B1oH,IAA7B;AACAmnH,cAAQtqG,IAAR,GAAe7c,IAAf;AACAmnH,cAAQwB,eAAR,GAA0B3oH,IAA1B;AACAmnH,cAAQyB,mBAAR,GAA8B5oH,IAA9B;;AAEAmnH,cAAQtlG,SAAR,GAAoB,UAAU/nB,IAAV,EAAgB;AAAE,eAAO,EAAP;AAAW,OAAjD;;AAEAqtH,cAAQhrC,OAAR,GAAkB,UAAUriF,IAAV,EAAgB;AAC9B,cAAM,IAAIytH,KAAJ,CAAU,kCAAV,CAAN;AACH,OAFD;;AAIAJ,cAAQ0B,GAAR,GAAc,YAAY;AAAE,eAAO,GAAP;AAAY,OAAxC;AACA1B,cAAQ2B,KAAR,GAAgB,UAAU/hB,GAAV,EAAe;AAC3B,cAAM,IAAIwgB,KAAJ,CAAU,gCAAV,CAAN;AACH,OAFD;AAGAJ,cAAQ4B,KAAR,GAAgB,YAAW;AAAE,eAAO,CAAP;AAAW,OAAxC;;AAGA;AAAO,KAv+4BG;AAw+4BV;AACA,SAAO,UAASlwH,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD,iCAA4B,WAAS2vH,MAAT,EAAiB7B,OAAjB,EAA0B;AAAE,mBAAU6B,MAAV,EAAkBlsH,SAAlB,EAA6B;AACjF;;AAEA,cAAIksH,OAAOn2G,YAAX,EAAyB;AACrB;AACH;;AAED,cAAIo2G,aAAa,CAAjB,CAPiF,CAO7D;AACpB,cAAIC,gBAAgB,EAApB;AACA,cAAIC,wBAAwB,KAA5B;AACA,cAAIC,MAAMJ,OAAOztH,QAAjB;AACA,cAAI8tH,iBAAJ;;AAEA,mBAASx2G,YAAT,CAAsB+N,QAAtB,EAAgC;AAC9B;AACA,gBAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAClCA,yBAAW,IAAI0oG,QAAJ,CAAa,KAAK1oG,QAAlB,CAAX;AACD;AACD;AACA,gBAAI/e,OAAO,IAAIzF,KAAJ,CAAUiE,UAAUyB,MAAV,GAAmB,CAA7B,CAAX;AACA,iBAAK,IAAIvI,IAAI,CAAb,EAAgBA,IAAIsI,KAAKC,MAAzB,EAAiCvI,GAAjC,EAAsC;AAClCsI,mBAAKtI,CAAL,IAAU8G,UAAU9G,IAAI,CAAd,CAAV;AACH;AACD;AACA,gBAAIgwH,OAAO,EAAE3oG,UAAUA,QAAZ,EAAsB/e,MAAMA,IAA5B,EAAX;AACAqnH,0BAAcD,UAAd,IAA4BM,IAA5B;AACAF,8BAAkBJ,UAAlB;AACA,mBAAOA,YAAP;AACD;;AAED,mBAASO,cAAT,CAAwBC,MAAxB,EAAgC;AAC5B,mBAAOP,cAAcO,MAAd,CAAP;AACH;;AAED,mBAASriG,GAAT,CAAamiG,IAAb,EAAmB;AACf,gBAAI3oG,WAAW2oG,KAAK3oG,QAApB;AACA,gBAAI/e,OAAO0nH,KAAK1nH,IAAhB;AACA,oBAAQA,KAAKC,MAAb;AACA,mBAAK,CAAL;AACI8e;AACA;AACJ,mBAAK,CAAL;AACIA,yBAAS/e,KAAK,CAAL,CAAT;AACA;AACJ,mBAAK,CAAL;AACI+e,yBAAS/e,KAAK,CAAL,CAAT,EAAkBA,KAAK,CAAL,CAAlB;AACA;AACJ,mBAAK,CAAL;AACI+e,yBAAS/e,KAAK,CAAL,CAAT,EAAkBA,KAAK,CAAL,CAAlB,EAA2BA,KAAK,CAAL,CAA3B;AACA;AACJ;AACI+e,yBAASxgB,KAAT,CAAetD,SAAf,EAA0B+E,IAA1B;AACA;AAfJ;AAiBH;;AAED,mBAAS6nH,YAAT,CAAsBD,MAAtB,EAA8B;AAC1B;AACA;AACA,gBAAIN,qBAAJ,EAA2B;AACvB;AACA;AACA/0G,yBAAWs1G,YAAX,EAAyB,CAAzB,EAA4BD,MAA5B;AACH,aAJD,MAIO;AACH,kBAAIF,OAAOL,cAAcO,MAAd,CAAX;AACA,kBAAIF,IAAJ,EAAU;AACNJ,wCAAwB,IAAxB;AACA,oBAAI;AACA/hG,sBAAImiG,IAAJ;AACH,iBAFD,SAEU;AACNC,iCAAeC,MAAf;AACAN,0CAAwB,KAAxB;AACH;AACJ;AACJ;AACJ;;AAED,mBAASQ,6BAAT,GAAyC;AACrCN,gCAAoB,2BAASI,MAAT,EAAiB;AACjCtC,sBAAQgB,QAAR,CAAiB,YAAY;AAAEuB,6BAAaD,MAAb;AAAuB,eAAtD;AACH,aAFD;AAGH;;AAED,mBAASG,iBAAT,GAA6B;AACzB;AACA;AACA,gBAAIZ,OAAOa,WAAP,IAAsB,CAACb,OAAOc,aAAlC,EAAiD;AAC7C,kBAAIC,4BAA4B,IAAhC;AACA,kBAAIC,eAAehB,OAAOiB,SAA1B;AACAjB,qBAAOiB,SAAP,GAAmB,YAAW;AAC1BF,4CAA4B,KAA5B;AACH,eAFD;AAGAf,qBAAOa,WAAP,CAAmB,EAAnB,EAAuB,GAAvB;AACAb,qBAAOiB,SAAP,GAAmBD,YAAnB;AACA,qBAAOD,yBAAP;AACH;AACJ;;AAED,mBAASG,gCAAT,GAA4C;AACxC;AACA;AACA;;AAEA,gBAAIC,gBAAgB,kBAAkBztH,KAAK2E,MAAL,EAAlB,GAAkC,GAAtD;AACA,gBAAI+oH,kBAAkB,SAAlBA,eAAkB,CAAS7sH,KAAT,EAAgB;AAClC,kBAAIA,MAAM+Z,MAAN,KAAiB0xG,MAAjB,IACA,OAAOzrH,MAAMwZ,IAAb,KAAsB,QADtB,IAEAxZ,MAAMwZ,IAAN,CAAWwf,OAAX,CAAmB4zF,aAAnB,MAAsC,CAF1C,EAE6C;AACzCT,6BAAa,CAACnsH,MAAMwZ,IAAN,CAAWpW,KAAX,CAAiBwpH,cAAcroH,MAA/B,CAAd;AACH;AACJ,aAND;;AAQA,gBAAIknH,OAAO7vC,gBAAX,EAA6B;AACzB6vC,qBAAO7vC,gBAAP,CAAwB,SAAxB,EAAmCixC,eAAnC,EAAoD,KAApD;AACH,aAFD,MAEO;AACHpB,qBAAOqB,WAAP,CAAmB,WAAnB,EAAgCD,eAAhC;AACH;;AAEDf,gCAAoB,2BAASI,MAAT,EAAiB;AACjCT,qBAAOa,WAAP,CAAmBM,gBAAgBV,MAAnC,EAA2C,GAA3C;AACH,aAFD;AAGH;;AAED,mBAASa,mCAAT,GAA+C;AAC3C,gBAAIxN,UAAU,IAAIyN,cAAJ,EAAd;AACAzN,oBAAQ0N,KAAR,CAAcP,SAAd,GAA0B,UAAS1sH,KAAT,EAAgB;AACtC,kBAAIksH,SAASlsH,MAAMwZ,IAAnB;AACA2yG,2BAAaD,MAAb;AACH,aAHD;;AAKAJ,gCAAoB,2BAASI,MAAT,EAAiB;AACjC3M,sBAAQ2N,KAAR,CAAcZ,WAAd,CAA0BJ,MAA1B;AACH,aAFD;AAGH;;AAED,mBAASiB,qCAAT,GAAiD;AAC7C,gBAAIC,OAAOvB,IAAI3qH,eAAf;AACA4qH,gCAAoB,2BAASI,MAAT,EAAiB;AACjC;AACA;AACA,kBAAImB,SAASxB,IAAI3zC,aAAJ,CAAkB,QAAlB,CAAb;AACAm1C,qBAAOC,kBAAP,GAA4B,YAAY;AACpCnB,6BAAaD,MAAb;AACAmB,uBAAOC,kBAAP,GAA4B,IAA5B;AACAF,qBAAKlkE,WAAL,CAAiBmkE,MAAjB;AACAA,yBAAS,IAAT;AACH,eALD;AAMAD,mBAAKh1C,WAAL,CAAiBi1C,MAAjB;AACH,aAXD;AAYH;;AAED,mBAASE,+BAAT,GAA2C;AACvCzB,gCAAoB,2BAASI,MAAT,EAAiB;AACjCr1G,yBAAWs1G,YAAX,EAAyB,CAAzB,EAA4BD,MAA5B;AACH,aAFD;AAGH;;AAED;AACA,cAAIsB,WAAW9wH,OAAO+wH,cAAP,IAAyB/wH,OAAO+wH,cAAP,CAAsBhC,MAAtB,CAAxC;AACA+B,qBAAWA,YAAYA,SAAS32G,UAArB,GAAkC22G,QAAlC,GAA6C/B,MAAxD;;AAEA;AACA,cAAI,GAAG1nH,QAAH,CAAY7H,IAAZ,CAAiBuvH,OAAO7B,OAAxB,MAAqC,kBAAzC,EAA6D;AACzD;AACAwC;AAEH,WAJD,MAIO,IAAIC,mBAAJ,EAAyB;AAC5B;AACAM;AAEH,WAJM,MAIA,IAAIlB,OAAOuB,cAAX,EAA2B;AAC9B;AACAD;AAEH,WAJM,MAIA,IAAIlB,OAAO,wBAAwBA,IAAI3zC,aAAJ,CAAkB,QAAlB,CAAnC,EAAgE;AACnE;AACAi1C;AAEH,WAJM,MAIA;AACH;AACAI;AACH;;AAEDC,mBAASl4G,YAAT,GAAwBA,YAAxB;AACAk4G,mBAASvB,cAAT,GAA0BA,cAA1B;AACH,SAzLuD,EAyLtD,OAAOj0G,IAAP,KAAgB,WAAhB,GAA8B,OAAOyzG,MAAP,KAAkB,WAAlB,GAAgC,IAAhC,GAAuCA,MAArE,GAA8EzzG,IAzLxB,CAAD;;AA2LvD;AAA4B,OA3LA,EA2LC9b,IA3LD,CA2LMb,OA3LN,EA2LeS,oBAAoB,GAApB,CA3Lf,EA2LyCA,oBAAoB,GAApB,CA3LzC,CAAD;;AA6L3B;AAAO,KAxq5BG;AAyq5BV;AACA,SAAO,UAASR,MAAT,EAAiBD,OAAjB,EAA0BS,mBAA1B,EAA+C;;AAEtD,UAAI+G,QAAQkpH,SAAS1uH,SAAT,CAAmBwF,KAA/B;;AAEA;;AAEAxH,cAAQwb,UAAR,GAAqB,YAAW;AAC9B,eAAO,IAAI62G,OAAJ,CAAY7qH,MAAM3G,IAAN,CAAW2a,UAAX,EAAuB/Y,MAAvB,EAA+BgF,SAA/B,CAAZ,EAAuDogF,YAAvD,CAAP;AACD,OAFD;AAGA7nF,cAAQsyH,WAAR,GAAsB,YAAW;AAC/B,eAAO,IAAID,OAAJ,CAAY7qH,MAAM3G,IAAN,CAAWyxH,WAAX,EAAwB7vH,MAAxB,EAAgCgF,SAAhC,CAAZ,EAAwD8qH,aAAxD,CAAP;AACD,OAFD;AAGAvyH,cAAQ6nF,YAAR,GACA7nF,QAAQuyH,aAAR,GAAwB,UAASjD,OAAT,EAAkB;AACxC,YAAIA,OAAJ,EAAa;AACXA,kBAAQkD,KAAR;AACD;AACF,OALD;;AAOA,eAASH,OAAT,CAAiB93G,EAAjB,EAAqBk4G,OAArB,EAA8B;AAC5B,aAAKC,GAAL,GAAWn4G,EAAX;AACA,aAAKo4G,QAAL,GAAgBF,OAAhB;AACD;AACDJ,cAAQrwH,SAAR,CAAkB4wH,KAAlB,GAA0BP,QAAQrwH,SAAR,CAAkB6wH,GAAlB,GAAwB,YAAW,CAAE,CAA/D;AACAR,cAAQrwH,SAAR,CAAkBwwH,KAAlB,GAA0B,YAAW;AACnC,aAAKG,QAAL,CAAc9xH,IAAd,CAAmB4B,MAAnB,EAA2B,KAAKiwH,GAAhC;AACD,OAFD;;AAIA;AACA1yH,cAAQ8yH,MAAR,GAAiB,UAASC,IAAT,EAAeC,KAAf,EAAsB;AACrCnrC,qBAAakrC,KAAKE,cAAlB;AACAF,aAAKG,YAAL,GAAoBF,KAApB;AACD,OAHD;;AAKAhzH,cAAQmzH,QAAR,GAAmB,UAASJ,IAAT,EAAe;AAChClrC,qBAAakrC,KAAKE,cAAlB;AACAF,aAAKG,YAAL,GAAoB,CAAC,CAArB;AACD,OAHD;;AAKAlzH,cAAQozH,YAAR,GAAuBpzH,QAAQ4wB,MAAR,GAAiB,UAASmiG,IAAT,EAAe;AACrDlrC,qBAAakrC,KAAKE,cAAlB;;AAEA,YAAID,QAAQD,KAAKG,YAAjB;AACA,YAAIF,SAAS,CAAb,EAAgB;AACdD,eAAKE,cAAL,GAAsBz3G,WAAW,SAAS63G,SAAT,GAAqB;AACpD,gBAAIN,KAAKO,UAAT,EACEP,KAAKO,UAAL;AACH,WAHqB,EAGnBN,KAHmB,CAAtB;AAID;AACF,OAVD;;AAYA;AACAvyH,0BAAoB,GAApB;AACAT,cAAQia,YAAR,GAAuBA,YAAvB;AACAja,cAAQ4wH,cAAR,GAAyBA,cAAzB;;AAGA;AAAO,KAnu5BG;AAou5BV;AACA,SAAO,UAAS3wH,MAAT,EAAiBD,OAAjB,EAA0B;;AAEjC,UAAI6/B,CAAJ;;AAEA;AACAA,UAAK,YAAW;AACf,eAAO,IAAP;AACA,OAFG,EAAJ;;AAIA,UAAI;AACH;AACAA,YAAIA,KAAK6wF,SAAS,aAAT,GAAL,IAAkC,CAAC,GAAE6C,IAAH,EAAS,MAAT,CAAtC;AACA,OAHD,CAGE,OAAM53G,CAAN,EAAS;AACV;AACA,YAAG,QAAOlZ,MAAP,0CAAOA,MAAP,OAAkB,QAArB,EACCo9B,IAAIp9B,MAAJ;AACD;;AAED;AACA;AACA;;AAEAxC,aAAOD,OAAP,GAAiB6/B,CAAjB;;AAGA;AAAO,KA9v5BG;AA+v5BV;AACA,SAAO,UAAS5/B,MAAT,EAAiBD,OAAjB,EAA0B;;AAEjCC,aAAOD,OAAP,GAAiBK,+BAAjB;;AAEA;AAAO,KApw5BG;AAqw5BV;AACA,SAAO,UAASJ,MAAT,EAAiBD,OAAjB,EAA0B;;AAEjCC,aAAOD,OAAP,GAAiBM,+BAAjB;;AAEA;AAAO,KA1w5BG;AA2w5BV,YA/05BgB;AAAhB;AAg15BC,CA115BD","file":"graph-data.map","sourcesContent":["// Generated by CoffeeScript 1.8.0\n(function() {\n  var Heap, defaultCmp, floor, heapify, heappop, heappush, heappushpop, heapreplace, insort, min, nlargest, nsmallest, updateItem, _siftdown, _siftup;\n\n  floor = Math.floor, min = Math.min;\n\n\n  /*\n  Default comparison function to be used\n   */\n\n  defaultCmp = function(x, y) {\n    if (x < y) {\n      return -1;\n    }\n    if (x > y) {\n      return 1;\n    }\n    return 0;\n  };\n\n\n  /*\n  Insert item x in list a, and keep it sorted assuming a is sorted.\n  \n  If x is already in a, insert it to the right of the rightmost x.\n  \n  Optional args lo (default 0) and hi (default a.length) bound the slice\n  of a to be searched.\n   */\n\n  insort = function(a, x, lo, hi, cmp) {\n    var mid;\n    if (lo == null) {\n      lo = 0;\n    }\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (lo < 0) {\n      throw new Error('lo must be non-negative');\n    }\n    if (hi == null) {\n      hi = a.length;\n    }\n    while (lo < hi) {\n      mid = floor((lo + hi) / 2);\n      if (cmp(x, a[mid]) < 0) {\n        hi = mid;\n      } else {\n        lo = mid + 1;\n      }\n    }\n    return ([].splice.apply(a, [lo, lo - lo].concat(x)), x);\n  };\n\n\n  /*\n  Push item onto heap, maintaining the heap invariant.\n   */\n\n  heappush = function(array, item, cmp) {\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    array.push(item);\n    return _siftdown(array, 0, array.length - 1, cmp);\n  };\n\n\n  /*\n  Pop the smallest item off the heap, maintaining the heap invariant.\n   */\n\n  heappop = function(array, cmp) {\n    var lastelt, returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    lastelt = array.pop();\n    if (array.length) {\n      returnitem = array[0];\n      array[0] = lastelt;\n      _siftup(array, 0, cmp);\n    } else {\n      returnitem = lastelt;\n    }\n    return returnitem;\n  };\n\n\n  /*\n  Pop and return the current smallest value, and add the new item.\n  \n  This is more efficient than heappop() followed by heappush(), and can be\n  more appropriate when using a fixed size heap. Note that the value\n  returned may be larger than item! That constrains reasonable use of\n  this routine unless written as part of a conditional replacement:\n      if item > array[0]\n        item = heapreplace(array, item)\n   */\n\n  heapreplace = function(array, item, cmp) {\n    var returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    returnitem = array[0];\n    array[0] = item;\n    _siftup(array, 0, cmp);\n    return returnitem;\n  };\n\n\n  /*\n  Fast version of a heappush followed by a heappop.\n   */\n\n  heappushpop = function(array, item, cmp) {\n    var _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (array.length && cmp(array[0], item) < 0) {\n      _ref = [array[0], item], item = _ref[0], array[0] = _ref[1];\n      _siftup(array, 0, cmp);\n    }\n    return item;\n  };\n\n\n  /*\n  Transform list into a heap, in-place, in O(array.length) time.\n   */\n\n  heapify = function(array, cmp) {\n    var i, _i, _j, _len, _ref, _ref1, _results, _results1;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    _ref1 = (function() {\n      _results1 = [];\n      for (var _j = 0, _ref = floor(array.length / 2); 0 <= _ref ? _j < _ref : _j > _ref; 0 <= _ref ? _j++ : _j--){ _results1.push(_j); }\n      return _results1;\n    }).apply(this).reverse();\n    _results = [];\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      i = _ref1[_i];\n      _results.push(_siftup(array, i, cmp));\n    }\n    return _results;\n  };\n\n\n  /*\n  Update the position of the given item in the heap.\n  This function should be called every time the item is being modified.\n   */\n\n  updateItem = function(array, item, cmp) {\n    var pos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    pos = array.indexOf(item);\n    if (pos === -1) {\n      return;\n    }\n    _siftdown(array, 0, pos, cmp);\n    return _siftup(array, pos, cmp);\n  };\n\n\n  /*\n  Find the n largest elements in a dataset.\n   */\n\n  nlargest = function(array, n, cmp) {\n    var elem, result, _i, _len, _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    result = array.slice(0, n);\n    if (!result.length) {\n      return result;\n    }\n    heapify(result, cmp);\n    _ref = array.slice(n);\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      elem = _ref[_i];\n      heappushpop(result, elem, cmp);\n    }\n    return result.sort(cmp).reverse();\n  };\n\n\n  /*\n  Find the n smallest elements in a dataset.\n   */\n\n  nsmallest = function(array, n, cmp) {\n    var elem, i, los, result, _i, _j, _len, _ref, _ref1, _results;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (n * 10 <= array.length) {\n      result = array.slice(0, n).sort(cmp);\n      if (!result.length) {\n        return result;\n      }\n      los = result[result.length - 1];\n      _ref = array.slice(n);\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elem = _ref[_i];\n        if (cmp(elem, los) < 0) {\n          insort(result, elem, 0, null, cmp);\n          result.pop();\n          los = result[result.length - 1];\n        }\n      }\n      return result;\n    }\n    heapify(array, cmp);\n    _results = [];\n    for (i = _j = 0, _ref1 = min(n, array.length); 0 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 0 <= _ref1 ? ++_j : --_j) {\n      _results.push(heappop(array, cmp));\n    }\n    return _results;\n  };\n\n  _siftdown = function(array, startpos, pos, cmp) {\n    var newitem, parent, parentpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    newitem = array[pos];\n    while (pos > startpos) {\n      parentpos = (pos - 1) >> 1;\n      parent = array[parentpos];\n      if (cmp(newitem, parent) < 0) {\n        array[pos] = parent;\n        pos = parentpos;\n        continue;\n      }\n      break;\n    }\n    return array[pos] = newitem;\n  };\n\n  _siftup = function(array, pos, cmp) {\n    var childpos, endpos, newitem, rightpos, startpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    endpos = array.length;\n    startpos = pos;\n    newitem = array[pos];\n    childpos = 2 * pos + 1;\n    while (childpos < endpos) {\n      rightpos = childpos + 1;\n      if (rightpos < endpos && !(cmp(array[childpos], array[rightpos]) < 0)) {\n        childpos = rightpos;\n      }\n      array[pos] = array[childpos];\n      pos = childpos;\n      childpos = 2 * pos + 1;\n    }\n    array[pos] = newitem;\n    return _siftdown(array, startpos, pos, cmp);\n  };\n\n  Heap = (function() {\n    Heap.push = heappush;\n\n    Heap.pop = heappop;\n\n    Heap.replace = heapreplace;\n\n    Heap.pushpop = heappushpop;\n\n    Heap.heapify = heapify;\n\n    Heap.updateItem = updateItem;\n\n    Heap.nlargest = nlargest;\n\n    Heap.nsmallest = nsmallest;\n\n    function Heap(cmp) {\n      this.cmp = cmp != null ? cmp : defaultCmp;\n      this.nodes = [];\n    }\n\n    Heap.prototype.push = function(x) {\n      return heappush(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pop = function() {\n      return heappop(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.peek = function() {\n      return this.nodes[0];\n    };\n\n    Heap.prototype.contains = function(x) {\n      return this.nodes.indexOf(x) !== -1;\n    };\n\n    Heap.prototype.replace = function(x) {\n      return heapreplace(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pushpop = function(x) {\n      return heappushpop(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.heapify = function() {\n      return heapify(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.updateItem = function(x) {\n      return updateItem(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.clear = function() {\n      return this.nodes = [];\n    };\n\n    Heap.prototype.empty = function() {\n      return this.nodes.length === 0;\n    };\n\n    Heap.prototype.size = function() {\n      return this.nodes.length;\n    };\n\n    Heap.prototype.clone = function() {\n      var heap;\n      heap = new Heap();\n      heap.nodes = this.nodes.slice(0);\n      return heap;\n    };\n\n    Heap.prototype.toArray = function() {\n      return this.nodes.slice(0);\n    };\n\n    Heap.prototype.insert = Heap.prototype.push;\n\n    Heap.prototype.top = Heap.prototype.peek;\n\n    Heap.prototype.front = Heap.prototype.peek;\n\n    Heap.prototype.has = Heap.prototype.contains;\n\n    Heap.prototype.copy = Heap.prototype.clone;\n\n    return Heap;\n\n  })();\n\n  (function(root, factory) {\n    if (typeof define === 'function' && define.amd) {\n      return define([], factory);\n    } else if (typeof exports === 'object') {\n      return module.exports = factory();\n    } else {\n      return root.Heap = factory();\n    }\n  })(this, function() {\n    return Heap;\n  });\n\n}).call(this);\n","module.exports = require('./lib/heap');\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"heap\"), require(\"lodash.debounce\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"heap\", \"lodash.debounce\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cytoscape\"] = factory(require(\"heap\"), require(\"lodash.debounce\"));\n\telse\n\t\troot[\"cytoscape\"] = factory(root[\"heap\"], root[\"lodash.debounce\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_140__, __WEBPACK_EXTERNAL_MODULE_141__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 116);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*global HTMLElement DocumentTouch */\n\nvar window = __webpack_require__(4);\nvar navigator = window ? window.navigator : null;\nvar document = window ? window.document : null;\n\nvar typeofstr = _typeof('');\nvar typeofobj = _typeof({});\nvar typeoffn = _typeof(function () {});\nvar typeofhtmlele = typeof HTMLElement === 'undefined' ? 'undefined' : _typeof(HTMLElement);\n\nvar instanceStr = function instanceStr(obj) {\n  return obj && obj.instanceString && is.fn(obj.instanceString) ? obj.instanceString() : null;\n};\n\nvar is = {\n  defined: function defined(obj) {\n    return obj != null; // not undefined or null\n  },\n\n  string: function string(obj) {\n    return obj != null && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) == typeofstr;\n  },\n\n  fn: function fn(obj) {\n    return obj != null && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === typeoffn;\n  },\n\n  array: function array(obj) {\n    return Array.isArray ? Array.isArray(obj) : obj != null && obj instanceof Array;\n  },\n\n  plainObject: function plainObject(obj) {\n    return obj != null && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === typeofobj && !is.array(obj) && obj.constructor === Object;\n  },\n\n  object: function object(obj) {\n    return obj != null && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === typeofobj;\n  },\n\n  number: function number(obj) {\n    return obj != null && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === _typeof(1) && !isNaN(obj);\n  },\n\n  integer: function integer(obj) {\n    return is.number(obj) && Math.floor(obj) === obj;\n  },\n\n  bool: function bool(obj) {\n    return obj != null && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === _typeof(true);\n  },\n\n  htmlElement: function htmlElement(obj) {\n    if ('undefined' === typeofhtmlele) {\n      return undefined;\n    } else {\n      return null != obj && obj instanceof HTMLElement;\n    }\n  },\n\n  elementOrCollection: function elementOrCollection(obj) {\n    return is.element(obj) || is.collection(obj);\n  },\n\n  element: function element(obj) {\n    return instanceStr(obj) === 'collection' && obj._private.single;\n  },\n\n  collection: function collection(obj) {\n    return instanceStr(obj) === 'collection' && !obj._private.single;\n  },\n\n  core: function core(obj) {\n    return instanceStr(obj) === 'core';\n  },\n\n  style: function style(obj) {\n    return instanceStr(obj) === 'style';\n  },\n\n  stylesheet: function stylesheet(obj) {\n    return instanceStr(obj) === 'stylesheet';\n  },\n\n  event: function event(obj) {\n    return instanceStr(obj) === 'event';\n  },\n\n  thread: function thread(obj) {\n    return instanceStr(obj) === 'thread';\n  },\n\n  fabric: function fabric(obj) {\n    return instanceStr(obj) === 'fabric';\n  },\n\n  emptyString: function emptyString(obj) {\n    if (obj === undefined || obj === null) {\n      // null is empty\n      return true;\n    } else if (obj === '' || obj.match(/^\\s+$/)) {\n      return true; // empty string is empty\n    }\n\n    return false; // otherwise, we don't know what we've got\n  },\n\n  nonemptyString: function nonemptyString(obj) {\n    if (obj && is.string(obj) && obj !== '' && !obj.match(/^\\s+$/)) {\n      return true;\n    }\n\n    return false;\n  },\n\n  domElement: function domElement(obj) {\n    if (typeof HTMLElement === 'undefined') {\n      return false; // we're not in a browser so it doesn't matter\n    } else {\n      return obj instanceof HTMLElement;\n    }\n  },\n\n  boundingBox: function boundingBox(obj) {\n    return is.plainObject(obj) && is.number(obj.x1) && is.number(obj.x2) && is.number(obj.y1) && is.number(obj.y2);\n  },\n\n  promise: function promise(obj) {\n    return is.object(obj) && is.fn(obj.then);\n  },\n\n  touch: function touch() {\n    return window && ('ontouchstart' in window || window.DocumentTouch && document instanceof DocumentTouch);\n  },\n\n  gecko: function gecko() {\n    return window && (typeof InstallTrigger !== 'undefined' || 'MozAppearance' in document.documentElement.style);\n  },\n\n  webkit: function webkit() {\n    return window && (typeof webkitURL !== 'undefined' || 'WebkitAppearance' in document.documentElement.style);\n  },\n\n  chromium: function chromium() {\n    return window && typeof chrome !== 'undefined';\n  },\n\n  khtml: function khtml() {\n    return navigator && navigator.vendor.match(/kde/i); // probably a better way to detect this...\n  },\n\n  khtmlEtc: function khtmlEtc() {\n    return is.khtml() || is.webkit() || is.chromium();\n  },\n\n  ms: function ms() {\n    return navigator && navigator.userAgent.match(/msie|trident|edge/i); // probably a better way to detect this...\n  },\n\n  windows: function windows() {\n    return navigator && navigator.appVersion.match(/Win/i);\n  },\n\n  mac: function mac() {\n    return navigator && navigator.appVersion.match(/Mac/i);\n  },\n\n  linux: function linux() {\n    return navigator && navigator.appVersion.match(/Linux/i);\n  },\n\n  unix: function unix() {\n    return navigator && navigator.appVersion.match(/X11/i);\n  }\n};\n\nmodule.exports = is;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*global console */\n\nvar is = __webpack_require__(0);\nvar math = __webpack_require__(2);\n\nvar util = {\n\n  MAX_INT: Number.MAX_SAFE_INTEGER || 9007199254740991,\n\n  trueify: function trueify() {\n    return true;\n  },\n\n  falsify: function falsify() {\n    return false;\n  },\n\n  zeroify: function zeroify() {\n    return 0;\n  },\n\n  noop: function noop() {},\n\n  error: function error(msg) {\n    /* eslint-disable */\n    if (console.error) {\n      console.error.apply(console, arguments);\n\n      if (console.trace) {\n        console.trace();\n      }\n    } else {\n      console.log.apply(console, arguments);\n\n      if (console.trace) {\n        console.trace();\n      }\n    }\n    /* eslint-enable */\n  },\n\n  clone: function clone(obj) {\n    return this.extend({}, obj);\n  },\n\n  // gets a shallow copy of the argument\n  copy: function copy(obj) {\n    if (obj == null) {\n      return obj;\n    }if (is.array(obj)) {\n      return obj.slice();\n    } else if (is.plainObject(obj)) {\n      return this.clone(obj);\n    } else {\n      return obj;\n    }\n  },\n\n  copyArray: function copyArray(arr) {\n    return arr.slice();\n  },\n\n  clonePosition: function clonePosition(pos) {\n    return { x: pos.x, y: pos.y };\n  },\n\n  uuid: function uuid(a, b // placeholders\n  ) {\n    for ( // loop :)\n    b = a = ''; // b - result , a - numeric letiable\n    a++ < 36; //\n    b += a * 51 & 52 // if \"a\" is not 9 or 14 or 19 or 24\n    ? //  return a random number or 4\n    (a ^ 15 // if \"a\" is not 15\n    ? // genetate a random number from 0 to 15\n    8 ^ Math.random() * (a ^ 20 ? 16 : 4) // unless \"a\" is 20, in which case a random number from 8 to 11\n    : 4 //  otherwise 4\n    ).toString(16) : '-' //  in other cases (if \"a\" is 9,14,19,24) insert \"-\"\n    ) {}\n    return b;\n  }\n\n};\n\nutil.makeBoundingBox = math.makeBoundingBox.bind(math);\n\nutil._staticEmptyObject = {};\n\nutil.staticEmptyObject = function () {\n  return util._staticEmptyObject;\n};\n\nutil.extend = Object.assign != null ? Object.assign.bind(Object) : function (tgt) {\n  var args = arguments;\n\n  for (var i = 1; i < args.length; i++) {\n    var obj = args[i];\n\n    if (obj == null) {\n      continue;\n    }\n\n    var keys = Object.keys(obj);\n\n    for (var j = 0; j < keys.length; j++) {\n      var k = keys[j];\n\n      tgt[k] = obj[k];\n    }\n  }\n\n  return tgt;\n};\n\nutil.assign = util.extend;\n\nutil.default = function (val, def) {\n  if (val === undefined) {\n    return def;\n  } else {\n    return val;\n  }\n};\n\nutil.removeFromArray = function (arr, ele, manyCopies) {\n  for (var i = arr.length; i >= 0; i--) {\n    if (arr[i] === ele) {\n      arr.splice(i, 1);\n\n      if (!manyCopies) {\n        break;\n      }\n    }\n  }\n};\n\nutil.clearArray = function (arr) {\n  arr.splice(0, arr.length);\n};\n\nutil.push = function (arr, otherArr) {\n  for (var i = 0; i < otherArr.length; i++) {\n    var el = otherArr[i];\n\n    arr.push(el);\n  }\n};\n\nutil.getPrefixedProperty = function (obj, propName, prefix) {\n  if (prefix) {\n    propName = this.prependCamel(prefix, propName); // e.g. (labelWidth, source) => sourceLabelWidth\n  }\n\n  return obj[propName];\n};\n\nutil.setPrefixedProperty = function (obj, propName, prefix, value) {\n  if (prefix) {\n    propName = this.prependCamel(prefix, propName); // e.g. (labelWidth, source) => sourceLabelWidth\n  }\n\n  obj[propName] = value;\n};\n\n[__webpack_require__(130), __webpack_require__(131), { memoize: __webpack_require__(19) }, __webpack_require__(132), __webpack_require__(134), __webpack_require__(135), __webpack_require__(133)].forEach(function (req) {\n  util.extend(util, req);\n});\n\nmodule.exports = util;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar math = {};\n\nmath.arePositionsSame = function (p1, p2) {\n  return p1.x === p2.x && p1.y === p2.y;\n};\n\nmath.copyPosition = function (p) {\n  return { x: p.x, y: p.y };\n};\n\nmath.modelToRenderedPosition = function (p, zoom, pan) {\n  return {\n    x: p.x * zoom + pan.x,\n    y: p.y * zoom + pan.y\n  };\n};\n\nmath.renderedToModelPosition = function (p, zoom, pan) {\n  return {\n    x: (p.x - pan.x) / zoom,\n    y: (p.y - pan.y) / zoom\n  };\n};\n\nmath.array2point = function (arr) {\n  return {\n    x: arr[0],\n    y: arr[1]\n  };\n};\n\nmath.deg2rad = function (deg) {\n  return Math.PI * deg / 180;\n};\n\nmath.getAngleFromDisp = function (dispX, dispY) {\n  return Math.atan2(dispY, dispX) - Math.PI / 2;\n};\n\nmath.log2 = Math.log2 || function (n) {\n  return Math.log(n) / Math.log(2);\n};\n\nmath.signum = function (x) {\n  if (x > 0) {\n    return 1;\n  } else if (x < 0) {\n    return -1;\n  } else {\n    return 0;\n  }\n};\n\nmath.dist = function (p1, p2) {\n  return Math.sqrt(math.sqdist(p1, p2));\n};\n\nmath.sqdist = function (p1, p2) {\n  var dx = p2.x - p1.x;\n  var dy = p2.y - p1.y;\n\n  return dx * dx + dy * dy;\n};\n\n// from http://en.wikipedia.org/wiki/Bzier_curve#Quadratic_curves\nmath.qbezierAt = function (p0, p1, p2, t) {\n  return (1 - t) * (1 - t) * p0 + 2 * (1 - t) * t * p1 + t * t * p2;\n};\n\nmath.qbezierPtAt = function (p0, p1, p2, t) {\n  return {\n    x: math.qbezierAt(p0.x, p1.x, p2.x, t),\n    y: math.qbezierAt(p0.y, p1.y, p2.y, t)\n  };\n};\n\nmath.lineAt = function (p0, p1, t, d) {\n  var vec = {\n    x: p1.x - p0.x,\n    y: p1.y - p0.y\n  };\n\n  var vecDist = math.dist(p0, p1);\n\n  var normVec = {\n    x: vec.x / vecDist,\n    y: vec.y / vecDist\n  };\n\n  t = t == null ? 0 : t;\n\n  d = d != null ? d : t * vecDist;\n\n  return {\n    x: p0.x + normVec.x * d,\n    y: p0.y + normVec.y * d\n  };\n};\n\nmath.lineAtDist = function (p0, p1, d) {\n  return math.lineAt(p0, p1, undefined, d);\n};\n\n// get angle at A via cosine law\nmath.triangleAngle = function (A, B, C) {\n  var a = math.dist(B, C);\n  var b = math.dist(A, C);\n  var c = math.dist(A, B);\n\n  return Math.acos((a * a + b * b - c * c) / (2 * a * b));\n};\n\nmath.bound = function (min, val, max) {\n  return Math.max(min, Math.min(max, val));\n};\n\n// makes a full bb (x1, y1, x2, y2, w, h) from implicit params\nmath.makeBoundingBox = function (bb) {\n  if (bb == null) {\n    return {\n      x1: Infinity,\n      y1: Infinity,\n      x2: -Infinity,\n      y2: -Infinity,\n      w: 0,\n      h: 0\n    };\n  } else if (bb.x1 != null && bb.y1 != null) {\n    if (bb.x2 != null && bb.y2 != null && bb.x2 >= bb.x1 && bb.y2 >= bb.y1) {\n      return {\n        x1: bb.x1,\n        y1: bb.y1,\n        x2: bb.x2,\n        y2: bb.y2,\n        w: bb.x2 - bb.x1,\n        h: bb.y2 - bb.y1\n      };\n    } else if (bb.w != null && bb.h != null && bb.w >= 0 && bb.h >= 0) {\n      return {\n        x1: bb.x1,\n        y1: bb.y1,\n        x2: bb.x1 + bb.w,\n        y2: bb.y1 + bb.h,\n        w: bb.w,\n        h: bb.h\n      };\n    }\n  }\n};\n\nmath.updateBoundingBox = function (bb1, bb2) {\n  // update bb1 with bb2 bounds\n\n  bb1.x1 = Math.min(bb1.x1, bb2.x1);\n  bb1.x2 = Math.max(bb1.x2, bb2.x2);\n  bb1.w = bb1.x2 - bb1.x1;\n\n  bb1.y1 = Math.min(bb1.y1, bb2.y1);\n  bb1.y2 = Math.max(bb1.y2, bb2.y2);\n  bb1.h = bb1.y2 - bb1.y1;\n};\n\nmath.expandBoundingBoxByPoint = function (bb, x, y) {\n  bb.x1 = Math.min(bb.x1, x);\n  bb.x2 = Math.max(bb.x2, x);\n  bb.w = bb.x2 - bb.x1;\n\n  bb.y1 = Math.min(bb.y1, y);\n  bb.y2 = Math.max(bb.y2, y);\n  bb.h = bb.y2 - bb.y1;\n};\n\nmath.expandBoundingBox = function (bb, padding) {\n  bb.x1 -= padding;\n  bb.x2 += padding;\n  bb.y1 -= padding;\n  bb.y2 += padding;\n  bb.w = bb.x2 - bb.x1;\n  bb.h = bb.y2 - bb.y1;\n\n  return bb;\n};\n\nmath.boundingBoxesIntersect = function (bb1, bb2) {\n  // case: one bb to right of other\n  if (bb1.x1 > bb2.x2) {\n    return false;\n  }\n  if (bb2.x1 > bb1.x2) {\n    return false;\n  }\n\n  // case: one bb to left of other\n  if (bb1.x2 < bb2.x1) {\n    return false;\n  }\n  if (bb2.x2 < bb1.x1) {\n    return false;\n  }\n\n  // case: one bb above other\n  if (bb1.y2 < bb2.y1) {\n    return false;\n  }\n  if (bb2.y2 < bb1.y1) {\n    return false;\n  }\n\n  // case: one bb below other\n  if (bb1.y1 > bb2.y2) {\n    return false;\n  }\n  if (bb2.y1 > bb1.y2) {\n    return false;\n  }\n\n  // otherwise, must have some overlap\n  return true;\n};\n\nmath.inBoundingBox = function (bb, x, y) {\n  return bb.x1 <= x && x <= bb.x2 && bb.y1 <= y && y <= bb.y2;\n};\n\nmath.pointInBoundingBox = function (bb, pt) {\n  return this.inBoundingBox(bb, pt.x, pt.y);\n};\n\nmath.boundingBoxInBoundingBox = function (bb1, bb2) {\n  return math.inBoundingBox(bb1, bb2.x1, bb2.y1) && math.inBoundingBox(bb1, bb2.x2, bb2.y2);\n};\n\nmath.roundRectangleIntersectLine = function (x, y, nodeX, nodeY, width, height, padding) {\n\n  var cornerRadius = this.getRoundRectangleRadius(width, height);\n\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n\n  // Check intersections with straight line segments\n  var straightLineIntersections = void 0;\n\n  // Top segment, left to right\n  {\n    var topStartX = nodeX - halfWidth + cornerRadius - padding;\n    var topStartY = nodeY - halfHeight - padding;\n    var topEndX = nodeX + halfWidth - cornerRadius + padding;\n    var topEndY = topStartY;\n\n    straightLineIntersections = this.finiteLinesIntersect(x, y, nodeX, nodeY, topStartX, topStartY, topEndX, topEndY, false);\n\n    if (straightLineIntersections.length > 0) {\n      return straightLineIntersections;\n    }\n  }\n\n  // Right segment, top to bottom\n  {\n    var rightStartX = nodeX + halfWidth + padding;\n    var rightStartY = nodeY - halfHeight + cornerRadius - padding;\n    var rightEndX = rightStartX;\n    var rightEndY = nodeY + halfHeight - cornerRadius + padding;\n\n    straightLineIntersections = this.finiteLinesIntersect(x, y, nodeX, nodeY, rightStartX, rightStartY, rightEndX, rightEndY, false);\n\n    if (straightLineIntersections.length > 0) {\n      return straightLineIntersections;\n    }\n  }\n\n  // Bottom segment, left to right\n  {\n    var bottomStartX = nodeX - halfWidth + cornerRadius - padding;\n    var bottomStartY = nodeY + halfHeight + padding;\n    var bottomEndX = nodeX + halfWidth - cornerRadius + padding;\n    var bottomEndY = bottomStartY;\n\n    straightLineIntersections = this.finiteLinesIntersect(x, y, nodeX, nodeY, bottomStartX, bottomStartY, bottomEndX, bottomEndY, false);\n\n    if (straightLineIntersections.length > 0) {\n      return straightLineIntersections;\n    }\n  }\n\n  // Left segment, top to bottom\n  {\n    var leftStartX = nodeX - halfWidth - padding;\n    var leftStartY = nodeY - halfHeight + cornerRadius - padding;\n    var leftEndX = leftStartX;\n    var leftEndY = nodeY + halfHeight - cornerRadius + padding;\n\n    straightLineIntersections = this.finiteLinesIntersect(x, y, nodeX, nodeY, leftStartX, leftStartY, leftEndX, leftEndY, false);\n\n    if (straightLineIntersections.length > 0) {\n      return straightLineIntersections;\n    }\n  }\n\n  // Check intersections with arc segments\n  var arcIntersections = void 0;\n\n  // Top Left\n  {\n    var topLeftCenterX = nodeX - halfWidth + cornerRadius;\n    var topLeftCenterY = nodeY - halfHeight + cornerRadius;\n    arcIntersections = this.intersectLineCircle(x, y, nodeX, nodeY, topLeftCenterX, topLeftCenterY, cornerRadius + padding);\n\n    // Ensure the intersection is on the desired quarter of the circle\n    if (arcIntersections.length > 0 && arcIntersections[0] <= topLeftCenterX && arcIntersections[1] <= topLeftCenterY) {\n      return [arcIntersections[0], arcIntersections[1]];\n    }\n  }\n\n  // Top Right\n  {\n    var topRightCenterX = nodeX + halfWidth - cornerRadius;\n    var topRightCenterY = nodeY - halfHeight + cornerRadius;\n    arcIntersections = this.intersectLineCircle(x, y, nodeX, nodeY, topRightCenterX, topRightCenterY, cornerRadius + padding);\n\n    // Ensure the intersection is on the desired quarter of the circle\n    if (arcIntersections.length > 0 && arcIntersections[0] >= topRightCenterX && arcIntersections[1] <= topRightCenterY) {\n      return [arcIntersections[0], arcIntersections[1]];\n    }\n  }\n\n  // Bottom Right\n  {\n    var bottomRightCenterX = nodeX + halfWidth - cornerRadius;\n    var bottomRightCenterY = nodeY + halfHeight - cornerRadius;\n    arcIntersections = this.intersectLineCircle(x, y, nodeX, nodeY, bottomRightCenterX, bottomRightCenterY, cornerRadius + padding);\n\n    // Ensure the intersection is on the desired quarter of the circle\n    if (arcIntersections.length > 0 && arcIntersections[0] >= bottomRightCenterX && arcIntersections[1] >= bottomRightCenterY) {\n      return [arcIntersections[0], arcIntersections[1]];\n    }\n  }\n\n  // Bottom Left\n  {\n    var bottomLeftCenterX = nodeX - halfWidth + cornerRadius;\n    var bottomLeftCenterY = nodeY + halfHeight - cornerRadius;\n    arcIntersections = this.intersectLineCircle(x, y, nodeX, nodeY, bottomLeftCenterX, bottomLeftCenterY, cornerRadius + padding);\n\n    // Ensure the intersection is on the desired quarter of the circle\n    if (arcIntersections.length > 0 && arcIntersections[0] <= bottomLeftCenterX && arcIntersections[1] >= bottomLeftCenterY) {\n      return [arcIntersections[0], arcIntersections[1]];\n    }\n  }\n\n  return []; // if nothing\n};\n\nmath.inLineVicinity = function (x, y, lx1, ly1, lx2, ly2, tolerance) {\n  var t = tolerance;\n\n  var x1 = Math.min(lx1, lx2);\n  var x2 = Math.max(lx1, lx2);\n  var y1 = Math.min(ly1, ly2);\n  var y2 = Math.max(ly1, ly2);\n\n  return x1 - t <= x && x <= x2 + t && y1 - t <= y && y <= y2 + t;\n};\n\nmath.inBezierVicinity = function (x, y, x1, y1, x2, y2, x3, y3, tolerance) {\n\n  var bb = {\n    x1: Math.min(x1, x3, x2) - tolerance,\n    x2: Math.max(x1, x3, x2) + tolerance,\n    y1: Math.min(y1, y3, y2) - tolerance,\n    y2: Math.max(y1, y3, y2) + tolerance\n  };\n\n  // if outside the rough bounding box for the bezier, then it can't be a hit\n  if (x < bb.x1 || x > bb.x2 || y < bb.y1 || y > bb.y2) {\n    // console.log('bezier out of rough bb')\n    return false;\n  } else {\n    // console.log('do more expensive check');\n    return true;\n  }\n};\nmath.solveQuadratic = function (a, b, c, val) {\n  c -= val;\n\n  var r = b * b - 4 * a * c;\n\n  if (r < 0) {\n    return [];\n  }\n\n  var sqrtR = Math.sqrt(r);\n  var denom = 2 * a;\n  var root1 = (-b + sqrtR) / denom;\n  var root2 = (-b - sqrtR) / denom;\n\n  return [root1, root2];\n};\n\nmath.solveCubic = function (a, b, c, d, result) {\n\n  // Solves a cubic function, returns root in form [r1, i1, r2, i2, r3, i3], where\n  // r is the real component, i is the imaginary component\n\n  // An implementation of the Cardano method from the year 1545\n  // http://en.wikipedia.org/wiki/Cubic_function#The_nature_of_the_roots\n\n  b /= a;\n  c /= a;\n  d /= a;\n\n  var discriminant = void 0,\n      q = void 0,\n      r = void 0,\n      dum1 = void 0,\n      s = void 0,\n      t = void 0,\n      term1 = void 0,\n      r13 = void 0;\n\n  q = (3.0 * c - b * b) / 9.0;\n  r = -(27.0 * d) + b * (9.0 * c - 2.0 * (b * b));\n  r /= 54.0;\n\n  discriminant = q * q * q + r * r;\n  result[1] = 0;\n  term1 = b / 3.0;\n\n  if (discriminant > 0) {\n    s = r + Math.sqrt(discriminant);\n    s = s < 0 ? -Math.pow(-s, 1.0 / 3.0) : Math.pow(s, 1.0 / 3.0);\n    t = r - Math.sqrt(discriminant);\n    t = t < 0 ? -Math.pow(-t, 1.0 / 3.0) : Math.pow(t, 1.0 / 3.0);\n    result[0] = -term1 + s + t;\n    term1 += (s + t) / 2.0;\n    result[4] = result[2] = -term1;\n    term1 = Math.sqrt(3.0) * (-t + s) / 2;\n    result[3] = term1;\n    result[5] = -term1;\n    return;\n  }\n\n  result[5] = result[3] = 0;\n\n  if (discriminant === 0) {\n    r13 = r < 0 ? -Math.pow(-r, 1.0 / 3.0) : Math.pow(r, 1.0 / 3.0);\n    result[0] = -term1 + 2.0 * r13;\n    result[4] = result[2] = -(r13 + term1);\n    return;\n  }\n\n  q = -q;\n  dum1 = q * q * q;\n  dum1 = Math.acos(r / Math.sqrt(dum1));\n  r13 = 2.0 * Math.sqrt(q);\n  result[0] = -term1 + r13 * Math.cos(dum1 / 3.0);\n  result[2] = -term1 + r13 * Math.cos((dum1 + 2.0 * Math.PI) / 3.0);\n  result[4] = -term1 + r13 * Math.cos((dum1 + 4.0 * Math.PI) / 3.0);\n\n  return;\n};\n\nmath.sqdistToQuadraticBezier = function (x, y, x1, y1, x2, y2, x3, y3) {\n\n  // Find minimum distance by using the minimum of the distance\n  // function between the given point and the curve\n\n  // This gives the coefficients of the resulting cubic equation\n  // whose roots tell us where a possible minimum is\n  // (Coefficients are divided by 4)\n\n  var a = 1.0 * x1 * x1 - 4 * x1 * x2 + 2 * x1 * x3 + 4 * x2 * x2 - 4 * x2 * x3 + x3 * x3 + y1 * y1 - 4 * y1 * y2 + 2 * y1 * y3 + 4 * y2 * y2 - 4 * y2 * y3 + y3 * y3;\n\n  var b = 1.0 * 9 * x1 * x2 - 3 * x1 * x1 - 3 * x1 * x3 - 6 * x2 * x2 + 3 * x2 * x3 + 9 * y1 * y2 - 3 * y1 * y1 - 3 * y1 * y3 - 6 * y2 * y2 + 3 * y2 * y3;\n\n  var c = 1.0 * 3 * x1 * x1 - 6 * x1 * x2 + x1 * x3 - x1 * x + 2 * x2 * x2 + 2 * x2 * x - x3 * x + 3 * y1 * y1 - 6 * y1 * y2 + y1 * y3 - y1 * y + 2 * y2 * y2 + 2 * y2 * y - y3 * y;\n\n  var d = 1.0 * x1 * x2 - x1 * x1 + x1 * x - x2 * x + y1 * y2 - y1 * y1 + y1 * y - y2 * y;\n\n  // debug(\"coefficients: \" + a / a + \", \" + b / a + \", \" + c / a + \", \" + d / a);\n\n  var roots = [];\n\n  // Use the cubic solving algorithm\n  this.solveCubic(a, b, c, d, roots);\n\n  var zeroThreshold = 0.0000001;\n\n  var params = [];\n\n  for (var index = 0; index < 6; index += 2) {\n    if (Math.abs(roots[index + 1]) < zeroThreshold && roots[index] >= 0 && roots[index] <= 1.0) {\n      params.push(roots[index]);\n    }\n  }\n\n  params.push(1.0);\n  params.push(0.0);\n\n  var minDistanceSquared = -1;\n\n  var curX = void 0,\n      curY = void 0,\n      distSquared = void 0;\n  for (var i = 0; i < params.length; i++) {\n    curX = Math.pow(1.0 - params[i], 2.0) * x1 + 2.0 * (1 - params[i]) * params[i] * x2 + params[i] * params[i] * x3;\n\n    curY = Math.pow(1 - params[i], 2.0) * y1 + 2 * (1.0 - params[i]) * params[i] * y2 + params[i] * params[i] * y3;\n\n    distSquared = Math.pow(curX - x, 2) + Math.pow(curY - y, 2);\n    // debug('distance for param ' + params[i] + \": \" + Math.sqrt(distSquared));\n    if (minDistanceSquared >= 0) {\n      if (distSquared < minDistanceSquared) {\n        minDistanceSquared = distSquared;\n      }\n    } else {\n      minDistanceSquared = distSquared;\n    }\n  }\n\n  return minDistanceSquared;\n};\n\nmath.sqdistToFiniteLine = function (x, y, x1, y1, x2, y2) {\n  var offset = [x - x1, y - y1];\n  var line = [x2 - x1, y2 - y1];\n\n  var lineSq = line[0] * line[0] + line[1] * line[1];\n  var hypSq = offset[0] * offset[0] + offset[1] * offset[1];\n\n  var dotProduct = offset[0] * line[0] + offset[1] * line[1];\n  var adjSq = dotProduct * dotProduct / lineSq;\n\n  if (dotProduct < 0) {\n    return hypSq;\n  }\n\n  if (adjSq > lineSq) {\n    return (x - x2) * (x - x2) + (y - y2) * (y - y2);\n  }\n\n  return hypSq - adjSq;\n};\n\nmath.pointInsidePolygonPoints = function (x, y, points) {\n  var x1 = void 0,\n      y1 = void 0,\n      x2 = void 0,\n      y2 = void 0;\n  var y3 = void 0;\n\n  // Intersect with vertical line through (x, y)\n  var up = 0;\n  // let down = 0;\n  for (var i = 0; i < points.length / 2; i++) {\n    x1 = points[i * 2];\n    y1 = points[i * 2 + 1];\n\n    if (i + 1 < points.length / 2) {\n      x2 = points[(i + 1) * 2];\n      y2 = points[(i + 1) * 2 + 1];\n    } else {\n      x2 = points[(i + 1 - points.length / 2) * 2];\n      y2 = points[(i + 1 - points.length / 2) * 2 + 1];\n    }\n\n    if (x1 == x && x2 == x) {\n      // then ignore\n    } else if (x1 >= x && x >= x2 || x1 <= x && x <= x2) {\n\n      y3 = (x - x1) / (x2 - x1) * (y2 - y1) + y1;\n\n      if (y3 > y) {\n        up++;\n      }\n\n      // if( y3 < y ){\n      // down++;\n      // }\n    } else {\n      continue;\n    }\n  }\n\n  if (up % 2 === 0) {\n    return false;\n  } else {\n    return true;\n  }\n};\n\nmath.pointInsidePolygon = function (x, y, basePoints, centerX, centerY, width, height, direction, padding) {\n\n  //let direction = arguments[6];\n  var transformedPoints = new Array(basePoints.length);\n\n  // Gives negative angle\n  var angle = void 0;\n\n  if (direction[0] != null) {\n    angle = Math.atan(direction[1] / direction[0]);\n\n    if (direction[0] < 0) {\n      angle = angle + Math.PI / 2;\n    } else {\n      angle = -angle - Math.PI / 2;\n    }\n  } else {\n    angle = direction;\n  }\n\n  var cos = Math.cos(-angle);\n  var sin = Math.sin(-angle);\n\n  //    console.log(\"base: \" + basePoints);\n  for (var i = 0; i < transformedPoints.length / 2; i++) {\n    transformedPoints[i * 2] = width / 2 * (basePoints[i * 2] * cos - basePoints[i * 2 + 1] * sin);\n\n    transformedPoints[i * 2 + 1] = height / 2 * (basePoints[i * 2 + 1] * cos + basePoints[i * 2] * sin);\n\n    transformedPoints[i * 2] += centerX;\n    transformedPoints[i * 2 + 1] += centerY;\n  }\n\n  var points = void 0;\n\n  if (padding > 0) {\n    var expandedLineSet = this.expandPolygon(transformedPoints, -padding);\n\n    points = this.joinLines(expandedLineSet);\n  } else {\n    points = transformedPoints;\n  }\n\n  return math.pointInsidePolygonPoints(x, y, points);\n};\n\nmath.joinLines = function (lineSet) {\n\n  var vertices = new Array(lineSet.length / 2);\n\n  var currentLineStartX = void 0,\n      currentLineStartY = void 0,\n      currentLineEndX = void 0,\n      currentLineEndY = void 0;\n  var nextLineStartX = void 0,\n      nextLineStartY = void 0,\n      nextLineEndX = void 0,\n      nextLineEndY = void 0;\n\n  for (var i = 0; i < lineSet.length / 4; i++) {\n    currentLineStartX = lineSet[i * 4];\n    currentLineStartY = lineSet[i * 4 + 1];\n    currentLineEndX = lineSet[i * 4 + 2];\n    currentLineEndY = lineSet[i * 4 + 3];\n\n    if (i < lineSet.length / 4 - 1) {\n      nextLineStartX = lineSet[(i + 1) * 4];\n      nextLineStartY = lineSet[(i + 1) * 4 + 1];\n      nextLineEndX = lineSet[(i + 1) * 4 + 2];\n      nextLineEndY = lineSet[(i + 1) * 4 + 3];\n    } else {\n      nextLineStartX = lineSet[0];\n      nextLineStartY = lineSet[1];\n      nextLineEndX = lineSet[2];\n      nextLineEndY = lineSet[3];\n    }\n\n    var intersection = this.finiteLinesIntersect(currentLineStartX, currentLineStartY, currentLineEndX, currentLineEndY, nextLineStartX, nextLineStartY, nextLineEndX, nextLineEndY, true);\n\n    vertices[i * 2] = intersection[0];\n    vertices[i * 2 + 1] = intersection[1];\n  }\n\n  return vertices;\n};\n\nmath.expandPolygon = function (points, pad) {\n\n  var expandedLineSet = new Array(points.length * 2);\n\n  var currentPointX = void 0,\n      currentPointY = void 0,\n      nextPointX = void 0,\n      nextPointY = void 0;\n\n  for (var i = 0; i < points.length / 2; i++) {\n    currentPointX = points[i * 2];\n    currentPointY = points[i * 2 + 1];\n\n    if (i < points.length / 2 - 1) {\n      nextPointX = points[(i + 1) * 2];\n      nextPointY = points[(i + 1) * 2 + 1];\n    } else {\n      nextPointX = points[0];\n      nextPointY = points[1];\n    }\n\n    // Current line: [currentPointX, currentPointY] to [nextPointX, nextPointY]\n\n    // Assume CCW polygon winding\n\n    var offsetX = nextPointY - currentPointY;\n    var offsetY = -(nextPointX - currentPointX);\n\n    // Normalize\n    var offsetLength = Math.sqrt(offsetX * offsetX + offsetY * offsetY);\n    var normalizedOffsetX = offsetX / offsetLength;\n    var normalizedOffsetY = offsetY / offsetLength;\n\n    expandedLineSet[i * 4] = currentPointX + normalizedOffsetX * pad;\n    expandedLineSet[i * 4 + 1] = currentPointY + normalizedOffsetY * pad;\n    expandedLineSet[i * 4 + 2] = nextPointX + normalizedOffsetX * pad;\n    expandedLineSet[i * 4 + 3] = nextPointY + normalizedOffsetY * pad;\n  }\n\n  return expandedLineSet;\n};\n\nmath.intersectLineEllipse = function (x, y, centerX, centerY, ellipseWradius, ellipseHradius) {\n\n  var dispX = centerX - x;\n  var dispY = centerY - y;\n\n  dispX /= ellipseWradius;\n  dispY /= ellipseHradius;\n\n  var len = Math.sqrt(dispX * dispX + dispY * dispY);\n\n  var newLength = len - 1;\n\n  if (newLength < 0) {\n    return [];\n  }\n\n  var lenProportion = newLength / len;\n\n  return [(centerX - x) * lenProportion + x, (centerY - y) * lenProportion + y];\n};\n\nmath.checkInEllipse = function (x, y, width, height, centerX, centerY, padding) {\n  x -= centerX;\n  y -= centerY;\n\n  x /= width / 2 + padding;\n  y /= height / 2 + padding;\n\n  return x * x + y * y <= 1;\n};\n\n// Returns intersections of increasing distance from line's start point\nmath.intersectLineCircle = function (x1, y1, x2, y2, centerX, centerY, radius) {\n\n  // Calculate d, direction vector of line\n  var d = [x2 - x1, y2 - y1]; // Direction vector of line\n  var f = [x1 - centerX, y1 - centerY];\n\n  var a = d[0] * d[0] + d[1] * d[1];\n  var b = 2 * (f[0] * d[0] + f[1] * d[1]);\n  var c = f[0] * f[0] + f[1] * f[1] - radius * radius;\n\n  var discriminant = b * b - 4 * a * c;\n\n  if (discriminant < 0) {\n    return [];\n  }\n\n  var t1 = (-b + Math.sqrt(discriminant)) / (2 * a);\n  var t2 = (-b - Math.sqrt(discriminant)) / (2 * a);\n\n  var tMin = Math.min(t1, t2);\n  var tMax = Math.max(t1, t2);\n  var inRangeParams = [];\n\n  if (tMin >= 0 && tMin <= 1) {\n    inRangeParams.push(tMin);\n  }\n\n  if (tMax >= 0 && tMax <= 1) {\n    inRangeParams.push(tMax);\n  }\n\n  if (inRangeParams.length === 0) {\n    return [];\n  }\n\n  var nearIntersectionX = inRangeParams[0] * d[0] + x1;\n  var nearIntersectionY = inRangeParams[0] * d[1] + y1;\n\n  if (inRangeParams.length > 1) {\n\n    if (inRangeParams[0] == inRangeParams[1]) {\n      return [nearIntersectionX, nearIntersectionY];\n    } else {\n\n      var farIntersectionX = inRangeParams[1] * d[0] + x1;\n      var farIntersectionY = inRangeParams[1] * d[1] + y1;\n\n      return [nearIntersectionX, nearIntersectionY, farIntersectionX, farIntersectionY];\n    }\n  } else {\n    return [nearIntersectionX, nearIntersectionY];\n  }\n};\n\nmath.findCircleNearPoint = function (centerX, centerY, radius, farX, farY) {\n\n  var displacementX = farX - centerX;\n  var displacementY = farY - centerY;\n  var distance = Math.sqrt(displacementX * displacementX + displacementY * displacementY);\n\n  var unitDisplacementX = displacementX / distance;\n  var unitDisplacementY = displacementY / distance;\n\n  return [centerX + unitDisplacementX * radius, centerY + unitDisplacementY * radius];\n};\n\nmath.findMaxSqDistanceToOrigin = function (points) {\n  var maxSqDistance = 0.000001;\n  var sqDistance = void 0;\n\n  for (var i = 0; i < points.length / 2; i++) {\n\n    sqDistance = points[i * 2] * points[i * 2] + points[i * 2 + 1] * points[i * 2 + 1];\n\n    if (sqDistance > maxSqDistance) {\n      maxSqDistance = sqDistance;\n    }\n  }\n\n  return maxSqDistance;\n};\n\nmath.midOfThree = function (a, b, c) {\n  if (b <= a && a <= c || c <= a && a <= b) {\n    return a;\n  } else if (a <= b && b <= c || c <= b && b <= a) {\n    return b;\n  } else {\n    return c;\n  }\n};\n\n// (x1,y1)=>(x2,y2) intersect with (x3,y3)=>(x4,y4)\nmath.finiteLinesIntersect = function (x1, y1, x2, y2, x3, y3, x4, y4, infiniteLines) {\n\n  var dx13 = x1 - x3;\n  var dx21 = x2 - x1;\n  var dx43 = x4 - x3;\n\n  var dy13 = y1 - y3;\n  var dy21 = y2 - y1;\n  var dy43 = y4 - y3;\n\n  var ua_t = dx43 * dy13 - dy43 * dx13;\n  var ub_t = dx21 * dy13 - dy21 * dx13;\n  var u_b = dy43 * dx21 - dx43 * dy21;\n\n  if (u_b !== 0) {\n    var ua = ua_t / u_b;\n    var ub = ub_t / u_b;\n\n    var flptThreshold = 0.001;\n    var min = 0 - flptThreshold;\n    var max = 1 + flptThreshold;\n\n    if (min <= ua && ua <= max && min <= ub && ub <= max) {\n      return [x1 + ua * dx21, y1 + ua * dy21];\n    } else {\n      if (!infiniteLines) {\n        return [];\n      } else {\n        return [x1 + ua * dx21, y1 + ua * dy21];\n      }\n    }\n  } else {\n    if (ua_t === 0 || ub_t === 0) {\n\n      // Parallel, coincident lines. Check if overlap\n\n      // Check endpoint of second line\n      if (this.midOfThree(x1, x2, x4) === x4) {\n        return [x4, y4];\n      }\n\n      // Check start point of second line\n      if (this.midOfThree(x1, x2, x3) === x3) {\n        return [x3, y3];\n      }\n\n      // Endpoint of first line\n      if (this.midOfThree(x3, x4, x2) === x2) {\n        return [x2, y2];\n      }\n\n      return [];\n    } else {\n\n      // Parallel, non-coincident\n      return [];\n    }\n  }\n};\n\n// math.polygonIntersectLine( x, y, basePoints, centerX, centerY, width, height, padding )\n// intersect a node polygon (pts transformed)\n//\n// math.polygonIntersectLine( x, y, basePoints, centerX, centerY )\n// intersect the points (no transform)\nmath.polygonIntersectLine = function (x, y, basePoints, centerX, centerY, width, height, padding) {\n\n  var intersections = [];\n  var intersection = void 0;\n\n  var transformedPoints = new Array(basePoints.length);\n\n  var doTransform = true;\n  if (arguments.length === 5) {\n    doTransform = false;\n  }\n\n  var points = void 0;\n\n  if (doTransform) {\n    for (var i = 0; i < transformedPoints.length / 2; i++) {\n      transformedPoints[i * 2] = basePoints[i * 2] * width + centerX;\n      transformedPoints[i * 2 + 1] = basePoints[i * 2 + 1] * height + centerY;\n    }\n\n    if (padding > 0) {\n      var expandedLineSet = math.expandPolygon(transformedPoints, -padding);\n\n      points = math.joinLines(expandedLineSet);\n    } else {\n      points = transformedPoints;\n    }\n  } else {\n    points = basePoints;\n  }\n\n  var currentX = void 0,\n      currentY = void 0,\n      nextX = void 0,\n      nextY = void 0;\n\n  for (var _i = 0; _i < points.length / 2; _i++) {\n\n    currentX = points[_i * 2];\n    currentY = points[_i * 2 + 1];\n\n    if (_i < points.length / 2 - 1) {\n      nextX = points[(_i + 1) * 2];\n      nextY = points[(_i + 1) * 2 + 1];\n    } else {\n      nextX = points[0];\n      nextY = points[1];\n    }\n\n    intersection = this.finiteLinesIntersect(x, y, centerX, centerY, currentX, currentY, nextX, nextY);\n\n    if (intersection.length !== 0) {\n      intersections.push(intersection[0], intersection[1]);\n    }\n  }\n\n  return intersections;\n};\n\nmath.shortenIntersection = function (intersection, offset, amount) {\n\n  var disp = [intersection[0] - offset[0], intersection[1] - offset[1]];\n\n  var length = Math.sqrt(disp[0] * disp[0] + disp[1] * disp[1]);\n\n  var lenRatio = (length - amount) / length;\n\n  if (lenRatio < 0) {\n    lenRatio = 0.00001;\n  }\n\n  return [offset[0] + lenRatio * disp[0], offset[1] + lenRatio * disp[1]];\n};\n\nmath.generateUnitNgonPointsFitToSquare = function (sides, rotationRadians) {\n  var points = math.generateUnitNgonPoints(sides, rotationRadians);\n  points = math.fitPolygonToSquare(points);\n\n  return points;\n};\n\nmath.fitPolygonToSquare = function (points) {\n  var x = void 0,\n      y = void 0;\n  var sides = points.length / 2;\n  var minX = Infinity,\n      minY = Infinity,\n      maxX = -Infinity,\n      maxY = -Infinity;\n\n  for (var i = 0; i < sides; i++) {\n    x = points[2 * i];\n    y = points[2 * i + 1];\n\n    minX = Math.min(minX, x);\n    maxX = Math.max(maxX, x);\n    minY = Math.min(minY, y);\n    maxY = Math.max(maxY, y);\n  }\n\n  // stretch factors\n  var sx = 2 / (maxX - minX);\n  var sy = 2 / (maxY - minY);\n\n  for (var _i2 = 0; _i2 < sides; _i2++) {\n    x = points[2 * _i2] = points[2 * _i2] * sx;\n    y = points[2 * _i2 + 1] = points[2 * _i2 + 1] * sy;\n\n    minX = Math.min(minX, x);\n    maxX = Math.max(maxX, x);\n    minY = Math.min(minY, y);\n    maxY = Math.max(maxY, y);\n  }\n\n  if (minY < -1) {\n    for (var _i3 = 0; _i3 < sides; _i3++) {\n      y = points[2 * _i3 + 1] = points[2 * _i3 + 1] + (-1 - minY);\n    }\n  }\n\n  return points;\n};\n\nmath.generateUnitNgonPoints = function (sides, rotationRadians) {\n\n  var increment = 1.0 / sides * 2 * Math.PI;\n  var startAngle = sides % 2 === 0 ? Math.PI / 2.0 + increment / 2.0 : Math.PI / 2.0;\n\n  startAngle += rotationRadians;\n\n  var points = new Array(sides * 2);\n\n  var currentAngle = void 0;\n  for (var i = 0; i < sides; i++) {\n    currentAngle = i * increment + startAngle;\n\n    points[2 * i] = Math.cos(currentAngle); // x\n    points[2 * i + 1] = Math.sin(-currentAngle); // y\n  }\n\n  return points;\n};\n\nmath.getRoundRectangleRadius = function (width, height) {\n\n  // Set the default radius, unless half of width or height is smaller than default\n  return Math.min(width / 4, height / 4, 8);\n};\n\nmath.getCutRectangleCornerLength = function () {\n  return 8;\n};\n\nmath.bezierPtsToQuadCoeff = function (p0, p1, p2) {\n  return [p0 - 2 * p1 + p2, 2 * (p1 - p0), p0];\n};\n\nmath.getBarrelCurveConstants = function (width, height) {\n  // get curve width, height, and control point position offsets as a percentage of node height / width\n  return {\n    heightOffset: Math.min(15, 0.05 * height),\n    widthOffset: Math.min(100, 0.25 * width),\n    ctrlPtOffsetPct: 0.05\n  };\n};\n\nmodule.exports = math;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// use this module to cherry pick functions into your prototype\n// (useful for functions shared between the core and collections, for example)\n\n// e.g.\n// let foo = define.foo({ /* params... */ })\n\nvar util = __webpack_require__(1);\n\nvar define = {};\n\n[__webpack_require__(72), __webpack_require__(73), __webpack_require__(74)].forEach(function (m) {\n  util.assign(define, m);\n});\n\nmodule.exports = define;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = typeof window === 'undefined' ? null : window; // eslint-disable-line no-undef\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(setImmediate) {\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*!\nEmbeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable\nCopyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)\nLicensed under The MIT License (http://opensource.org/licenses/MIT)\n*/\n\n/*  promise states [Promises/A+ 2.1]  */\nvar STATE_PENDING = 0; /*  [Promises/A+ 2.1.1]  */\nvar STATE_FULFILLED = 1; /*  [Promises/A+ 2.1.2]  */\nvar STATE_REJECTED = 2; /*  [Promises/A+ 2.1.3]  */\n\n/*  promise object constructor  */\nvar api = function api(executor) {\n  /*  optionally support non-constructor/plain-function call  */\n  if (!(this instanceof api)) return new api(executor);\n\n  /*  initialize object  */\n  this.id = 'Thenable/1.0.7';\n  this.state = STATE_PENDING; /*  initial state  */\n  this.fulfillValue = undefined; /*  initial value  */ /*  [Promises/A+ 1.3, 2.1.2.2]  */\n  this.rejectReason = undefined; /*  initial reason */ /*  [Promises/A+ 1.5, 2.1.3.2]  */\n  this.onFulfilled = []; /*  initial handlers  */\n  this.onRejected = []; /*  initial handlers  */\n\n  /*  provide optional information-hiding proxy  */\n  this.proxy = {\n    then: this.then.bind(this)\n  };\n\n  /*  support optional executor function  */\n  if (typeof executor === 'function') executor.call(this, this.fulfill.bind(this), this.reject.bind(this));\n};\n\n/*  promise API methods  */\napi.prototype = {\n  /*  promise resolving methods  */\n  fulfill: function fulfill(value) {\n    return deliver(this, STATE_FULFILLED, 'fulfillValue', value);\n  },\n  reject: function reject(value) {\n    return deliver(this, STATE_REJECTED, 'rejectReason', value);\n  },\n\n  /*  \"The then Method\" [Promises/A+ 1.1, 1.2, 2.2]  */\n  then: function then(onFulfilled, onRejected) {\n    var curr = this;\n    var next = new api(); /*  [Promises/A+ 2.2.7]  */\n    curr.onFulfilled.push(resolver(onFulfilled, next, 'fulfill')); /*  [Promises/A+ 2.2.2/2.2.6]  */\n    curr.onRejected.push(resolver(onRejected, next, 'reject')); /*  [Promises/A+ 2.2.3/2.2.6]  */\n    execute(curr);\n    return next.proxy; /*  [Promises/A+ 2.2.7, 3.3]  */\n  }\n};\n\n/*  deliver an action  */\nvar deliver = function deliver(curr, state, name, value) {\n  if (curr.state === STATE_PENDING) {\n    curr.state = state; /*  [Promises/A+ 2.1.2.1, 2.1.3.1]  */\n    curr[name] = value; /*  [Promises/A+ 2.1.2.2, 2.1.3.2]  */\n    execute(curr);\n  }\n  return curr;\n};\n\n/*  execute all handlers  */\nvar execute = function execute(curr) {\n  if (curr.state === STATE_FULFILLED) execute_handlers(curr, 'onFulfilled', curr.fulfillValue);else if (curr.state === STATE_REJECTED) execute_handlers(curr, 'onRejected', curr.rejectReason);\n};\n\n/*  execute particular set of handlers  */\nvar execute_handlers = function execute_handlers(curr, name, value) {\n  /* global setImmediate: true */\n  /* global setTimeout: true */\n\n  /*  short-circuit processing  */\n  if (curr[name].length === 0) return;\n\n  /*  iterate over all handlers, exactly once  */\n  var handlers = curr[name];\n  curr[name] = []; /*  [Promises/A+ 2.2.2.3, 2.2.3.3]  */\n  var func = function func() {\n    for (var i = 0; i < handlers.length; i++) {\n      handlers[i](value);\n    } /*  [Promises/A+ 2.2.5]  */\n  };\n\n  /*  execute procedure asynchronously  */ /*  [Promises/A+ 2.2.4, 3.1]  */\n  if (typeof setImmediate === 'function') setImmediate(func);else setTimeout(func, 0);\n};\n\n/*  generate a resolver function  */\nvar resolver = function resolver(cb, next, method) {\n  return function (value) {\n    if (typeof cb !== 'function') /*  [Promises/A+ 2.2.1, 2.2.7.3, 2.2.7.4]  */\n      next[method].call(next, value); /*  [Promises/A+ 2.2.7.3, 2.2.7.4]  */\n    else {\n        var result;\n        try {\n          result = cb(value);\n        } /*  [Promises/A+ 2.2.2.1, 2.2.3.1, 2.2.5, 3.2]  */\n        catch (e) {\n          next.reject(e); /*  [Promises/A+ 2.2.7.2]  */\n          return;\n        }\n        resolve(next, result); /*  [Promises/A+ 2.2.7.1]  */\n      }\n  };\n};\n\n/*  \"Promise Resolution Procedure\"  */ /*  [Promises/A+ 2.3]  */\nvar resolve = function resolve(promise, x) {\n  /*  sanity check arguments  */ /*  [Promises/A+ 2.3.1]  */\n  if (promise === x || promise.proxy === x) {\n    promise.reject(new TypeError('cannot resolve promise with itself'));\n    return;\n  }\n\n  /*  surgically check for a \"then\" method\n    (mainly to just call the \"getter\" of \"then\" only once)  */\n  var then;\n  if ((typeof x === 'undefined' ? 'undefined' : _typeof(x)) === 'object' && x !== null || typeof x === 'function') {\n    try {\n      then = x.then;\n    } /*  [Promises/A+ 2.3.3.1, 3.5]  */\n    catch (e) {\n      promise.reject(e); /*  [Promises/A+ 2.3.3.2]  */\n      return;\n    }\n  }\n\n  /*  handle own Thenables    [Promises/A+ 2.3.2]\n    and similar \"thenables\" [Promises/A+ 2.3.3]  */\n  if (typeof then === 'function') {\n    var resolved = false;\n    try {\n      /*  call retrieved \"then\" method */ /*  [Promises/A+ 2.3.3.3]  */\n      then.call(x,\n      /*  resolvePromise  */ /*  [Promises/A+ 2.3.3.3.1]  */\n      function (y) {\n        if (resolved) return;resolved = true; /*  [Promises/A+ 2.3.3.3.3]  */\n        if (y === x) /*  [Promises/A+ 3.6]  */\n          promise.reject(new TypeError('circular thenable chain'));else resolve(promise, y);\n      },\n\n      /*  rejectPromise  */ /*  [Promises/A+ 2.3.3.3.2]  */\n      function (r) {\n        if (resolved) return;resolved = true; /*  [Promises/A+ 2.3.3.3.3]  */\n        promise.reject(r);\n      });\n    } catch (e) {\n      if (!resolved) /*  [Promises/A+ 2.3.3.3.3]  */\n        promise.reject(e); /*  [Promises/A+ 2.3.3.3.4]  */\n    }\n    return;\n  }\n\n  /*  handle other values  */\n  promise.fulfill(x); /*  [Promises/A+ 2.3.4, 2.3.3.4]  */\n};\n\n// so we always have Promise.all()\napi.all = function (ps) {\n  return new api(function (resolveAll, rejectAll) {\n    var vals = new Array(ps.length);\n    var doneCount = 0;\n\n    var fulfill = function fulfill(i, val) {\n      vals[i] = val;\n      doneCount++;\n\n      if (doneCount === ps.length) {\n        resolveAll(vals);\n      }\n    };\n\n    for (var i = 0; i < ps.length; i++) {\n      (function (i) {\n        var p = ps[i];\n        var isPromise = p != null && p.then != null;\n\n        if (isPromise) {\n          p.then(function (val) {\n            fulfill(i, val);\n          }, function (err) {\n            rejectAll(err);\n          });\n        } else {\n          var val = p;\n          fulfill(i, val);\n        }\n      })(i);\n    }\n  });\n};\n\napi.resolve = function (val) {\n  return new api(function (resolve, reject) {\n    resolve(val);\n  });\n};\n\napi.reject = function (val) {\n  return new api(function (resolve, reject) {\n    reject(val);\n  });\n};\n\nmodule.exports = typeof Promise !== 'undefined' ? Promise : api; // eslint-disable-line no-undef\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(138).setImmediate))\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar util = __webpack_require__(1);\nvar newQuery = __webpack_require__(11);\n\nvar Selector = function Selector(selector) {\n  var self = this;\n\n  self._private = {\n    selectorText: selector,\n    invalid: true\n  };\n\n  if (selector == null || is.string(selector) && selector.match(/^\\s*$/)) {\n\n    self.length = 0;\n  } else if (selector === '*' || selector === 'edge' || selector === 'node') {\n\n    // make single, group-only selectors cheap to make and cheap to filter\n\n    self[0] = newQuery();\n    self[0].group = selector === '*' ? selector : selector + 's';\n    self[0].groupOnly = true;\n    self[0].length = 1;\n    self._private.invalid = false;\n    self.length = 1;\n  } else if (is.elementOrCollection(selector)) {\n\n    var collection = selector.collection();\n\n    self[0] = newQuery();\n    self[0].collection = collection;\n    self[0].length = 1;\n    self.length = 1;\n  } else if (is.fn(selector)) {\n\n    self[0] = newQuery();\n    self[0].filter = selector;\n    self[0].length = 1;\n    self.length = 1;\n  } else if (is.string(selector)) {\n    if (!self.parse(selector)) {\n      return;\n    }\n  } else {\n    util.error('A selector must be created from a string; found ', selector);\n    return;\n  }\n\n  self._private.invalid = false;\n};\n\nvar selfn = Selector.prototype;\n\nselfn.valid = function () {\n  return !this._private.invalid;\n};\n\nselfn.invalid = function () {\n  return this._private.invalid;\n};\n\nselfn.text = function () {\n  return this._private.selectorText;\n};\n\nselfn.size = function () {\n  return this.length;\n};\n\nselfn.eq = function (i) {\n  return this[i];\n};\n\nselfn.sameText = function (otherSel) {\n  return this.text() === otherSel.text();\n};\n\nselfn.toString = selfn.selector = function () {\n\n  if (this._private.toStringCache != null) {\n    return this._private.toStringCache;\n  }\n\n  var i = void 0;\n  var str = '';\n\n  var clean = function clean(obj) {\n    if (obj == null) {\n      return '';\n    } else {\n      return obj;\n    }\n  };\n\n  var cleanVal = function cleanVal(val) {\n    if (is.string(val)) {\n      return '\"' + val + '\"';\n    } else {\n      return clean(val);\n    }\n  };\n\n  var space = function space(val) {\n    return ' ' + val + ' ';\n  };\n\n  var queryToString = function queryToString(query) {\n    var str = '';\n    var j = void 0,\n        sel = void 0;\n\n    if (query.subject === query) {\n      str += '$';\n    }\n\n    var group = clean(query.group);\n    str += group.substring(0, group.length - 1);\n\n    for (j = 0; j < query.data.length; j++) {\n      var data = query.data[j];\n\n      if (data.value) {\n        str += '[' + data.field + space(clean(data.operator)) + cleanVal(data.value) + ']';\n      } else {\n        str += '[' + clean(data.operator) + data.field + ']';\n      }\n    }\n\n    for (j = 0; j < query.meta.length; j++) {\n      var meta = query.meta[j];\n      str += '[[' + meta.field + space(clean(meta.operator)) + cleanVal(meta.value) + ']]';\n    }\n\n    for (j = 0; j < query.colonSelectors.length; j++) {\n      sel = query.colonSelectors[i];\n      str += sel;\n    }\n\n    for (j = 0; j < query.ids.length; j++) {\n      sel = '#' + query.ids[i];\n      str += sel;\n    }\n\n    for (j = 0; j < query.classes.length; j++) {\n      sel = '.' + query.classes[j];\n      str += sel;\n    }\n\n    if (query.source != null && query.target != null) {\n      str = queryToString(query.source) + ' -> ' + queryToString(query.target);\n    }\n\n    if (query.connectedNodes != null) {\n      var n = query.connectedNodes;\n\n      str = queryToString(n[0]) + ' <-> ' + queryToString(n[1]);\n    }\n\n    if (query.parent != null) {\n      str = queryToString(query.parent) + ' > ' + str;\n    }\n\n    if (query.ancestor != null) {\n      str = queryToString(query.ancestor) + ' ' + str;\n    }\n\n    if (query.child != null) {\n      str += ' > ' + queryToString(query.child);\n    }\n\n    if (query.descendant != null) {\n      str += ' ' + queryToString(query.descendant);\n    }\n\n    return str;\n  };\n\n  for (i = 0; i < this.length; i++) {\n    var query = this[i];\n\n    str += queryToString(query);\n\n    if (this.length > 1 && i < this.length - 1) {\n      str += ', ';\n    }\n  }\n\n  this._private.toStringCache = str;\n\n  return str;\n};\n\n[__webpack_require__(120), __webpack_require__(119)].forEach(function (p) {\n  return util.assign(selfn, p);\n});\n\nmodule.exports = Selector;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar is = __webpack_require__(0);\nvar Map = __webpack_require__(117);\nvar Set = __webpack_require__(9);\n\nvar Element = __webpack_require__(13);\n\n// factory for generating edge ids when no id is specified for a new element\nvar idFactory = {\n  generate: function generate(cy, element, tryThisId) {\n    var id = tryThisId != null ? tryThisId : util.uuid();\n\n    while (cy.hasElementWithId(id)) {\n      id = util.uuid();\n    }\n\n    return id;\n  }\n};\n\n// represents a set of nodes, edges, or both together\nvar Collection = function Collection(cy, elements, options) {\n  if (cy === undefined || !is.core(cy)) {\n    util.error('A collection must have a reference to the core');\n    return;\n  }\n\n  var map = new Map();\n  var createdElements = false;\n\n  if (!elements) {\n    elements = [];\n  } else if (elements.length > 0 && is.plainObject(elements[0]) && !is.element(elements[0])) {\n    createdElements = true;\n\n    // make elements from json and restore all at once later\n    var eles = [];\n    var elesIds = new Set();\n\n    for (var i = 0, l = elements.length; i < l; i++) {\n      var json = elements[i];\n\n      if (json.data == null) {\n        json.data = {};\n      }\n\n      var data = json.data;\n\n      // make sure newly created elements have valid ids\n      if (data.id == null) {\n        data.id = idFactory.generate(cy, json);\n      } else if (cy.hasElementWithId(data.id) || elesIds.has(data.id)) {\n        continue; // can't create element if prior id already exists\n      }\n\n      var ele = new Element(cy, json, false);\n      eles.push(ele);\n      elesIds.add(data.id);\n    }\n\n    elements = eles;\n  }\n\n  this.length = 0;\n\n  for (var _i = 0, _l = elements.length; _i < _l; _i++) {\n    var element = elements[_i];\n    if (element == null) {\n      continue;\n    }\n\n    var id = element._private.data.id;\n\n    if (options == null || options.unique && !map.has(id)) {\n      map.set(id, {\n        index: this.length,\n        ele: element\n      });\n\n      this[this.length] = element;\n      this.length++;\n    }\n  }\n\n  this._private = {\n    cy: cy,\n    map: map\n  };\n\n  // restore the elements if we created them from json\n  if (createdElements) {\n    this.restore();\n  }\n};\n\n// Functions\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\n// keep the prototypes in sync (an element has the same functions as a collection)\n// and use elefn and elesfn as shorthands to the prototypes\nvar elesfn = Element.prototype = Collection.prototype;\n\nelesfn.instanceString = function () {\n  return 'collection';\n};\n\nelesfn.spawn = function (cy, eles, opts) {\n  if (!is.core(cy)) {\n    // cy is optional\n    opts = eles;\n    eles = cy;\n    cy = this.cy();\n  }\n\n  return new Collection(cy, eles, opts);\n};\n\nelesfn.spawnSelf = function () {\n  return this.spawn(this);\n};\n\nelesfn.cy = function () {\n  return this._private.cy;\n};\n\nelesfn.renderer = function () {\n  return this._private.cy.renderer();\n};\n\nelesfn.element = function () {\n  return this[0];\n};\n\nelesfn.collection = function () {\n  if (is.collection(this)) {\n    return this;\n  } else {\n    // an element\n    return new Collection(this._private.cy, [this]);\n  }\n};\n\nelesfn.unique = function () {\n  return new Collection(this._private.cy, this, { unique: true });\n};\n\nelesfn.hasElementWithId = function (id) {\n  return this._private.map.has(id);\n};\n\nelesfn.getElementById = function (id) {\n  var cy = this._private.cy;\n  var entry = this._private.map.get(id);\n\n  return entry ? entry.ele : new Collection(cy); // get ele or empty collection\n};\n\nelesfn.$id = elesfn.getElementById;\n\nelesfn.poolIndex = function () {\n  var cy = this._private.cy;\n  var eles = cy._private.elements;\n  var id = this._private.data.id;\n\n  return eles._private.map.get(id).index;\n};\n\nelesfn.json = function (obj) {\n  var ele = this.element();\n  var cy = this.cy();\n\n  if (ele == null && obj) {\n    return this;\n  } // can't set to no eles\n\n  if (ele == null) {\n    return undefined;\n  } // can't get from no eles\n\n  var p = ele._private;\n\n  if (is.plainObject(obj)) {\n    // set\n\n    cy.startBatch();\n\n    if (obj.data) {\n      ele.data(obj.data);\n    }\n\n    if (obj.position) {\n      ele.position(obj.position);\n    }\n\n    // ignore group -- immutable\n\n    var checkSwitch = function checkSwitch(k, trueFnName, falseFnName) {\n      var obj_k = obj[k];\n\n      if (obj_k != null && obj_k !== p[k]) {\n        if (obj_k) {\n          ele[trueFnName]();\n        } else {\n          ele[falseFnName]();\n        }\n      }\n    };\n\n    checkSwitch('removed', 'remove', 'restore');\n\n    checkSwitch('selected', 'select', 'unselect');\n\n    checkSwitch('selectable', 'selectify', 'unselectify');\n\n    checkSwitch('locked', 'lock', 'unlock');\n\n    checkSwitch('grabbable', 'grabify', 'ungrabify');\n\n    if (obj.classes != null) {\n      ele.classes(obj.classes);\n    }\n\n    cy.endBatch();\n\n    return this;\n  } else if (obj === undefined) {\n    // get\n\n    var json = {\n      data: util.copy(p.data),\n      position: util.copy(p.position),\n      group: p.group,\n      removed: p.removed,\n      selected: p.selected,\n      selectable: p.selectable,\n      locked: p.locked,\n      grabbable: p.grabbable,\n      classes: null\n    };\n\n    json.classes = '';\n\n    var i = 0;\n    p.classes.forEach(function (cls) {\n      return json.classes += i++ === 0 ? cls : ' ' + cls;\n    });\n\n    return json;\n  }\n};\n\nelesfn.jsons = function () {\n  var jsons = [];\n\n  for (var i = 0; i < this.length; i++) {\n    var ele = this[i];\n    var json = ele.json();\n\n    jsons.push(json);\n  }\n\n  return jsons;\n};\n\nelesfn.clone = function () {\n  var cy = this.cy();\n  var elesArr = [];\n\n  for (var i = 0; i < this.length; i++) {\n    var ele = this[i];\n    var json = ele.json();\n    var clone = new Element(cy, json, false); // NB no restore\n\n    elesArr.push(clone);\n  }\n\n  return new Collection(cy, elesArr);\n};\nelesfn.copy = elesfn.clone;\n\nelesfn.restore = function (notifyRenderer) {\n  var self = this;\n  var cy = self.cy();\n  var cy_p = cy._private;\n\n  if (notifyRenderer === undefined) {\n    notifyRenderer = true;\n  }\n\n  // create arrays of nodes and edges, since we need to\n  // restore the nodes first\n  var nodes = [];\n  var edges = [];\n  var elements = void 0;\n  for (var _i2 = 0, l = self.length; _i2 < l; _i2++) {\n    var ele = self[_i2];\n\n    if (!ele.removed()) {\n      // don't need to handle this ele\n      continue;\n    }\n\n    // keep nodes first in the array and edges after\n    if (ele.isNode()) {\n      // put to front of array if node\n      nodes.push(ele);\n    } else {\n      // put to end of array if edge\n      edges.push(ele);\n    }\n  }\n\n  elements = nodes.concat(edges);\n\n  var i = void 0;\n  var removeFromElements = function removeFromElements() {\n    elements.splice(i, 1);\n    i--;\n  };\n\n  // now, restore each element\n  for (i = 0; i < elements.length; i++) {\n    var _ele = elements[i];\n\n    var _private = _ele._private;\n    var data = _private.data;\n\n    // the traversal cache should start fresh when ele is added\n    _ele.clearTraversalCache();\n\n    // set id and validate\n    if (data.id === undefined) {\n      data.id = idFactory.generate(cy, _ele);\n    } else if (is.number(data.id)) {\n      data.id = '' + data.id; // now it's a string\n    } else if (is.emptyString(data.id) || !is.string(data.id)) {\n      util.error('Can not create element with invalid string ID `' + data.id + '`');\n\n      // can't create element if it has empty string as id or non-string id\n      removeFromElements();\n      continue;\n    } else if (cy.hasElementWithId(data.id)) {\n      util.error('Can not create second element with ID `' + data.id + '`');\n\n      // can't create element if one already has that id\n      removeFromElements();\n      continue;\n    }\n\n    var id = data.id; // id is finalised, now let's keep a ref\n\n    if (_ele.isNode()) {\n      // extra checks for nodes\n      var pos = _private.position;\n\n      // make sure the nodes have a defined position\n\n      if (pos.x == null) {\n        pos.x = 0;\n      }\n\n      if (pos.y == null) {\n        pos.y = 0;\n      }\n    }\n\n    if (_ele.isEdge()) {\n      // extra checks for edges\n\n      var edge = _ele;\n      var fields = ['source', 'target'];\n      var fieldsLength = fields.length;\n      var badSourceOrTarget = false;\n      for (var j = 0; j < fieldsLength; j++) {\n\n        var field = fields[j];\n        var val = data[field];\n\n        if (is.number(val)) {\n          val = data[field] = '' + data[field]; // now string\n        }\n\n        if (val == null || val === '') {\n          // can't create if source or target is not defined properly\n          util.error('Can not create edge `' + id + '` with unspecified ' + field);\n          badSourceOrTarget = true;\n        } else if (!cy.hasElementWithId(val)) {\n          // can't create edge if one of its nodes doesn't exist\n          util.error('Can not create edge `' + id + '` with nonexistant ' + field + ' `' + val + '`');\n          badSourceOrTarget = true;\n        }\n      }\n\n      if (badSourceOrTarget) {\n        removeFromElements();continue;\n      } // can't create this\n\n      var src = cy.getElementById(data.source);\n      var tgt = cy.getElementById(data.target);\n\n      src._private.edges.push(edge);\n      tgt._private.edges.push(edge);\n\n      edge._private.source = src;\n      edge._private.target = tgt;\n    } // if is edge\n\n    // create mock ids / indexes maps for element so it can be used like collections\n    _private.map = new Map();\n    _private.map.set(id, { ele: _ele, index: 0 });\n\n    _private.removed = false;\n    cy.addToPool(_ele);\n  } // for each element\n\n  // do compound node sanity checks\n  for (var _i3 = 0; _i3 < nodes.length; _i3++) {\n    // each node\n    var node = nodes[_i3];\n    var _data = node._private.data;\n\n    if (is.number(_data.parent)) {\n      // then automake string\n      _data.parent = '' + _data.parent;\n    }\n\n    var parentId = _data.parent;\n\n    var specifiedParent = parentId != null;\n\n    if (specifiedParent) {\n      var parent = cy.getElementById(parentId);\n\n      if (parent.empty()) {\n        // non-existant parent; just remove it\n        _data.parent = undefined;\n      } else {\n        var selfAsParent = false;\n        var ancestor = parent;\n        while (!ancestor.empty()) {\n          if (node.same(ancestor)) {\n            // mark self as parent and remove from data\n            selfAsParent = true;\n            _data.parent = undefined; // remove parent reference\n\n            // exit or we loop forever\n            break;\n          }\n\n          ancestor = ancestor.parent();\n        }\n\n        if (!selfAsParent) {\n          // connect with children\n          parent[0]._private.children.push(node);\n          node._private.parent = parent[0];\n\n          // let the core know we have a compound graph\n          cy_p.hasCompoundNodes = true;\n        }\n      } // else\n    } // if specified parent\n  } // for each node\n\n  if (elements.length > 0) {\n    var restored = new Collection(cy, elements);\n\n    for (var _i4 = 0; _i4 < restored.length; _i4++) {\n      var _ele2 = restored[_i4];\n\n      if (_ele2.isNode()) {\n        continue;\n      }\n\n      // adding an edge invalidates the traversal caches for the parallel edges\n      _ele2.parallelEdges().clearTraversalCache();\n\n      // adding an edge invalidates the traversal cache for the connected nodes\n      _ele2.source().clearTraversalCache();\n      _ele2.target().clearTraversalCache();\n    }\n\n    var toUpdateStyle = void 0;\n\n    if (cy_p.hasCompoundNodes) {\n      toUpdateStyle = cy.collection().merge(restored).merge(restored.connectedNodes()).merge(restored.parent());\n    } else {\n      toUpdateStyle = restored;\n    }\n\n    toUpdateStyle.dirtyCompoundBoundsCache().updateStyle(notifyRenderer);\n\n    if (notifyRenderer) {\n      restored.emitAndNotify('add');\n    } else {\n      restored.emit('add');\n    }\n  }\n\n  return self; // chainability\n};\n\nelesfn.removed = function () {\n  var ele = this[0];\n  return ele && ele._private.removed;\n};\n\nelesfn.inside = function () {\n  var ele = this[0];\n  return ele && !ele._private.removed;\n};\n\nelesfn.remove = function (notifyRenderer) {\n  var self = this;\n  var removed = [];\n  var elesToRemove = [];\n  var elesToRemoveIds = {};\n  var cy = self._private.cy;\n\n  if (notifyRenderer === undefined) {\n    notifyRenderer = true;\n  }\n\n  // add connected edges\n  function addConnectedEdges(node) {\n    var edges = node._private.edges;\n    for (var i = 0; i < edges.length; i++) {\n      add(edges[i]);\n    }\n  }\n\n  // add descendant nodes\n  function addChildren(node) {\n    var children = node._private.children;\n\n    for (var i = 0; i < children.length; i++) {\n      add(children[i]);\n    }\n  }\n\n  function add(ele) {\n    var alreadyAdded = elesToRemoveIds[ele.id()];\n    if (alreadyAdded) {\n      return;\n    } else {\n      elesToRemoveIds[ele.id()] = true;\n    }\n\n    if (ele.isNode()) {\n      elesToRemove.push(ele); // nodes are removed last\n\n      addConnectedEdges(ele);\n      addChildren(ele);\n    } else {\n      elesToRemove.unshift(ele); // edges are removed first\n    }\n  }\n\n  // make the list of elements to remove\n  // (may be removing more than specified due to connected edges etc)\n\n  for (var i = 0, l = self.length; i < l; i++) {\n    var ele = self[i];\n\n    add(ele);\n  }\n\n  function removeEdgeRef(node, edge) {\n    var connectedEdges = node._private.edges;\n\n    util.removeFromArray(connectedEdges, edge);\n\n    // removing an edges invalidates the traversal cache for its nodes\n    node.clearTraversalCache();\n  }\n\n  function removeParallelRefs(edge) {\n    // removing an edge invalidates the traversal caches for the parallel edges\n    edge.parallelEdges().clearTraversalCache();\n  }\n\n  var alteredParents = [];\n  alteredParents.ids = {};\n\n  function removeChildRef(parent, ele) {\n    ele = ele[0];\n    parent = parent[0];\n\n    var children = parent._private.children;\n    var pid = parent.id();\n\n    util.removeFromArray(children, ele);\n\n    if (!alteredParents.ids[pid]) {\n      alteredParents.ids[pid] = true;\n      alteredParents.push(parent);\n    }\n  }\n\n  self.dirtyCompoundBoundsCache();\n\n  cy.removeFromPool(elesToRemove); // remove from core pool\n\n  for (var _i5 = 0; _i5 < elesToRemove.length; _i5++) {\n    var _ele3 = elesToRemove[_i5];\n\n    // mark as removed\n    _ele3._private.removed = true;\n\n    // add to list of removed elements\n    removed.push(_ele3);\n\n    if (_ele3.isEdge()) {\n      // remove references to this edge in its connected nodes\n      var src = _ele3.source()[0];\n      var tgt = _ele3.target()[0];\n\n      removeEdgeRef(src, _ele3);\n      removeEdgeRef(tgt, _ele3);\n      removeParallelRefs(_ele3);\n    } else {\n      // remove reference to parent\n      var parent = _ele3.parent();\n\n      if (parent.length !== 0) {\n        removeChildRef(parent, _ele3);\n      }\n    }\n  }\n\n  // check to see if we have a compound graph or not\n  var elesStillInside = cy._private.elements;\n  cy._private.hasCompoundNodes = false;\n  for (var _i6 = 0; _i6 < elesStillInside.length; _i6++) {\n    var _ele4 = elesStillInside[_i6];\n\n    if (_ele4.isParent()) {\n      cy._private.hasCompoundNodes = true;\n      break;\n    }\n  }\n\n  var removedElements = new Collection(this.cy(), removed);\n  if (removedElements.size() > 0) {\n    // must manually notify since trigger won't do this automatically once removed\n\n    if (notifyRenderer) {\n      this.cy().notify({\n        type: 'remove',\n        eles: removedElements\n      });\n    }\n\n    removedElements.emit('remove');\n  }\n\n  // the parents who were modified by the removal need their style updated\n  for (var _i7 = 0; _i7 < alteredParents.length; _i7++) {\n    var _ele5 = alteredParents[_i7];\n\n    if (!_ele5.removed()) {\n      _ele5.updateStyle();\n    }\n  }\n\n  return new Collection(cy, removed);\n};\n\nelesfn.move = function (struct) {\n  var cy = this._private.cy;\n\n  if (struct.source !== undefined || struct.target !== undefined) {\n    var srcId = struct.source;\n    var tgtId = struct.target;\n    var srcExists = cy.hasElementWithId(srcId);\n    var tgtExists = cy.hasElementWithId(tgtId);\n\n    if (srcExists || tgtExists) {\n      var jsons = this.jsons();\n\n      this.remove();\n\n      for (var i = 0; i < jsons.length; i++) {\n        var json = jsons[i];\n        var ele = this[i];\n\n        if (json.group === 'edges') {\n          if (srcExists) {\n            json.data.source = srcId;\n          }\n\n          if (tgtExists) {\n            json.data.target = tgtId;\n          }\n\n          json.scratch = ele._private.scratch;\n        }\n      }\n\n      return cy.add(jsons);\n    }\n  } else if (struct.parent !== undefined) {\n    // move node to new parent\n    var parentId = struct.parent;\n    var parentExists = parentId === null || cy.hasElementWithId(parentId);\n\n    if (parentExists) {\n      var _jsons = this.jsons();\n      var descs = this.descendants();\n      var descsEtcJsons = descs.union(descs.union(this).connectedEdges()).jsons();\n\n      this.remove(); // NB: also removes descendants and their connected edges\n\n      for (var _i8 = 0; _i8 < _jsons.length; _i8++) {\n        var _json = _jsons[_i8];\n        var _ele6 = this[_i8];\n\n        if (_json.group === 'nodes') {\n          _json.data.parent = parentId === null ? undefined : parentId;\n\n          _json.scratch = _ele6._private.scratch;\n        }\n      }\n\n      return cy.add(_jsons.concat(descsEtcJsons));\n    }\n  }\n\n  return this; // if nothing done\n};\n\n[__webpack_require__(32), __webpack_require__(36), __webpack_require__(37), __webpack_require__(38), __webpack_require__(39), __webpack_require__(40), __webpack_require__(41), __webpack_require__(44), __webpack_require__(47), __webpack_require__(48), __webpack_require__(49), __webpack_require__(7), __webpack_require__(50), __webpack_require__(51), __webpack_require__(52), __webpack_require__(53), __webpack_require__(54)].forEach(function (props) {\n  util.extend(elesfn, props);\n});\n\nmodule.exports = Collection;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = __webpack_require__(140);\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* global Set */\n\nvar undef =  true ? 'undefined' : _typeof(undefined);\n\nvar ObjectSet = function () {\n  function ObjectSet(arrayOrObjectSet) {\n    _classCallCheck(this, ObjectSet);\n\n    this._obj = Object.create(null);\n\n    if (arrayOrObjectSet != null) {\n      var arr = void 0;\n\n      if (arrayOrObjectSet.instanceString != null && arrayOrObjectSet.instanceString() === this.instanceString()) {\n        arr = arrayOrObjectSet.toArray();\n      } else {\n        arr = arrayOrObjectSet;\n      }\n\n      for (var i = 0; i < arr.length; i++) {\n        this.add(arr[i]);\n      }\n    }\n  }\n\n  _createClass(ObjectSet, [{\n    key: 'instanceString',\n    value: function instanceString() {\n      return 'set';\n    }\n  }, {\n    key: 'add',\n    value: function add(val) {\n      this._obj[val] = 1;\n    }\n  }, {\n    key: 'delete',\n    value: function _delete(val) {\n      this._obj[val] = 0;\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this._obj = Object.create(null);\n    }\n  }, {\n    key: 'has',\n    value: function has(val) {\n      return this._obj[val] === 1;\n    }\n  }, {\n    key: 'toArray',\n    value: function toArray() {\n      var _this = this;\n\n      return Object.keys(this._obj).filter(function (key) {\n        return _this.has(key);\n      });\n    }\n  }, {\n    key: 'forEach',\n    value: function forEach(callback, thisArg) {\n      return this.toArray().forEach(callback, thisArg);\n    }\n  }, {\n    key: 'size',\n    get: function get() {\n      return this.toArray().length;\n    }\n  }]);\n\n  return ObjectSet;\n}();\n\n// TODO use the stdlib Set in future...\n// module.exports = typeof Set !== undef ? Set : ObjectSet;\n\n\nmodule.exports = ObjectSet;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar is = __webpack_require__(0);\nvar Event = __webpack_require__(15);\n\nvar eventRegex = /^([^.]+)(\\.(?:[^.]+))?$/; // regex for matching event strings (e.g. \"click.namespace\")\nvar universalNamespace = '.*'; // matches as if no namespace specified and prevents users from unbinding accidentally\n\nvar defaults = {\n  qualifierCompare: function qualifierCompare(q1, q2) {\n    return q1 === q2;\n  },\n  eventMatches: function eventMatches() /*context, listener, eventObj*/{\n    return true;\n  },\n  eventFields: function eventFields() /*context*/{\n    return {};\n  },\n  callbackContext: function callbackContext(context /*, listener, eventObj*/) {\n    return context;\n  },\n  beforeEmit: function beforeEmit() /* context, listener, eventObj */{},\n  afterEmit: function afterEmit() /* context, listener, eventObj */{},\n  bubble: function bubble() /*context*/{\n    return false;\n  },\n  parent: function parent() /*context*/{\n    return null;\n  },\n  context: undefined\n};\n\nfunction Emitter(opts) {\n  util.assign(this, defaults, opts);\n\n  this.listeners = [];\n  this.emitting = 0;\n}\n\nvar p = Emitter.prototype;\n\nvar forEachEvent = function forEachEvent(self, handler, events, qualifier, callback, conf, confOverrides) {\n  if (is.fn(qualifier)) {\n    callback = qualifier;\n    qualifier = null;\n  }\n\n  if (confOverrides) {\n    if (conf == null) {\n      conf = confOverrides;\n    } else {\n      conf = util.assign({}, conf, confOverrides);\n    }\n  }\n\n  var eventList = events.split(/\\s+/);\n\n  for (var i = 0; i < eventList.length; i++) {\n    var evt = eventList[i];\n\n    if (is.emptyString(evt)) {\n      continue;\n    }\n\n    var match = evt.match(eventRegex); // type[.namespace]\n\n    if (match) {\n      var type = match[1];\n      var namespace = match[2] ? match[2] : null;\n      var ret = handler(self, evt, type, namespace, qualifier, callback, conf);\n\n      if (ret === false) {\n        break;\n      } // allow exiting early\n    }\n  }\n};\n\nvar makeEventObj = function makeEventObj(self, obj) {\n  return new Event(obj.type, util.assign(obj, self.eventFields(self.context)));\n};\n\nvar forEachEventObj = function forEachEventObj(self, handler, events) {\n  if (is.event(events)) {\n    handler(self, events);\n\n    return;\n  } else if (is.plainObject(events)) {\n    handler(self, makeEventObj(self, events));\n\n    return;\n  }\n\n  var eventList = events.split(/\\s+/);\n\n  for (var i = 0; i < eventList.length; i++) {\n    var evt = eventList[i];\n\n    if (is.emptyString(evt)) {\n      continue;\n    }\n\n    var match = evt.match(eventRegex); // type[.namespace]\n\n    if (match) {\n      var type = match[1];\n      var namespace = match[2] ? match[2] : null;\n      var eventObj = makeEventObj(self, {\n        type: type,\n        namespace: namespace,\n        target: self.context\n      });\n\n      handler(self, eventObj);\n    }\n  }\n};\n\np.on = p.addListener = function (events, qualifier, callback, conf, confOverrides) {\n  forEachEvent(this, function (self, event, type, namespace, qualifier, callback, conf) {\n    if (is.fn(callback)) {\n      self.listeners.push({\n        event: event, // full event string\n        callback: callback, // callback to run\n        type: type, // the event type (e.g. 'click')\n        namespace: namespace, // the event namespace (e.g. \".foo\")\n        qualifier: qualifier, // a restriction on whether to match this emitter\n        conf: conf // additional configuration\n      });\n    }\n  }, events, qualifier, callback, conf, confOverrides);\n\n  return this;\n};\n\np.one = function (events, qualifier, callback, conf) {\n  return this.on(events, qualifier, callback, conf, { one: true });\n};\n\np.removeListener = p.off = function (events, qualifier, callback, conf) {\n  var _this = this;\n\n  if (this.emitting !== 0) {\n    this.listeners = util.copyArray(this.listeners);\n  }\n\n  var listeners = this.listeners;\n\n  var _loop = function _loop(i) {\n    var listener = listeners[i];\n\n    forEachEvent(_this, function (self, event, type, namespace, qualifier, callback /*, conf*/) {\n      if (listener.type === type && (!namespace || listener.namespace === namespace) && (!qualifier || self.qualifierCompare(listener.qualifier, qualifier)) && (!callback || listener.callback === callback)) {\n        listeners.splice(i, 1);\n\n        return false;\n      }\n    }, events, qualifier, callback, conf);\n  };\n\n  for (var i = listeners.length - 1; i >= 0; i--) {\n    _loop(i);\n  }\n\n  return this;\n};\n\np.emit = p.trigger = function (events, extraParams, manualCallback) {\n  var listeners = this.listeners;\n  var numListenersBeforeEmit = listeners.length;\n\n  this.emitting++;\n\n  if (!is.array(extraParams)) {\n    extraParams = [extraParams];\n  }\n\n  forEachEventObj(this, function (self, eventObj) {\n    if (manualCallback != null) {\n      listeners = [{\n        event: eventObj.event,\n        type: eventObj.type,\n        namespace: eventObj.namespace,\n        callback: manualCallback\n      }];\n\n      numListenersBeforeEmit = listeners.length;\n    }\n\n    var _loop2 = function _loop2(i) {\n      var listener = listeners[i];\n\n      if (listener.type === eventObj.type && (!listener.namespace || listener.namespace === eventObj.namespace || listener.namespace === universalNamespace) && self.eventMatches(self.context, listener, eventObj)) {\n        var args = [eventObj];\n\n        if (extraParams != null) {\n          util.push(args, extraParams);\n        }\n\n        self.beforeEmit(self.context, listener, eventObj);\n\n        if (listener.conf && listener.conf.one) {\n          self.listeners = self.listeners.filter(function (l) {\n            return l !== listener;\n          });\n        }\n\n        var context = self.callbackContext(self.context, listener, eventObj);\n        var ret = listener.callback.apply(context, args);\n\n        self.afterEmit(self.context, listener, eventObj);\n\n        if (ret === false) {\n          eventObj.stopPropagation();\n          eventObj.preventDefault();\n        }\n      } // if listener matches\n    };\n\n    for (var i = 0; i < numListenersBeforeEmit; i++) {\n      _loop2(i);\n    } // for listener\n\n    if (self.bubble(self.context) && !eventObj.isPropagationStopped()) {\n      self.parent(self.context).emit(eventObj, extraParams);\n    }\n  }, events);\n\n  this.emitting--;\n\n  return this;\n};\n\nmodule.exports = Emitter;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// storage for parsed queries\nvar newQuery = function newQuery() {\n  return {\n    classes: [],\n    colonSelectors: [],\n    data: [],\n    group: null,\n    ids: [],\n    meta: [],\n\n    // fake selectors\n    collection: null, // a collection to match against\n    filter: null, // filter function\n\n    // these are defined in the upward direction rather than down (e.g. child)\n    // because we need to go up in Selector.filter()\n    parent: null, // parent query obj\n    ancestor: null, // ancestor query obj\n    subject: null, // defines subject in compound query (subject query obj; points to self if subject)\n\n    // use these only when subject has been defined\n    child: null,\n    descendant: null\n  };\n};\n\nmodule.exports = newQuery;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar window = __webpack_require__(4);\nvar util = __webpack_require__(1);\nvar Collection = __webpack_require__(7);\nvar is = __webpack_require__(0);\nvar Promise = __webpack_require__(5);\nvar define = __webpack_require__(3);\n\nvar Core = function Core(opts) {\n  var cy = this;\n\n  opts = util.extend({}, opts);\n\n  var container = opts.container;\n\n  // allow for passing a wrapped jquery object\n  // e.g. cytoscape({ container: $('#cy') })\n  if (container && !is.htmlElement(container) && is.htmlElement(container[0])) {\n    container = container[0];\n  }\n\n  var reg = container ? container._cyreg : null; // e.g. already registered some info (e.g. readies) via jquery\n  reg = reg || {};\n\n  if (reg && reg.cy) {\n    reg.cy.destroy();\n\n    reg = {}; // old instance => replace reg completely\n  }\n\n  var readies = reg.readies = reg.readies || [];\n\n  if (container) {\n    container._cyreg = reg;\n  } // make sure container assoc'd reg points to this cy\n  reg.cy = cy;\n\n  var head = window !== undefined && container !== undefined && !opts.headless;\n  var options = opts;\n  options.layout = util.extend({ name: head ? 'grid' : 'null' }, options.layout);\n  options.renderer = util.extend({ name: head ? 'canvas' : 'null' }, options.renderer);\n\n  var defVal = function defVal(def, val, altVal) {\n    if (val !== undefined) {\n      return val;\n    } else if (altVal !== undefined) {\n      return altVal;\n    } else {\n      return def;\n    }\n  };\n\n  var _p = this._private = {\n    container: container, // html dom ele container\n    ready: false, // whether ready has been triggered\n    options: options, // cached options\n    elements: new Collection(this), // elements in the graph\n    listeners: [], // list of listeners\n    aniEles: new Collection(this), // elements being animated\n    scratch: {}, // scratch object for core\n    layout: null,\n    renderer: null,\n    destroyed: false, // whether destroy was called\n    notificationsEnabled: true, // whether notifications are sent to the renderer\n    minZoom: 1e-50,\n    maxZoom: 1e50,\n    zoomingEnabled: defVal(true, options.zoomingEnabled),\n    userZoomingEnabled: defVal(true, options.userZoomingEnabled),\n    panningEnabled: defVal(true, options.panningEnabled),\n    userPanningEnabled: defVal(true, options.userPanningEnabled),\n    boxSelectionEnabled: defVal(true, options.boxSelectionEnabled),\n    autolock: defVal(false, options.autolock, options.autolockNodes),\n    autoungrabify: defVal(false, options.autoungrabify, options.autoungrabifyNodes),\n    autounselectify: defVal(false, options.autounselectify),\n    styleEnabled: options.styleEnabled === undefined ? head : options.styleEnabled,\n    zoom: is.number(options.zoom) ? options.zoom : 1,\n    pan: {\n      x: is.plainObject(options.pan) && is.number(options.pan.x) ? options.pan.x : 0,\n      y: is.plainObject(options.pan) && is.number(options.pan.y) ? options.pan.y : 0\n    },\n    animation: { // object for currently-running animations\n      current: [],\n      queue: []\n    },\n    hasCompoundNodes: false\n  };\n\n  this.createEmitter();\n\n  // set selection type\n  var selType = options.selectionType;\n  if (selType === undefined || selType !== 'additive' && selType !== 'single') {\n    // then set default\n\n    _p.selectionType = 'single';\n  } else {\n    _p.selectionType = selType;\n  }\n\n  // init zoom bounds\n  if (is.number(options.minZoom) && is.number(options.maxZoom) && options.minZoom < options.maxZoom) {\n    _p.minZoom = options.minZoom;\n    _p.maxZoom = options.maxZoom;\n  } else if (is.number(options.minZoom) && options.maxZoom === undefined) {\n    _p.minZoom = options.minZoom;\n  } else if (is.number(options.maxZoom) && options.minZoom === undefined) {\n    _p.maxZoom = options.maxZoom;\n  }\n\n  var loadExtData = function loadExtData(extData, next) {\n    var anyIsPromise = extData.some(is.promise);\n\n    if (anyIsPromise) {\n      return Promise.all(extData).then(next); // load all data asynchronously, then exec rest of init\n    } else {\n      next(extData); // exec synchronously for convenience\n    }\n  };\n\n  // start with the default stylesheet so we have something before loading an external stylesheet\n  if (_p.styleEnabled) {\n    cy.setStyle([]);\n  }\n\n  // create the renderer\n  cy.initRenderer(util.extend({\n    hideEdgesOnViewport: options.hideEdgesOnViewport,\n    textureOnViewport: options.textureOnViewport,\n    wheelSensitivity: is.number(options.wheelSensitivity) && options.wheelSensitivity > 0 ? options.wheelSensitivity : 1,\n    motionBlur: options.motionBlur === undefined ? false : options.motionBlur, // off by default\n    motionBlurOpacity: options.motionBlurOpacity === undefined ? 0.05 : options.motionBlurOpacity,\n    pixelRatio: is.number(options.pixelRatio) && options.pixelRatio > 0 ? options.pixelRatio : undefined,\n    desktopTapThreshold: options.desktopTapThreshold === undefined ? 4 : options.desktopTapThreshold,\n    touchTapThreshold: options.touchTapThreshold === undefined ? 8 : options.touchTapThreshold\n  }, options.renderer));\n\n  var setElesAndLayout = function setElesAndLayout(elements, onload, ondone) {\n    cy.notifications(false);\n\n    // remove old elements\n    var oldEles = cy.mutableElements();\n    if (oldEles.length > 0) {\n      oldEles.remove();\n    }\n\n    if (elements != null) {\n      if (is.plainObject(elements) || is.array(elements)) {\n        cy.add(elements);\n      }\n    }\n\n    cy.one('layoutready', function (e) {\n      cy.notifications(true);\n      cy.emit(e); // we missed this event by turning notifications off, so pass it on\n\n      cy.notify({\n        type: 'load',\n        eles: cy.mutableElements()\n      });\n\n      cy.one('load', onload);\n      cy.emit('load');\n    }).one('layoutstop', function () {\n      cy.one('done', ondone);\n      cy.emit('done');\n    });\n\n    var layoutOpts = util.extend({}, cy._private.options.layout);\n    layoutOpts.eles = cy.elements();\n\n    cy.layout(layoutOpts).run();\n  };\n\n  loadExtData([options.style, options.elements], function (thens) {\n    var initStyle = thens[0];\n    var initEles = thens[1];\n\n    // init style\n    if (_p.styleEnabled) {\n      cy.style().append(initStyle);\n    }\n\n    // initial load\n    setElesAndLayout(initEles, function () {\n      // onready\n      cy.startAnimationLoop();\n      _p.ready = true;\n\n      // if a ready callback is specified as an option, the bind it\n      if (is.fn(options.ready)) {\n        cy.on('ready', options.ready);\n      }\n\n      // bind all the ready handlers registered before creating this instance\n      for (var i = 0; i < readies.length; i++) {\n        var fn = readies[i];\n        cy.on('ready', fn);\n      }\n      if (reg) {\n        reg.readies = [];\n      } // clear b/c we've bound them all and don't want to keep it around in case a new core uses the same div etc\n\n      cy.emit('ready');\n    }, options.done);\n  });\n};\n\nvar corefn = Core.prototype; // short alias\n\nutil.extend(corefn, {\n  instanceString: function instanceString() {\n    return 'core';\n  },\n\n  isReady: function isReady() {\n    return this._private.ready;\n  },\n\n  isDestroyed: function isDestroyed() {\n    return this._private.destroyed;\n  },\n\n  ready: function ready(fn) {\n    if (this.isReady()) {\n      this.emitter().emit('ready', [], fn); // just calls fn as though triggered via ready event\n    } else {\n      this.on('ready', fn);\n    }\n\n    return this;\n  },\n\n  destroy: function destroy() {\n    var cy = this;\n    if (cy.isDestroyed()) return;\n\n    cy.stopAnimationLoop();\n\n    cy.destroyRenderer();\n\n    this.emit('destroy');\n\n    cy._private.destroyed = true;\n\n    return cy;\n  },\n\n  hasElementWithId: function hasElementWithId(id) {\n    return this._private.elements.hasElementWithId(id);\n  },\n\n  getElementById: function getElementById(id) {\n    return this._private.elements.getElementById(id);\n  },\n\n  selectionType: function selectionType() {\n    return this._private.selectionType;\n  },\n\n  hasCompoundNodes: function hasCompoundNodes() {\n    return this._private.hasCompoundNodes;\n  },\n\n  headless: function headless() {\n    return this._private.options.renderer.name === 'null';\n  },\n\n  styleEnabled: function styleEnabled() {\n    return this._private.styleEnabled;\n  },\n\n  addToPool: function addToPool(eles) {\n    this._private.elements.merge(eles);\n\n    return this; // chaining\n  },\n\n  removeFromPool: function removeFromPool(eles) {\n    this._private.elements.unmerge(eles);\n\n    return this;\n  },\n\n  container: function container() {\n    return this._private.container;\n  },\n\n  options: function options() {\n    return util.copy(this._private.options);\n  },\n\n  json: function json(obj) {\n    var cy = this;\n    var _p = cy._private;\n    var eles = cy.mutableElements();\n\n    if (is.plainObject(obj)) {\n      // set\n\n      cy.startBatch();\n\n      if (obj.elements) {\n        var idInJson = {};\n\n        var updateEles = function updateEles(jsons, gr) {\n          for (var i = 0; i < jsons.length; i++) {\n            var json = jsons[i];\n            var id = json.data.id;\n            var ele = cy.getElementById(id);\n\n            idInJson[id] = true;\n\n            if (ele.length !== 0) {\n              // existing element should be updated\n              ele.json(json);\n            } else {\n              // otherwise should be added\n              if (gr) {\n                cy.add(util.extend({ group: gr }, json));\n              } else {\n                cy.add(json);\n              }\n            }\n          }\n        };\n\n        if (is.array(obj.elements)) {\n          // elements: []\n          updateEles(obj.elements);\n        } else {\n          // elements: { nodes: [], edges: [] }\n          var grs = ['nodes', 'edges'];\n          for (var i = 0; i < grs.length; i++) {\n            var gr = grs[i];\n            var elements = obj.elements[gr];\n\n            if (is.array(elements)) {\n              updateEles(elements, gr);\n            }\n          }\n        }\n\n        // elements not specified in json should be removed\n        eles.stdFilter(function (ele) {\n          return !idInJson[ele.id()];\n        }).remove();\n      }\n\n      if (obj.style) {\n        cy.style(obj.style);\n      }\n\n      if (obj.zoom != null && obj.zoom !== _p.zoom) {\n        cy.zoom(obj.zoom);\n      }\n\n      if (obj.pan) {\n        if (obj.pan.x !== _p.pan.x || obj.pan.y !== _p.pan.y) {\n          cy.pan(obj.pan);\n        }\n      }\n\n      var fields = ['minZoom', 'maxZoom', 'zoomingEnabled', 'userZoomingEnabled', 'panningEnabled', 'userPanningEnabled', 'boxSelectionEnabled', 'autolock', 'autoungrabify', 'autounselectify'];\n\n      for (var _i = 0; _i < fields.length; _i++) {\n        var f = fields[_i];\n\n        if (obj[f] != null) {\n          cy[f](obj[f]);\n        }\n      }\n\n      cy.endBatch();\n\n      return this; // chaining\n    } else if (obj === undefined) {\n      // get\n      var json = {};\n\n      json.elements = {};\n      eles.forEach(function (ele) {\n        var group = ele.group();\n\n        if (!json.elements[group]) {\n          json.elements[group] = [];\n        }\n\n        json.elements[group].push(ele.json());\n      });\n\n      if (this._private.styleEnabled) {\n        json.style = cy.style().json();\n      }\n\n      json.zoomingEnabled = cy._private.zoomingEnabled;\n      json.userZoomingEnabled = cy._private.userZoomingEnabled;\n      json.zoom = cy._private.zoom;\n      json.minZoom = cy._private.minZoom;\n      json.maxZoom = cy._private.maxZoom;\n      json.panningEnabled = cy._private.panningEnabled;\n      json.userPanningEnabled = cy._private.userPanningEnabled;\n      json.pan = util.copy(cy._private.pan);\n      json.boxSelectionEnabled = cy._private.boxSelectionEnabled;\n      json.renderer = util.copy(cy._private.options.renderer);\n      json.hideEdgesOnViewport = cy._private.options.hideEdgesOnViewport;\n      json.textureOnViewport = cy._private.options.textureOnViewport;\n      json.wheelSensitivity = cy._private.options.wheelSensitivity;\n      json.motionBlur = cy._private.options.motionBlur;\n\n      return json;\n    }\n  },\n\n  scratch: define.data({\n    field: 'scratch',\n    bindingEvent: 'scratch',\n    allowBinding: true,\n    allowSetting: true,\n    settingEvent: 'scratch',\n    settingTriggersEvent: true,\n    triggerFnName: 'trigger',\n    allowGetting: true\n  }),\n\n  removeScratch: define.removeData({\n    field: 'scratch',\n    event: 'scratch',\n    triggerFnName: 'trigger',\n    triggerEvent: true\n  })\n\n});\n\ncorefn.$id = corefn.getElementById;\n\n[__webpack_require__(55), __webpack_require__(59), __webpack_require__(64), __webpack_require__(65), __webpack_require__(66), __webpack_require__(67), __webpack_require__(68), __webpack_require__(69), __webpack_require__(70), __webpack_require__(71)].forEach(function (props) {\n  util.extend(corefn, props);\n});\n\nmodule.exports = Core;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar is = __webpack_require__(0);\nvar Set = __webpack_require__(9);\n\n// represents a node or an edge\nvar Element = function Element(cy, params, restore) {\n  restore = restore === undefined || restore ? true : false;\n\n  if (cy === undefined || params === undefined || !is.core(cy)) {\n    util.error('An element must have a core reference and parameters set');\n    return;\n  }\n\n  var group = params.group;\n\n  // try to automatically infer the group if unspecified\n  if (group == null) {\n    if (params.data && params.data.source != null && params.data.target != null) {\n      group = 'edges';\n    } else {\n      group = 'nodes';\n    }\n  }\n\n  // validate group\n  if (group !== 'nodes' && group !== 'edges') {\n    util.error('An element must be of type `nodes` or `edges`; you specified `' + group + '`');\n    return;\n  }\n\n  // make the element array-like, just like a collection\n  this.length = 1;\n  this[0] = this;\n\n  // NOTE: when something is added here, add also to ele.json()\n  var _p = this._private = {\n    cy: cy,\n    single: true, // indicates this is an element\n    data: params.data || {}, // data object\n    position: params.position || {}, // (x, y) position pair\n    autoWidth: undefined, // width and height of nodes calculated by the renderer when set to special 'auto' value\n    autoHeight: undefined,\n    autoPadding: undefined,\n    compoundBoundsClean: false, // whether the compound dimensions need to be recalculated the next time dimensions are read\n    listeners: [], // array of bound listeners\n    group: group, // string; 'nodes' or 'edges'\n    style: {}, // properties as set by the style\n    rstyle: {}, // properties for style sent from the renderer to the core\n    styleCxts: [], // applied style contexts from the styler\n    removed: true, // whether it's inside the vis; true if removed (set true here since we call restore)\n    selected: params.selected ? true : false, // whether it's selected\n    selectable: params.selectable === undefined ? true : params.selectable ? true : false, // whether it's selectable\n    locked: params.locked ? true : false, // whether the element is locked (cannot be moved)\n    grabbed: false, // whether the element is grabbed by the mouse; renderer sets this privately\n    grabbable: params.grabbable === undefined ? true : params.grabbable ? true : false, // whether the element can be grabbed\n    active: false, // whether the element is active from user interaction\n    classes: new Set(), // map ( className => true )\n    animation: { // object for currently-running animations\n      current: [],\n      queue: []\n    },\n    rscratch: {}, // object in which the renderer can store information\n    scratch: params.scratch || {}, // scratch objects\n    edges: [], // array of connected edges\n    children: [], // array of children\n    parent: null, // parent ref\n    traversalCache: {}, // cache of output of traversal functions\n    backgrounding: false // whether background images are loading\n  };\n\n  // renderedPosition overrides if specified\n  if (params.renderedPosition) {\n    var rpos = params.renderedPosition;\n    var pan = cy.pan();\n    var zoom = cy.zoom();\n\n    _p.position = {\n      x: (rpos.x - pan.x) / zoom,\n      y: (rpos.y - pan.y) / zoom\n    };\n  }\n\n  if (is.string(params.classes)) {\n    var classes = params.classes.split(/\\s+/);\n    for (var i = 0, l = classes.length; i < l; i++) {\n      var cls = classes[i];\n      if (!cls || cls === '') {\n        continue;\n      }\n\n      _p.classes.add(cls);\n    }\n  }\n\n  if (params.style || params.css) {\n    cy.style().applyBypass(this, params.style || params.css);\n  }\n\n  this.createEmitter();\n\n  if (restore === undefined || restore) {\n    this.restore();\n  }\n};\n\nmodule.exports = Element;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n *  Elements are drawn in a specific order based on compound depth (low to high), the element type (nodes above edges),\n *  and z-index (low to high).  These styles affect how this applies:\n *\n *  z-compound-depth: May be `bottom | orphan | auto | top`.  The first drawn is `bottom`, then `orphan` which is the\n *      same depth as the root of the compound graph, followed by the default value `auto` which draws in order from\n *      root to leaves of the compound graph.  The last drawn is `top`.\n *  z-index-compare: May be `auto | manual`.  The default value is `auto` which always draws edges under nodes.\n *      `manual` ignores this convention and draws based on the `z-index` value setting.\n *  z-index: An integer value that affects the relative draw order of elements.  In general, an element with a higher\n *      `z-index` will be drawn on top of an element with a lower `z-index`.\n */\nvar util = __webpack_require__(1);\n\nvar zIndexSort = function zIndexSort(a, b) {\n  var cy = a.cy();\n  var hasCompoundNodes = cy.hasCompoundNodes();\n\n  function getDepth(ele) {\n    var style = ele.pstyle('z-compound-depth');\n    if (style.value === 'auto') {\n      return hasCompoundNodes ? ele.zDepth() : 0;\n    } else if (style.value === 'bottom') {\n      return -1;\n    } else if (style.value === 'top') {\n      return util.MAX_INT;\n    }\n    // 'orphan'\n    return 0;\n  }\n  var depthDiff = getDepth(a) - getDepth(b);\n  if (depthDiff !== 0) {\n    return depthDiff;\n  }\n\n  function getEleDepth(ele) {\n    var style = ele.pstyle('z-index-compare');\n    if (style.value === 'auto') {\n      return ele.isNode() ? 1 : 0;\n    }\n    // 'manual'\n    return 0;\n  }\n  var eleDiff = getEleDepth(a) - getEleDepth(b);\n  if (eleDiff !== 0) {\n    return eleDiff;\n  }\n\n  var zDiff = a.pstyle('z-index').value - b.pstyle('z-index').value;\n  if (zDiff !== 0) {\n    return zDiff;\n  }\n  // compare indices in the core (order added to graph w/ last on top)\n  return a.poolIndex() - b.poolIndex();\n};\n\nmodule.exports = zIndexSort;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*!\nEvent object based on jQuery events, MIT license\n\nhttps://jquery.org/license/\nhttps://tldrlegal.com/license/mit-license\nhttps://github.com/jquery/jquery/blob/master/src/event.js\n*/\n\nvar Event = function Event(src, props) {\n  this.recycle(src, props);\n};\n\nfunction returnFalse() {\n  return false;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\n// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\nEvent.prototype = {\n  instanceString: function instanceString() {\n    return 'event';\n  },\n\n  recycle: function recycle(src, props) {\n    this.isImmediatePropagationStopped = this.isPropagationStopped = this.isDefaultPrevented = returnFalse;\n\n    if (src != null && src.preventDefault) {\n      // Browser Event object\n      this.type = src.type;\n\n      // Events bubbling up the document may have been marked as prevented\n      // by a handler lower down the tree; reflect the correct value.\n      this.isDefaultPrevented = src.defaultPrevented ? returnTrue : returnFalse;\n    } else if (src != null && src.type) {\n      // Plain object containing all event details\n      props = src;\n    } else {\n      // Event string\n      this.type = src;\n    }\n\n    // Put explicitly provided properties onto the event object\n    if (props != null) {\n      // more efficient to manually copy fields we use\n      this.originalEvent = props.originalEvent;\n      this.type = props.type != null ? props.type : this.type;\n      this.cy = props.cy;\n      this.target = props.target;\n      this.position = props.position;\n      this.renderedPosition = props.renderedPosition;\n      this.namespace = props.namespace;\n      this.layout = props.layout;\n    }\n\n    if (this.cy != null && this.position != null && this.renderedPosition == null) {\n      // create a rendered position based on the passed position\n      var pos = this.position;\n      var zoom = this.cy.zoom();\n      var pan = this.cy.pan();\n\n      this.renderedPosition = {\n        x: pos.x * zoom + pan.x,\n        y: pos.y * zoom + pan.y\n      };\n    }\n\n    // Create a timestamp if incoming event doesn't have one\n    this.timeStamp = src && src.timeStamp || Date.now();\n  },\n\n  preventDefault: function preventDefault() {\n    this.isDefaultPrevented = returnTrue;\n\n    var e = this.originalEvent;\n    if (!e) {\n      return;\n    }\n\n    // if preventDefault exists run it on the original event\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n  },\n\n  stopPropagation: function stopPropagation() {\n    this.isPropagationStopped = returnTrue;\n\n    var e = this.originalEvent;\n    if (!e) {\n      return;\n    }\n\n    // if stopPropagation exists run it on the original event\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    }\n  },\n\n  stopImmediatePropagation: function stopImmediatePropagation() {\n    this.isImmediatePropagationStopped = returnTrue;\n    this.stopPropagation();\n  },\n\n  isDefaultPrevented: returnFalse,\n  isPropagationStopped: returnFalse,\n  isImmediatePropagationStopped: returnFalse\n};\n\nmodule.exports = Event;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\n\nvar fullFpsTime = 1000 / 60; // assume 60 frames per second\n\nmodule.exports = {\n  setupDequeueing: function setupDequeueing(opts) {\n    return function setupDequeueingImpl() {\n      var self = this;\n      var r = this.renderer;\n\n      if (self.dequeueingSetup) {\n        return;\n      } else {\n        self.dequeueingSetup = true;\n      }\n\n      var queueRedraw = util.debounce(function () {\n        r.redrawHint('eles', true);\n        r.redrawHint('drag', true);\n\n        r.redraw();\n      }, opts.deqRedrawThreshold);\n\n      var dequeue = function dequeue(willDraw, frameStartTime) {\n        var startTime = util.performanceNow();\n        var avgRenderTime = r.averageRedrawTime;\n        var renderTime = r.lastRedrawTime;\n        var deqd = [];\n        var extent = r.cy.extent();\n        var pixelRatio = r.getPixelRatio();\n\n        while (true) {\n          var now = util.performanceNow();\n          var duration = now - startTime;\n          var frameDuration = now - frameStartTime;\n\n          if (renderTime < fullFpsTime) {\n            // if we're rendering faster than the ideal fps, then do dequeueing\n            // during all of the remaining frame time\n\n            var timeAvailable = fullFpsTime - (willDraw ? avgRenderTime : 0);\n\n            if (frameDuration >= opts.deqFastCost * timeAvailable) {\n              break;\n            }\n          } else {\n            if (willDraw) {\n              if (duration >= opts.deqCost * renderTime || duration >= opts.deqAvgCost * avgRenderTime) {\n                break;\n              }\n            } else if (frameDuration >= opts.deqNoDrawCost * fullFpsTime) {\n              break;\n            }\n          }\n\n          var thisDeqd = opts.deq(self, pixelRatio, extent);\n\n          if (thisDeqd.length > 0) {\n            for (var i = 0; i < thisDeqd.length; i++) {\n              deqd.push(thisDeqd[i]);\n            }\n          } else {\n            break;\n          }\n        }\n\n        // callbacks on dequeue\n        if (deqd.length > 0) {\n          opts.onDeqd(self, deqd);\n\n          if (!willDraw && opts.shouldRedraw(self, deqd, pixelRatio, extent)) {\n            queueRedraw();\n          }\n        }\n      };\n\n      var priority = opts.priority || util.noop;\n\n      r.beforeRender(dequeue, priority(self));\n    };\n  }\n};\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\n\nvar stateSelectors = [{\n  selector: ':selected',\n  matches: function matches(ele) {\n    return ele.selected();\n  }\n}, {\n  selector: ':unselected',\n  matches: function matches(ele) {\n    return !ele.selected();\n  }\n}, {\n  selector: ':selectable',\n  matches: function matches(ele) {\n    return ele.selectable();\n  }\n}, {\n  selector: ':unselectable',\n  matches: function matches(ele) {\n    return !ele.selectable();\n  }\n}, {\n  selector: ':locked',\n  matches: function matches(ele) {\n    return ele.locked();\n  }\n}, {\n  selector: ':unlocked',\n  matches: function matches(ele) {\n    return !ele.locked();\n  }\n}, {\n  selector: ':visible',\n  matches: function matches(ele) {\n    return ele.visible();\n  }\n}, {\n  selector: ':hidden',\n  matches: function matches(ele) {\n    return !ele.visible();\n  }\n}, {\n  selector: ':transparent',\n  matches: function matches(ele) {\n    return ele.transparent();\n  }\n}, {\n  selector: ':grabbed',\n  matches: function matches(ele) {\n    return ele.grabbed();\n  }\n}, {\n  selector: ':free',\n  matches: function matches(ele) {\n    return !ele.grabbed();\n  }\n}, {\n  selector: ':removed',\n  matches: function matches(ele) {\n    return ele.removed();\n  }\n}, {\n  selector: ':inside',\n  matches: function matches(ele) {\n    return !ele.removed();\n  }\n}, {\n  selector: ':grabbable',\n  matches: function matches(ele) {\n    return ele.grabbable();\n  }\n}, {\n  selector: ':ungrabbable',\n  matches: function matches(ele) {\n    return !ele.grabbable();\n  }\n}, {\n  selector: ':animated',\n  matches: function matches(ele) {\n    return ele.animated();\n  }\n}, {\n  selector: ':unanimated',\n  matches: function matches(ele) {\n    return !ele.animated();\n  }\n}, {\n  selector: ':parent',\n  matches: function matches(ele) {\n    return ele.isParent();\n  }\n}, {\n  selector: ':childless',\n  matches: function matches(ele) {\n    return ele.isChildless();\n  }\n}, {\n  selector: ':child',\n  matches: function matches(ele) {\n    return ele.isChild();\n  }\n}, {\n  selector: ':orphan',\n  matches: function matches(ele) {\n    return ele.isOrphan();\n  }\n}, {\n  selector: ':nonorphan',\n  matches: function matches(ele) {\n    return ele.isChild();\n  }\n}, {\n  selector: ':loop',\n  matches: function matches(ele) {\n    return ele.isLoop();\n  }\n}, {\n  selector: ':simple',\n  matches: function matches(ele) {\n    return ele.isSimple();\n  }\n}, {\n  selector: ':active',\n  matches: function matches(ele) {\n    return ele.active();\n  }\n}, {\n  selector: ':inactive',\n  matches: function matches(ele) {\n    return !ele.active();\n  }\n}, {\n  selector: ':backgrounding',\n  matches: function matches(ele) {\n    return ele.backgrounding();\n  }\n}, {\n  selector: ':nonbackgrounding',\n  matches: function matches(ele) {\n    return !ele.backgrounding();\n  }\n}].sort(function (a, b) {\n  // n.b. selectors that are starting substrings of others must have the longer ones first\n  return util.sort.descending(a.selector, b.selector);\n});\n\nvar stateSelectorMatches = function stateSelectorMatches(sel, ele) {\n  var lookup = stateSelectorMatches.lookup = stateSelectorMatches.lookup || function () {\n    var selToFn = {};\n    var s = void 0;\n\n    for (var i = 0; i < stateSelectors.length; i++) {\n      s = stateSelectors[i];\n\n      selToFn[s.selector] = s.matches;\n    }\n\n    return selToFn;\n  }();\n\n  return lookup[sel](ele);\n};\n\nvar stateSelectorRegex = '(' + stateSelectors.map(function (s) {\n  return s.selector;\n}).join('|') + ')';\n\nmodule.exports = { stateSelectors: stateSelectors, stateSelectorMatches: stateSelectorMatches, stateSelectorRegex: stateSelectorRegex };\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar util = __webpack_require__(1);\nvar Selector = __webpack_require__(6);\n\nvar Style = function Style(cy) {\n\n  if (!(this instanceof Style)) {\n    return new Style(cy);\n  }\n\n  if (!is.core(cy)) {\n    util.error('A style must have a core reference');\n    return;\n  }\n\n  this._private = {\n    cy: cy,\n    coreStyle: {}\n  };\n\n  this.length = 0;\n\n  this.resetToDefault();\n};\n\nvar styfn = Style.prototype;\n\nstyfn.instanceString = function () {\n  return 'style';\n};\n\n// remove all contexts\nstyfn.clear = function () {\n  for (var i = 0; i < this.length; i++) {\n    this[i] = undefined;\n  }\n  this.length = 0;\n\n  var _p = this._private;\n\n  _p.newStyle = true;\n\n  return this; // chaining\n};\n\nstyfn.resetToDefault = function () {\n  this.clear();\n  this.addDefaultStylesheet();\n\n  return this;\n};\n\n// builds a style object for the 'core' selector\nstyfn.core = function () {\n  return this._private.coreStyle;\n};\n\n// create a new context from the specified selector string and switch to that context\nstyfn.selector = function (selectorStr) {\n  // 'core' is a special case and does not need a selector\n  var selector = selectorStr === 'core' ? null : new Selector(selectorStr);\n\n  var i = this.length++; // new context means new index\n  this[i] = {\n    selector: selector,\n    properties: [],\n    mappedProperties: [],\n    index: i\n  };\n\n  return this; // chaining\n};\n\n// add one or many css rules to the current context\nstyfn.css = function () {\n  var self = this;\n  var args = arguments;\n\n  switch (args.length) {\n    case 1:\n      var map = args[0];\n\n      for (var i = 0; i < self.properties.length; i++) {\n        var prop = self.properties[i];\n        var mapVal = map[prop.name];\n\n        if (mapVal === undefined) {\n          mapVal = map[util.dash2camel(prop.name)];\n        }\n\n        if (mapVal !== undefined) {\n          this.cssRule(prop.name, mapVal);\n        }\n      }\n\n      break;\n\n    case 2:\n      this.cssRule(args[0], args[1]);\n      break;\n\n    default:\n      break; // do nothing if args are invalid\n  }\n\n  return this; // chaining\n};\nstyfn.style = styfn.css;\n\n// add a single css rule to the current context\nstyfn.cssRule = function (name, value) {\n  // name-value pair\n  var property = this.parse(name, value);\n\n  // add property to current context if valid\n  if (property) {\n    var i = this.length - 1;\n    this[i].properties.push(property);\n    this[i].properties[property.name] = property; // allow access by name as well\n\n    if (property.name.match(/pie-(\\d+)-background-size/) && property.value) {\n      this._private.hasPie = true;\n    }\n\n    if (property.mapped) {\n      this[i].mappedProperties.push(property);\n    }\n\n    // add to core style if necessary\n    var currentSelectorIsCore = !this[i].selector;\n    if (currentSelectorIsCore) {\n      this._private.coreStyle[property.name] = property;\n    }\n  }\n\n  return this; // chaining\n};\n\nstyfn.append = function (style) {\n  if (is.stylesheet(style)) {\n    style.appendToStyle(this);\n  } else if (is.array(style)) {\n    this.appendFromJson(style);\n  } else if (is.string(style)) {\n    this.appendFromString(style);\n  } // you probably wouldn't want to append a Style, since you'd duplicate the default parts\n\n  return this;\n};\n\n// static function\nStyle.fromJson = function (cy, json) {\n  var style = new Style(cy);\n\n  style.fromJson(json);\n\n  return style;\n};\n\nStyle.fromString = function (cy, string) {\n  return new Style(cy).fromString(string);\n};\n\n[__webpack_require__(122), __webpack_require__(123), __webpack_require__(124), __webpack_require__(125), __webpack_require__(126), __webpack_require__(129), __webpack_require__(128), __webpack_require__(127)].forEach(function (props) {\n  util.extend(styfn, props);\n});\n\nStyle.types = styfn.types;\nStyle.properties = styfn.properties;\n\nmodule.exports = Style;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function memoize(fn, keyFn) {\n  if (!keyFn) {\n    keyFn = function keyFn() {\n      if (arguments.length === 1) {\n        return arguments[0];\n      } else if (arguments.length === 0) {\n        return 'undefined';\n      }\n\n      var args = [];\n\n      for (var i = 0; i < arguments.length; i++) {\n        args.push(arguments[i]);\n      }\n\n      return args.join('$');\n    };\n  }\n\n  var memoizedFn = function memoizedFn() {\n    var self = this;\n    var args = arguments;\n    var ret = void 0;\n    var k = keyFn.apply(self, args);\n    var cache = memoizedFn.cache;\n\n    if (!(ret = cache[k])) {\n      ret = cache[k] = fn.apply(self, args);\n    }\n\n    return ret;\n  };\n\n  memoizedFn.cache = {};\n\n  return memoizedFn;\n};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar define = __webpack_require__(3);\nvar Collection = __webpack_require__(7);\nvar Core = __webpack_require__(12);\nvar incExts = __webpack_require__(75);\nvar is = __webpack_require__(0);\nvar Emitter = __webpack_require__(10);\n\n// registered extensions to cytoscape, indexed by name\nvar extensions = {};\n\n// registered modules for extensions, indexed by name\nvar modules = {};\n\nfunction setExtension(type, name, registrant) {\n\n  var ext = registrant;\n\n  var overrideErr = function overrideErr(field) {\n    util.error('Can not register `' + name + '` for `' + type + '` since `' + field + '` already exists in the prototype and can not be overridden');\n  };\n\n  if (type === 'core') {\n    if (Core.prototype[name]) {\n      return overrideErr(name);\n    } else {\n      Core.prototype[name] = registrant;\n    }\n  } else if (type === 'collection') {\n    if (Collection.prototype[name]) {\n      return overrideErr(name);\n    } else {\n      Collection.prototype[name] = registrant;\n    }\n  } else if (type === 'layout') {\n    // fill in missing layout functions in the prototype\n\n    var Layout = function Layout(options) {\n      this.options = options;\n\n      registrant.call(this, options);\n\n      // make sure layout has _private for use w/ std apis like .on()\n      if (!is.plainObject(this._private)) {\n        this._private = {};\n      }\n\n      this._private.cy = options.cy;\n      this._private.listeners = [];\n\n      this.createEmitter();\n    };\n\n    var layoutProto = Layout.prototype = Object.create(registrant.prototype);\n\n    var optLayoutFns = [];\n\n    for (var i = 0; i < optLayoutFns.length; i++) {\n      var fnName = optLayoutFns[i];\n\n      layoutProto[fnName] = layoutProto[fnName] || function () {\n        return this;\n      };\n    }\n\n    // either .start() or .run() is defined, so autogen the other\n    if (layoutProto.start && !layoutProto.run) {\n      layoutProto.run = function () {\n        this.start();return this;\n      };\n    } else if (!layoutProto.start && layoutProto.run) {\n      layoutProto.start = function () {\n        this.run();return this;\n      };\n    }\n\n    var regStop = registrant.prototype.stop;\n    layoutProto.stop = function () {\n      var opts = this.options;\n\n      if (opts && opts.animate) {\n        var anis = this.animations;\n\n        if (anis) {\n          for (var _i = 0; _i < anis.length; _i++) {\n            anis[_i].stop();\n          }\n        }\n      }\n\n      if (regStop) {\n        regStop.call(this);\n      } else {\n        this.emit('layoutstop');\n      }\n\n      return this;\n    };\n\n    if (!layoutProto.destroy) {\n      layoutProto.destroy = function () {\n        return this;\n      };\n    }\n\n    layoutProto.cy = function () {\n      return this._private.cy;\n    };\n\n    var getCy = function getCy(layout) {\n      return layout._private.cy;\n    };\n\n    util.assign(layoutProto, {\n      createEmitter: function createEmitter() {\n        this._private.emitter = new Emitter({\n          eventFields: function eventFields(layout) {\n            return {\n              layout: layout,\n              cy: getCy(layout),\n              target: layout\n            };\n          },\n          bubble: function bubble() {\n            return true;\n          },\n          parent: function parent(layout) {\n            return getCy(layout);\n          },\n          context: this\n        });\n\n        return this;\n      },\n      emitter: function emitter() {\n        return this._private.emitter;\n      },\n      on: function on(evt, cb) {\n        this.emitter().on(evt, cb);return this;\n      },\n      one: function one(evt, cb) {\n        this.emitter().one(evt, cb);return this;\n      },\n      once: function once(evt, cb) {\n        this.emitter().one(evt, cb);return this;\n      },\n      removeListener: function removeListener(evt, cb) {\n        this.emitter().removeListener(evt, cb);return this;\n      },\n      emit: function emit(evt, params) {\n        this.emitter().emit(evt, params);return this;\n      }\n    });\n\n    define.eventAliasesOn(layoutProto);\n\n    ext = Layout; // replace with our wrapped layout\n  } else if (type === 'renderer' && name !== 'null' && name !== 'base') {\n    // user registered renderers inherit from base\n\n    var BaseRenderer = getExtension('renderer', 'base');\n    var bProto = BaseRenderer.prototype;\n    var RegistrantRenderer = registrant;\n    var rProto = registrant.prototype;\n\n    var Renderer = function Renderer() {\n      BaseRenderer.apply(this, arguments);\n      RegistrantRenderer.apply(this, arguments);\n    };\n\n    var proto = Renderer.prototype;\n\n    for (var pName in bProto) {\n      var pVal = bProto[pName];\n      var existsInR = rProto[pName] != null;\n\n      if (existsInR) {\n        return overrideErr(pName);\n      }\n\n      proto[pName] = pVal; // take impl from base\n    }\n\n    for (var _pName in rProto) {\n      proto[_pName] = rProto[_pName]; // take impl from registrant\n    }\n\n    bProto.clientFunctions.forEach(function (name) {\n      proto[name] = proto[name] || function () {\n        util.error('Renderer does not implement `renderer.' + name + '()` on its prototype');\n      };\n    });\n\n    ext = Renderer;\n  }\n\n  return util.setMap({\n    map: extensions,\n    keys: [type, name],\n    value: ext\n  });\n}\n\nfunction getExtension(type, name) {\n  return util.getMap({\n    map: extensions,\n    keys: [type, name]\n  });\n}\n\nfunction setModule(type, name, moduleType, moduleName, registrant) {\n  return util.setMap({\n    map: modules,\n    keys: [type, name, moduleType, moduleName],\n    value: registrant\n  });\n}\n\nfunction getModule(type, name, moduleType, moduleName) {\n  return util.getMap({\n    map: modules,\n    keys: [type, name, moduleType, moduleName]\n  });\n}\n\nvar extension = function extension() {\n  // e.g. extension('renderer', 'svg')\n  if (arguments.length === 2) {\n    return getExtension.apply(null, arguments);\n  }\n\n  // e.g. extension('renderer', 'svg', { ... })\n  else if (arguments.length === 3) {\n      return setExtension.apply(null, arguments);\n    }\n\n    // e.g. extension('renderer', 'svg', 'nodeShape', 'ellipse')\n    else if (arguments.length === 4) {\n        return getModule.apply(null, arguments);\n      }\n\n      // e.g. extension('renderer', 'svg', 'nodeShape', 'ellipse', { ... })\n      else if (arguments.length === 5) {\n          return setModule.apply(null, arguments);\n        } else {\n          util.error('Invalid extension access syntax');\n        }\n};\n\n// allows a core instance to access extensions internally\nCore.prototype.extension = extension;\n\n// included extensions\nincExts.forEach(function (group) {\n  group.extensions.forEach(function (ext) {\n    setExtension(group.type, ext.name, ext.impl);\n  });\n});\n\nmodule.exports = extension;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar util = __webpack_require__(1);\nvar Style = __webpack_require__(18);\n\n// a dummy stylesheet object that doesn't need a reference to the core\n// (useful for init)\nvar Stylesheet = function Stylesheet() {\n  if (!(this instanceof Stylesheet)) {\n    return new Stylesheet();\n  }\n\n  this.length = 0;\n};\n\nvar sheetfn = Stylesheet.prototype;\n\nsheetfn.instanceString = function () {\n  return 'stylesheet';\n};\n\n// just store the selector to be parsed later\nsheetfn.selector = function (selector) {\n  var i = this.length++;\n\n  this[i] = {\n    selector: selector,\n    properties: []\n  };\n\n  return this; // chaining\n};\n\n// just store the property to be parsed later\nsheetfn.css = function (name, value) {\n  var i = this.length - 1;\n\n  if (is.string(name)) {\n    this[i].properties.push({\n      name: name,\n      value: value\n    });\n  } else if (is.plainObject(name)) {\n    var map = name;\n\n    for (var j = 0; j < Style.properties.length; j++) {\n      var prop = Style.properties[j];\n      var mapVal = map[prop.name];\n\n      if (mapVal === undefined) {\n        // also try camel case name\n        mapVal = map[util.dash2camel(prop.name)];\n      }\n\n      if (mapVal !== undefined) {\n        var _name = prop.name;\n        var _value = mapVal;\n\n        this[i].properties.push({\n          name: _name,\n          value: _value\n        });\n      }\n    }\n  }\n\n  return this; // chaining\n};\n\nsheetfn.style = sheetfn.css;\n\n// generate a real style object from the dummy stylesheet\nsheetfn.generateStyle = function (cy) {\n  var style = new Style(cy);\n\n  return this.appendToStyle(style);\n};\n\n// append a dummy stylesheet object on a real style object\nsheetfn.appendToStyle = function (style) {\n  for (var i = 0; i < this.length; i++) {\n    var context = this[i];\n    var selector = context.selector;\n    var props = context.properties;\n\n    style.selector(selector); // apply selector\n\n    for (var j = 0; j < props.length; j++) {\n      var prop = props[j];\n\n      style.css(prop.name, prop.value); // apply property\n    }\n  }\n\n  return style;\n};\n\nmodule.exports = Stylesheet;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = \"3.2.8\";\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar is = __webpack_require__(0);\nvar Promise = __webpack_require__(5);\n\nvar Animation = function Animation(target, opts, opts2) {\n  var _p = this._private = util.extend({\n    duration: 1000\n  }, opts, opts2);\n\n  _p.target = target;\n  _p.style = _p.style || _p.css;\n  _p.started = false;\n  _p.playing = false;\n  _p.hooked = false;\n  _p.applying = false;\n  _p.progress = 0;\n  _p.completes = [];\n  _p.frames = [];\n\n  if (_p.complete && is.fn(_p.complete)) {\n    _p.completes.push(_p.complete);\n  }\n\n  // for future timeline/animations impl\n  this.length = 1;\n  this[0] = this;\n};\n\nvar anifn = Animation.prototype;\n\nutil.extend(anifn, {\n\n  instanceString: function instanceString() {\n    return 'animation';\n  },\n\n  hook: function hook() {\n    var _p = this._private;\n\n    if (!_p.hooked) {\n      // add to target's animation queue\n      var q = void 0;\n      var tAni = _p.target._private.animation;\n      if (_p.queue) {\n        q = tAni.queue;\n      } else {\n        q = tAni.current;\n      }\n      q.push(this);\n\n      // add to the animation loop pool\n      if (is.elementOrCollection(_p.target)) {\n        _p.target.cy().addToAnimationPool(_p.target);\n      }\n\n      _p.hooked = true;\n    }\n\n    return this;\n  },\n\n  play: function play() {\n    var _p = this._private;\n\n    // autorewind\n    if (_p.progress === 1) {\n      _p.progress = 0;\n    }\n\n    _p.playing = true;\n    _p.started = false; // needs to be started by animation loop\n    _p.stopped = false;\n\n    this.hook();\n\n    // the animation loop will start the animation...\n\n    return this;\n  },\n\n  playing: function playing() {\n    return this._private.playing;\n  },\n\n  apply: function apply() {\n    var _p = this._private;\n\n    _p.applying = true;\n    _p.started = false; // needs to be started by animation loop\n    _p.stopped = false;\n\n    this.hook();\n\n    // the animation loop will apply the animation at this progress\n\n    return this;\n  },\n\n  applying: function applying() {\n    return this._private.applying;\n  },\n\n  pause: function pause() {\n    var _p = this._private;\n\n    _p.playing = false;\n    _p.started = false;\n\n    return this;\n  },\n\n  stop: function stop() {\n    var _p = this._private;\n\n    _p.playing = false;\n    _p.started = false;\n    _p.stopped = true; // to be removed from animation queues\n\n    return this;\n  },\n\n  rewind: function rewind() {\n    return this.progress(0);\n  },\n\n  fastforward: function fastforward() {\n    return this.progress(1);\n  },\n\n  time: function time(t) {\n    var _p = this._private;\n\n    if (t === undefined) {\n      return _p.progress * _p.duration;\n    } else {\n      return this.progress(t / _p.duration);\n    }\n  },\n\n  progress: function progress(p) {\n    var _p = this._private;\n    var wasPlaying = _p.playing;\n\n    if (p === undefined) {\n      return _p.progress;\n    } else {\n      if (wasPlaying) {\n        this.pause();\n      }\n\n      _p.progress = p;\n      _p.started = false;\n\n      if (wasPlaying) {\n        this.play();\n      }\n    }\n\n    return this;\n  },\n\n  completed: function completed() {\n    return this._private.progress === 1;\n  },\n\n  reverse: function reverse() {\n    var _p = this._private;\n    var wasPlaying = _p.playing;\n\n    if (wasPlaying) {\n      this.pause();\n    }\n\n    _p.progress = 1 - _p.progress;\n    _p.started = false;\n\n    var swap = function swap(a, b) {\n      var _pa = _p[a];\n\n      if (_pa == null) {\n        return;\n      }\n\n      _p[a] = _p[b];\n      _p[b] = _pa;\n    };\n\n    swap('zoom', 'startZoom');\n    swap('pan', 'startPan');\n    swap('position', 'startPosition');\n\n    // swap styles\n    if (_p.style) {\n      for (var i = 0; i < _p.style.length; i++) {\n        var prop = _p.style[i];\n        var name = prop.name;\n        var startStyleProp = _p.startStyle[name];\n\n        _p.startStyle[name] = prop;\n        _p.style[i] = startStyleProp;\n      }\n    }\n\n    if (wasPlaying) {\n      this.play();\n    }\n\n    return this;\n  },\n\n  promise: function promise(type) {\n    var _p = this._private;\n\n    var arr = void 0;\n\n    switch (type) {\n      case 'frame':\n        arr = _p.frames;\n        break;\n      default:\n      case 'complete':\n      case 'completed':\n        arr = _p.completes;\n    }\n\n    return new Promise(function (resolve, reject) {\n      arr.push(function () {\n        resolve();\n      });\n    });\n  }\n\n});\n\nanifn.complete = anifn.completed;\n\nmodule.exports = Animation;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\n\nvar elesfn = {\n\n  // Implemented from pseudocode from wikipedia\n  aStar: function aStar(options) {\n    var eles = this;\n\n    options = options || {};\n\n    // Reconstructs the path from Start to End, acumulating the result in pathAcum\n    var reconstructPath = function reconstructPath(start, end, cameFromMap, pathAcum) {\n      // Base case\n      if (start == end) {\n        pathAcum.unshift(cy.getElementById(end));\n        return pathAcum;\n      }\n\n      if (end in cameFromMap) {\n        // We know which node is before the last one\n        var previous = cameFromMap[end];\n        var previousEdge = cameFromEdge[end];\n\n        pathAcum.unshift(cy.getElementById(previousEdge));\n        pathAcum.unshift(cy.getElementById(end));\n\n        return reconstructPath(start, previous, cameFromMap, pathAcum);\n      }\n\n      // We should not reach here!\n      return undefined;\n    };\n\n    // Returns the index of the element in openSet which has minimum fScore\n    var findMin = function findMin(openSet, fScore) {\n      if (openSet.length === 0) {\n        // Should never be the case\n        return undefined;\n      }\n      var minPos = 0;\n      var tempScore = fScore[openSet[0]];\n      for (var i = 1; i < openSet.length; i++) {\n        var s = fScore[openSet[i]];\n        if (s < tempScore) {\n          tempScore = s;\n          minPos = i;\n        }\n      }\n      return minPos;\n    };\n\n    var cy = this._private.cy;\n\n    // root - mandatory!\n    if (options != null && options.root != null) {\n      var source = is.string(options.root) ?\n      // use it as a selector, e.g. \"#rootID\n      this.filter(options.root)[0] : options.root[0];\n    } else {\n      return undefined;\n    }\n\n    // goal - mandatory!\n    if (options.goal != null) {\n      var target = is.string(options.goal) ?\n      // use it as a selector, e.g. \"#goalID\n      this.filter(options.goal)[0] : options.goal[0];\n    } else {\n      return undefined;\n    }\n\n    // Heuristic function - optional\n    if (options.heuristic != null && is.fn(options.heuristic)) {\n      var heuristic = options.heuristic;\n    } else {\n      var heuristic = function heuristic() {\n        return 0;\n      }; // use constant if unspecified\n    }\n\n    // Weight function - optional\n    if (options.weight != null && is.fn(options.weight)) {\n      var weightFn = options.weight;\n    } else {\n      // If not specified, assume each edge has equal weight (1)\n      var weightFn = function weightFn(e) {\n        return 1;\n      };\n    }\n\n    // directed - optional\n    if (options.directed != null) {\n      var directed = options.directed;\n    } else {\n      var directed = false;\n    }\n\n    var sid = source.id();\n    var tid = target.id();\n\n    var closedSet = [];\n    var openSet = [sid];\n    var cameFrom = {};\n    var cameFromEdge = {};\n    var gScore = {};\n    var fScore = {};\n\n    gScore[sid] = 0;\n    fScore[sid] = heuristic(source);\n\n    // Counter\n    var steps = 0;\n\n    // Main loop\n    while (openSet.length > 0) {\n      var minPos = findMin(openSet, fScore);\n      var cMin = cy.getElementById(openSet[minPos]);\n      var cMinId = cMin.id();\n      steps++;\n\n      // If we've found our goal, then we are done\n      if (cMinId == tid) {\n        var rPath = reconstructPath(sid, tid, cameFrom, []);\n\n        return {\n          found: true,\n          distance: gScore[cMinId],\n          path: eles.spawn(rPath),\n          steps: steps\n        };\n      }\n\n      // Add cMin to processed nodes\n      closedSet.push(cMinId);\n      // Remove cMin from boundary nodes\n      openSet.splice(minPos, 1);\n\n      // Update scores for neighbors of cMin\n      // Take into account if graph is directed or not\n      var vwEdges = cMin._private.edges;\n\n      for (var i = 0; i < vwEdges.length; i++) {\n        var e = vwEdges[i];\n\n        // edge must be in set of calling eles\n        if (!this.hasElementWithId(e.id())) {\n          continue;\n        }\n\n        // cMin must be the source of edge if directed\n        if (directed && e.data('source') !== cMinId) {\n          continue;\n        }\n\n        var wSrc = e.source();\n        var wTgt = e.target();\n\n        var w = wSrc.id() !== cMinId ? wSrc : wTgt;\n        var wid = w.id();\n\n        // node must be in set of calling eles\n        if (!this.hasElementWithId(wid)) {\n          continue;\n        }\n\n        // if node is in closedSet, ignore it\n        if (closedSet.indexOf(wid) != -1) {\n          continue;\n        }\n\n        // New tentative score for node w\n        var tempScore = gScore[cMinId] + weightFn(e);\n\n        // Update gScore for node w if:\n        //   w not present in openSet\n        // OR\n        //   tentative gScore is less than previous value\n\n        // w not in openSet\n        if (openSet.indexOf(wid) == -1) {\n          gScore[wid] = tempScore;\n          fScore[wid] = tempScore + heuristic(w);\n          openSet.push(wid); // Add node to openSet\n          cameFrom[wid] = cMinId;\n          cameFromEdge[wid] = e.id();\n          continue;\n        }\n        // w already in openSet, but with greater gScore\n        if (tempScore < gScore[wid]) {\n          gScore[wid] = tempScore;\n          fScore[wid] = tempScore + heuristic(w);\n          cameFrom[wid] = cMinId;\n        }\n      } // End of neighbors update\n    } // End of main loop\n\n    // If we've reached here, then we've not reached our goal\n    return {\n      found: false,\n      distance: undefined,\n      path: undefined,\n      steps: steps\n    };\n  }\n\n}; // elesfn\n\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar util = __webpack_require__(1);\n\nvar elesfn = {\n\n  // Implemented from pseudocode from wikipedia\n  bellmanFord: function bellmanFord(options) {\n    var eles = this;\n\n    options = options || {};\n\n    // Weight function - optional\n    if (options.weight != null && is.fn(options.weight)) {\n      var weightFn = options.weight;\n    } else {\n      // If not specified, assume each edge has equal weight (1)\n      var weightFn = function weightFn(e) {\n        return 1;\n      };\n    }\n\n    // directed - optional\n    if (options.directed != null) {\n      var directed = options.directed;\n    } else {\n      var directed = false;\n    }\n\n    // root - mandatory!\n    if (options.root != null) {\n      if (is.string(options.root)) {\n        // use it as a selector, e.g. \"#rootID\n        var source = this.filter(options.root)[0];\n      } else {\n        var source = options.root[0];\n      }\n    } else {\n      return undefined;\n    }\n\n    var cy = this._private.cy;\n    var edges = this.edges().stdFilter(function (e) {\n      return !e.isLoop();\n    });\n    var nodes = this.nodes();\n    var numNodes = nodes.length;\n\n    // mapping: node id -> position in nodes array\n    var id2position = {};\n    for (var i = 0; i < numNodes; i++) {\n      id2position[nodes[i].id()] = i;\n    }\n\n    // Initializations\n    var cost = [];\n    var predecessor = [];\n    var predEdge = [];\n\n    for (var i = 0; i < numNodes; i++) {\n      if (nodes[i].id() === source.id()) {\n        cost[i] = 0;\n      } else {\n        cost[i] = Infinity;\n      }\n      predecessor[i] = undefined;\n    }\n\n    // Edges relaxation\n    var flag = false;\n    for (var i = 1; i < numNodes; i++) {\n      flag = false;\n      for (var e = 0; e < edges.length; e++) {\n        var sourceIndex = id2position[edges[e].source().id()];\n        var targetIndex = id2position[edges[e].target().id()];\n        var weight = weightFn(edges[e]);\n\n        var temp = cost[sourceIndex] + weight;\n        if (temp < cost[targetIndex]) {\n          cost[targetIndex] = temp;\n          predecessor[targetIndex] = sourceIndex;\n          predEdge[targetIndex] = edges[e];\n          flag = true;\n        }\n\n        // If undirected graph, we need to take into account the 'reverse' edge\n        if (!directed) {\n          var temp = cost[targetIndex] + weight;\n          if (temp < cost[sourceIndex]) {\n            cost[sourceIndex] = temp;\n            predecessor[sourceIndex] = targetIndex;\n            predEdge[sourceIndex] = edges[e];\n            flag = true;\n          }\n        }\n      }\n\n      if (!flag) {\n        break;\n      }\n    }\n\n    if (flag) {\n      // Check for negative weight cycles\n      for (var e = 0; e < edges.length; e++) {\n        var sourceIndex = id2position[edges[e].source().id()];\n        var targetIndex = id2position[edges[e].target().id()];\n        var weight = weightFn(edges[e]);\n\n        if (cost[sourceIndex] + weight < cost[targetIndex]) {\n          util.error('Graph contains a negative weight cycle for Bellman-Ford');\n          return { pathTo: undefined,\n            distanceTo: undefined,\n            hasNegativeWeightCycle: true };\n        }\n      }\n    }\n\n    // Build result object\n    var position2id = [];\n    for (var i = 0; i < numNodes; i++) {\n      position2id.push(nodes[i].id());\n    }\n\n    var res = {\n      distanceTo: function distanceTo(to) {\n        if (is.string(to)) {\n          // to is a selector string\n          var toId = cy.filter(to)[0].id();\n        } else {\n          // to is a node\n          var toId = to.id();\n        }\n\n        return cost[id2position[toId]];\n      },\n\n      pathTo: function pathTo(to) {\n\n        var reconstructPathAux = function reconstructPathAux(predecessor, fromPos, toPos, position2id, acumPath, predEdge) {\n          for (;;) {\n            // Add toId to path\n            acumPath.push(cy.getElementById(position2id[toPos]));\n            acumPath.push(predEdge[toPos]);\n\n            if (fromPos === toPos) {\n              // reached starting node\n              return acumPath;\n            }\n\n            // If no path exists, discart acumulated path and return undefined\n            var predPos = predecessor[toPos];\n            if (typeof predPos === 'undefined') {\n              return undefined;\n            }\n\n            toPos = predPos;\n          }\n        };\n\n        if (is.string(to)) {\n          // to is a selector string\n          var toId = cy.filter(to)[0].id();\n        } else {\n          // to is a node\n          var toId = to.id();\n        }\n        var path = [];\n\n        // This returns a reversed path\n        var res = reconstructPathAux(predecessor, id2position[source.id()], id2position[toId], position2id, path, predEdge);\n\n        // Get it in the correct order and return it\n        if (res != null) {\n          res.reverse();\n        }\n\n        return eles.spawn(res);\n      },\n\n      hasNegativeWeightCycle: false\n    };\n\n    return res;\n  } // bellmanFord\n\n}; // elesfn\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar Heap = __webpack_require__(8);\n\nvar elesfn = {\n\n  // Implemented from the algorithm in the paper \"On Variants of Shortest-Path Betweenness Centrality and their Generic Computation\" by Ulrik Brandes\n  betweennessCentrality: function betweennessCentrality(options) {\n    options = options || {};\n\n    // Weight - optional\n    var weighted, weightFn;\n    if (is.fn(options.weight)) {\n      weightFn = options.weight;\n      weighted = true;\n    } else {\n      weighted = false;\n    }\n\n    // Directed - default false\n    var directed = options.directed != null ? options.directed : false;\n\n    var cy = this._private.cy;\n\n    // starting\n    var V = this.nodes();\n    var A = {};\n    var _C = {};\n    var max = 0;\n    var C = {\n      set: function set(key, val) {\n        _C[key] = val;\n\n        if (val > max) {\n          max = val;\n        }\n      },\n\n      get: function get(key) {\n        return _C[key];\n      }\n    };\n\n    // A contains the neighborhoods of every node\n    for (var i = 0; i < V.length; i++) {\n      var v = V[i];\n      var vid = v.id();\n\n      if (directed) {\n        A[vid] = v.outgoers().nodes(); // get outgoers of every node\n      } else {\n        A[vid] = v.openNeighborhood().nodes(); // get neighbors of every node\n      }\n\n      C.set(vid, 0);\n    }\n\n    for (var s = 0; s < V.length; s++) {\n      var sid = V[s].id();\n      var S = []; // stack\n      var P = {};\n      var g = {};\n      var d = {};\n      var Q = new Heap(function (a, b) {\n        return d[a] - d[b];\n      }); // queue\n\n      // init dictionaries\n      for (var i = 0; i < V.length; i++) {\n        var vid = V[i].id();\n\n        P[vid] = [];\n        g[vid] = 0;\n        d[vid] = Infinity;\n      }\n\n      g[sid] = 1; // sigma\n      d[sid] = 0; // distance to s\n\n      Q.push(sid);\n\n      while (!Q.empty()) {\n        var v = Q.pop();\n\n        S.push(v);\n\n        if (weighted) {\n          for (var j = 0; j < A[v].length; j++) {\n            var w = A[v][j];\n            var vEle = cy.getElementById(v);\n\n            var edge;\n            if (vEle.edgesTo(w).length > 0) {\n              edge = vEle.edgesTo(w)[0];\n            } else {\n              edge = w.edgesTo(vEle)[0];\n            }\n\n            var edgeWeight = weightFn(edge);\n\n            w = w.id();\n\n            if (d[w] > d[v] + edgeWeight) {\n              d[w] = d[v] + edgeWeight;\n\n              if (Q.nodes.indexOf(w) < 0) {\n                //if w is not in Q\n                Q.push(w);\n              } else {\n                // update position if w is in Q\n                Q.updateItem(w);\n              }\n\n              g[w] = 0;\n              P[w] = [];\n            }\n\n            if (d[w] == d[v] + edgeWeight) {\n              g[w] = g[w] + g[v];\n              P[w].push(v);\n            }\n          }\n        } else {\n          for (var j = 0; j < A[v].length; j++) {\n            var w = A[v][j].id();\n\n            if (d[w] == Infinity) {\n              Q.push(w);\n\n              d[w] = d[v] + 1;\n            }\n\n            if (d[w] == d[v] + 1) {\n              g[w] = g[w] + g[v];\n              P[w].push(v);\n            }\n          }\n        }\n      }\n\n      var e = {};\n      for (var i = 0; i < V.length; i++) {\n        e[V[i].id()] = 0;\n      }\n\n      while (S.length > 0) {\n        var w = S.pop();\n\n        for (var j = 0; j < P[w].length; j++) {\n          var v = P[w][j];\n\n          e[v] = e[v] + g[v] / g[w] * (1 + e[w]);\n\n          if (w != V[s].id()) {\n            C.set(w, C.get(w) + e[w]);\n          }\n        }\n      }\n    }\n\n    var ret = {\n      betweenness: function betweenness(node) {\n        if (is.string(node)) {\n          var node = cy.filter(node).id();\n        } else {\n          var node = node.id();\n        }\n\n        return C.get(node);\n      },\n\n      betweennessNormalized: function betweennessNormalized(node) {\n        if (max == 0) return 0;\n\n        if (is.string(node)) {\n          var node = cy.filter(node).id();\n        } else {\n          var node = node.id();\n        }\n\n        return C.get(node) / max;\n      }\n    };\n\n    // alias\n    ret.betweennessNormalised = ret.betweennessNormalized;\n\n    return ret;\n  } // betweennessCentrality\n\n}; // elesfn\n\n// nice, short mathemathical alias\nelesfn.bc = elesfn.betweennessCentrality;\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\n\nvar defineSearch = function defineSearch(params) {\n  params = {\n    bfs: params.bfs || !params.dfs,\n    dfs: params.dfs || !params.bfs\n  };\n\n  // from pseudocode on wikipedia\n  return function searchFn(roots, fn, directed) {\n    var options;\n    if (is.plainObject(roots) && !is.elementOrCollection(roots)) {\n      options = roots;\n      roots = options.roots || options.root;\n      fn = options.visit;\n      directed = options.directed;\n    }\n\n    directed = arguments.length === 2 && !is.fn(fn) ? fn : directed;\n    fn = is.fn(fn) ? fn : function () {};\n\n    var cy = this._private.cy;\n    var v = roots = is.string(roots) ? this.filter(roots) : roots;\n    var Q = [];\n    var connectedNodes = [];\n    var connectedBy = {};\n    var id2depth = {};\n    var V = {};\n    var j = 0;\n    var found;\n    var nodes = this.nodes();\n    var edges = this.edges();\n\n    // enqueue v\n    for (var i = 0; i < v.length; i++) {\n      if (v[i].isNode()) {\n        Q.unshift(v[i]);\n\n        if (params.bfs) {\n          V[v[i].id()] = true;\n\n          connectedNodes.push(v[i]);\n        }\n\n        id2depth[v[i].id()] = 0;\n      }\n    }\n\n    while (Q.length !== 0) {\n      var v = params.bfs ? Q.shift() : Q.pop();\n\n      if (params.dfs) {\n        if (V[v.id()]) {\n          continue;\n        }\n\n        V[v.id()] = true;\n\n        connectedNodes.push(v);\n      }\n\n      var depth = id2depth[v.id()];\n      var prevEdge = connectedBy[v.id()];\n      var prevNode = prevEdge == null ? undefined : prevEdge.connectedNodes().not(v)[0];\n      var ret;\n\n      ret = fn(v, prevEdge, prevNode, j++, depth);\n\n      if (ret === true) {\n        found = v;\n        break;\n      }\n\n      if (ret === false) {\n        break;\n      }\n\n      var vwEdges = v.connectedEdges(directed ? function (ele) {\n        return ele.data('source') === v.id();\n      } : undefined).intersect(edges);\n      for (var i = 0; i < vwEdges.length; i++) {\n        var e = vwEdges[i];\n        var w = e.connectedNodes(function (n) {\n          return n.id() !== v.id();\n        }).intersect(nodes);\n\n        if (w.length !== 0 && !V[w.id()]) {\n          w = w[0];\n\n          Q.push(w);\n\n          if (params.bfs) {\n            V[w.id()] = true;\n\n            connectedNodes.push(w);\n          }\n\n          connectedBy[w.id()] = e;\n\n          id2depth[w.id()] = id2depth[v.id()] + 1;\n        }\n      }\n    }\n\n    var connectedEles = [];\n\n    for (var i = 0; i < connectedNodes.length; i++) {\n      var node = connectedNodes[i];\n      var edge = connectedBy[node.id()];\n\n      if (edge) {\n        connectedEles.push(edge);\n      }\n\n      connectedEles.push(node);\n    }\n\n    return {\n      path: cy.collection(connectedEles, { unique: true }),\n      found: cy.collection(found)\n    };\n  };\n};\n\n// search, spanning trees, etc\nvar elesfn = {\n  breadthFirstSearch: defineSearch({ bfs: true }),\n  depthFirstSearch: defineSearch({ dfs: true })\n};\n\n// nice, short mathemathical alias\nelesfn.bfs = elesfn.breadthFirstSearch;\nelesfn.dfs = elesfn.depthFirstSearch;\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\n\nvar elesfn = {\n\n  closenessCentralityNormalized: function closenessCentralityNormalized(options) {\n    options = options || {};\n\n    var cy = this.cy();\n\n    var harmonic = options.harmonic;\n    if (harmonic === undefined) {\n      harmonic = true;\n    }\n\n    var closenesses = {};\n    var maxCloseness = 0;\n    var nodes = this.nodes();\n    var fw = this.floydWarshall({ weight: options.weight, directed: options.directed });\n\n    // Compute closeness for every node and find the maximum closeness\n    for (var i = 0; i < nodes.length; i++) {\n      var currCloseness = 0;\n      for (var j = 0; j < nodes.length; j++) {\n        if (i != j) {\n          var d = fw.distance(nodes[i], nodes[j]);\n\n          if (harmonic) {\n            currCloseness += 1 / d;\n          } else {\n            currCloseness += d;\n          }\n        }\n      }\n\n      if (!harmonic) {\n        currCloseness = 1 / currCloseness;\n      }\n\n      if (maxCloseness < currCloseness) {\n        maxCloseness = currCloseness;\n      }\n\n      closenesses[nodes[i].id()] = currCloseness;\n    }\n\n    return {\n      closeness: function closeness(node) {\n        if (maxCloseness == 0) {\n          return 0;\n        }\n\n        if (is.string(node)) {\n          // from is a selector string\n          var node = cy.filter(node)[0].id();\n        } else {\n          // from is a node\n          var node = node.id();\n        }\n\n        return closenesses[node] / maxCloseness;\n      }\n    };\n  },\n\n  // Implemented from pseudocode from wikipedia\n  closenessCentrality: function closenessCentrality(options) {\n    options = options || {};\n\n    // root - mandatory!\n    if (options.root != null) {\n      if (is.string(options.root)) {\n        // use it as a selector, e.g. \"#rootID\n        var root = this.filter(options.root)[0];\n      } else {\n        var root = options.root[0];\n      }\n    } else {\n      return undefined;\n    }\n\n    // weight - optional\n    if (options.weight != null && is.fn(options.weight)) {\n      var weight = options.weight;\n    } else {\n      var weight = function weight() {\n        return 1;\n      };\n    }\n\n    // directed - optional\n    if (options.directed != null && is.bool(options.directed)) {\n      var directed = options.directed;\n    } else {\n      var directed = false;\n    }\n\n    var harmonic = options.harmonic;\n    if (harmonic === undefined) {\n      harmonic = true;\n    }\n\n    // we need distance from this node to every other node\n    var dijkstra = this.dijkstra({\n      root: root,\n      weight: weight,\n      directed: directed\n    });\n    var totalDistance = 0;\n\n    var nodes = this.nodes();\n    for (var i = 0; i < nodes.length; i++) {\n      if (nodes[i].id() != root.id()) {\n        var d = dijkstra.distanceTo(nodes[i]);\n\n        if (harmonic) {\n          totalDistance += 1 / d;\n        } else {\n          totalDistance += d;\n        }\n      }\n    }\n\n    return harmonic ? totalDistance : 1 / totalDistance;\n  } // closenessCentrality\n\n}; // elesfn\n\n// nice, short mathemathical alias\nelesfn.cc = elesfn.closenessCentrality;\nelesfn.ccn = elesfn.closenessCentralityNormalised = elesfn.closenessCentralityNormalized;\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar util = __webpack_require__(1);\n\nvar elesfn = {\n\n  degreeCentralityNormalized: function degreeCentralityNormalized(options) {\n    options = options || {};\n\n    var cy = this.cy();\n\n    // directed - optional\n    if (options.directed != null) {\n      var directed = options.directed;\n    } else {\n      var directed = false;\n    }\n\n    var nodes = this.nodes();\n    var numNodes = nodes.length;\n\n    if (!directed) {\n      var degrees = {};\n      var maxDegree = 0;\n\n      for (var i = 0; i < numNodes; i++) {\n        var node = nodes[i];\n        // add current node to the current options object and call degreeCentrality\n        var currDegree = this.degreeCentrality(util.extend({}, options, { root: node }));\n        if (maxDegree < currDegree.degree) maxDegree = currDegree.degree;\n\n        degrees[node.id()] = currDegree.degree;\n      }\n\n      return {\n        degree: function degree(node) {\n          if (maxDegree == 0) return 0;\n\n          if (is.string(node)) {\n            // from is a selector string\n            var node = cy.filter(node)[0].id();\n          } else {\n            // from is a node\n            var node = node.id();\n          }\n\n          return degrees[node] / maxDegree;\n        }\n      };\n    } else {\n      var indegrees = {};\n      var outdegrees = {};\n      var maxIndegree = 0;\n      var maxOutdegree = 0;\n\n      for (var i = 0; i < numNodes; i++) {\n        var node = nodes[i];\n        // add current node to the current options object and call degreeCentrality\n        var currDegree = this.degreeCentrality(util.extend({}, options, { root: node }));\n\n        if (maxIndegree < currDegree.indegree) maxIndegree = currDegree.indegree;\n\n        if (maxOutdegree < currDegree.outdegree) maxOutdegree = currDegree.outdegree;\n\n        indegrees[node.id()] = currDegree.indegree;\n        outdegrees[node.id()] = currDegree.outdegree;\n      }\n\n      return {\n        indegree: function indegree(node) {\n          if (maxIndegree == 0) return 0;\n\n          if (is.string(node)) {\n            // from is a selector string\n            var node = cy.filter(node)[0].id();\n          } else {\n            // from is a node\n            var node = node.id();\n          }\n\n          return indegrees[node] / maxIndegree;\n        },\n        outdegree: function outdegree(node) {\n          if (maxOutdegree == 0) return 0;\n\n          if (is.string(node)) {\n            // from is a selector string\n            var node = cy.filter(node)[0].id();\n          } else {\n            // from is a node\n            var node = node.id();\n          }\n\n          return outdegrees[node] / maxOutdegree;\n        }\n\n      };\n    }\n  }, // degreeCentralityNormalized\n\n  // Implemented from the algorithm in Opsahl's paper\n  // \"Node centrality in weighted networks: Generalizing degree and shortest paths\"\n  // check the heading 2 \"Degree\"\n  degreeCentrality: function degreeCentrality(options) {\n    options = options || {};\n\n    var callingEles = this;\n\n    // root - mandatory!\n    if (options != null && options.root != null) {\n      var root = is.string(options.root) ? this.filter(options.root)[0] : options.root[0];\n    } else {\n      return undefined;\n    }\n\n    // weight - optional\n    if (options.weight != null && is.fn(options.weight)) {\n      var weightFn = options.weight;\n    } else {\n      // If not specified, assume each edge has equal weight (1)\n      var weightFn = function weightFn(e) {\n        return 1;\n      };\n    }\n\n    // directed - optional\n    if (options.directed != null) {\n      var directed = options.directed;\n    } else {\n      var directed = false;\n    }\n\n    // alpha - optional\n    if (options.alpha != null && is.number(options.alpha)) {\n      var alpha = options.alpha;\n    } else {\n      alpha = 0;\n    }\n\n    if (!directed) {\n      var connEdges = root.connectedEdges().intersection(callingEles);\n      var k = connEdges.length;\n      var s = 0;\n\n      // Now, sum edge weights\n      for (var i = 0; i < connEdges.length; i++) {\n        var edge = connEdges[i];\n        s += weightFn(edge);\n      }\n\n      return {\n        degree: Math.pow(k, 1 - alpha) * Math.pow(s, alpha)\n      };\n    } else {\n      var incoming = root.connectedEdges('edge[target = \"' + root.id() + '\"]').intersection(callingEles);\n      var outgoing = root.connectedEdges('edge[source = \"' + root.id() + '\"]').intersection(callingEles);\n      var k_in = incoming.length;\n      var k_out = outgoing.length;\n      var s_in = 0;\n      var s_out = 0;\n\n      // Now, sum incoming edge weights\n      for (var i = 0; i < incoming.length; i++) {\n        var edge = incoming[i];\n        s_in += weightFn(edge);\n      }\n\n      // Now, sum outgoing edge weights\n      for (var i = 0; i < outgoing.length; i++) {\n        var edge = outgoing[i];\n        s_out += weightFn(edge);\n      }\n\n      return {\n        indegree: Math.pow(k_in, 1 - alpha) * Math.pow(s_in, alpha),\n        outdegree: Math.pow(k_out, 1 - alpha) * Math.pow(s_out, alpha)\n      };\n    }\n  } // degreeCentrality\n\n}; // elesfn\n\n// nice, short mathemathical alias\nelesfn.dc = elesfn.degreeCentrality;\nelesfn.dcn = elesfn.degreeCentralityNormalised = elesfn.degreeCentralityNormalized;\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar Heap = __webpack_require__(8);\n\nvar elesfn = {\n\n  dijkstra: function dijkstra(root, weightFn, directed) {\n    var options;\n    if (is.plainObject(root) && !is.elementOrCollection(root)) {\n      options = root;\n      root = options.root;\n      weightFn = options.weight;\n      directed = options.directed;\n    }\n\n    var cy = this._private.cy;\n    weightFn = is.fn(weightFn) ? weightFn : function () {\n      return 1;\n    }; // if not specified, assume each edge has equal weight (1)\n\n    var source = is.string(root) ? this.filter(root)[0] : root[0];\n    var dist = {};\n    var prev = {};\n    var knownDist = {};\n\n    var edges = this.edges().filter(function (ele) {\n      return !ele.isLoop();\n    });\n    var nodes = this.nodes();\n\n    var getDist = function getDist(node) {\n      return dist[node.id()];\n    };\n\n    var setDist = function setDist(node, d) {\n      dist[node.id()] = d;\n\n      Q.updateItem(node);\n    };\n\n    var Q = new Heap(function (a, b) {\n      return getDist(a) - getDist(b);\n    });\n\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i];\n\n      dist[node.id()] = node.same(source) ? 0 : Infinity;\n      Q.push(node);\n    }\n\n    var distBetween = function distBetween(u, v) {\n      var uvs = (directed ? u.edgesTo(v) : u.edgesWith(v)).intersect(edges);\n      var smallestDistance = Infinity;\n      var smallestEdge;\n\n      for (var i = 0; i < uvs.length; i++) {\n        var edge = uvs[i];\n        var weight = weightFn(edge);\n\n        if (weight < smallestDistance || !smallestEdge) {\n          smallestDistance = weight;\n          smallestEdge = edge;\n        }\n      }\n\n      return {\n        edge: smallestEdge,\n        dist: smallestDistance\n      };\n    };\n\n    while (Q.size() > 0) {\n      var u = Q.pop();\n      var smalletsDist = getDist(u);\n      var uid = u.id();\n\n      knownDist[uid] = smalletsDist;\n\n      if (smalletsDist === Infinity) {\n        continue;\n      }\n\n      var neighbors = u.neighborhood().intersect(nodes);\n      for (var i = 0; i < neighbors.length; i++) {\n        var v = neighbors[i];\n        var vid = v.id();\n        var vDist = distBetween(u, v);\n\n        var alt = smalletsDist + vDist.dist;\n\n        if (alt < getDist(v)) {\n          setDist(v, alt);\n\n          prev[vid] = {\n            node: u,\n            edge: vDist.edge\n          };\n        }\n      } // for\n    } // while\n\n    return {\n      distanceTo: function distanceTo(node) {\n        var target = is.string(node) ? nodes.filter(node)[0] : node[0];\n\n        return knownDist[target.id()];\n      },\n\n      pathTo: function pathTo(node) {\n        var target = is.string(node) ? nodes.filter(node)[0] : node[0];\n        var S = [];\n        var u = target;\n\n        if (target.length > 0) {\n          S.unshift(target);\n\n          while (prev[u.id()]) {\n            var p = prev[u.id()];\n\n            S.unshift(p.edge);\n            S.unshift(p.node);\n\n            u = p.node;\n          }\n        }\n\n        return cy.collection(S);\n      }\n    };\n  }\n};\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\n\nvar elesfn = {\n\n  // Implemented from pseudocode from wikipedia\n  floydWarshall: function floydWarshall(options) {\n    options = options || {};\n\n    var cy = this.cy();\n\n    // Weight function - optional\n    if (options.weight != null && is.fn(options.weight)) {\n      var weightFn = options.weight;\n    } else {\n      // If not specified, assume each edge has equal weight (1)\n      var weightFn = function weightFn(e) {\n        return 1;\n      };\n    }\n\n    // directed - optional\n    if (options.directed != null) {\n      var directed = options.directed;\n    } else {\n      var directed = false;\n    }\n\n    var edges = this.edges().stdFilter(function (e) {\n      return !e.isLoop();\n    });\n    var nodes = this.nodes();\n    var numNodes = nodes.length;\n\n    // mapping: node id -> position in nodes array\n    var id2position = {};\n    for (var i = 0; i < numNodes; i++) {\n      id2position[nodes[i].id()] = i;\n    }\n\n    // Initialize distance matrix\n    var dist = [];\n    for (var i = 0; i < numNodes; i++) {\n      var newRow = new Array(numNodes);\n      for (var j = 0; j < numNodes; j++) {\n        if (i == j) {\n          newRow[j] = 0;\n        } else {\n          newRow[j] = Infinity;\n        }\n      }\n      dist.push(newRow);\n    }\n\n    // Initialize matrix used for path reconstruction\n    // Initialize distance matrix\n    var next = [];\n    var edgeNext = [];\n\n    var initMatrix = function initMatrix(next) {\n      for (var i = 0; i < numNodes; i++) {\n        var newRow = new Array(numNodes);\n        for (var j = 0; j < numNodes; j++) {\n          newRow[j] = undefined;\n        }\n        next.push(newRow);\n      }\n    };\n\n    initMatrix(next);\n    initMatrix(edgeNext);\n\n    // Process edges\n    for (var i = 0; i < edges.length; i++) {\n      var sourceIndex = id2position[edges[i].source().id()];\n      var targetIndex = id2position[edges[i].target().id()];\n      var weight = weightFn(edges[i]);\n\n      // Check if already process another edge between same 2 nodes\n      if (dist[sourceIndex][targetIndex] > weight) {\n        dist[sourceIndex][targetIndex] = weight;\n        next[sourceIndex][targetIndex] = targetIndex;\n        edgeNext[sourceIndex][targetIndex] = edges[i];\n      }\n    }\n\n    // If undirected graph, process 'reversed' edges\n    if (!directed) {\n      for (var i = 0; i < edges.length; i++) {\n        var sourceIndex = id2position[edges[i].target().id()];\n        var targetIndex = id2position[edges[i].source().id()];\n        var weight = weightFn(edges[i]);\n\n        // Check if already process another edge between same 2 nodes\n        if (dist[sourceIndex][targetIndex] > weight) {\n          dist[sourceIndex][targetIndex] = weight;\n          next[sourceIndex][targetIndex] = targetIndex;\n          edgeNext[sourceIndex][targetIndex] = edges[i];\n        }\n      }\n    }\n\n    // Main loop\n    for (var k = 0; k < numNodes; k++) {\n      for (var i = 0; i < numNodes; i++) {\n        for (var j = 0; j < numNodes; j++) {\n          if (dist[i][k] + dist[k][j] < dist[i][j]) {\n            dist[i][j] = dist[i][k] + dist[k][j];\n            next[i][j] = next[i][k];\n          }\n        }\n      }\n    }\n\n    // Build result object\n    var position2id = [];\n    for (var i = 0; i < numNodes; i++) {\n      position2id.push(nodes[i].id());\n    }\n\n    var res = {\n      distance: function distance(from, to) {\n        if (is.string(from)) {\n          // from is a selector string\n          var fromId = cy.filter(from)[0].id();\n        } else {\n          // from is a node\n          var fromId = from.id();\n        }\n\n        if (is.string(to)) {\n          // to is a selector string\n          var toId = cy.filter(to)[0].id();\n        } else {\n          // to is a node\n          var toId = to.id();\n        }\n\n        return dist[id2position[fromId]][id2position[toId]];\n      },\n\n      path: function path(from, to) {\n        var reconstructPathAux = function reconstructPathAux(from, to, next, position2id, edgeNext) {\n          if (from === to) {\n            return cy.getElementById(position2id[from]);\n          }\n          if (next[from][to] === undefined) {\n            return undefined;\n          }\n\n          var path = [cy.getElementById(position2id[from])];\n          var prev = from;\n          while (from !== to) {\n            prev = from;\n            from = next[from][to];\n\n            var edge = edgeNext[prev][from];\n            path.push(edge);\n\n            path.push(cy.getElementById(position2id[from]));\n          }\n          return path;\n        };\n\n        if (is.string(from)) {\n          // from is a selector string\n          var fromId = cy.filter(from)[0].id();\n        } else {\n          // from is a node\n          var fromId = from.id();\n        }\n\n        if (is.string(to)) {\n          // to is a selector string\n          var toId = cy.filter(to)[0].id();\n        } else {\n          // to is a node\n          var toId = to.id();\n        }\n\n        var pathArr = reconstructPathAux(id2position[fromId], id2position[toId], next, position2id, edgeNext);\n\n        return cy.collection(pathArr);\n      }\n    };\n\n    return res;\n  } // floydWarshall\n\n}; // elesfn\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\n\nvar elesfn = {};\n\n[__webpack_require__(27), __webpack_require__(30), __webpack_require__(34), __webpack_require__(24), __webpack_require__(31), __webpack_require__(25), __webpack_require__(33), __webpack_require__(35), __webpack_require__(29), __webpack_require__(28), __webpack_require__(26)].forEach(function (props) {\n  util.extend(elesfn, props);\n});\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\n\nvar elesfn = {\n\n  // Computes the minimum cut of an undirected graph\n  // Returns the correct answer with high probability\n  kargerStein: function kargerStein(options) {\n    var eles = this;\n\n    options = options || {};\n\n    // Function which colapses 2 (meta) nodes into one\n    // Updates the remaining edge lists\n    // Receives as a paramater the edge which causes the collapse\n    var colapse = function colapse(edgeIndex, nodeMap, remainingEdges) {\n      var edgeInfo = remainingEdges[edgeIndex];\n      var sourceIn = edgeInfo[1];\n      var targetIn = edgeInfo[2];\n      var partition1 = nodeMap[sourceIn];\n      var partition2 = nodeMap[targetIn];\n\n      // Delete all edges between partition1 and partition2\n      var newEdges = remainingEdges.filter(function (edge) {\n        if (nodeMap[edge[1]] === partition1 && nodeMap[edge[2]] === partition2) {\n          return false;\n        }\n        if (nodeMap[edge[1]] === partition2 && nodeMap[edge[2]] === partition1) {\n          return false;\n        }\n        return true;\n      });\n\n      // All edges pointing to partition2 should now point to partition1\n      for (var i = 0; i < newEdges.length; i++) {\n        var edge = newEdges[i];\n        if (edge[1] === partition2) {\n          // Check source\n          newEdges[i] = edge.slice(0);\n          newEdges[i][1] = partition1;\n        } else if (edge[2] === partition2) {\n          // Check target\n          newEdges[i] = edge.slice(0);\n          newEdges[i][2] = partition1;\n        }\n      }\n\n      // Move all nodes from partition2 to partition1\n      for (var i = 0; i < nodeMap.length; i++) {\n        if (nodeMap[i] === partition2) {\n          nodeMap[i] = partition1;\n        }\n      }\n\n      return newEdges;\n    };\n\n    // Contracts a graph until we reach a certain number of meta nodes\n    var contractUntil = function contractUntil(metaNodeMap, remainingEdges, size, sizeLimit) {\n      // Stop condition\n      if (size <= sizeLimit) {\n        return remainingEdges;\n      }\n\n      // Choose an edge randomly\n      var edgeIndex = Math.floor(Math.random() * remainingEdges.length);\n\n      // Colapse graph based on edge\n      var newEdges = colapse(edgeIndex, metaNodeMap, remainingEdges);\n\n      return contractUntil(metaNodeMap, newEdges, size - 1, sizeLimit);\n    };\n\n    var cy = this._private.cy;\n    var edges = this.edges().stdFilter(function (e) {\n      return !e.isLoop();\n    });\n    var nodes = this.nodes();\n    var numNodes = nodes.length;\n    var numEdges = edges.length;\n    var numIter = Math.ceil(Math.pow(Math.log(numNodes) / Math.LN2, 2));\n    var stopSize = Math.floor(numNodes / Math.sqrt(2));\n\n    if (numNodes < 2) {\n      util.error('At least 2 nodes are required for Karger-Stein algorithm');\n      return undefined;\n    }\n\n    // Create numerical identifiers for each node\n    // mapping: node id -> position in nodes array\n    // for reverse mapping, simply use nodes array\n    var id2position = {};\n    for (var i = 0; i < numNodes; i++) {\n      id2position[nodes[i].id()] = i;\n    }\n\n    // Now store edge destination as indexes\n    // Format for each edge (edge index, source node index, target node index)\n    var edgeIndexes = [];\n    for (var i = 0; i < numEdges; i++) {\n      var e = edges[i];\n      edgeIndexes.push([i, id2position[e.source().id()], id2position[e.target().id()]]);\n    }\n\n    // We will store the best cut found here\n    var minCutSize = Infinity;\n    var minCut;\n\n    // Initial meta node partition\n    var originalMetaNode = [];\n    for (var i = 0; i < numNodes; i++) {\n      originalMetaNode.push(i);\n    }\n\n    // Main loop\n    for (var iter = 0; iter <= numIter; iter++) {\n      // Create new meta node partition\n      var metaNodeMap = originalMetaNode.slice(0);\n\n      // Contract until stop point (stopSize nodes)\n      var edgesState = contractUntil(metaNodeMap, edgeIndexes, numNodes, stopSize);\n\n      // Create a copy of the colapsed nodes state\n      var metaNodeMap2 = metaNodeMap.slice(0);\n\n      // Run 2 iterations starting in the stop state\n      var res1 = contractUntil(metaNodeMap, edgesState, stopSize, 2);\n      var res2 = contractUntil(metaNodeMap2, edgesState, stopSize, 2);\n\n      // Is any of the 2 results the best cut so far?\n      if (res1.length <= res2.length && res1.length < minCutSize) {\n        minCutSize = res1.length;\n        minCut = [res1, metaNodeMap];\n      } else if (res2.length <= res1.length && res2.length < minCutSize) {\n        minCutSize = res2.length;\n        minCut = [res2, metaNodeMap2];\n      }\n    } // end of main loop\n\n\n    // Construct result\n    var resEdges = minCut[0].map(function (e) {\n      return edges[e[0]];\n    });\n    var partition1 = [];\n    var partition2 = [];\n\n    // traverse metaNodeMap for best cut\n    var witnessNodePartition = minCut[1][0];\n    for (var i = 0; i < minCut[1].length; i++) {\n      var partitionId = minCut[1][i];\n      if (partitionId === witnessNodePartition) {\n        partition1.push(nodes[i]);\n      } else {\n        partition2.push(nodes[i]);\n      }\n    }\n\n    var ret = {\n      cut: eles.spawn(cy, resEdges),\n      partition1: eles.spawn(partition1),\n      partition2: eles.spawn(partition2)\n    };\n\n    return ret;\n  }\n}; // elesfn\n\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\n\n// search, spanning trees, etc\nvar elesfn = {\n\n  // kruskal's algorithm (finds min spanning tree, assuming undirected graph)\n  // implemented from pseudocode from wikipedia\n  kruskal: function kruskal(weightFn) {\n    var cy = this.cy();\n\n    weightFn = is.fn(weightFn) ? weightFn : function () {\n      return 1;\n    }; // if not specified, assume each edge has equal weight (1)\n\n    function findSet(ele) {\n      for (var i = 0; i < forest.length; i++) {\n        var eles = forest[i];\n\n        if (eles.anySame(ele)) {\n          return {\n            eles: eles,\n            index: i\n          };\n        }\n      }\n    }\n\n    var A = cy.collection(cy, []);\n    var forest = [];\n    var nodes = this.nodes();\n\n    for (var i = 0; i < nodes.length; i++) {\n      forest.push(nodes[i].collection());\n    }\n\n    var edges = this.edges();\n    var S = edges.toArray().sort(function (a, b) {\n      var weightA = weightFn(a);\n      var weightB = weightFn(b);\n\n      return weightA - weightB;\n    });\n\n    for (var i = 0; i < S.length; i++) {\n      var edge = S[i];\n      var u = edge.source()[0];\n      var v = edge.target()[0];\n      var setU = findSet(u);\n      var setV = findSet(v);\n\n      if (setU.index !== setV.index) {\n        A = A.add(edge);\n\n        // combine forests for u and v\n        forest[setU.index] = setU.eles.add(setV.eles);\n        forest.splice(setV.index, 1);\n      }\n    }\n\n    return nodes.add(A);\n  }\n};\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\n\nvar elesfn = {\n\n  pageRank: function pageRank(options) {\n    options = options || {};\n\n    var normalizeVector = function normalizeVector(vector) {\n      var length = vector.length;\n\n      // First, get sum of all elements\n      var total = 0;\n      for (var i = 0; i < length; i++) {\n        total += vector[i];\n      }\n\n      // Now, divide each by the sum of all elements\n      for (var i = 0; i < length; i++) {\n        vector[i] = vector[i] / total;\n      }\n    };\n\n    // dampingFactor - optional\n    if (options != null && options.dampingFactor != null) {\n      var dampingFactor = options.dampingFactor;\n    } else {\n      var dampingFactor = 0.8; // Default damping factor\n    }\n\n    // desired precision - optional\n    if (options != null && options.precision != null) {\n      var epsilon = options.precision;\n    } else {\n      var epsilon = 0.000001; // Default precision\n    }\n\n    // Max number of iterations - optional\n    if (options != null && options.iterations != null) {\n      var numIter = options.iterations;\n    } else {\n      var numIter = 200; // Default number of iterations\n    }\n\n    // Weight function - optional\n    if (options != null && options.weight != null && is.fn(options.weight)) {\n      var weightFn = options.weight;\n    } else {\n      // If not specified, assume each edge has equal weight (1)\n      var weightFn = function weightFn(e) {\n        return 1;\n      };\n    }\n\n    var cy = this._private.cy;\n    var edges = this.edges().stdFilter(function (e) {\n      return !e.isLoop();\n    });\n    var nodes = this.nodes();\n    var numNodes = nodes.length;\n    var numEdges = edges.length;\n\n    // Create numerical identifiers for each node\n    // mapping: node id -> position in nodes array\n    // for reverse mapping, simply use nodes array\n    var id2position = {};\n    for (var i = 0; i < numNodes; i++) {\n      id2position[nodes[i].id()] = i;\n    }\n\n    // Construct transposed adjacency matrix\n    // First lets have a zeroed matrix of the right size\n    // We'll also keep track of the sum of each column\n    var matrix = [];\n    var columnSum = [];\n    var additionalProb = (1 - dampingFactor) / numNodes;\n\n    // Create null matric\n    for (var i = 0; i < numNodes; i++) {\n      var newRow = [];\n      for (var j = 0; j < numNodes; j++) {\n        newRow.push(0.0);\n      }\n      matrix.push(newRow);\n      columnSum.push(0.0);\n    }\n\n    // Now, process edges\n    for (var i = 0; i < numEdges; i++) {\n      var edge = edges[i];\n      var s = id2position[edge.source().id()];\n      var t = id2position[edge.target().id()];\n      var w = weightFn(edge);\n\n      // Update matrix\n      matrix[t][s] += w;\n\n      // Update column sum\n      columnSum[s] += w;\n    }\n\n    // Add additional probability based on damping factor\n    // Also, take into account columns that have sum = 0\n    var p = 1.0 / numNodes + additionalProb; // Shorthand\n    // Traverse matrix, column by column\n    for (var j = 0; j < numNodes; j++) {\n      if (columnSum[j] === 0) {\n        // No 'links' out from node jth, assume equal probability for each possible node\n        for (var i = 0; i < numNodes; i++) {\n          matrix[i][j] = p;\n        }\n      } else {\n        // Node jth has outgoing link, compute normalized probabilities\n        for (var i = 0; i < numNodes; i++) {\n          matrix[i][j] = matrix[i][j] / columnSum[j] + additionalProb;\n        }\n      }\n    }\n\n    // Compute dominant eigenvector using power method\n    var eigenvector = [];\n    var nullVector = [];\n    var previous;\n\n    // Start with a vector of all 1's\n    // Also, initialize a null vector which will be used as shorthand\n    for (var i = 0; i < numNodes; i++) {\n      eigenvector.push(1.0);\n      nullVector.push(0.0);\n    }\n\n    for (var iter = 0; iter < numIter; iter++) {\n      // New array with all 0's\n      var temp = nullVector.slice(0);\n\n      // Multiply matrix with previous result\n      for (var i = 0; i < numNodes; i++) {\n        for (var j = 0; j < numNodes; j++) {\n          temp[i] += matrix[i][j] * eigenvector[j];\n        }\n      }\n\n      normalizeVector(temp);\n      previous = eigenvector;\n      eigenvector = temp;\n\n      var diff = 0;\n      // Compute difference (squared module) of both vectors\n      for (var i = 0; i < numNodes; i++) {\n        diff += Math.pow(previous[i] - eigenvector[i], 2);\n      }\n\n      // If difference is less than the desired threshold, stop iterating\n      if (diff < epsilon) {\n        break;\n      }\n    }\n\n    // Construct result\n    var res = {\n      rank: function rank(node) {\n        if (is.string(node)) {\n          // is a selector string\n          var nodeId = cy.filter(node)[0].id();\n        } else {\n          // is a node object\n          var nodeId = node.id();\n        }\n        return eigenvector[id2position[nodeId]];\n      }\n    };\n\n    return res;\n  } // pageRank\n\n}; // elesfn\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar define = __webpack_require__(3);\n\nvar elesfn = {\n  animate: define.animate(),\n  animation: define.animation(),\n  animated: define.animated(),\n  clearQueue: define.clearQueue(),\n  delay: define.delay(),\n  delayAnimation: define.delayAnimation(),\n  stop: define.stop()\n};\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Set = __webpack_require__(9);\n\nvar elesfn = {\n  classes: function classes(_classes) {\n    _classes = (_classes || '').match(/\\S+/g) || [];\n    var self = this;\n    var changed = [];\n    var classesMap = new Set(_classes);\n\n    // check and update each ele\n\n    var _loop = function _loop(j) {\n      var ele = self[j];\n      var _p = ele._private;\n      var eleClasses = _p.classes;\n      var changedEle = false;\n\n      // check if ele has all of the passed classes\n      classesMap.forEach(function (cls) {\n        var eleHasClass = eleClasses.has(cls);\n\n        if (!eleHasClass) {\n          changedEle = true;\n        }\n      });\n\n      // check if ele has classes outside of those passed\n      if (!changedEle) {\n        eleClasses.forEach(function (eleCls) {\n          var specdClass = classesMap.has(eleCls);\n\n          if (!specdClass) {\n            changedEle = true;\n          }\n        });\n      }\n\n      if (changedEle) {\n        _p.classes = new Set(classesMap);\n\n        changed.push(ele);\n      }\n    };\n\n    for (var j = 0; j < self.length; j++) {\n      _loop(j);\n    }\n\n    // trigger update style on those eles that had class changes\n    if (changed.length > 0) {\n      this.spawn(changed).updateStyle().emit('class');\n    }\n\n    return self;\n  },\n\n  addClass: function addClass(classes) {\n    return this.toggleClass(classes, true);\n  },\n\n  hasClass: function hasClass(className) {\n    var ele = this[0];\n    return ele != null && ele._private.classes.has(className);\n  },\n\n  toggleClass: function toggleClass(classesStr, toggle) {\n    var classes = classesStr.match(/\\S+/g) || [];\n    var self = this;\n    var changed = []; // eles who had classes changed\n\n    for (var i = 0, il = self.length; i < il; i++) {\n      var _ele = self[i];\n      var _changedEle = false;\n\n      for (var j = 0; j < classes.length; j++) {\n        var cls = classes[j];\n        var _eleClasses = _ele._private.classes;\n        var hasClass = _eleClasses.has(cls);\n        var shouldAdd = toggle || toggle === undefined && !hasClass;\n\n        if (shouldAdd) {\n          _eleClasses.add(cls);\n\n          if (!hasClass && !_changedEle) {\n            changed.push(_ele);\n            _changedEle = true;\n          }\n        } else {\n          // then remove\n          _eleClasses.delete(cls);\n\n          if (hasClass && !_changedEle) {\n            changed.push(_ele);\n            _changedEle = true;\n          }\n        }\n      } // for j classes\n    } // for i eles\n\n    // trigger update style on those eles that had class changes\n    if (changed.length > 0) {\n      this.spawn(changed).updateStyle().emit('class');\n    }\n\n    return self;\n  },\n\n  removeClass: function removeClass(classes) {\n    return this.toggleClass(classes, false);\n  },\n\n  flashClass: function flashClass(classes, duration) {\n    var self = this;\n\n    if (duration == null) {\n      duration = 250;\n    } else if (duration === 0) {\n      return self; // nothing to do really\n    }\n\n    self.addClass(classes);\n    setTimeout(function () {\n      self.removeClass(classes);\n    }, duration);\n\n    return self;\n  }\n};\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar Selector = __webpack_require__(6);\n\nvar elesfn = {\n  allAre: function allAre(selector) {\n    var selObj = new Selector(selector);\n\n    return this.every(function (ele) {\n      return selObj.matches(ele);\n    });\n  },\n\n  is: function is(selector) {\n    var selObj = new Selector(selector);\n\n    return this.some(function (ele) {\n      return selObj.matches(ele);\n    });\n  },\n\n  some: function some(fn, thisArg) {\n    for (var i = 0; i < this.length; i++) {\n      var ret = !thisArg ? fn(this[i], i, this) : fn.apply(thisArg, [this[i], i, this]);\n\n      if (ret) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  every: function every(fn, thisArg) {\n    for (var i = 0; i < this.length; i++) {\n      var ret = !thisArg ? fn(this[i], i, this) : fn.apply(thisArg, [this[i], i, this]);\n\n      if (!ret) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  same: function same(collection) {\n    collection = this.cy().collection(collection);\n\n    // cheap extra check\n    if (this.length !== collection.length) {\n      return false;\n    }\n\n    return this.every(function (ele) {\n      return collection.hasElementWithId(ele.id());\n    });\n  },\n\n  anySame: function anySame(collection) {\n    collection = this.cy().collection(collection);\n\n    return this.some(function (ele) {\n      return collection.hasElementWithId(ele.id());\n    });\n  },\n\n  allAreNeighbors: function allAreNeighbors(collection) {\n    collection = this.cy().collection(collection);\n\n    var nhood = this.neighborhood();\n\n    return collection.every(function (ele) {\n      return nhood.hasElementWithId(ele.id());\n    });\n  },\n\n  contains: function contains(collection) {\n    collection = this.cy().collection(collection);\n\n    var self = this;\n\n    return collection.every(function (ele) {\n      return self.hasElementWithId(ele.id());\n    });\n  }\n};\n\nelesfn.allAreNeighbours = elesfn.allAreNeighbors;\nelesfn.has = elesfn.contains;\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Set = __webpack_require__(9);\n\nvar elesfn = {\n  parent: function parent(selector) {\n    var parents = [];\n\n    // optimisation for single ele call\n    if (this.length === 1) {\n      var parent = this[0]._private.parent;\n\n      if (parent) {\n        return parent;\n      }\n    }\n\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var _parent = ele._private.parent;\n\n      if (_parent) {\n        parents.push(_parent);\n      }\n    }\n\n    return this.spawn(parents, { unique: true }).filter(selector);\n  },\n\n  parents: function parents(selector) {\n    var parents = [];\n\n    var eles = this.parent();\n    while (eles.nonempty()) {\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        parents.push(ele);\n      }\n\n      eles = eles.parent();\n    }\n\n    return this.spawn(parents, { unique: true }).filter(selector);\n  },\n\n  commonAncestors: function commonAncestors(selector) {\n    var ancestors = void 0;\n\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var parents = ele.parents();\n\n      ancestors = ancestors || parents;\n\n      ancestors = ancestors.intersect(parents); // current list must be common with current ele parents set\n    }\n\n    return ancestors.filter(selector);\n  },\n\n  orphans: function orphans(selector) {\n    return this.stdFilter(function (ele) {\n      return ele.isOrphan();\n    }).filter(selector);\n  },\n\n  nonorphans: function nonorphans(selector) {\n    return this.stdFilter(function (ele) {\n      return ele.isChild();\n    }).filter(selector);\n  },\n\n  children: function children(selector) {\n    var children = [];\n\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      children = children.concat(ele._private.children);\n    }\n\n    return this.spawn(children, { unique: true }).filter(selector);\n  },\n\n  siblings: function siblings(selector) {\n    return this.parent().children().not(this).filter(selector);\n  },\n\n  isParent: function isParent() {\n    var ele = this[0];\n\n    if (ele) {\n      return ele.isNode() && ele._private.children.length !== 0;\n    }\n  },\n\n  isChildless: function isChildless() {\n    var ele = this[0];\n\n    if (ele) {\n      return ele.isNode() && ele._private.children.length === 0;\n    }\n  },\n\n  isChild: function isChild() {\n    var ele = this[0];\n\n    if (ele) {\n      return ele.isNode() && ele._private.parent != null;\n    }\n  },\n\n  isOrphan: function isOrphan() {\n    var ele = this[0];\n\n    if (ele) {\n      return ele.isNode() && ele._private.parent == null;\n    }\n  },\n\n  descendants: function descendants(selector) {\n    var elements = [];\n\n    function add(eles) {\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n\n        elements.push(ele);\n\n        if (ele.children().nonempty()) {\n          add(ele.children());\n        }\n      }\n    }\n\n    add(this.children());\n\n    return this.spawn(elements, { unique: true }).filter(selector);\n  }\n};\n\nfunction forEachCompound(eles, fn, includeSelf, recursiveStep) {\n  var q = [];\n  var did = new Set();\n  var cy = eles.cy();\n  var hasCompounds = cy.hasCompoundNodes();\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n\n    if (includeSelf) {\n      q.push(ele);\n    } else if (hasCompounds) {\n      recursiveStep(q, did, ele);\n    }\n  }\n\n  while (q.length > 0) {\n    var _ele = q.shift();\n\n    fn(_ele);\n\n    did.add(_ele.id());\n\n    if (hasCompounds) {\n      recursiveStep(q, did, _ele);\n    }\n  }\n\n  return eles;\n}\n\nfunction addChildren(q, did, ele) {\n  if (ele.isParent()) {\n    var children = ele._private.children;\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n\n      if (!did.has(child.id())) {\n        q.push(child);\n      }\n    }\n  }\n}\n\n// very efficient version of eles.add( eles.descendants() ).forEach()\n// for internal use\nelesfn.forEachDown = function (fn) {\n  var includeSelf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  return forEachCompound(this, fn, includeSelf, addChildren);\n};\n\nfunction addParent(q, did, ele) {\n  if (ele.isChild()) {\n    var parent = ele._private.parent;\n\n    if (!did.has(parent.id())) {\n      q.push(parent);\n    }\n  }\n}\n\nelesfn.forEachUp = function (fn) {\n  var includeSelf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  return forEachCompound(this, fn, includeSelf, addParent);\n};\n\nfunction addParentAndChildren(q, did, ele) {\n  addParent(q, did, ele);\n  addChildren(q, did, ele);\n}\n\nelesfn.forEachUpAndDown = function (fn) {\n  var includeSelf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  return forEachCompound(this, fn, includeSelf, addParentAndChildren);\n};\n\n// aliases\nelesfn.ancestors = elesfn.parents;\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar define = __webpack_require__(3);\nvar fn = void 0,\n    elesfn = void 0;\n\nfn = elesfn = {\n\n  data: define.data({\n    field: 'data',\n    bindingEvent: 'data',\n    allowBinding: true,\n    allowSetting: true,\n    settingEvent: 'data',\n    settingTriggersEvent: true,\n    triggerFnName: 'trigger',\n    allowGetting: true,\n    immutableKeys: {\n      'id': true,\n      'source': true,\n      'target': true,\n      'parent': true\n    },\n    updateStyle: true\n  }),\n\n  removeData: define.removeData({\n    field: 'data',\n    event: 'data',\n    triggerFnName: 'trigger',\n    triggerEvent: true,\n    immutableKeys: {\n      'id': true,\n      'source': true,\n      'target': true,\n      'parent': true\n    },\n    updateStyle: true\n  }),\n\n  scratch: define.data({\n    field: 'scratch',\n    bindingEvent: 'scratch',\n    allowBinding: true,\n    allowSetting: true,\n    settingEvent: 'scratch',\n    settingTriggersEvent: true,\n    triggerFnName: 'trigger',\n    allowGetting: true,\n    updateStyle: true\n  }),\n\n  removeScratch: define.removeData({\n    field: 'scratch',\n    event: 'scratch',\n    triggerFnName: 'trigger',\n    triggerEvent: true,\n    updateStyle: true\n  }),\n\n  rscratch: define.data({\n    field: 'rscratch',\n    allowBinding: false,\n    allowSetting: true,\n    settingTriggersEvent: false,\n    allowGetting: true\n  }),\n\n  removeRscratch: define.removeData({\n    field: 'rscratch',\n    triggerEvent: false\n  }),\n\n  id: function id() {\n    var ele = this[0];\n\n    if (ele) {\n      return ele._private.data.id;\n    }\n  }\n\n};\n\n// aliases\nfn.attr = fn.data;\nfn.removeAttr = fn.removeData;\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\n\nvar elesfn = {};\n\nfunction defineDegreeFunction(callback) {\n  return function (includeLoops) {\n    var self = this;\n\n    if (includeLoops === undefined) {\n      includeLoops = true;\n    }\n\n    if (self.length === 0) {\n      return;\n    }\n\n    if (self.isNode() && !self.removed()) {\n      var degree = 0;\n      var node = self[0];\n      var connectedEdges = node._private.edges;\n\n      for (var i = 0; i < connectedEdges.length; i++) {\n        var edge = connectedEdges[i];\n\n        if (!includeLoops && edge.isLoop()) {\n          continue;\n        }\n\n        degree += callback(node, edge);\n      }\n\n      return degree;\n    } else {\n      return;\n    }\n  };\n}\n\nutil.extend(elesfn, {\n  degree: defineDegreeFunction(function (node, edge) {\n    if (edge.source().same(edge.target())) {\n      return 2;\n    } else {\n      return 1;\n    }\n  }),\n\n  indegree: defineDegreeFunction(function (node, edge) {\n    if (edge.target().same(node)) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }),\n\n  outdegree: defineDegreeFunction(function (node, edge) {\n    if (edge.source().same(node)) {\n      return 1;\n    } else {\n      return 0;\n    }\n  })\n});\n\nfunction defineDegreeBoundsFunction(degreeFn, callback) {\n  return function (includeLoops) {\n    var ret = void 0;\n    var nodes = this.nodes();\n\n    for (var i = 0; i < nodes.length; i++) {\n      var ele = nodes[i];\n      var degree = ele[degreeFn](includeLoops);\n      if (degree !== undefined && (ret === undefined || callback(degree, ret))) {\n        ret = degree;\n      }\n    }\n\n    return ret;\n  };\n}\n\nutil.extend(elesfn, {\n  minDegree: defineDegreeBoundsFunction('degree', function (degree, min) {\n    return degree < min;\n  }),\n\n  maxDegree: defineDegreeBoundsFunction('degree', function (degree, max) {\n    return degree > max;\n  }),\n\n  minIndegree: defineDegreeBoundsFunction('indegree', function (degree, min) {\n    return degree < min;\n  }),\n\n  maxIndegree: defineDegreeBoundsFunction('indegree', function (degree, max) {\n    return degree > max;\n  }),\n\n  minOutdegree: defineDegreeBoundsFunction('outdegree', function (degree, min) {\n    return degree < min;\n  }),\n\n  maxOutdegree: defineDegreeBoundsFunction('outdegree', function (degree, max) {\n    return degree > max;\n  })\n});\n\nutil.extend(elesfn, {\n  totalDegree: function totalDegree(includeLoops) {\n    var total = 0;\n    var nodes = this.nodes();\n\n    for (var i = 0; i < nodes.length; i++) {\n      total += nodes[i].degree(includeLoops);\n    }\n\n    return total;\n  }\n});\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar util = __webpack_require__(1);\nvar math = __webpack_require__(2);\nvar fn = void 0,\n    elesfn = void 0;\n\nfn = elesfn = {};\n\nelesfn.renderedBoundingBox = function (options) {\n  var bb = this.boundingBox(options);\n  var cy = this.cy();\n  var zoom = cy.zoom();\n  var pan = cy.pan();\n\n  var x1 = bb.x1 * zoom + pan.x;\n  var x2 = bb.x2 * zoom + pan.x;\n  var y1 = bb.y1 * zoom + pan.y;\n  var y2 = bb.y2 * zoom + pan.y;\n\n  return {\n    x1: x1,\n    x2: x2,\n    y1: y1,\n    y2: y2,\n    w: x2 - x1,\n    h: y2 - y1\n  };\n};\n\nelesfn.dirtyCompoundBoundsCache = function () {\n  var cy = this.cy();\n\n  if (!cy.styleEnabled() || !cy.hasCompoundNodes()) {\n    return this;\n  }\n\n  this.forEachUp(function (ele) {\n    ele._private.compoundBoundsClean = false;\n\n    if (ele.isParent()) {\n      ele.emit('bounds');\n    }\n  });\n\n  return this;\n};\n\nelesfn.updateCompoundBounds = function () {\n  var cy = this.cy();\n\n  // save cycles for non compound graphs or when style disabled\n  if (!cy.styleEnabled() || !cy.hasCompoundNodes()) {\n    return this;\n  }\n\n  // save cycles when batching -- but bounds will be stale (or not exist yet)\n  if (cy.batching()) {\n    return this;\n  }\n\n  var updated = [];\n\n  function update(parent) {\n    if (!parent.isParent()) {\n      return;\n    }\n\n    var _p = parent._private;\n    var children = parent.children();\n    var includeLabels = parent.pstyle('compound-sizing-wrt-labels').value === 'include';\n\n    var min = {\n      width: {\n        val: parent.pstyle('min-width').pfValue,\n        left: parent.pstyle('min-width-bias-left'),\n        right: parent.pstyle('min-width-bias-right')\n      },\n      height: {\n        val: parent.pstyle('min-height').pfValue,\n        top: parent.pstyle('min-height-bias-top'),\n        bottom: parent.pstyle('min-height-bias-bottom')\n      }\n    };\n\n    var bb = children.boundingBox({\n      includeLabels: includeLabels,\n      includeOverlays: false,\n\n      // updating the compound bounds happens outside of the regular\n      // cache cycle (i.e. before fired events)\n      useCache: false\n    });\n    var pos = _p.position;\n\n    // if children take up zero area then keep position and fall back on stylesheet w/h\n    if (bb.w === 0 || bb.h === 0) {\n      bb = {\n        w: parent.pstyle('width').pfValue,\n        h: parent.pstyle('height').pfValue\n      };\n\n      bb.x1 = pos.x - bb.w / 2;\n      bb.x2 = pos.x + bb.w / 2;\n      bb.y1 = pos.y - bb.h / 2;\n      bb.y2 = pos.y + bb.h / 2;\n    }\n\n    function computeBiasValues(propDiff, propBias, propBiasComplement) {\n      var biasDiff = 0;\n      var biasComplementDiff = 0;\n      var biasTotal = propBias + propBiasComplement;\n\n      if (propDiff > 0 && biasTotal > 0) {\n        biasDiff = propBias / biasTotal * propDiff;\n        biasComplementDiff = propBiasComplement / biasTotal * propDiff;\n      }\n      return {\n        biasDiff: biasDiff,\n        biasComplementDiff: biasComplementDiff\n      };\n    }\n\n    function computePaddingValues(width, height, paddingObject, relativeTo) {\n      // Assuming percentage is number from 0 to 1\n      if (paddingObject.units === '%') {\n        switch (relativeTo) {\n          case 'width':\n            return width > 0 ? paddingObject.pfValue * width : 0;\n          case 'height':\n            return height > 0 ? paddingObject.pfValue * height : 0;\n          case 'average':\n            return width > 0 && height > 0 ? paddingObject.pfValue * (width + height) / 2 : 0;\n          case 'min':\n            return width > 0 && height > 0 ? width > height ? paddingObject.pfValue * height : paddingObject.pfValue * width : 0;\n          case 'max':\n            return width > 0 && height > 0 ? width > height ? paddingObject.pfValue * width : paddingObject.pfValue * height : 0;\n          default:\n            return 0;\n        }\n      } else if (paddingObject.units === 'px') {\n        return paddingObject.pfValue;\n      } else {\n        return 0;\n      }\n    }\n\n    var leftVal = min.width.left.value;\n    if (min.width.left.units === 'px' && min.width.val > 0) {\n      leftVal = leftVal * 100 / min.width.val;\n    }\n    var rightVal = min.width.right.value;\n    if (min.width.right.units === 'px' && min.width.val > 0) {\n      rightVal = rightVal * 100 / min.width.val;\n    }\n\n    var topVal = min.height.top.value;\n    if (min.height.top.units === 'px' && min.height.val > 0) {\n      topVal = topVal * 100 / min.height.val;\n    }\n\n    var bottomVal = min.height.bottom.value;\n    if (min.height.bottom.units === 'px' && min.height.val > 0) {\n      bottomVal = bottomVal * 100 / min.height.val;\n    }\n\n    var widthBiasDiffs = computeBiasValues(min.width.val - bb.w, leftVal, rightVal);\n    var diffLeft = widthBiasDiffs.biasDiff;\n    var diffRight = widthBiasDiffs.biasComplementDiff;\n\n    var heightBiasDiffs = computeBiasValues(min.height.val - bb.h, topVal, bottomVal);\n    var diffTop = heightBiasDiffs.biasDiff;\n    var diffBottom = heightBiasDiffs.biasComplementDiff;\n\n    _p.autoPadding = computePaddingValues(bb.w, bb.h, parent.pstyle('padding'), parent.pstyle('padding-relative-to').value);\n\n    _p.autoWidth = Math.max(bb.w, min.width.val);\n    pos.x = (-diffLeft + bb.x1 + bb.x2 + diffRight) / 2;\n\n    _p.autoHeight = Math.max(bb.h, min.height.val);\n    pos.y = (-diffTop + bb.y1 + bb.y2 + diffBottom) / 2;\n\n    updated.push(parent);\n  }\n\n  for (var i = 0; i < this.length; i++) {\n    var ele = this[i];\n    var _p = ele._private;\n\n    if (!_p.compoundBoundsClean) {\n      update(ele);\n\n      if (!cy._private.batchingStyle) {\n        _p.compoundBoundsClean = true;\n      }\n    }\n  }\n\n  return this;\n};\n\nvar noninf = function noninf(x) {\n  if (x === Infinity || x === -Infinity) {\n    return 0;\n  }\n\n  return x;\n};\n\nvar updateBounds = function updateBounds(b, x1, y1, x2, y2) {\n  // don't update with zero area boxes\n  if (x2 - x1 === 0 || y2 - y1 === 0) {\n    return;\n  }\n\n  // don't update with null dim\n  if (x1 == null || y1 == null || x2 == null || y2 == null) {\n    return;\n  }\n\n  b.x1 = x1 < b.x1 ? x1 : b.x1;\n  b.x2 = x2 > b.x2 ? x2 : b.x2;\n  b.y1 = y1 < b.y1 ? y1 : b.y1;\n  b.y2 = y2 > b.y2 ? y2 : b.y2;\n};\n\nvar updateBoundsFromBox = function updateBoundsFromBox(b, b2) {\n  return updateBounds(b, b2.x1, b2.y1, b2.x2, b2.y2);\n};\n\nvar prefixedProperty = function prefixedProperty(obj, field, prefix) {\n  return util.getPrefixedProperty(obj, field, prefix);\n};\n\nvar updateBoundsFromArrow = function updateBoundsFromArrow(bounds, ele, prefix) {\n  if (ele.cy().headless()) {\n    return;\n  }\n\n  var _p = ele._private;\n  var rstyle = _p.rstyle;\n  var halfArW = rstyle.arrowWidth / 2;\n  var arrowType = ele.pstyle(prefix + '-arrow-shape').value;\n  var x = void 0;\n  var y = void 0;\n\n  if (arrowType !== 'none') {\n    if (prefix === 'source') {\n      x = rstyle.srcX;\n      y = rstyle.srcY;\n    } else if (prefix === 'target') {\n      x = rstyle.tgtX;\n      y = rstyle.tgtY;\n    } else {\n      x = rstyle.midX;\n      y = rstyle.midY;\n    }\n\n    updateBounds(bounds, x - halfArW, y - halfArW, x + halfArW, y + halfArW);\n  }\n};\n\nvar updateBoundsFromLabel = function updateBoundsFromLabel(bounds, ele, prefix) {\n  if (ele.cy().headless()) {\n    return;\n  }\n\n  var prefixDash = void 0;\n\n  if (prefix) {\n    prefixDash = prefix + '-';\n  } else {\n    prefixDash = '';\n  }\n\n  var _p = ele._private;\n  var rstyle = _p.rstyle;\n  var label = ele.pstyle(prefixDash + 'label').strValue;\n\n  if (label) {\n    var halign = ele.pstyle('text-halign');\n    var valign = ele.pstyle('text-valign');\n    var labelWidth = prefixedProperty(rstyle, 'labelWidth', prefix);\n    var labelHeight = prefixedProperty(rstyle, 'labelHeight', prefix);\n    var labelX = prefixedProperty(rstyle, 'labelX', prefix);\n    var labelY = prefixedProperty(rstyle, 'labelY', prefix);\n    var marginX = ele.pstyle(prefixDash + 'text-margin-x').pfValue;\n    var marginY = ele.pstyle(prefixDash + 'text-margin-y').pfValue;\n    var isEdge = ele.isEdge();\n    var rotation = ele.pstyle(prefixDash + 'text-rotation');\n    var outlineWidth = ele.pstyle('text-outline-width').pfValue;\n    var borderWidth = ele.pstyle('text-border-width').pfValue;\n    var halfBorderWidth = borderWidth / 2;\n    var padding = ele.pstyle('text-background-padding').pfValue;\n\n    var lh = labelHeight + 2 * padding;\n    var lw = labelWidth + 2 * padding;\n    var lw_2 = lw / 2;\n    var lh_2 = lh / 2;\n    var lx1 = void 0,\n        lx2 = void 0,\n        ly1 = void 0,\n        ly2 = void 0;\n\n    if (isEdge) {\n      lx1 = labelX - lw_2;\n      lx2 = labelX + lw_2;\n      ly1 = labelY - lh_2;\n      ly2 = labelY + lh_2;\n    } else {\n      switch (halign.value) {\n        case 'left':\n          lx1 = labelX - lw;\n          lx2 = labelX;\n          break;\n\n        case 'center':\n          lx1 = labelX - lw_2;\n          lx2 = labelX + lw_2;\n          break;\n\n        case 'right':\n          lx1 = labelX;\n          lx2 = labelX + lw;\n          break;\n      }\n\n      switch (valign.value) {\n        case 'top':\n          ly1 = labelY - lh;\n          ly2 = labelY;\n          break;\n\n        case 'center':\n          ly1 = labelY - lh_2;\n          ly2 = labelY + lh_2;\n          break;\n\n        case 'bottom':\n          ly1 = labelY;\n          ly2 = labelY + lh;\n          break;\n      }\n    }\n\n    var isAutorotate = isEdge && rotation.strValue === 'autorotate';\n    var isPfValue = rotation.pfValue != null && rotation.pfValue !== 0;\n\n    if (isAutorotate || isPfValue) {\n      var theta = isAutorotate ? prefixedProperty(_p.rstyle, 'labelAngle', prefix) : rotation.pfValue;\n      var cos = Math.cos(theta);\n      var sin = Math.sin(theta);\n\n      var rotate = function rotate(x, y) {\n        x = x - labelX;\n        y = y - labelY;\n\n        return {\n          x: x * cos - y * sin + labelX,\n          y: x * sin + y * cos + labelY\n        };\n      };\n\n      var px1y1 = rotate(lx1, ly1);\n      var px1y2 = rotate(lx1, ly2);\n      var px2y1 = rotate(lx2, ly1);\n      var px2y2 = rotate(lx2, ly2);\n\n      lx1 = Math.min(px1y1.x, px1y2.x, px2y1.x, px2y2.x);\n      lx2 = Math.max(px1y1.x, px1y2.x, px2y1.x, px2y2.x);\n      ly1 = Math.min(px1y1.y, px1y2.y, px2y1.y, px2y2.y);\n      ly2 = Math.max(px1y1.y, px1y2.y, px2y1.y, px2y2.y);\n    }\n\n    lx1 += marginX - Math.max(outlineWidth, halfBorderWidth);\n    lx2 += marginX + Math.max(outlineWidth, halfBorderWidth);\n    ly1 += marginY - Math.max(outlineWidth, halfBorderWidth);\n    ly2 += marginY + Math.max(outlineWidth, halfBorderWidth);\n\n    updateBounds(bounds, lx1, ly1, lx2, ly2);\n  }\n\n  return bounds;\n};\n\n// get the bounding box of the elements (in raw model position)\nvar boundingBoxImpl = function boundingBoxImpl(ele, options) {\n  var cy = ele._private.cy;\n  var styleEnabled = cy.styleEnabled();\n  var headless = cy.headless();\n\n  var bounds = {\n    x1: Infinity,\n    y1: Infinity,\n    x2: -Infinity,\n    y2: -Infinity\n  };\n\n  var _p = ele._private;\n  var display = styleEnabled ? ele.pstyle('display').value : 'element';\n  var isNode = ele.isNode();\n  var isEdge = ele.isEdge();\n  var ex1 = void 0,\n      ex2 = void 0,\n      ey1 = void 0,\n      ey2 = void 0; // extrema of body / lines\n  var x = void 0,\n      y = void 0; // node pos\n  var displayed = display !== 'none';\n\n  if (displayed) {\n    var overlayOpacity = 0;\n    var overlayPadding = 0;\n\n    if (styleEnabled && options.includeOverlays) {\n      overlayOpacity = ele.pstyle('overlay-opacity').value;\n\n      if (overlayOpacity !== 0) {\n        overlayPadding = ele.pstyle('overlay-padding').value;\n      }\n    }\n\n    var w = 0;\n    var wHalf = 0;\n\n    if (styleEnabled) {\n      w = ele.pstyle('width').pfValue;\n      wHalf = w / 2;\n    }\n\n    if (isNode && options.includeNodes) {\n      var pos = ele.position();\n      x = pos.x;\n      y = pos.y;\n      var _w = ele.outerWidth();\n      var halfW = _w / 2;\n      var h = ele.outerHeight();\n      var halfH = h / 2;\n\n      // handle node dimensions\n      /////////////////////////\n\n      ex1 = x - halfW - overlayPadding;\n      ex2 = x + halfW + overlayPadding;\n      ey1 = y - halfH - overlayPadding;\n      ey2 = y + halfH + overlayPadding;\n\n      updateBounds(bounds, ex1, ey1, ex2, ey2);\n    } else if (isEdge && options.includeEdges) {\n      var rstyle = _p.rstyle || {};\n\n      // handle edge dimensions (rough box estimate)\n      //////////////////////////////////////////////\n      if (styleEnabled && !headless) {\n        ex1 = Math.min(rstyle.srcX, rstyle.midX, rstyle.tgtX);\n        ex2 = Math.max(rstyle.srcX, rstyle.midX, rstyle.tgtX);\n        ey1 = Math.min(rstyle.srcY, rstyle.midY, rstyle.tgtY);\n        ey2 = Math.max(rstyle.srcY, rstyle.midY, rstyle.tgtY);\n\n        // take into account edge width\n        ex1 -= wHalf;\n        ex2 += wHalf;\n        ey1 -= wHalf;\n        ey2 += wHalf;\n\n        updateBounds(bounds, ex1, ey1, ex2, ey2);\n      }\n\n      // precise haystacks\n      ////////////////////\n      if (styleEnabled && !headless && ele.pstyle('curve-style').strValue === 'haystack') {\n        var hpts = rstyle.haystackPts || [];\n\n        ex1 = hpts[0].x;\n        ey1 = hpts[0].y;\n        ex2 = hpts[1].x;\n        ey2 = hpts[1].y;\n\n        if (ex1 > ex2) {\n          var temp = ex1;\n          ex1 = ex2;\n          ex2 = temp;\n        }\n\n        if (ey1 > ey2) {\n          var _temp = ey1;\n          ey1 = ey2;\n          ey2 = _temp;\n        }\n\n        updateBounds(bounds, ex1 - wHalf, ey1 - wHalf, ex2 + wHalf, ey2 + wHalf);\n\n        // handle points along edge\n        ///////////////////////////\n      } else {\n        var pts = rstyle.bezierPts || rstyle.linePts || [];\n\n        for (var j = 0; j < pts.length; j++) {\n          var pt = pts[j];\n\n          ex1 = pt.x - wHalf;\n          ex2 = pt.x + wHalf;\n          ey1 = pt.y - wHalf;\n          ey2 = pt.y + wHalf;\n\n          updateBounds(bounds, ex1, ey1, ex2, ey2);\n        }\n\n        // fallback on source and target positions\n        //////////////////////////////////////////\n        if (pts.length === 0) {\n          var n1 = ele.source();\n          var n1pos = n1.position();\n\n          var n2 = ele.target();\n          var n2pos = n2.position();\n\n          ex1 = n1pos.x;\n          ex2 = n2pos.x;\n          ey1 = n1pos.y;\n          ey2 = n2pos.y;\n\n          if (ex1 > ex2) {\n            var _temp2 = ex1;\n            ex1 = ex2;\n            ex2 = _temp2;\n          }\n\n          if (ey1 > ey2) {\n            var _temp3 = ey1;\n            ey1 = ey2;\n            ey2 = _temp3;\n          }\n\n          // take into account edge width\n          ex1 -= wHalf;\n          ex2 += wHalf;\n          ey1 -= wHalf;\n          ey2 += wHalf;\n\n          updateBounds(bounds, ex1, ey1, ex2, ey2);\n        }\n      }\n    } // edges\n\n\n    // handle edge arrow size\n    /////////////////////////\n\n    if (styleEnabled && options.includeEdges && isEdge) {\n      updateBoundsFromArrow(bounds, ele, 'mid-source', options);\n      updateBoundsFromArrow(bounds, ele, 'mid-target', options);\n      updateBoundsFromArrow(bounds, ele, 'source', options);\n      updateBoundsFromArrow(bounds, ele, 'target', options);\n    }\n\n    // ghost\n    ////////\n\n    if (styleEnabled) {\n      var ghost = ele.pstyle('ghost').value === 'yes';\n\n      if (ghost) {\n        var gx = ele.pstyle('ghost-offset-x').pfValue;\n        var gy = ele.pstyle('ghost-offset-y').pfValue;\n\n        updateBounds(bounds, bounds.x1 + gx, bounds.y1 + gy, bounds.x2 + gx, bounds.y2 + gy);\n      }\n    }\n\n    // overlay\n    //////////\n\n    if (styleEnabled) {\n\n      ex1 = bounds.x1;\n      ex2 = bounds.x2;\n      ey1 = bounds.y1;\n      ey2 = bounds.y2;\n\n      updateBounds(bounds, ex1 - overlayPadding, ey1 - overlayPadding, ex2 + overlayPadding, ey2 + overlayPadding);\n    }\n\n    // handle label dimensions\n    //////////////////////////\n\n    if (styleEnabled && options.includeLabels) {\n      updateBoundsFromLabel(bounds, ele, null, options);\n\n      if (isEdge) {\n        updateBoundsFromLabel(bounds, ele, 'source', options);\n        updateBoundsFromLabel(bounds, ele, 'target', options);\n      }\n    } // style enabled for labels\n  } // if displayed\n\n  bounds.x1 = noninf(bounds.x1);\n  bounds.y1 = noninf(bounds.y1);\n  bounds.x2 = noninf(bounds.x2);\n  bounds.y2 = noninf(bounds.y2);\n  bounds.w = noninf(bounds.x2 - bounds.x1);\n  bounds.h = noninf(bounds.y2 - bounds.y1);\n\n  // expand bounds by 1 because antialiasing can increase the visual/effective size by 1 on all sides\n  if (bounds.w > 0 && bounds.h > 0 && displayed) {\n    math.expandBoundingBox(bounds, 1);\n  }\n\n  return bounds;\n};\n\nvar tf = function tf(val) {\n  if (val) {\n    return 't';\n  } else {\n    return 'f';\n  }\n};\n\nvar getKey = function getKey(opts) {\n  var key = '';\n\n  key += tf(opts.incudeNodes);\n  key += tf(opts.includeEdges);\n  key += tf(opts.includeLabels);\n  key += tf(opts.includeOverlays);\n\n  return key;\n};\n\nvar cachedBoundingBoxImpl = function cachedBoundingBoxImpl(ele, opts) {\n  var _p = ele._private;\n  var bb = void 0;\n  var headless = ele.cy().headless();\n  var key = opts === defBbOpts ? defBbOptsKey : getKey(opts);\n\n  if (!opts.useCache || headless || !_p.bbCache || !_p.bbCache[key]) {\n    bb = boundingBoxImpl(ele, opts);\n\n    if (!headless) {\n      _p.bbCache = _p.bbCache || {};\n      _p.bbCache[key] = bb;\n    }\n  } else {\n    bb = _p.bbCache[key];\n  }\n\n  return bb;\n};\n\nvar defBbOpts = {\n  includeNodes: true,\n  includeEdges: true,\n  includeLabels: true,\n  includeOverlays: true,\n  useCache: true\n};\n\nvar defBbOptsKey = getKey(defBbOpts);\n\nfunction filledBbOpts(options) {\n  return {\n    includeNodes: util.default(options.includeNodes, defBbOpts.includeNodes),\n    includeEdges: util.default(options.includeEdges, defBbOpts.includeEdges),\n    includeLabels: util.default(options.includeLabels, defBbOpts.includeLabels),\n    includeOverlays: util.default(options.includeOverlays, defBbOpts.includeOverlays),\n    useCache: util.default(options.useCache, defBbOpts.useCache)\n  };\n}\n\nelesfn.boundingBox = function (options) {\n  // the main usecase is ele.boundingBox() for a single element with no/def options\n  // specified s.t. the cache is used, so check for this case to make it faster by\n  // avoiding the overhead of the rest of the function\n  if (this.length === 1 && this[0]._private.bbCache && (options === undefined || options.useCache === undefined || options.useCache === true)) {\n    if (options === undefined) {\n      options = defBbOpts;\n    } else {\n      options = filledBbOpts(options);\n    }\n\n    return cachedBoundingBoxImpl(this[0], options);\n  }\n\n  var bounds = {\n    x1: Infinity,\n    y1: Infinity,\n    x2: -Infinity,\n    y2: -Infinity\n  };\n\n  options = options || util.staticEmptyObject();\n\n  var opts = filledBbOpts(options);\n\n  var eles = this;\n  var cy = eles.cy();\n  var styleEnabled = cy.styleEnabled();\n\n  if (styleEnabled) {\n    this.recalculateRenderedStyle(opts.useCache);\n  }\n\n  this.updateCompoundBounds();\n\n  var updatedEdge = {}; // use to avoid duplicated edge updates\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n\n    if (styleEnabled && ele.isEdge() && ele.pstyle('curve-style').strValue === 'bezier' && !updatedEdge[ele.id()]) {\n      var edges = ele.parallelEdges();\n\n      for (var j = 0; j < edges.length; j++) {\n        // make all as updated\n        updatedEdge[edges[j].id()] = true;\n      }\n\n      edges.recalculateRenderedStyle(opts.useCache); // n.b. ele.parallelEdges() single is cached\n    }\n\n    updateBoundsFromBox(bounds, cachedBoundingBoxImpl(ele, opts));\n  }\n\n  bounds.x1 = noninf(bounds.x1);\n  bounds.y1 = noninf(bounds.y1);\n  bounds.x2 = noninf(bounds.x2);\n  bounds.y2 = noninf(bounds.y2);\n  bounds.w = noninf(bounds.x2 - bounds.x1);\n  bounds.h = noninf(bounds.y2 - bounds.y1);\n\n  return bounds;\n};\n\n// private helper to get bounding box for custom node positions\n// - good for perf in certain cases but currently requires dirtying the rendered style\n// - would be better to not modify the nodes but the nodes are read directly everywhere in the renderer...\n// - try to use for only things like discrete layouts where the node position would change anyway\nelesfn.boundingBoxAt = function (fn) {\n  var nodes = this.nodes();\n\n  if (is.plainObject(fn)) {\n    var obj = fn;\n\n    fn = function fn() {\n      return obj;\n    };\n  }\n\n  // save the current position and set the new one, per node\n  for (var i = 0; i < nodes.length; i++) {\n    var n = nodes[i];\n    var _p = n._private;\n    var pos = _p.position;\n    var newPos = fn.call(n, n, i);\n\n    _p.bbAtOldPos = { x: pos.x, y: pos.y };\n\n    if (newPos) {\n      pos.x = newPos.x;\n      pos.y = newPos.y;\n    }\n  }\n\n  this.emit('dirty'); // let the renderer know we've manually dirtied rendered dim calcs\n\n  nodes.dirtyCompoundBoundsCache().updateCompoundBounds();\n\n  var bb = this.boundingBox({ useCache: false });\n\n  // restore the original position, per node\n  for (var _i = 0; _i < nodes.length; _i++) {\n    var _n = nodes[_i];\n    var _p2 = _n._private;\n    var _pos = _n._private.position;\n    var old = _p2.bbAtOldPos;\n\n    _pos.x = old.x;\n    _pos.y = old.y;\n  }\n\n  nodes.dirtyCompoundBoundsCache();\n\n  this.emit('dirty'); // let the renderer know we've manually dirtied rendered dim calcs\n\n  return bb;\n};\n\nfn.boundingbox = fn.boundingBox;\nfn.renderedBoundingbox = fn.renderedBoundingBox;\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar ifEdge = function ifEdge(self, then) {\n  if (self.isEdge()) {\n    return then(self.renderer());\n  }\n};\n\nmodule.exports = {\n  controlPoints: function controlPoints() {\n    var _this = this;\n\n    return ifEdge(this, function (renderer) {\n      return renderer.getControlPoints(_this);\n    });\n  },\n  segmentPoints: function segmentPoints() {\n    var _this2 = this;\n\n    return ifEdge(this, function (renderer) {\n      return renderer.getSegmentPoints(_this2);\n    });\n  },\n  sourceEndpoint: function sourceEndpoint() {\n    var _this3 = this;\n\n    return ifEdge(this, function (renderer) {\n      return renderer.getSourceEndpoint(_this3);\n    });\n  },\n  targetEndpoint: function targetEndpoint() {\n    var _this4 = this;\n\n    return ifEdge(this, function (renderer) {\n      return renderer.getTargetEndpoint(_this4);\n    });\n  },\n  midpoint: function midpoint() {\n    var _this5 = this;\n\n    return ifEdge(this, function (renderer) {\n      return renderer.getEdgeMidpoint(_this5);\n    });\n  }\n};\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar position = __webpack_require__(45);\nvar bounds = __webpack_require__(42);\nvar widthHeight = __webpack_require__(46);\nvar edgePoints = __webpack_require__(43);\n\nmodule.exports = util.assign({}, position, bounds, widthHeight, edgePoints);\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar define = __webpack_require__(3);\nvar is = __webpack_require__(0);\nvar math = __webpack_require__(2);\nvar fn = void 0,\n    elesfn = void 0;\n\nvar beforePositionSet = function beforePositionSet(eles, newPos) {\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n\n    if (ele.isParent() && !ele.locked()) {\n      var oldPos = ele._private.position;\n      var delta = {\n        x: newPos.x - oldPos.x,\n        y: newPos.y - oldPos.y\n      };\n\n      eles.children().shift(delta);\n    }\n  }\n};\n\nfn = elesfn = {\n\n  position: define.data({\n    field: 'position',\n    bindingEvent: 'position',\n    allowBinding: true,\n    allowSetting: true,\n    settingEvent: 'position',\n    settingTriggersEvent: true,\n    triggerFnName: 'emitAndNotify',\n    allowGetting: true,\n    validKeys: ['x', 'y'],\n    beforeGet: function beforeGet(ele) {\n      ele.updateCompoundBounds();\n    },\n    beforeSet: beforePositionSet,\n    onSet: function onSet(eles) {\n      eles.dirtyCompoundBoundsCache();\n    },\n    canSet: function canSet(ele) {\n      return !ele.locked();\n    }\n  }),\n\n  // position but no notification to renderer\n  silentPosition: define.data({\n    field: 'position',\n    bindingEvent: 'position',\n    allowBinding: false,\n    allowSetting: true,\n    settingEvent: 'position',\n    settingTriggersEvent: false,\n    triggerFnName: 'trigger',\n    allowGetting: false,\n    validKeys: ['x', 'y'],\n    beforeSet: beforePositionSet,\n    onSet: function onSet(eles) {\n      eles.dirtyCompoundBoundsCache();\n    },\n    canSet: function canSet(ele) {\n      return !ele.locked();\n    }\n  }),\n\n  positions: function positions(pos, silent) {\n    if (is.plainObject(pos)) {\n      if (silent) {\n        this.silentPosition(pos);\n      } else {\n        this.position(pos);\n      }\n    } else if (is.fn(pos)) {\n      var _fn = pos;\n      var cy = this.cy();\n\n      cy.startBatch();\n\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        var _pos = void 0;\n\n        if (_pos = _fn(ele, i)) {\n          if (silent) {\n            ele.silentPosition(_pos);\n          } else {\n            ele.position(_pos);\n          }\n        }\n      }\n\n      cy.endBatch();\n    }\n\n    return this; // chaining\n  },\n\n  silentPositions: function silentPositions(pos) {\n    return this.positions(pos, true);\n  },\n\n  shift: function shift(dim, val) {\n    var delta = void 0;\n\n    if (is.plainObject(dim)) {\n      delta = dim;\n    } else if (is.string(dim) && is.number(val)) {\n      delta = { x: 0, y: 0 };\n\n      delta[dim] = val;\n    }\n\n    if (delta != null) {\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        var pos = ele.position();\n\n        ele.position({\n          x: pos.x + delta.x,\n          y: pos.y + delta.y\n        });\n      }\n    }\n\n    return this;\n  },\n\n  // get/set the rendered (i.e. on screen) positon of the element\n  renderedPosition: function renderedPosition(dim, val) {\n    var ele = this[0];\n    var cy = this.cy();\n    var zoom = cy.zoom();\n    var pan = cy.pan();\n    var rpos = is.plainObject(dim) ? dim : undefined;\n    var setting = rpos !== undefined || val !== undefined && is.string(dim);\n\n    if (ele && ele.isNode()) {\n      // must have an element and must be a node to return position\n      if (setting) {\n        for (var i = 0; i < this.length; i++) {\n          var _ele = this[i];\n\n          if (val !== undefined) {\n            // set one dimension\n            _ele.position(dim, (val - pan[dim]) / zoom);\n          } else if (rpos !== undefined) {\n            // set whole position\n            _ele.position(math.renderedToModelPosition(rpos, zoom, pan));\n          }\n        }\n      } else {\n        // getting\n        var pos = ele.position();\n        rpos = math.modelToRenderedPosition(pos, zoom, pan);\n\n        if (dim === undefined) {\n          // then return the whole rendered position\n          return rpos;\n        } else {\n          // then return the specified dimension\n          return rpos[dim];\n        }\n      }\n    } else if (!setting) {\n      return undefined; // for empty collection case\n    }\n\n    return this; // chaining\n  },\n\n  // get/set the position relative to the parent\n  relativePosition: function relativePosition(dim, val) {\n    var ele = this[0];\n    var cy = this.cy();\n    var ppos = is.plainObject(dim) ? dim : undefined;\n    var setting = ppos !== undefined || val !== undefined && is.string(dim);\n    var hasCompoundNodes = cy.hasCompoundNodes();\n\n    if (ele && ele.isNode()) {\n      // must have an element and must be a node to return position\n      if (setting) {\n        for (var i = 0; i < this.length; i++) {\n          var _ele2 = this[i];\n          var parent = hasCompoundNodes ? _ele2.parent() : null;\n          var hasParent = parent && parent.length > 0;\n          var relativeToParent = hasParent;\n\n          if (hasParent) {\n            parent = parent[0];\n          }\n\n          var origin = relativeToParent ? parent.position() : { x: 0, y: 0 };\n\n          if (val !== undefined) {\n            // set one dimension\n            _ele2.position(dim, val + origin[dim]);\n          } else if (ppos !== undefined) {\n            // set whole position\n            _ele2.position({\n              x: ppos.x + origin.x,\n              y: ppos.y + origin.y\n            });\n          }\n        }\n      } else {\n        // getting\n        var pos = ele.position();\n        var _parent = hasCompoundNodes ? ele.parent() : null;\n        var _hasParent = _parent && _parent.length > 0;\n        var _relativeToParent = _hasParent;\n\n        if (_hasParent) {\n          _parent = _parent[0];\n        }\n\n        var _origin = _relativeToParent ? _parent.position() : { x: 0, y: 0 };\n\n        ppos = {\n          x: pos.x - _origin.x,\n          y: pos.y - _origin.y\n        };\n\n        if (dim === undefined) {\n          // then return the whole rendered position\n          return ppos;\n        } else {\n          // then return the specified dimension\n          return ppos[dim];\n        }\n      }\n    } else if (!setting) {\n      return undefined; // for empty collection case\n    }\n\n    return this; // chaining\n  }\n};\n\n// aliases\nfn.modelPosition = fn.point = fn.position;\nfn.modelPositions = fn.points = fn.positions;\nfn.renderedPoint = fn.renderedPosition;\nfn.relativePoint = fn.relativePosition;\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar fn = void 0,\n    elesfn = void 0;\n\nfn = elesfn = {};\n\nvar defineDimFns = function defineDimFns(opts) {\n  opts.uppercaseName = util.capitalize(opts.name);\n  opts.autoName = 'auto' + opts.uppercaseName;\n  opts.labelName = 'label' + opts.uppercaseName;\n  opts.outerName = 'outer' + opts.uppercaseName;\n  opts.uppercaseOuterName = util.capitalize(opts.outerName);\n\n  fn[opts.name] = function dimImpl() {\n    var ele = this[0];\n    var _p = ele._private;\n    var cy = _p.cy;\n    var styleEnabled = cy._private.styleEnabled;\n\n    if (ele) {\n      if (styleEnabled) {\n        if (ele.isParent()) {\n          ele.updateCompoundBounds();\n\n          return _p[opts.autoName] || 0;\n        }\n\n        var d = ele.pstyle(opts.name);\n\n        switch (d.strValue) {\n          case 'label':\n            ele.recalculateRenderedStyle();\n\n            return _p.rstyle[opts.labelName] || 0;\n\n          default:\n            return d.pfValue;\n        }\n      } else {\n        return 1;\n      }\n    }\n  };\n\n  fn['outer' + opts.uppercaseName] = function outerDimImpl() {\n    var ele = this[0];\n    var _p = ele._private;\n    var cy = _p.cy;\n    var styleEnabled = cy._private.styleEnabled;\n\n    if (ele) {\n      if (styleEnabled) {\n        var dim = ele[opts.name]();\n        var border = ele.pstyle('border-width').pfValue; // n.b. 1/2 each side\n        var padding = 2 * ele.padding();\n\n        return dim + border + padding;\n      } else {\n        return 1;\n      }\n    }\n  };\n\n  fn['rendered' + opts.uppercaseName] = function renderedDimImpl() {\n    var ele = this[0];\n\n    if (ele) {\n      var d = ele[opts.name]();\n      return d * this.cy().zoom();\n    }\n  };\n\n  fn['rendered' + opts.uppercaseOuterName] = function renderedOuterDimImpl() {\n    var ele = this[0];\n\n    if (ele) {\n      var od = ele[opts.outerName]();\n      return od * this.cy().zoom();\n    }\n  };\n};\n\ndefineDimFns({\n  name: 'width'\n});\n\ndefineDimFns({\n  name: 'height'\n});\n\nelesfn.padding = function () {\n  var ele = this[0];\n  var _p = ele._private;\n  if (ele.isParent()) {\n    ele.updateCompoundBounds();\n\n    if (_p.autoPadding !== undefined) {\n      return _p.autoPadding;\n    } else {\n      return ele.pstyle('padding').pfValue;\n    }\n  } else {\n    return ele.pstyle('padding').pfValue;\n  }\n};\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Emitter = __webpack_require__(10);\nvar define = __webpack_require__(3);\nvar is = __webpack_require__(0);\nvar util = __webpack_require__(1);\nvar Selector = __webpack_require__(6);\n\nvar emitterOptions = {\n  qualifierCompare: function qualifierCompare(selector1, selector2) {\n    if (selector1 == null || selector2 == null) {\n      return selector1 == null && selector2 == null;\n    } else {\n      return selector1.sameText(selector2);\n    }\n  },\n  eventMatches: function eventMatches(ele, listener, eventObj) {\n    var selector = listener.qualifier;\n\n    if (selector != null) {\n      return ele !== eventObj.target && is.element(eventObj.target) && selector.matches(eventObj.target);\n    }\n\n    return true;\n  },\n  eventFields: function eventFields(ele) {\n    return {\n      cy: ele.cy(),\n      target: ele\n    };\n  },\n  callbackContext: function callbackContext(ele, listener, eventObj) {\n    return listener.qualifier != null ? eventObj.target : ele;\n  },\n  beforeEmit: function beforeEmit(context, listener /*, eventObj*/) {\n    if (listener.conf && listener.conf.once) {\n      listener.conf.onceCollection.removeListener(listener.event, listener.qualifier, listener.callback);\n    }\n  },\n  bubble: function bubble() {\n    return true;\n  },\n  parent: function parent(ele) {\n    return ele.isChild() ? ele.parent() : ele.cy();\n  }\n};\n\nvar argSelector = function argSelector(arg) {\n  if (is.string(arg)) {\n    return new Selector(arg);\n  } else {\n    return arg;\n  }\n};\n\nvar elesfn = {\n  createEmitter: function createEmitter() {\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var _p = ele._private;\n\n      if (!_p.emitter) {\n        _p.emitter = new Emitter(util.assign({\n          context: ele\n        }, emitterOptions));\n      }\n    }\n\n    return this;\n  },\n\n  emitter: function emitter() {\n    return this._private.emitter;\n  },\n\n  on: function on(events, selector, callback) {\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n\n      ele.emitter().on(events, argSelector(selector), callback);\n    }\n\n    return this;\n  },\n\n  removeListener: function removeListener(events, selector, callback) {\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n\n      ele.emitter().removeListener(events, argSelector(selector), callback);\n    }\n\n    return this;\n  },\n\n  one: function one(events, selector, callback) {\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n\n      ele.emitter().one(events, argSelector(selector), callback);\n    }\n\n    return this;\n  },\n\n  once: function once(events, selector, callback) {\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n\n      ele.emitter().on(events, argSelector(selector), callback, {\n        once: true,\n        onceCollection: this\n      });\n    }\n  },\n\n  emit: function emit(events, extraParams) {\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n\n      ele.emitter().emit(events, extraParams);\n    }\n\n    return this;\n  },\n\n  emitAndNotify: function emitAndNotify(event, extraParams) {\n    // for internal use only\n    if (this.length === 0) {\n      return;\n    } // empty collections don't need to notify anything\n\n    // notify renderer\n    this.cy().notify({\n      type: event,\n      eles: this\n    });\n\n    this.emit(event, extraParams);\n\n    return this;\n  }\n};\n\ndefine.eventAliasesOn(elesfn);\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar Selector = __webpack_require__(6);\n\nvar elesfn = {\n  nodes: function nodes(selector) {\n    return this.filter(function (ele) {\n      return ele.isNode();\n    }).filter(selector);\n  },\n\n  edges: function edges(selector) {\n    return this.filter(function (ele) {\n      return ele.isEdge();\n    }).filter(selector);\n  },\n\n  filter: function filter(_filter, thisArg) {\n    if (_filter === undefined) {\n      // check this first b/c it's the most common/performant case\n      return this;\n    } else if (is.string(_filter) || is.elementOrCollection(_filter)) {\n      return new Selector(_filter).filter(this);\n    } else if (is.fn(_filter)) {\n      var filterEles = this.spawn();\n      var eles = this;\n\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        var include = thisArg ? _filter.apply(thisArg, [ele, i, eles]) : _filter(ele, i, eles);\n\n        if (include) {\n          filterEles.merge(ele);\n        }\n      }\n\n      return filterEles;\n    }\n\n    return this.spawn(); // if not handled by above, give 'em an empty collection\n  },\n\n  not: function not(toRemove) {\n    if (!toRemove) {\n      return this;\n    } else {\n\n      if (is.string(toRemove)) {\n        toRemove = this.filter(toRemove);\n      }\n\n      var elements = [];\n      var rMap = toRemove._private.map;\n\n      for (var i = 0; i < this.length; i++) {\n        var element = this[i];\n\n        var remove = rMap.has(element.id());\n        if (!remove) {\n          elements.push(element);\n        }\n      }\n\n      return this.spawn(elements);\n    }\n  },\n\n  absoluteComplement: function absoluteComplement() {\n    var cy = this.cy();\n\n    return cy.mutableElements().not(this);\n  },\n\n  intersect: function intersect(other) {\n    // if a selector is specified, then filter by it instead\n    if (is.string(other)) {\n      var selector = other;\n      return this.filter(selector);\n    }\n\n    var elements = [];\n    var col1 = this;\n    var col2 = other;\n    var col1Smaller = this.length < other.length;\n    var map2 = col1Smaller ? col2._private.map : col1._private.map;\n    var col = col1Smaller ? col1 : col2;\n\n    for (var i = 0; i < col.length; i++) {\n      var id = col[i]._private.data.id;\n      var entry = map2.get(id);\n\n      if (entry) {\n        elements.push(entry.ele);\n      }\n    }\n\n    return this.spawn(elements);\n  },\n\n  xor: function xor(other) {\n    var cy = this._private.cy;\n\n    if (is.string(other)) {\n      other = cy.$(other);\n    }\n\n    var elements = [];\n    var col1 = this;\n    var col2 = other;\n\n    var add = function add(col, other) {\n      for (var i = 0; i < col.length; i++) {\n        var ele = col[i];\n        var id = ele._private.data.id;\n        var inOther = other.hasElementWithId(id);\n\n        if (!inOther) {\n          elements.push(ele);\n        }\n      }\n    };\n\n    add(col1, col2);\n    add(col2, col1);\n\n    return this.spawn(elements);\n  },\n\n  diff: function diff(other) {\n    var cy = this._private.cy;\n\n    if (is.string(other)) {\n      other = cy.$(other);\n    }\n\n    var left = [];\n    var right = [];\n    var both = [];\n    var col1 = this;\n    var col2 = other;\n\n    var add = function add(col, other, retEles) {\n\n      for (var i = 0; i < col.length; i++) {\n        var ele = col[i];\n        var id = ele._private.data.id;\n        var inOther = other.hasElementWithId(id);\n\n        if (inOther) {\n          both.push(ele);\n        } else {\n          retEles.push(ele);\n        }\n      }\n    };\n\n    add(col1, col2, left);\n    add(col2, col1, right);\n\n    return {\n      left: this.spawn(left, { unique: true }),\n      right: this.spawn(right, { unique: true }),\n      both: this.spawn(both, { unique: true })\n    };\n  },\n\n  add: function add(toAdd) {\n    var cy = this._private.cy;\n\n    if (!toAdd) {\n      return this;\n    }\n\n    if (is.string(toAdd)) {\n      var selector = toAdd;\n      toAdd = cy.mutableElements().filter(selector);\n    }\n\n    var elements = [];\n\n    for (var i = 0; i < this.length; i++) {\n      elements.push(this[i]);\n    }\n\n    var map = this._private.map;\n\n    for (var _i = 0; _i < toAdd.length; _i++) {\n\n      var add = !map.has(toAdd[_i].id());\n      if (add) {\n        elements.push(toAdd[_i]);\n      }\n    }\n\n    return this.spawn(elements);\n  },\n\n  // in place merge on calling collection\n  merge: function merge(toAdd) {\n    var _p = this._private;\n    var cy = _p.cy;\n\n    if (!toAdd) {\n      return this;\n    }\n\n    if (toAdd && is.string(toAdd)) {\n      var selector = toAdd;\n      toAdd = cy.mutableElements().filter(selector);\n    }\n\n    var map = _p.map;\n\n    for (var i = 0; i < toAdd.length; i++) {\n      var toAddEle = toAdd[i];\n      var id = toAddEle._private.data.id;\n      var add = !map.has(id);\n\n      if (add) {\n        var index = this.length++;\n\n        this[index] = toAddEle;\n\n        map.set(id, { ele: toAddEle, index: index });\n      } else {\n        // replace\n        var _index = map.get(id).index;\n\n        this[_index] = toAddEle;\n        map.set(id, { ele: toAddEle, index: _index });\n      }\n    }\n\n    return this; // chaining\n  },\n\n  // remove single ele in place in calling collection\n  unmergeOne: function unmergeOne(ele) {\n    ele = ele[0];\n\n    var _p = this._private;\n    var id = ele._private.data.id;\n    var map = _p.map;\n    var entry = map.get(id);\n\n    if (!entry) {\n      return this; // no need to remove\n    }\n\n    var i = entry.index;\n\n    // remove ele\n    this[i] = undefined;\n    map.delete(id);\n\n    var unmergedLastEle = i === this.length - 1;\n\n    // replace empty spot with last ele in collection\n    if (this.length > 1 && !unmergedLastEle) {\n      var lastEleI = this.length - 1;\n      var lastEle = this[lastEleI];\n      var lastEleId = lastEle._private.data.id;\n\n      this[lastEleI] = undefined;\n      this[i] = lastEle;\n      map.set(lastEleId, { ele: lastEle, index: i });\n    }\n\n    // the collection is now 1 ele smaller\n    this.length--;\n\n    return this;\n  },\n\n  // remove eles in place on calling collection\n  unmerge: function unmerge(toRemove) {\n    var cy = this._private.cy;\n\n    if (!toRemove) {\n      return this;\n    }\n\n    if (toRemove && is.string(toRemove)) {\n      var selector = toRemove;\n      toRemove = cy.mutableElements().filter(selector);\n    }\n\n    for (var i = 0; i < toRemove.length; i++) {\n      this.unmergeOne(toRemove[i]);\n    }\n\n    return this; // chaining\n  },\n\n  map: function map(mapFn, thisArg) {\n    var arr = [];\n    var eles = this;\n\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      var ret = thisArg ? mapFn.apply(thisArg, [ele, i, eles]) : mapFn(ele, i, eles);\n\n      arr.push(ret);\n    }\n\n    return arr;\n  },\n\n  reduce: function reduce(fn, initialValue) {\n    var val = initialValue;\n    var eles = this;\n\n    for (var i = 0; i < eles.length; i++) {\n      val = fn(val, eles[i], i, eles);\n    }\n\n    return val;\n  },\n\n  max: function max(valFn, thisArg) {\n    var max = -Infinity;\n    var maxEle = void 0;\n    var eles = this;\n\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      var val = thisArg ? valFn.apply(thisArg, [ele, i, eles]) : valFn(ele, i, eles);\n\n      if (val > max) {\n        max = val;\n        maxEle = ele;\n      }\n    }\n\n    return {\n      value: max,\n      ele: maxEle\n    };\n  },\n\n  min: function min(valFn, thisArg) {\n    var min = Infinity;\n    var minEle = void 0;\n    var eles = this;\n\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      var val = thisArg ? valFn.apply(thisArg, [ele, i, eles]) : valFn(ele, i, eles);\n\n      if (val < min) {\n        min = val;\n        minEle = ele;\n      }\n    }\n\n    return {\n      value: min,\n      ele: minEle\n    };\n  }\n};\n\n// aliases\nvar fn = elesfn;\nfn['u'] = fn['|'] = fn['+'] = fn.union = fn.or = fn.add;\nfn['\\\\'] = fn['!'] = fn['-'] = fn.difference = fn.relativeComplement = fn.subtract = fn.not;\nfn['n'] = fn['&'] = fn['.'] = fn.and = fn.intersection = fn.intersect;\nfn['^'] = fn['(+)'] = fn['(-)'] = fn.symmetricDifference = fn.symdiff = fn.xor;\nfn.fnFilter = fn.filterFn = fn.stdFilter = fn.filter;\nfn.complement = fn.abscomp = fn.absoluteComplement;\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar elesfn = {\n  isNode: function isNode() {\n    return this.group() === 'nodes';\n  },\n\n  isEdge: function isEdge() {\n    return this.group() === 'edges';\n  },\n\n  isLoop: function isLoop() {\n    return this.isEdge() && this.source().id() === this.target().id();\n  },\n\n  isSimple: function isSimple() {\n    return this.isEdge() && this.source().id() !== this.target().id();\n  },\n\n  group: function group() {\n    var ele = this[0];\n\n    if (ele) {\n      return ele._private.group;\n    }\n  }\n};\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar zIndexSort = __webpack_require__(14);\nvar util = __webpack_require__(1);\n\nvar elesfn = {\n  forEach: function forEach(fn, thisArg) {\n    if (is.fn(fn)) {\n\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        var ret = thisArg ? fn.apply(thisArg, [ele, i, this]) : fn(ele, i, this);\n\n        if (ret === false) {\n          break;\n        } // exit each early on return false\n      }\n    }\n\n    return this;\n  },\n\n  toArray: function toArray() {\n    var array = [];\n\n    for (var i = 0; i < this.length; i++) {\n      array.push(this[i]);\n    }\n\n    return array;\n  },\n\n  slice: function slice(start, end) {\n    var array = [];\n    var thisSize = this.length;\n\n    if (end == null) {\n      end = thisSize;\n    }\n\n    if (start == null) {\n      start = 0;\n    }\n\n    if (start < 0) {\n      start = thisSize + start;\n    }\n\n    if (end < 0) {\n      end = thisSize + end;\n    }\n\n    for (var i = start; i >= 0 && i < end && i < thisSize; i++) {\n      array.push(this[i]);\n    }\n\n    return this.spawn(array);\n  },\n\n  size: function size() {\n    return this.length;\n  },\n\n  eq: function eq(i) {\n    return this[i] || this.spawn();\n  },\n\n  first: function first() {\n    return this[0] || this.spawn();\n  },\n\n  last: function last() {\n    return this[this.length - 1] || this.spawn();\n  },\n\n  empty: function empty() {\n    return this.length === 0;\n  },\n\n  nonempty: function nonempty() {\n    return !this.empty();\n  },\n\n  sort: function sort(sortFn) {\n    if (!is.fn(sortFn)) {\n      return this;\n    }\n\n    var sorted = this.toArray().sort(sortFn);\n\n    return this.spawn(sorted);\n  },\n\n  sortByZIndex: function sortByZIndex() {\n    return this.sort(zIndexSort);\n  },\n\n  zDepth: function zDepth() {\n    var ele = this[0];\n    if (!ele) {\n      return undefined;\n    }\n\n    // let cy = ele.cy();\n    var _p = ele._private;\n    var group = _p.group;\n\n    if (group === 'nodes') {\n      var depth = _p.data.parent ? ele.parents().size() : 0;\n\n      if (!ele.isParent()) {\n        return util.MAX_INT - 1; // childless nodes always on top\n      }\n\n      return depth;\n    } else {\n      var src = _p.source;\n      var tgt = _p.target;\n      var srcDepth = src.zDepth();\n      var tgtDepth = tgt.zDepth();\n\n      return Math.max(srcDepth, tgtDepth, 0); // depth of deepest parent\n    }\n  }\n};\n\nelesfn.each = elesfn.forEach;\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar util = __webpack_require__(1);\nvar Promise = __webpack_require__(5);\nvar math = __webpack_require__(2);\n\nvar elesfn = {\n  // Calculates and returns node dimensions { x, y } based on options given\n  layoutDimensions: function layoutDimensions(options) {\n    options = util.assign({\n      nodeDimensionsIncludeLabels: true\n    }, options);\n\n    if (options.nodeDimensionsIncludeLabels) {\n      var bbDim = this.boundingBox();\n      return {\n        w: bbDim.w,\n        h: bbDim.h\n      };\n    } else {\n      return {\n        w: this.outerWidth(),\n        h: this.outerHeight()\n      };\n    }\n  },\n\n  // using standard layout options, apply position function (w/ or w/o animation)\n  layoutPositions: function layoutPositions(layout, options, fn) {\n    var nodes = this.nodes();\n    var cy = this.cy();\n    var layoutEles = options.eles; // nodes & edges\n    var getMemoizeKey = function getMemoizeKey(node, i) {\n      return node.id() + '$' + i;\n    };\n    var fnMem = util.memoize(fn, getMemoizeKey); // memoized version of position function\n\n    layout.emit({ type: 'layoutstart', layout: layout });\n\n    layout.animations = [];\n\n    var calculateSpacing = function calculateSpacing(spacing, nodesBb, pos) {\n      var center = {\n        x: nodesBb.x1 + nodesBb.w / 2,\n        y: nodesBb.y1 + nodesBb.h / 2\n      };\n\n      var spacingVector = { // scale from center of bounding box (not necessarily 0,0)\n        x: (pos.x - center.x) * spacing,\n        y: (pos.y - center.y) * spacing\n      };\n\n      return {\n        x: center.x + spacingVector.x,\n        y: center.y + spacingVector.y\n      };\n    };\n\n    var useSpacingFactor = options.spacingFactor && options.spacingFactor !== 1;\n\n    var spacingBb = function spacingBb() {\n      if (!useSpacingFactor) {\n        return null;\n      }\n\n      var bb = math.makeBoundingBox();\n\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var pos = fnMem(node, i);\n\n        math.expandBoundingBoxByPoint(bb, pos.x, pos.y);\n      }\n\n      return bb;\n    };\n\n    var bb = spacingBb();\n\n    var getFinalPos = util.memoize(function (node, i) {\n      var newPos = fnMem(node, i);\n      var pos = node.position();\n\n      if (!is.number(pos.x) || !is.number(pos.y)) {\n        node.silentPosition({ x: 0, y: 0 });\n      }\n\n      if (useSpacingFactor) {\n        var spacing = Math.abs(options.spacingFactor);\n\n        newPos = calculateSpacing(spacing, bb, newPos);\n      }\n\n      if (options.transform != null) {\n        newPos = options.transform(node, newPos);\n      }\n\n      return newPos;\n    }, getMemoizeKey);\n\n    if (options.animate) {\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var newPos = getFinalPos(node, i);\n        var animateNode = options.animateFilter == null || options.animateFilter(node, i);\n\n        if (animateNode) {\n          var ani = node.animation({\n            position: newPos,\n            duration: options.animationDuration,\n            easing: options.animationEasing\n          });\n\n          layout.animations.push(ani);\n\n          ani.play();\n        } else {\n          node.position(newPos);\n        }\n      }\n\n      if (options.fit) {\n        var fitAni = cy.animation({\n          fit: {\n            boundingBox: layoutEles.boundingBoxAt(getFinalPos),\n            padding: options.padding\n          },\n          duration: options.animationDuration,\n          easing: options.animationEasing\n        });\n\n        layout.animations.push(fitAni);\n\n        fitAni.play();\n      } else if (options.zoom !== undefined && options.pan !== undefined) {\n        var zoomPanAni = cy.animation({\n          zoom: options.zoom,\n          pan: options.pan,\n          duration: options.animationDuration,\n          easing: options.animationEasing\n        });\n\n        layout.animations.push(zoomPanAni);\n\n        zoomPanAni.play();\n      }\n\n      layout.one('layoutready', options.ready);\n      layout.emit({ type: 'layoutready', layout: layout });\n\n      Promise.all(layout.animations.map(function (ani) {\n        return ani.promise();\n      })).then(function () {\n        layout.one('layoutstop', options.stop);\n        layout.emit({ type: 'layoutstop', layout: layout });\n      });\n    } else {\n\n      nodes.positions(getFinalPos);\n\n      if (options.fit) {\n        cy.fit(options.eles, options.padding);\n      }\n\n      if (options.zoom != null) {\n        cy.zoom(options.zoom);\n      }\n\n      if (options.pan) {\n        cy.pan(options.pan);\n      }\n\n      layout.one('layoutready', options.ready);\n      layout.emit({ type: 'layoutready', layout: layout });\n\n      layout.one('layoutstop', options.stop);\n      layout.emit({ type: 'layoutstop', layout: layout });\n    }\n\n    return this; // chaining\n  },\n\n  layout: function layout(options) {\n    var cy = this.cy();\n\n    return cy.makeLayout(util.extend({}, options, {\n      eles: this\n    }));\n  }\n\n};\n\n// aliases:\nelesfn.createLayout = elesfn.makeLayout = elesfn.layout;\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\n\nfunction styleCache(key, fn, ele) {\n  var _p = ele._private;\n  var cache = _p.styleCache = _p.styleCache || {};\n  var val;\n\n  if ((val = cache[key]) != null) {\n    return val;\n  } else {\n    val = cache[key] = fn(ele);\n\n    return val;\n  }\n}\n\nfunction cacheStyleFunction(key, fn) {\n  return function cachedStyleFunction(ele) {\n    return styleCache(key, fn, ele);\n  };\n}\n\nfunction cachePrototypeStyleFunction(key, fn) {\n  var selfFn = function selfFn(ele) {\n    return fn.call(ele);\n  };\n\n  return function cachedPrototypeStyleFunction() {\n    var ele = this[0];\n\n    if (ele) {\n      return styleCache(key, selfFn, ele);\n    }\n  };\n}\n\nvar elesfn = {\n\n  recalculateRenderedStyle: function recalculateRenderedStyle(useCache) {\n    var cy = this.cy();\n    var renderer = cy.renderer();\n    var styleEnabled = cy.styleEnabled();\n\n    if (renderer && styleEnabled) {\n      renderer.recalculateRenderedStyle(this, useCache);\n    }\n\n    return this;\n  },\n\n  dirtyStyleCache: function dirtyStyleCache() {\n    var cy = this.cy();\n    var dirty = function dirty(ele) {\n      return ele._private.styleCache = {};\n    };\n\n    if (cy.hasCompoundNodes()) {\n      var eles = void 0;\n\n      eles = this.spawnSelf().merge(this.descendants()).merge(this.parents());\n\n      eles.merge(eles.connectedEdges());\n\n      eles.forEach(dirty);\n    } else {\n      this.forEach(function (ele) {\n        dirty(ele);\n\n        ele.connectedEdges().forEach(dirty);\n      });\n    }\n\n    return this;\n  },\n\n  // fully updates (recalculates) the style for the elements\n  updateStyle: function updateStyle(notifyRenderer) {\n    var cy = this._private.cy;\n\n    if (!cy.styleEnabled()) {\n      return this;\n    }\n\n    if (cy._private.batchingStyle) {\n      var bEles = cy._private.batchStyleEles;\n\n      bEles.merge(this);\n\n      return this; // chaining and exit early when batching\n    }\n\n    var hasCompounds = cy.hasCompoundNodes();\n    var style = cy.style();\n    var updatedEles = this;\n\n    notifyRenderer = notifyRenderer || notifyRenderer === undefined ? true : false;\n\n    if (hasCompounds) {\n      // then add everything up and down for compound selector checks\n      updatedEles = this.spawnSelf().merge(this.descendants()).merge(this.parents());\n    }\n\n    var changedEles = style.apply(updatedEles);\n\n    changedEles.dirtyStyleCache();\n    changedEles.dirtyCompoundBoundsCache();\n\n    if (notifyRenderer) {\n      changedEles.emitAndNotify('style'); // let renderer know we changed style\n    } else {\n      changedEles.emit('style'); // just fire the event\n    }\n\n    return this; // chaining\n  },\n\n  // just update the mappers in the elements' styles; cheaper than eles.updateStyle()\n  updateMappers: function updateMappers(notifyRenderer) {\n    var cy = this._private.cy;\n    var style = cy.style();\n    notifyRenderer = notifyRenderer || notifyRenderer === undefined ? true : false;\n\n    if (!cy.styleEnabled()) {\n      return this;\n    }\n\n    var changedEles = style.updateMappers(this);\n\n    changedEles.dirtyStyleCache();\n    changedEles.dirtyCompoundBoundsCache();\n\n    if (notifyRenderer) {\n      changedEles.emitAndNotify('style'); // let renderer know we changed style\n    } else {\n      changedEles.emit('style'); // just fire the event\n    }\n    return this; // chaining\n  },\n\n  // get the internal parsed style object for the specified property\n  parsedStyle: function parsedStyle(property) {\n    var ele = this[0];\n    var cy = ele.cy();\n\n    if (!cy.styleEnabled()) {\n      return;\n    }\n\n    if (ele) {\n      return ele._private.style[property] || cy.style().getDefaultProperty(property);\n    }\n  },\n\n  numericStyle: function numericStyle(property) {\n    var ele = this[0];\n\n    if (!ele.cy().styleEnabled()) {\n      return;\n    }\n\n    if (ele) {\n      var pstyle = ele.pstyle(property);\n\n      return pstyle.pfValue !== undefined ? pstyle.pfValue : pstyle.value;\n    }\n  },\n\n  numericStyleUnits: function numericStyleUnits(property) {\n    var ele = this[0];\n\n    if (!ele.cy().styleEnabled()) {\n      return;\n    }\n\n    if (ele) {\n      return ele.pstyle(property).units;\n    }\n  },\n\n  // get the specified css property as a rendered value (i.e. on-screen value)\n  // or get the whole rendered style if no property specified (NB doesn't allow setting)\n  renderedStyle: function renderedStyle(property) {\n    var cy = this.cy();\n    if (!cy.styleEnabled()) {\n      return this;\n    }\n\n    var ele = this[0];\n\n    if (ele) {\n      return cy.style().getRenderedStyle(ele, property);\n    }\n  },\n\n  // read the calculated css style of the element or override the style (via a bypass)\n  style: function style(name, value) {\n    var cy = this.cy();\n\n    if (!cy.styleEnabled()) {\n      return this;\n    }\n\n    var updateTransitions = false;\n    var style = cy.style();\n\n    if (is.plainObject(name)) {\n      // then extend the bypass\n      var props = name;\n      style.applyBypass(this, props, updateTransitions);\n\n      this.dirtyStyleCache();\n      this.dirtyCompoundBoundsCache();\n\n      this.emitAndNotify('style'); // let the renderer know we've updated style\n    } else if (is.string(name)) {\n\n      if (value === undefined) {\n        // then get the property from the style\n        var ele = this[0];\n\n        if (ele) {\n          return style.getStylePropertyValue(ele, name);\n        } else {\n          // empty collection => can't get any value\n          return;\n        }\n      } else {\n        // then set the bypass with the property value\n        style.applyBypass(this, name, value, updateTransitions);\n\n        this.dirtyStyleCache();\n        this.dirtyCompoundBoundsCache();\n\n        this.emitAndNotify('style'); // let the renderer know we've updated style\n      }\n    } else if (name === undefined) {\n      var _ele = this[0];\n\n      if (_ele) {\n        return style.getRawStyle(_ele);\n      } else {\n        // empty collection => can't get any value\n        return;\n      }\n    }\n\n    return this; // chaining\n  },\n\n  removeStyle: function removeStyle(names) {\n    var cy = this.cy();\n\n    if (!cy.styleEnabled()) {\n      return this;\n    }\n\n    var updateTransitions = false;\n    var style = cy.style();\n    var eles = this;\n\n    if (names === undefined) {\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n\n        style.removeAllBypasses(ele, updateTransitions);\n      }\n    } else {\n      names = names.split(/\\s+/);\n\n      for (var _i = 0; _i < eles.length; _i++) {\n        var _ele2 = eles[_i];\n\n        style.removeBypasses(_ele2, names, updateTransitions);\n      }\n    }\n\n    this.dirtyStyleCache();\n    this.dirtyCompoundBoundsCache();\n\n    this.emitAndNotify('style'); // let the renderer know we've updated style\n\n    return this; // chaining\n  },\n\n  show: function show() {\n    this.css('display', 'element');\n    return this; // chaining\n  },\n\n  hide: function hide() {\n    this.css('display', 'none');\n    return this; // chaining\n  },\n\n  effectiveOpacity: function effectiveOpacity() {\n    var cy = this.cy();\n    if (!cy.styleEnabled()) {\n      return 1;\n    }\n\n    var hasCompoundNodes = cy.hasCompoundNodes();\n    var ele = this[0];\n\n    if (ele) {\n      var _p = ele._private;\n      var parentOpacity = ele.pstyle('opacity').value;\n\n      if (!hasCompoundNodes) {\n        return parentOpacity;\n      }\n\n      var parents = !_p.data.parent ? null : ele.parents();\n\n      if (parents) {\n        for (var i = 0; i < parents.length; i++) {\n          var parent = parents[i];\n          var opacity = parent.pstyle('opacity').value;\n\n          parentOpacity = opacity * parentOpacity;\n        }\n      }\n\n      return parentOpacity;\n    }\n  },\n\n  transparent: function transparent() {\n    var cy = this.cy();\n    if (!cy.styleEnabled()) {\n      return false;\n    }\n\n    var ele = this[0];\n    var hasCompoundNodes = ele.cy().hasCompoundNodes();\n\n    if (ele) {\n      if (!hasCompoundNodes) {\n        return ele.pstyle('opacity').value === 0;\n      } else {\n        return ele.effectiveOpacity() === 0;\n      }\n    }\n  },\n\n  backgrounding: function backgrounding() {\n    var cy = this.cy();\n    if (!cy.styleEnabled()) {\n      return false;\n    }\n\n    var ele = this[0];\n\n    return ele._private.backgrounding ? true : false;\n  }\n\n};\n\nfunction checkCompound(ele, parentOk) {\n  var _p = ele._private;\n  var parents = _p.data.parent ? ele.parents() : null;\n\n  if (parents) {\n    for (var i = 0; i < parents.length; i++) {\n      var parent = parents[i];\n\n      if (!parentOk(parent)) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\nfunction defineDerivedStateFunction(specs) {\n  var ok = specs.ok;\n  var edgeOkViaNode = specs.edgeOkViaNode || specs.ok;\n  var parentOk = specs.parentOk || specs.ok;\n\n  return function () {\n    var cy = this.cy();\n    if (!cy.styleEnabled()) {\n      return true;\n    }\n\n    var ele = this[0];\n    var hasCompoundNodes = cy.hasCompoundNodes();\n\n    if (ele) {\n      var _p = ele._private;\n\n      if (!ok(ele)) {\n        return false;\n      }\n\n      if (ele.isNode()) {\n        return !hasCompoundNodes || checkCompound(ele, parentOk);\n      } else {\n        var src = _p.source;\n        var tgt = _p.target;\n\n        return edgeOkViaNode(src) && (!hasCompoundNodes || checkCompound(src, edgeOkViaNode)) && (src === tgt || edgeOkViaNode(tgt) && (!hasCompoundNodes || checkCompound(tgt, edgeOkViaNode)));\n      }\n    }\n  };\n}\n\nvar eleTakesUpSpace = cacheStyleFunction('eleTakesUpSpace', function (ele) {\n  return ele.pstyle('display').value === 'element' && ele.width() !== 0 && (ele.isNode() ? ele.height() !== 0 : true);\n});\n\nelesfn.takesUpSpace = cachePrototypeStyleFunction('takesUpSpace', defineDerivedStateFunction({\n  ok: eleTakesUpSpace\n}));\n\nvar eleInteractive = cacheStyleFunction('eleInteractive', function (ele) {\n  return ele.pstyle('events').value === 'yes' && ele.pstyle('visibility').value === 'visible' && eleTakesUpSpace(ele);\n});\n\nvar parentInteractive = cacheStyleFunction('parentInteractive', function (parent) {\n  return parent.pstyle('visibility').value === 'visible' && eleTakesUpSpace(parent);\n});\n\nelesfn.interactive = cachePrototypeStyleFunction('interactive', defineDerivedStateFunction({\n  ok: eleInteractive,\n  parentOk: parentInteractive,\n  edgeOkViaNode: eleTakesUpSpace\n}));\n\nelesfn.noninteractive = function () {\n  var ele = this[0];\n\n  if (ele) {\n    return !ele.interactive();\n  }\n};\n\nvar eleVisible = cacheStyleFunction('eleVisible', function (ele) {\n  return ele.pstyle('visibility').value === 'visible' && ele.pstyle('opacity').pfValue !== 0 && eleTakesUpSpace(ele);\n});\n\nvar edgeVisibleViaNode = eleTakesUpSpace;\n\nelesfn.visible = cachePrototypeStyleFunction('visible', defineDerivedStateFunction({\n  ok: eleVisible,\n  edgeOkViaNode: edgeVisibleViaNode\n}));\n\nelesfn.hidden = function () {\n  var ele = this[0];\n\n  if (ele) {\n    return !ele.visible();\n  }\n};\n\nelesfn.bypass = elesfn.css = elesfn.style;\nelesfn.renderedCss = elesfn.renderedStyle;\nelesfn.removeBypass = elesfn.removeCss = elesfn.removeStyle;\nelesfn.pstyle = elesfn.parsedStyle;\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar elesfn = {};\n\nfunction defineSwitchFunction(params) {\n  return function () {\n    var args = arguments;\n    var changedEles = [];\n\n    // e.g. cy.nodes().select( data, handler )\n    if (args.length === 2) {\n      var data = args[0];\n      var handler = args[1];\n      this.on(params.event, data, handler);\n    }\n\n    // e.g. cy.nodes().select( handler )\n    else if (args.length === 1) {\n        var _handler = args[0];\n        this.on(params.event, _handler);\n      }\n\n      // e.g. cy.nodes().select()\n      else if (args.length === 0) {\n          for (var i = 0; i < this.length; i++) {\n            var ele = this[i];\n            var able = !params.ableField || ele._private[params.ableField];\n            var changed = ele._private[params.field] != params.value;\n\n            if (params.overrideAble) {\n              var overrideAble = params.overrideAble(ele);\n\n              if (overrideAble !== undefined) {\n                able = overrideAble;\n\n                if (!overrideAble) {\n                  return this;\n                } // to save cycles assume not able for all on override\n              }\n            }\n\n            if (able) {\n              ele._private[params.field] = params.value;\n\n              if (changed) {\n                changedEles.push(ele);\n              }\n            }\n          }\n\n          var changedColl = this.spawn(changedEles);\n          changedColl.updateStyle(); // change of state => possible change of style\n          changedColl.emit(params.event);\n        }\n\n    return this;\n  };\n}\n\nfunction defineSwitchSet(params) {\n  elesfn[params.field] = function () {\n    var ele = this[0];\n\n    if (ele) {\n      if (params.overrideField) {\n        var val = params.overrideField(ele);\n\n        if (val !== undefined) {\n          return val;\n        }\n      }\n\n      return ele._private[params.field];\n    }\n  };\n\n  elesfn[params.on] = defineSwitchFunction({\n    event: params.on,\n    field: params.field,\n    ableField: params.ableField,\n    overrideAble: params.overrideAble,\n    value: true\n  });\n\n  elesfn[params.off] = defineSwitchFunction({\n    event: params.off,\n    field: params.field,\n    ableField: params.ableField,\n    overrideAble: params.overrideAble,\n    value: false\n  });\n}\n\ndefineSwitchSet({\n  field: 'locked',\n  overrideField: function overrideField(ele) {\n    return ele.cy().autolock() ? true : undefined;\n  },\n  on: 'lock',\n  off: 'unlock'\n});\n\ndefineSwitchSet({\n  field: 'grabbable',\n  overrideField: function overrideField(ele) {\n    return ele.cy().autoungrabify() ? false : undefined;\n  },\n  on: 'grabify',\n  off: 'ungrabify'\n});\n\ndefineSwitchSet({\n  field: 'selected',\n  ableField: 'selectable',\n  overrideAble: function overrideAble(ele) {\n    return ele.cy().autounselectify() ? false : undefined;\n  },\n  on: 'select',\n  off: 'unselect'\n});\n\ndefineSwitchSet({\n  field: 'selectable',\n  overrideField: function overrideField(ele) {\n    return ele.cy().autounselectify() ? false : undefined;\n  },\n  on: 'selectify',\n  off: 'unselectify'\n});\n\nelesfn.deselect = elesfn.unselect;\n\nelesfn.grabbed = function () {\n  var ele = this[0];\n  if (ele) {\n    return ele._private.grabbed;\n  }\n};\n\ndefineSwitchSet({\n  field: 'active',\n  on: 'activate',\n  off: 'unactivate'\n});\n\nelesfn.inactive = function () {\n  var ele = this[0];\n  if (ele) {\n    return !ele._private.active;\n  }\n};\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar is = __webpack_require__(0);\n\nvar elesfn = {};\n\nvar cache = function cache(fn, name) {\n  return function traversalCache(arg1, arg2, arg3, arg4) {\n    var selectorOrEles = arg1;\n    var eles = this;\n    var key = void 0;\n\n    if (selectorOrEles == null) {\n      key = 'null';\n    } else if (is.elementOrCollection(selectorOrEles) && selectorOrEles.length === 1) {\n      key = '#' + selectorOrEles.id();\n    }\n\n    if (eles.length === 1 && key) {\n      var _p = eles[0]._private;\n      var tch = _p.traversalCache = _p.traversalCache || {};\n      var ch = tch[name] = tch[name] || {};\n      var cacheHit = ch[key];\n\n      if (cacheHit) {\n        return cacheHit;\n      } else {\n        return ch[key] = fn.call(eles, arg1, arg2, arg3, arg4);\n      }\n    } else {\n      return fn.call(eles, arg1, arg2, arg3, arg4);\n    }\n  };\n};\n\n// DAG functions\n////////////////\n\nvar defineDagExtremity = function defineDagExtremity(params) {\n  return function dagExtremityImpl(selector) {\n    var eles = this;\n    var ret = [];\n\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      if (!ele.isNode()) {\n        continue;\n      }\n\n      var disqualified = false;\n      var edges = ele.connectedEdges();\n\n      for (var j = 0; j < edges.length; j++) {\n        var edge = edges[j];\n        var src = edge.source();\n        var tgt = edge.target();\n\n        if (params.noIncomingEdges && tgt === ele && src !== ele || params.noOutgoingEdges && src === ele && tgt !== ele) {\n          disqualified = true;\n          break;\n        }\n      }\n\n      if (!disqualified) {\n        ret.push(ele);\n      }\n    }\n\n    return this.spawn(ret, { unique: true }).filter(selector);\n  };\n};\n\nvar defineDagOneHop = function defineDagOneHop(params) {\n  return function (selector) {\n    var eles = this;\n    var oEles = [];\n\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n\n      if (!ele.isNode()) {\n        continue;\n      }\n\n      var edges = ele.connectedEdges();\n      for (var j = 0; j < edges.length; j++) {\n        var edge = edges[j];\n        var src = edge.source();\n        var tgt = edge.target();\n\n        if (params.outgoing && src === ele) {\n          oEles.push(edge);\n          oEles.push(tgt);\n        } else if (params.incoming && tgt === ele) {\n          oEles.push(edge);\n          oEles.push(src);\n        }\n      }\n    }\n\n    return this.spawn(oEles, { unique: true }).filter(selector);\n  };\n};\n\nvar defineDagAllHops = function defineDagAllHops(params) {\n  return function (selector) {\n    var eles = this;\n    var sEles = [];\n    var sElesIds = {};\n\n    for (;;) {\n      var next = params.outgoing ? eles.outgoers() : eles.incomers();\n\n      if (next.length === 0) {\n        break;\n      } // done if none left\n\n      var newNext = false;\n      for (var i = 0; i < next.length; i++) {\n        var n = next[i];\n        var nid = n.id();\n\n        if (!sElesIds[nid]) {\n          sElesIds[nid] = true;\n          sEles.push(n);\n          newNext = true;\n        }\n      }\n\n      if (!newNext) {\n        break;\n      } // done if touched all outgoers already\n\n      eles = next;\n    }\n\n    return this.spawn(sEles, { unique: true }).filter(selector);\n  };\n};\n\nelesfn.clearTraversalCache = function () {\n  for (var i = 0; i < this.length; i++) {\n    this[i]._private.traversalCache = null;\n  }\n};\n\nutil.extend(elesfn, {\n  // get the root nodes in the DAG\n  roots: defineDagExtremity({ noIncomingEdges: true }),\n\n  // get the leaf nodes in the DAG\n  leaves: defineDagExtremity({ noOutgoingEdges: true }),\n\n  // normally called children in graph theory\n  // these nodes =edges=> outgoing nodes\n  outgoers: cache(defineDagOneHop({ outgoing: true }), 'outgoers'),\n\n  // aka DAG descendants\n  successors: defineDagAllHops({ outgoing: true }),\n\n  // normally called parents in graph theory\n  // these nodes <=edges= incoming nodes\n  incomers: cache(defineDagOneHop({ incoming: true }), 'incomers'),\n\n  // aka DAG ancestors\n  predecessors: defineDagAllHops({ incoming: true })\n});\n\n// Neighbourhood functions\n//////////////////////////\n\nutil.extend(elesfn, {\n  neighborhood: cache(function (selector) {\n    var elements = [];\n    var nodes = this.nodes();\n\n    for (var i = 0; i < nodes.length; i++) {\n      // for all nodes\n      var node = nodes[i];\n      var connectedEdges = node.connectedEdges();\n\n      // for each connected edge, add the edge and the other node\n      for (var j = 0; j < connectedEdges.length; j++) {\n        var edge = connectedEdges[j];\n        var src = edge.source();\n        var tgt = edge.target();\n        var otherNode = node === src ? tgt : src;\n\n        // need check in case of loop\n        if (otherNode.length > 0) {\n          elements.push(otherNode[0]); // add node 1 hop away\n        }\n\n        // add connected edge\n        elements.push(edge[0]);\n      }\n    }\n\n    return this.spawn(elements, { unique: true }).filter(selector);\n  }, 'neighborhood'),\n\n  closedNeighborhood: function closedNeighborhood(selector) {\n    return this.neighborhood().add(this).filter(selector);\n  },\n\n  openNeighborhood: function openNeighborhood(selector) {\n    return this.neighborhood(selector);\n  }\n});\n\n// aliases\nelesfn.neighbourhood = elesfn.neighborhood;\nelesfn.closedNeighbourhood = elesfn.closedNeighborhood;\nelesfn.openNeighbourhood = elesfn.openNeighborhood;\n\n// Edge functions\n/////////////////\n\nutil.extend(elesfn, {\n  source: cache(function sourceImpl(selector) {\n    var ele = this[0];\n    var src = void 0;\n\n    if (ele) {\n      src = ele._private.source || ele.cy().collection();\n    }\n\n    return src && selector ? src.filter(selector) : src;\n  }, 'source'),\n\n  target: cache(function targetImpl(selector) {\n    var ele = this[0];\n    var tgt = void 0;\n\n    if (ele) {\n      tgt = ele._private.target || ele.cy().collection();\n    }\n\n    return tgt && selector ? tgt.filter(selector) : tgt;\n  }, 'target'),\n\n  sources: defineSourceFunction({\n    attr: 'source'\n  }),\n\n  targets: defineSourceFunction({\n    attr: 'target'\n  })\n});\n\nfunction defineSourceFunction(params) {\n  return function sourceImpl(selector) {\n    var sources = [];\n\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var src = ele._private[params.attr];\n\n      if (src) {\n        sources.push(src);\n      }\n    }\n\n    return this.spawn(sources, { unique: true }).filter(selector);\n  };\n}\n\nutil.extend(elesfn, {\n  edgesWith: cache(defineEdgesWithFunction(), 'edgesWith'),\n\n  edgesTo: cache(defineEdgesWithFunction({\n    thisIsSrc: true\n  }), 'edgesTo')\n});\n\nfunction defineEdgesWithFunction(params) {\n\n  return function edgesWithImpl(otherNodes) {\n    var elements = [];\n    var cy = this._private.cy;\n    var p = params || {};\n\n    // get elements if a selector is specified\n    if (is.string(otherNodes)) {\n      otherNodes = cy.$(otherNodes);\n    }\n\n    for (var h = 0; h < otherNodes.length; h++) {\n      var edges = otherNodes[h]._private.edges;\n\n      for (var i = 0; i < edges.length; i++) {\n        var edge = edges[i];\n        var edgeData = edge._private.data;\n        var thisToOther = this.hasElementWithId(edgeData.source) && otherNodes.hasElementWithId(edgeData.target);\n        var otherToThis = otherNodes.hasElementWithId(edgeData.source) && this.hasElementWithId(edgeData.target);\n        var edgeConnectsThisAndOther = thisToOther || otherToThis;\n\n        if (!edgeConnectsThisAndOther) {\n          continue;\n        }\n\n        if (p.thisIsSrc || p.thisIsTgt) {\n          if (p.thisIsSrc && !thisToOther) {\n            continue;\n          }\n\n          if (p.thisIsTgt && !otherToThis) {\n            continue;\n          }\n        }\n\n        elements.push(edge);\n      }\n    }\n\n    return this.spawn(elements, { unique: true });\n  };\n}\n\nutil.extend(elesfn, {\n  connectedEdges: cache(function (selector) {\n    var retEles = [];\n\n    var eles = this;\n    for (var i = 0; i < eles.length; i++) {\n      var node = eles[i];\n      if (!node.isNode()) {\n        continue;\n      }\n\n      var edges = node._private.edges;\n\n      for (var j = 0; j < edges.length; j++) {\n        var edge = edges[j];\n        retEles.push(edge);\n      }\n    }\n\n    return this.spawn(retEles, { unique: true }).filter(selector);\n  }, 'connectedEdges'),\n\n  connectedNodes: cache(function (selector) {\n    var retEles = [];\n\n    var eles = this;\n    for (var i = 0; i < eles.length; i++) {\n      var edge = eles[i];\n      if (!edge.isEdge()) {\n        continue;\n      }\n\n      retEles.push(edge.source()[0]);\n      retEles.push(edge.target()[0]);\n    }\n\n    return this.spawn(retEles, { unique: true }).filter(selector);\n  }, 'connectedNodes'),\n\n  parallelEdges: cache(defineParallelEdgesFunction(), 'parallelEdges'),\n\n  codirectedEdges: cache(defineParallelEdgesFunction({\n    codirected: true\n  }), 'codirectedEdges')\n});\n\nfunction defineParallelEdgesFunction(params) {\n  var defaults = {\n    codirected: false\n  };\n  params = util.extend({}, defaults, params);\n\n  return function parallelEdgesImpl(selector) {\n    // micro-optimised for renderer\n    var elements = [];\n    var edges = this.edges();\n    var p = params;\n\n    // look at all the edges in the collection\n    for (var i = 0; i < edges.length; i++) {\n      var edge1 = edges[i];\n      var edge1_p = edge1._private;\n      var src1 = edge1_p.source;\n      var srcid1 = src1._private.data.id;\n      var tgtid1 = edge1_p.data.target;\n      var srcEdges1 = src1._private.edges;\n\n      // look at edges connected to the src node of this edge\n      for (var j = 0; j < srcEdges1.length; j++) {\n        var edge2 = srcEdges1[j];\n        var edge2data = edge2._private.data;\n        var tgtid2 = edge2data.target;\n        var srcid2 = edge2data.source;\n\n        var codirected = tgtid2 === tgtid1 && srcid2 === srcid1;\n        var oppdirected = srcid1 === tgtid2 && tgtid1 === srcid2;\n\n        if (p.codirected && codirected || !p.codirected && (codirected || oppdirected)) {\n          elements.push(edge2);\n        }\n      }\n    }\n\n    return this.spawn(elements, { unique: true }).filter(selector);\n  };\n}\n\n// Misc functions\n/////////////////\n\nutil.extend(elesfn, {\n  components: function components() {\n    var self = this;\n    var cy = self.cy();\n    var visited = self.spawn();\n    var unvisited = self.nodes().spawnSelf();\n    var components = [];\n\n    var visitInComponent = function visitInComponent(node, component) {\n      visited.merge(node);\n      unvisited.unmerge(node);\n      component.merge(node);\n    };\n\n    if (unvisited.empty()) {\n      return self.spawn();\n    }\n\n    var _loop = function _loop() {\n      var component = cy.collection();\n      components.push(component);\n\n      var root = unvisited[0];\n      visitInComponent(root, component);\n\n      self.bfs({\n        directed: false,\n        roots: root,\n        visit: function visit(v, e, u, i, depth) {\n          visitInComponent(v, component);\n        }\n      });\n    };\n\n    do {\n      _loop();\n    } while (unvisited.length > 0);\n\n    return components.map(function (component) {\n      var connectedEdges = component.connectedEdges().stdFilter(function (edge) {\n        return component.anySame(edge.source()) && component.anySame(edge.target());\n      });\n\n      return component.union(connectedEdges);\n    });\n  }\n});\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar util = __webpack_require__(1);\nvar Collection = __webpack_require__(7);\nvar Element = __webpack_require__(13);\n\nvar corefn = {\n  add: function add(opts) {\n\n    var elements = void 0;\n    var cy = this;\n\n    // add the elements\n    if (is.elementOrCollection(opts)) {\n      var eles = opts;\n\n      if (eles._private.cy === cy) {\n        // same instance => just restore\n        elements = eles.restore();\n      } else {\n        // otherwise, copy from json\n        var jsons = [];\n\n        for (var i = 0; i < eles.length; i++) {\n          var ele = eles[i];\n          jsons.push(ele.json());\n        }\n\n        elements = new Collection(cy, jsons);\n      }\n    }\n\n    // specify an array of options\n    else if (is.array(opts)) {\n        var _jsons = opts;\n\n        elements = new Collection(cy, _jsons);\n      }\n\n      // specify via opts.nodes and opts.edges\n      else if (is.plainObject(opts) && (is.array(opts.nodes) || is.array(opts.edges))) {\n          var elesByGroup = opts;\n          var _jsons2 = [];\n\n          var grs = ['nodes', 'edges'];\n          for (var _i = 0, il = grs.length; _i < il; _i++) {\n            var group = grs[_i];\n            var elesArray = elesByGroup[group];\n\n            if (is.array(elesArray)) {\n\n              for (var j = 0, jl = elesArray.length; j < jl; j++) {\n                var json = util.extend({ group: group }, elesArray[j]);\n\n                _jsons2.push(json);\n              }\n            }\n          }\n\n          elements = new Collection(cy, _jsons2);\n        }\n\n        // specify options for one element\n        else {\n            var _json = opts;\n            elements = new Element(cy, _json).collection();\n          }\n\n    return elements;\n  },\n\n  remove: function remove(collection) {\n    if (is.elementOrCollection(collection)) {\n      // already have right ref\n    } else if (is.string(collection)) {\n      var selector = collection;\n      collection = this.$(selector);\n    }\n\n    return collection.remove();\n  }\n};\n\nmodule.exports = corefn;\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/* global Float32Array */\n\n/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */\nfunction generateCubicBezier(mX1, mY1, mX2, mY2) {\n  var NEWTON_ITERATIONS = 4,\n      NEWTON_MIN_SLOPE = 0.001,\n      SUBDIVISION_PRECISION = 0.0000001,\n      SUBDIVISION_MAX_ITERATIONS = 10,\n      kSplineTableSize = 11,\n      kSampleStepSize = 1.0 / (kSplineTableSize - 1.0),\n      float32ArraySupported = typeof Float32Array !== 'undefined';\n\n  /* Must contain four arguments. */\n  if (arguments.length !== 4) {\n    return false;\n  }\n\n  /* Arguments must be numbers. */\n  for (var i = 0; i < 4; ++i) {\n    if (typeof arguments[i] !== \"number\" || isNaN(arguments[i]) || !isFinite(arguments[i])) {\n      return false;\n    }\n  }\n\n  /* X values must be in the [0, 1] range. */\n  mX1 = Math.min(mX1, 1);\n  mX2 = Math.min(mX2, 1);\n  mX1 = Math.max(mX1, 0);\n  mX2 = Math.max(mX2, 0);\n\n  var mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n\n  function A(aA1, aA2) {\n    return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n  }\n\n  function B(aA1, aA2) {\n    return 3.0 * aA2 - 6.0 * aA1;\n  }\n\n  function C(aA1) {\n    return 3.0 * aA1;\n  }\n\n  function calcBezier(aT, aA1, aA2) {\n    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n  }\n\n  function getSlope(aT, aA1, aA2) {\n    return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT) {\n    for (var _i = 0; _i < NEWTON_ITERATIONS; ++_i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n\n      if (currentSlope === 0.0) {\n        return aGuessT;\n      }\n\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n\n    return aGuessT;\n  }\n\n  function calcSampleValues() {\n    for (var _i2 = 0; _i2 < kSplineTableSize; ++_i2) {\n      mSampleValues[_i2] = calcBezier(_i2 * kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  function binarySubdivide(aX, aA, aB) {\n    var currentX = void 0,\n        currentT = void 0,\n        i = 0;\n\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) {\n        aB = currentT;\n      } else {\n        aA = currentT;\n      }\n    } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n\n    return currentT;\n  }\n\n  function getTForX(aX) {\n    var intervalStart = 0.0,\n        currentSample = 1,\n        lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n\n    --currentSample;\n\n    var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]),\n        guessForT = intervalStart + dist * kSampleStepSize,\n        initialSlope = getSlope(guessForT, mX1, mX2);\n\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize);\n    }\n  }\n\n  var _precomputed = false;\n\n  function precompute() {\n    _precomputed = true;\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      calcSampleValues();\n    }\n  }\n\n  var f = function f(aX) {\n    if (!_precomputed) {\n      precompute();\n    }\n    if (mX1 === mY1 && mX2 === mY2) {\n      return aX;\n    }\n    if (aX === 0) {\n      return 0;\n    }\n    if (aX === 1) {\n      return 1;\n    }\n\n    return calcBezier(getTForX(aX), mY1, mY2);\n  };\n\n  f.getControlPoints = function () {\n    return [{\n      x: mX1,\n      y: mY1\n    }, {\n      x: mX2,\n      y: mY2\n    }];\n  };\n\n  var str = \"generateBezier(\" + [mX1, mY1, mX2, mY2] + \")\";\n  f.toString = function () {\n    return str;\n  };\n\n  return f;\n}\n\nmodule.exports = generateCubicBezier;\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\n\nfunction getEasedValue(type, start, end, percent, easingFn) {\n  if (percent === 1) {\n    return end;\n  }\n\n  var val = easingFn(start, end, percent);\n\n  if (type == null) {\n    return val;\n  }\n\n  if (type.roundValue || type.color) {\n    val = Math.round(val);\n  }\n\n  if (type.min !== undefined) {\n    val = Math.max(val, type.min);\n  }\n\n  if (type.max !== undefined) {\n    val = Math.min(val, type.max);\n  }\n\n  return val;\n}\n\nfunction ease(startProp, endProp, percent, easingFn, propSpec) {\n  var type = propSpec != null ? propSpec.type : null;\n\n  if (percent < 0) {\n    percent = 0;\n  } else if (percent > 1) {\n    percent = 1;\n  }\n\n  var start = void 0,\n      end = void 0;\n\n  if (startProp.pfValue != null || startProp.value != null) {\n    start = startProp.pfValue != null ? startProp.pfValue : startProp.value;\n  } else {\n    start = startProp;\n  }\n\n  if (endProp.pfValue != null || endProp.value != null) {\n    end = endProp.pfValue != null ? endProp.pfValue : endProp.value;\n  } else {\n    end = endProp;\n  }\n\n  if (is.number(start) && is.number(end)) {\n    return getEasedValue(type, start, end, percent, easingFn);\n  } else if (is.array(start) && is.array(end)) {\n    var easedArr = [];\n\n    for (var i = 0; i < end.length; i++) {\n      var si = start[i];\n      var ei = end[i];\n\n      if (si != null && ei != null) {\n        var val = getEasedValue(type, si, ei, percent, easingFn);\n\n        easedArr.push(val);\n      } else {\n        easedArr.push(ei);\n      }\n    }\n\n    return easedArr;\n  }\n\n  return undefined;\n}\n\nmodule.exports = ease;\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar generateCubicBezier = __webpack_require__(56);\nvar generateSpringRK4 = __webpack_require__(60);\n\nvar cubicBezier = function cubicBezier(t1, p1, t2, p2) {\n  var bezier = generateCubicBezier(t1, p1, t2, p2);\n\n  return function (start, end, percent) {\n    return start + (end - start) * bezier(percent);\n  };\n};\n\nvar easings = {\n  'linear': function linear(start, end, percent) {\n    return start + (end - start) * percent;\n  },\n\n  // default easings\n  'ease': cubicBezier(0.25, 0.1, 0.25, 1),\n  'ease-in': cubicBezier(0.42, 0, 1, 1),\n  'ease-out': cubicBezier(0, 0, 0.58, 1),\n  'ease-in-out': cubicBezier(0.42, 0, 0.58, 1),\n\n  // sine\n  'ease-in-sine': cubicBezier(0.47, 0, 0.745, 0.715),\n  'ease-out-sine': cubicBezier(0.39, 0.575, 0.565, 1),\n  'ease-in-out-sine': cubicBezier(0.445, 0.05, 0.55, 0.95),\n\n  // quad\n  'ease-in-quad': cubicBezier(0.55, 0.085, 0.68, 0.53),\n  'ease-out-quad': cubicBezier(0.25, 0.46, 0.45, 0.94),\n  'ease-in-out-quad': cubicBezier(0.455, 0.03, 0.515, 0.955),\n\n  // cubic\n  'ease-in-cubic': cubicBezier(0.55, 0.055, 0.675, 0.19),\n  'ease-out-cubic': cubicBezier(0.215, 0.61, 0.355, 1),\n  'ease-in-out-cubic': cubicBezier(0.645, 0.045, 0.355, 1),\n\n  // quart\n  'ease-in-quart': cubicBezier(0.895, 0.03, 0.685, 0.22),\n  'ease-out-quart': cubicBezier(0.165, 0.84, 0.44, 1),\n  'ease-in-out-quart': cubicBezier(0.77, 0, 0.175, 1),\n\n  // quint\n  'ease-in-quint': cubicBezier(0.755, 0.05, 0.855, 0.06),\n  'ease-out-quint': cubicBezier(0.23, 1, 0.32, 1),\n  'ease-in-out-quint': cubicBezier(0.86, 0, 0.07, 1),\n\n  // expo\n  'ease-in-expo': cubicBezier(0.95, 0.05, 0.795, 0.035),\n  'ease-out-expo': cubicBezier(0.19, 1, 0.22, 1),\n  'ease-in-out-expo': cubicBezier(1, 0, 0, 1),\n\n  // circ\n  'ease-in-circ': cubicBezier(0.6, 0.04, 0.98, 0.335),\n  'ease-out-circ': cubicBezier(0.075, 0.82, 0.165, 1),\n  'ease-in-out-circ': cubicBezier(0.785, 0.135, 0.15, 0.86),\n\n  // user param easings...\n\n  'spring': function spring(tension, friction, duration) {\n    if (duration === 0) {\n      // can't get a spring w/ duration 0\n      return easings.linear; // duration 0 => jump to end so impl doesn't matter\n    }\n\n    var spring = generateSpringRK4(tension, friction, duration);\n\n    return function (start, end, percent) {\n      return start + (end - start) * spring(percent);\n    };\n  },\n\n  'cubic-bezier': cubicBezier\n};\n\nmodule.exports = easings;\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar define = __webpack_require__(3);\nvar util = __webpack_require__(1);\nvar stepAll = __webpack_require__(62);\n\nvar corefn = {\n\n  // pull in animation functions\n  animate: define.animate(),\n  animation: define.animation(),\n  animated: define.animated(),\n  clearQueue: define.clearQueue(),\n  delay: define.delay(),\n  delayAnimation: define.delayAnimation(),\n  stop: define.stop(),\n\n  addToAnimationPool: function addToAnimationPool(eles) {\n    var cy = this;\n\n    if (!cy.styleEnabled()) {\n      return;\n    } // save cycles when no style used\n\n    cy._private.aniEles.merge(eles);\n  },\n\n  stopAnimationLoop: function stopAnimationLoop() {\n    this._private.animationsRunning = false;\n  },\n\n  startAnimationLoop: function startAnimationLoop() {\n    var cy = this;\n\n    cy._private.animationsRunning = true;\n\n    if (!cy.styleEnabled()) {\n      return;\n    } // save cycles when no style used\n\n    // NB the animation loop will exec in headless environments if style enabled\n    // and explicit cy.destroy() is necessary to stop the loop\n\n    function headlessStep() {\n      if (!cy._private.animationsRunning) {\n        return;\n      }\n\n      util.requestAnimationFrame(function animationStep(now) {\n        stepAll(now, cy);\n        headlessStep();\n      });\n    }\n\n    var renderer = cy.renderer();\n\n    if (renderer && renderer.beforeRender) {\n      // let the renderer schedule animations\n      renderer.beforeRender(function rendererAnimationStep(willDraw, now) {\n        stepAll(now, cy);\n      }, renderer.beforeRenderPriorities.animations);\n    } else {\n      // manage the animation loop ourselves\n      headlessStep(); // first call\n    }\n  }\n\n};\n\nmodule.exports = corefn;\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */\n/* Given a tension, friction, and duration, a simulation at 60FPS will first run without a defined duration in order to calculate the full path. A second pass\n   then adjusts the time delta -- using the relation between actual time and duration -- to calculate the path for the duration-constrained animation. */\nvar generateSpringRK4 = function () {\n  function springAccelerationForState(state) {\n    return -state.tension * state.x - state.friction * state.v;\n  }\n\n  function springEvaluateStateWithDerivative(initialState, dt, derivative) {\n    var state = {\n      x: initialState.x + derivative.dx * dt,\n      v: initialState.v + derivative.dv * dt,\n      tension: initialState.tension,\n      friction: initialState.friction\n    };\n\n    return { dx: state.v, dv: springAccelerationForState(state) };\n  }\n\n  function springIntegrateState(state, dt) {\n    var a = {\n      dx: state.v,\n      dv: springAccelerationForState(state)\n    },\n        b = springEvaluateStateWithDerivative(state, dt * 0.5, a),\n        c = springEvaluateStateWithDerivative(state, dt * 0.5, b),\n        d = springEvaluateStateWithDerivative(state, dt, c),\n        dxdt = 1.0 / 6.0 * (a.dx + 2.0 * (b.dx + c.dx) + d.dx),\n        dvdt = 1.0 / 6.0 * (a.dv + 2.0 * (b.dv + c.dv) + d.dv);\n\n    state.x = state.x + dxdt * dt;\n    state.v = state.v + dvdt * dt;\n\n    return state;\n  }\n\n  return function springRK4Factory(tension, friction, duration) {\n\n    var initState = {\n      x: -1,\n      v: 0,\n      tension: null,\n      friction: null\n    },\n        path = [0],\n        time_lapsed = 0,\n        tolerance = 1 / 10000,\n        DT = 16 / 1000,\n        have_duration = void 0,\n        dt = void 0,\n        last_state = void 0;\n\n    tension = parseFloat(tension) || 500;\n    friction = parseFloat(friction) || 20;\n    duration = duration || null;\n\n    initState.tension = tension;\n    initState.friction = friction;\n\n    have_duration = duration !== null;\n\n    /* Calculate the actual time it takes for this animation to complete with the provided conditions. */\n    if (have_duration) {\n      /* Run the simulation without a duration. */\n      time_lapsed = springRK4Factory(tension, friction);\n      /* Compute the adjusted time delta. */\n      dt = time_lapsed / duration * DT;\n    } else {\n      dt = DT;\n    }\n\n    for (;;) {\n      /* Next/step function .*/\n      last_state = springIntegrateState(last_state || initState, dt);\n      /* Store the position. */\n      path.push(1 + last_state.x);\n      time_lapsed += 16;\n      /* If the change threshold is reached, break. */\n      if (!(Math.abs(last_state.x) > tolerance && Math.abs(last_state.v) > tolerance)) {\n        break;\n      }\n    }\n\n    /* If duration is not defined, return the actual time required for completing this animation. Otherwise, return a closure that holds the\n       computed path and returns a snapshot of the position according to a given percentComplete. */\n    return !have_duration ? time_lapsed : function (percentComplete) {\n      return path[percentComplete * (path.length - 1) | 0];\n    };\n  };\n}();\n\nmodule.exports = generateSpringRK4;\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction startAnimation(self, ani, now, isCore) {\n  var isEles = !isCore;\n  var ele = self;\n  var ani_p = ani._private;\n  var cy = isCore ? self : self.cy();\n  var style = cy.style();\n\n  if (isEles) {\n    var pos = ele.position();\n\n    ani_p.startPosition = ani_p.startPosition || {\n      x: pos.x,\n      y: pos.y\n    };\n\n    ani_p.startStyle = ani_p.startStyle || style.getAnimationStartStyle(ele, ani_p.style);\n  }\n\n  if (isCore) {\n    var pan = cy._private.pan;\n\n    ani_p.startPan = ani_p.startPan || {\n      x: pan.x,\n      y: pan.y\n    };\n\n    ani_p.startZoom = ani_p.startZoom != null ? ani_p.startZoom : cy._private.zoom;\n  }\n\n  ani_p.started = true;\n  ani_p.startTime = now - ani_p.progress * ani_p.duration;\n}\n\nmodule.exports = startAnimation;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar step = __webpack_require__(63);\nvar startAnimation = __webpack_require__(61);\n\nfunction stepAll(now, cy) {\n  var eles = cy._private.aniEles;\n  var doneEles = [];\n\n  function stepOne(ele, isCore) {\n    var _p = ele._private;\n    var current = _p.animation.current;\n    var queue = _p.animation.queue;\n    var ranAnis = false;\n\n    // cancel all animations on display:none ele\n    if (!isCore && ele.pstyle('display').value === 'none') {\n      // put all current and queue animations in this tick's current list\n      // and empty the lists for the element\n      current = current.splice(0, current.length).concat(queue.splice(0, queue.length));\n\n      // stop all animations\n      for (var i = 0; i < current.length; i++) {\n        current[i].stop();\n      }\n    }\n\n    // if nothing currently animating, get something from the queue\n    if (current.length === 0) {\n      var next = queue.shift();\n\n      if (next) {\n        current.push(next);\n      }\n    }\n\n    var callbacks = function callbacks(_callbacks) {\n      for (var j = _callbacks.length - 1; j >= 0; j--) {\n        var cb = _callbacks[j];\n\n        cb();\n      }\n\n      _callbacks.splice(0, _callbacks.length);\n    };\n\n    // step and remove if done\n    for (var _i = current.length - 1; _i >= 0; _i--) {\n      var ani = current[_i];\n      var ani_p = ani._private;\n\n      if (ani_p.stopped) {\n        current.splice(_i, 1);\n\n        ani_p.hooked = false;\n        ani_p.playing = false;\n        ani_p.started = false;\n\n        callbacks(ani_p.frames);\n\n        continue;\n      }\n\n      if (!ani_p.playing && !ani_p.applying) {\n        continue;\n      }\n\n      // an apply() while playing shouldn't do anything\n      if (ani_p.playing && ani_p.applying) {\n        ani_p.applying = false;\n      }\n\n      if (!ani_p.started) {\n        startAnimation(ele, ani, now, isCore);\n      }\n\n      step(ele, ani, now, isCore);\n\n      if (ani_p.applying) {\n        ani_p.applying = false;\n      }\n\n      callbacks(ani_p.frames);\n\n      if (ani.completed()) {\n        current.splice(_i, 1);\n\n        ani_p.hooked = false;\n        ani_p.playing = false;\n        ani_p.started = false;\n\n        callbacks(ani_p.completes);\n      }\n\n      ranAnis = true;\n    }\n\n    if (!isCore && current.length === 0 && queue.length === 0) {\n      doneEles.push(ele);\n    }\n\n    return ranAnis;\n  } // stepElement\n\n  // handle all eles\n  var ranEleAni = false;\n  for (var e = 0; e < eles.length; e++) {\n    var ele = eles[e];\n    var handledThisEle = stepOne(ele);\n\n    ranEleAni = ranEleAni || handledThisEle;\n  } // each element\n\n  var ranCoreAni = stepOne(cy, true);\n\n  // notify renderer\n  if (ranEleAni || ranCoreAni) {\n    if (eles.length > 0) {\n      eles.dirtyCompoundBoundsCache();\n\n      cy.notify({\n        type: 'draw',\n        eles: eles\n      });\n    } else {\n      cy.notify({\n        type: 'draw'\n      });\n    }\n  }\n\n  // remove elements from list of currently animating if its queues are empty\n  eles.unmerge(doneEles);\n\n  cy.emit('step');\n} // stepAll\n\nmodule.exports = stepAll;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar easings = __webpack_require__(58);\nvar ease = __webpack_require__(57);\nvar is = __webpack_require__(0);\n\nfunction step(self, ani, now, isCore) {\n  var isEles = !isCore;\n  var _p = self._private;\n  var ani_p = ani._private;\n  var pEasing = ani_p.easing;\n  var startTime = ani_p.startTime;\n  var cy = isCore ? self : self.cy();\n  var style = cy.style();\n\n  if (!ani_p.easingImpl) {\n\n    if (pEasing == null) {\n      // use default\n      ani_p.easingImpl = easings['linear'];\n    } else {\n      // then define w/ name\n      var easingVals = void 0;\n\n      if (is.string(pEasing)) {\n        var easingProp = style.parse('transition-timing-function', pEasing);\n\n        easingVals = easingProp.value;\n      } else {\n        // then assume preparsed array\n        easingVals = pEasing;\n      }\n\n      var name = void 0,\n          args = void 0;\n\n      if (is.string(easingVals)) {\n        name = easingVals;\n        args = [];\n      } else {\n        name = easingVals[1];\n        args = easingVals.slice(2).map(function (n) {\n          return +n;\n        });\n      }\n\n      if (args.length > 0) {\n        // create with args\n        if (name === 'spring') {\n          args.push(ani_p.duration); // need duration to generate spring\n        }\n\n        ani_p.easingImpl = easings[name].apply(null, args);\n      } else {\n        // static impl by name\n        ani_p.easingImpl = easings[name];\n      }\n    }\n  }\n\n  var easing = ani_p.easingImpl;\n  var percent = void 0;\n\n  if (ani_p.duration === 0) {\n    percent = 1;\n  } else {\n    percent = (now - startTime) / ani_p.duration;\n  }\n\n  if (ani_p.applying) {\n    percent = ani_p.progress;\n  }\n\n  if (percent < 0) {\n    percent = 0;\n  } else if (percent > 1) {\n    percent = 1;\n  }\n\n  if (ani_p.delay == null) {\n    // then update\n\n    var startPos = ani_p.startPosition;\n    var endPos = ani_p.position;\n\n    if (endPos && isEles && !self.locked()) {\n      var pos = self.position();\n\n      if (valid(startPos.x, endPos.x)) {\n        pos.x = ease(startPos.x, endPos.x, percent, easing);\n      }\n\n      if (valid(startPos.y, endPos.y)) {\n        pos.y = ease(startPos.y, endPos.y, percent, easing);\n      }\n\n      self.emit('position');\n    }\n\n    var startPan = ani_p.startPan;\n    var endPan = ani_p.pan;\n    var pan = _p.pan;\n    var animatingPan = endPan != null && isCore;\n    if (animatingPan) {\n      if (valid(startPan.x, endPan.x)) {\n        pan.x = ease(startPan.x, endPan.x, percent, easing);\n      }\n\n      if (valid(startPan.y, endPan.y)) {\n        pan.y = ease(startPan.y, endPan.y, percent, easing);\n      }\n\n      self.emit('pan');\n    }\n\n    var startZoom = ani_p.startZoom;\n    var endZoom = ani_p.zoom;\n    var animatingZoom = endZoom != null && isCore;\n    if (animatingZoom) {\n      if (valid(startZoom, endZoom)) {\n        _p.zoom = ease(startZoom, endZoom, percent, easing);\n      }\n\n      self.emit('zoom');\n    }\n\n    if (animatingPan || animatingZoom) {\n      self.emit('viewport');\n    }\n\n    var props = ani_p.style;\n    if (props && props.length > 0 && isEles) {\n      for (var i = 0; i < props.length; i++) {\n        var prop = props[i];\n        var _name = prop.name;\n        var end = prop;\n        var start = ani_p.startStyle[_name];\n        var propSpec = style.properties[start.name];\n        var easedVal = ease(start, end, percent, easing, propSpec);\n\n        style.overrideBypass(self, _name, easedVal);\n      } // for props\n\n      self.emit('style');\n    } // if\n  }\n\n  ani_p.progress = percent;\n\n  return percent;\n}\n\nfunction valid(start, end) {\n  if (start == null || end == null) {\n    return false;\n  }\n\n  if (is.number(start) && is.number(end)) {\n    return true;\n  } else if (start && end) {\n    return true;\n  }\n\n  return false;\n}\n\nmodule.exports = step;\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Emitter = __webpack_require__(10);\nvar define = __webpack_require__(3);\nvar is = __webpack_require__(0);\nvar util = __webpack_require__(1);\nvar Selector = __webpack_require__(6);\n\nvar emitterOptions = {\n  qualifierCompare: function qualifierCompare(selector1, selector2) {\n    if (selector1 == null || selector2 == null) {\n      return selector1 == null && selector2 == null;\n    } else {\n      return selector1.sameText(selector2);\n    }\n  },\n  eventMatches: function eventMatches(cy, listener, eventObj) {\n    var selector = listener.qualifier;\n\n    if (selector != null) {\n      return cy !== eventObj.target && is.element(eventObj.target) && selector.matches(eventObj.target);\n    }\n\n    return true;\n  },\n  eventFields: function eventFields(cy) {\n    return {\n      cy: cy,\n      target: cy\n    };\n  },\n  callbackContext: function callbackContext(cy, listener, eventObj) {\n    return listener.qualifier != null ? eventObj.target : cy;\n  }\n};\n\nvar argSelector = function argSelector(arg) {\n  if (is.string(arg)) {\n    return new Selector(arg);\n  } else {\n    return arg;\n  }\n};\n\nvar elesfn = {\n  createEmitter: function createEmitter() {\n    var _p = this._private;\n\n    if (!_p.emitter) {\n      _p.emitter = new Emitter(util.assign({\n        context: this\n      }, emitterOptions));\n    }\n\n    return this;\n  },\n\n  emitter: function emitter() {\n    return this._private.emitter;\n  },\n\n  on: function on(events, selector, callback) {\n    this.emitter().on(events, argSelector(selector), callback);\n\n    return this;\n  },\n\n  removeListener: function removeListener(events, selector, callback) {\n    this.emitter().removeListener(events, argSelector(selector), callback);\n\n    return this;\n  },\n\n  one: function one(events, selector, callback) {\n    this.emitter().one(events, argSelector(selector), callback);\n\n    return this;\n  },\n\n  once: function once(events, selector, callback) {\n    this.emitter().one(events, argSelector(selector), callback);\n\n    return this;\n  },\n\n  emit: function emit(events, extraParams) {\n    this.emitter().emit(events, extraParams);\n\n    return this;\n  }\n};\n\ndefine.eventAliasesOn(elesfn);\n\nmodule.exports = elesfn;\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar corefn = {\n\n  png: function png(options) {\n    var renderer = this._private.renderer;\n    options = options || {};\n\n    return renderer.png(options);\n  },\n\n  jpg: function jpg(options) {\n    var renderer = this._private.renderer;\n    options = options || {};\n\n    options.bg = options.bg || '#fff';\n\n    return renderer.jpg(options);\n  }\n\n};\n\ncorefn.jpeg = corefn.jpg;\n\nmodule.exports = corefn;\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar is = __webpack_require__(0);\n\nvar corefn = {\n\n  layout: function layout(options) {\n    var cy = this;\n\n    if (options == null) {\n      util.error('Layout options must be specified to make a layout');\n      return;\n    }\n\n    if (options.name == null) {\n      util.error('A `name` must be specified to make a layout');\n      return;\n    }\n\n    var name = options.name;\n    var Layout = cy.extension('layout', name);\n\n    if (Layout == null) {\n      util.error('Can not apply layout: No such layout `' + name + '` found; did you include its JS file?');\n      return;\n    }\n\n    var eles = void 0;\n    if (is.string(options.eles)) {\n      eles = cy.$(options.eles);\n    } else {\n      eles = options.eles != null ? options.eles : cy.$();\n    }\n\n    var layout = new Layout(util.extend({}, options, {\n      cy: cy,\n      eles: eles\n    }));\n\n    return layout;\n  }\n\n};\n\ncorefn.createLayout = corefn.makeLayout = corefn.layout;\n\nmodule.exports = corefn;\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar corefn = {\n  notify: function notify(params) {\n    var _p = this._private;\n\n    if (_p.batchingNotify) {\n      var bEles = _p.batchNotifyEles;\n      var bTypes = _p.batchNotifyTypes;\n\n      if (params.eles) {\n        bEles.merge(params.eles);\n      }\n\n      if (!bTypes.ids[params.type]) {\n        bTypes.push(params.type);\n        bTypes.ids[params.type] = true;\n      }\n\n      return; // notifications are disabled during batching\n    }\n\n    if (!_p.notificationsEnabled) {\n      return;\n    } // exit on disabled\n\n    var renderer = this.renderer();\n\n    // exit if destroy() called on core or renderer in between frames #1499 #1528\n    if (this.isDestroyed() || !renderer) {\n      return;\n    }\n\n    renderer.notify(params);\n  },\n\n  notifications: function notifications(bool) {\n    var p = this._private;\n\n    if (bool === undefined) {\n      return p.notificationsEnabled;\n    } else {\n      p.notificationsEnabled = bool ? true : false;\n    }\n  },\n\n  noNotifications: function noNotifications(callback) {\n    this.notifications(false);\n    callback();\n    this.notifications(true);\n  },\n\n  batching: function batching() {\n    return this._private.batchCount > 0;\n  },\n\n  startBatch: function startBatch() {\n    var _p = this._private;\n\n    if (_p.batchCount == null) {\n      _p.batchCount = 0;\n    }\n\n    if (_p.batchCount === 0) {\n      _p.batchingStyle = _p.batchingNotify = true;\n      _p.batchStyleEles = this.collection();\n      _p.batchNotifyEles = this.collection();\n      _p.batchNotifyTypes = [];\n      _p.batchNotifyTypes.ids = {};\n    }\n\n    _p.batchCount++;\n\n    return this;\n  },\n\n  endBatch: function endBatch() {\n    var _p = this._private;\n\n    _p.batchCount--;\n\n    if (_p.batchCount === 0) {\n      // update style for dirty eles\n      _p.batchingStyle = false;\n      _p.batchStyleEles.updateStyle();\n\n      // notify the renderer of queued eles and event types\n      _p.batchingNotify = false;\n      this.notify({\n        type: _p.batchNotifyTypes,\n        eles: _p.batchNotifyEles\n      });\n    }\n\n    return this;\n  },\n\n  batch: function batch(callback) {\n    this.startBatch();\n    callback();\n    this.endBatch();\n\n    return this;\n  },\n\n  // for backwards compatibility\n  batchData: function batchData(map) {\n    var cy = this;\n\n    return this.batch(function () {\n      var ids = Object.keys(map);\n\n      for (var i = 0; i < ids.length; i++) {\n        var id = ids[i];\n        var data = map[id];\n        var ele = cy.getElementById(id);\n\n        ele.data(data);\n      }\n    });\n  }\n};\n\nmodule.exports = corefn;\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\n\nvar corefn = {\n\n  renderTo: function renderTo(context, zoom, pan, pxRatio) {\n    var r = this._private.renderer;\n\n    r.renderTo(context, zoom, pan, pxRatio);\n    return this;\n  },\n\n  renderer: function renderer() {\n    return this._private.renderer;\n  },\n\n  forceRender: function forceRender() {\n    this.notify({\n      type: 'draw'\n    });\n\n    return this;\n  },\n\n  resize: function resize() {\n    this.invalidateSize();\n\n    this.notify({\n      type: 'resize'\n    });\n\n    this.emit('resize');\n\n    return this;\n  },\n\n  initRenderer: function initRenderer(options) {\n    var cy = this;\n\n    var RendererProto = cy.extension('renderer', options.name);\n    if (RendererProto == null) {\n      util.error('Can not initialise: No such renderer `%s` found; did you include its JS file?', options.name);\n      return;\n    }\n\n    cy._private.renderer = new RendererProto(util.extend({}, options, { cy: cy }));\n\n    this.notify({ type: 'init' });\n  },\n\n  destroyRenderer: function destroyRenderer() {\n    var cy = this;\n\n    cy.notify({ type: 'destroy' }); // destroy the renderer\n\n    var domEle = cy.container();\n    if (domEle) {\n      domEle._cyreg = null;\n\n      while (domEle.childNodes.length > 0) {\n        domEle.removeChild(domEle.childNodes[0]);\n      }\n    }\n\n    cy._private.renderer = null; // to be extra safe, remove the ref\n  },\n\n  onRender: function onRender(fn) {\n    return this.on('render', fn);\n  },\n\n  offRender: function offRender(fn) {\n    return this.off('render', fn);\n  }\n\n};\n\ncorefn.invalidateDimensions = corefn.resize;\n\nmodule.exports = corefn;\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar Collection = __webpack_require__(7);\n\nvar corefn = {\n\n  // get a collection\n  // - empty collection on no args\n  // - collection of elements in the graph on selector arg\n  // - guarantee a returned collection when elements or collection specified\n  collection: function collection(eles, opts) {\n\n    if (is.string(eles)) {\n      return this.$(eles);\n    } else if (is.elementOrCollection(eles)) {\n      return eles.collection();\n    } else if (is.array(eles)) {\n      return new Collection(this, eles, opts);\n    }\n\n    return new Collection(this);\n  },\n\n  nodes: function nodes(selector) {\n    var nodes = this.$(function (ele) {\n      return ele.isNode();\n    });\n\n    if (selector) {\n      return nodes.filter(selector);\n    }\n\n    return nodes;\n  },\n\n  edges: function edges(selector) {\n    var edges = this.$(function (ele) {\n      return ele.isEdge();\n    });\n\n    if (selector) {\n      return edges.filter(selector);\n    }\n\n    return edges;\n  },\n\n  // search the graph like jQuery\n  $: function $(selector) {\n    var eles = this._private.elements;\n\n    if (selector) {\n      return eles.filter(selector);\n    } else {\n      return eles.spawnSelf();\n    }\n  },\n\n  mutableElements: function mutableElements() {\n    return this._private.elements;\n  }\n\n};\n\n// aliases\ncorefn.elements = corefn.filter = corefn.$;\n\nmodule.exports = corefn;\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar Style = __webpack_require__(18);\n\nvar corefn = {\n\n  style: function style(newStyle) {\n    if (newStyle) {\n      var s = this.setStyle(newStyle);\n\n      s.update();\n    }\n\n    return this._private.style;\n  },\n\n  setStyle: function setStyle(style) {\n    var _p = this._private;\n\n    if (is.stylesheet(style)) {\n      _p.style = style.generateStyle(this);\n    } else if (is.array(style)) {\n      _p.style = Style.fromJson(this, style);\n    } else if (is.string(style)) {\n      _p.style = Style.fromString(this, style);\n    } else {\n      _p.style = Style(this);\n    }\n\n    return _p.style;\n  }\n};\n\nmodule.exports = corefn;\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar window = __webpack_require__(4);\nvar math = __webpack_require__(2);\n\nvar corefn = {\n\n  autolock: function autolock(bool) {\n    if (bool !== undefined) {\n      this._private.autolock = bool ? true : false;\n    } else {\n      return this._private.autolock;\n    }\n\n    return this; // chaining\n  },\n\n  autoungrabify: function autoungrabify(bool) {\n    if (bool !== undefined) {\n      this._private.autoungrabify = bool ? true : false;\n    } else {\n      return this._private.autoungrabify;\n    }\n\n    return this; // chaining\n  },\n\n  autounselectify: function autounselectify(bool) {\n    if (bool !== undefined) {\n      this._private.autounselectify = bool ? true : false;\n    } else {\n      return this._private.autounselectify;\n    }\n\n    return this; // chaining\n  },\n\n  panningEnabled: function panningEnabled(bool) {\n    if (bool !== undefined) {\n      this._private.panningEnabled = bool ? true : false;\n    } else {\n      return this._private.panningEnabled;\n    }\n\n    return this; // chaining\n  },\n\n  userPanningEnabled: function userPanningEnabled(bool) {\n    if (bool !== undefined) {\n      this._private.userPanningEnabled = bool ? true : false;\n    } else {\n      return this._private.userPanningEnabled;\n    }\n\n    return this; // chaining\n  },\n\n  zoomingEnabled: function zoomingEnabled(bool) {\n    if (bool !== undefined) {\n      this._private.zoomingEnabled = bool ? true : false;\n    } else {\n      return this._private.zoomingEnabled;\n    }\n\n    return this; // chaining\n  },\n\n  userZoomingEnabled: function userZoomingEnabled(bool) {\n    if (bool !== undefined) {\n      this._private.userZoomingEnabled = bool ? true : false;\n    } else {\n      return this._private.userZoomingEnabled;\n    }\n\n    return this; // chaining\n  },\n\n  boxSelectionEnabled: function boxSelectionEnabled(bool) {\n    if (bool !== undefined) {\n      this._private.boxSelectionEnabled = bool ? true : false;\n    } else {\n      return this._private.boxSelectionEnabled;\n    }\n\n    return this; // chaining\n  },\n\n  pan: function pan() {\n    var args = arguments;\n    var pan = this._private.pan;\n    var dim = void 0,\n        val = void 0,\n        dims = void 0,\n        x = void 0,\n        y = void 0;\n\n    switch (args.length) {\n      case 0:\n        // .pan()\n        return pan;\n\n      case 1:\n\n        if (is.string(args[0])) {\n          // .pan('x')\n          dim = args[0];\n          return pan[dim];\n        } else if (is.plainObject(args[0])) {\n          // .pan({ x: 0, y: 100 })\n          if (!this._private.panningEnabled) {\n            return this;\n          }\n\n          dims = args[0];\n          x = dims.x;\n          y = dims.y;\n\n          if (is.number(x)) {\n            pan.x = x;\n          }\n\n          if (is.number(y)) {\n            pan.y = y;\n          }\n\n          this.emit('pan viewport');\n        }\n        break;\n\n      case 2:\n        // .pan('x', 100)\n        if (!this._private.panningEnabled) {\n          return this;\n        }\n\n        dim = args[0];\n        val = args[1];\n\n        if ((dim === 'x' || dim === 'y') && is.number(val)) {\n          pan[dim] = val;\n        }\n\n        this.emit('pan viewport');\n        break;\n\n      default:\n        break; // invalid\n    }\n\n    this.notify({ // notify the renderer that the viewport changed\n      type: 'viewport'\n    });\n\n    return this; // chaining\n  },\n\n  panBy: function panBy(arg0, arg1) {\n    var args = arguments;\n    var pan = this._private.pan;\n    var dim = void 0,\n        val = void 0,\n        dims = void 0,\n        x = void 0,\n        y = void 0;\n\n    if (!this._private.panningEnabled) {\n      return this;\n    }\n\n    switch (args.length) {\n      case 1:\n\n        if (is.plainObject(arg0)) {\n          // .panBy({ x: 0, y: 100 })\n          dims = args[0];\n          x = dims.x;\n          y = dims.y;\n\n          if (is.number(x)) {\n            pan.x += x;\n          }\n\n          if (is.number(y)) {\n            pan.y += y;\n          }\n\n          this.emit('pan viewport');\n        }\n        break;\n\n      case 2:\n        // .panBy('x', 100)\n        dim = arg0;\n        val = arg1;\n\n        if ((dim === 'x' || dim === 'y') && is.number(val)) {\n          pan[dim] += val;\n        }\n\n        this.emit('pan viewport');\n        break;\n\n      default:\n        break; // invalid\n    }\n\n    this.notify({ // notify the renderer that the viewport changed\n      type: 'viewport'\n    });\n\n    return this; // chaining\n  },\n\n  fit: function fit(elements, padding) {\n    var viewportState = this.getFitViewport(elements, padding);\n\n    if (viewportState) {\n      var _p = this._private;\n      _p.zoom = viewportState.zoom;\n      _p.pan = viewportState.pan;\n\n      this.emit('pan zoom viewport');\n\n      this.notify({ // notify the renderer that the viewport changed\n        type: 'viewport'\n      });\n    }\n\n    return this; // chaining\n  },\n\n  getFitViewport: function getFitViewport(elements, padding) {\n    if (is.number(elements) && padding === undefined) {\n      // elements is optional\n      padding = elements;\n      elements = undefined;\n    }\n\n    if (!this._private.panningEnabled || !this._private.zoomingEnabled) {\n      return;\n    }\n\n    var bb = void 0;\n\n    if (is.string(elements)) {\n      var sel = elements;\n      elements = this.$(sel);\n    } else if (is.boundingBox(elements)) {\n      // assume bb\n      var bbe = elements;\n      bb = {\n        x1: bbe.x1,\n        y1: bbe.y1,\n        x2: bbe.x2,\n        y2: bbe.y2\n      };\n\n      bb.w = bb.x2 - bb.x1;\n      bb.h = bb.y2 - bb.y1;\n    } else if (!is.elementOrCollection(elements)) {\n      elements = this.mutableElements();\n    }\n\n    if (is.elementOrCollection(elements) && elements.empty()) {\n      return;\n    } // can't fit to nothing\n\n    bb = bb || elements.boundingBox();\n\n    var w = this.width();\n    var h = this.height();\n    var zoom = void 0;\n    padding = is.number(padding) ? padding : 0;\n\n    if (!isNaN(w) && !isNaN(h) && w > 0 && h > 0 && !isNaN(bb.w) && !isNaN(bb.h) && bb.w > 0 && bb.h > 0) {\n      zoom = Math.min((w - 2 * padding) / bb.w, (h - 2 * padding) / bb.h);\n\n      // crop zoom\n      zoom = zoom > this._private.maxZoom ? this._private.maxZoom : zoom;\n      zoom = zoom < this._private.minZoom ? this._private.minZoom : zoom;\n\n      var pan = { // now pan to middle\n        x: (w - zoom * (bb.x1 + bb.x2)) / 2,\n        y: (h - zoom * (bb.y1 + bb.y2)) / 2\n      };\n\n      return {\n        zoom: zoom,\n        pan: pan\n      };\n    }\n\n    return;\n  },\n\n  minZoom: function minZoom(zoom) {\n    if (zoom === undefined) {\n      return this._private.minZoom;\n    } else if (is.number(zoom)) {\n      this._private.minZoom = zoom;\n    }\n\n    return this;\n  },\n\n  maxZoom: function maxZoom(zoom) {\n    if (zoom === undefined) {\n      return this._private.maxZoom;\n    } else if (is.number(zoom)) {\n      this._private.maxZoom = zoom;\n    }\n\n    return this;\n  },\n\n  getZoomedViewport: function getZoomedViewport(params) {\n    var _p = this._private;\n    var currentPan = _p.pan;\n    var currentZoom = _p.zoom;\n    var pos = void 0; // in rendered px\n    var zoom = void 0;\n    var bail = false;\n\n    if (!_p.zoomingEnabled) {\n      // zooming disabled\n      bail = true;\n    }\n\n    if (is.number(params)) {\n      // then set the zoom\n      zoom = params;\n    } else if (is.plainObject(params)) {\n      // then zoom about a point\n      zoom = params.level;\n\n      if (params.position != null) {\n        pos = math.modelToRenderedPosition(params.position, currentZoom, currentPan);\n      } else if (params.renderedPosition != null) {\n        pos = params.renderedPosition;\n      }\n\n      if (pos != null && !_p.panningEnabled) {\n        // panning disabled\n        bail = true;\n      }\n    }\n\n    // crop zoom\n    zoom = zoom > _p.maxZoom ? _p.maxZoom : zoom;\n    zoom = zoom < _p.minZoom ? _p.minZoom : zoom;\n\n    // can't zoom with invalid params\n    if (bail || !is.number(zoom) || zoom === currentZoom || pos != null && (!is.number(pos.x) || !is.number(pos.y))) {\n      return null;\n    }\n\n    if (pos != null) {\n      // set zoom about position\n      var pan1 = currentPan;\n      var zoom1 = currentZoom;\n      var zoom2 = zoom;\n\n      var pan2 = {\n        x: -zoom2 / zoom1 * (pos.x - pan1.x) + pos.x,\n        y: -zoom2 / zoom1 * (pos.y - pan1.y) + pos.y\n      };\n\n      return {\n        zoomed: true,\n        panned: true,\n        zoom: zoom2,\n        pan: pan2\n      };\n    } else {\n      // just set the zoom\n      return {\n        zoomed: true,\n        panned: false,\n        zoom: zoom,\n        pan: currentPan\n      };\n    }\n  },\n\n  zoom: function zoom(params) {\n    if (params === undefined) {\n      // get\n      return this._private.zoom;\n    } else {\n      // set\n      var vp = this.getZoomedViewport(params);\n      var _p = this._private;\n\n      if (vp == null || !vp.zoomed) {\n        return this;\n      }\n\n      _p.zoom = vp.zoom;\n\n      if (vp.panned) {\n        _p.pan.x = vp.pan.x;\n        _p.pan.y = vp.pan.y;\n      }\n\n      this.emit('zoom' + (vp.panned ? ' pan' : '') + ' viewport');\n\n      this.notify({ // notify the renderer that the viewport changed\n        type: 'viewport'\n      });\n\n      return this; // chaining\n    }\n  },\n\n  viewport: function viewport(opts) {\n    var _p = this._private;\n    var zoomDefd = true;\n    var panDefd = true;\n    var events = []; // to trigger\n    var zoomFailed = false;\n    var panFailed = false;\n\n    if (!opts) {\n      return this;\n    }\n    if (!is.number(opts.zoom)) {\n      zoomDefd = false;\n    }\n    if (!is.plainObject(opts.pan)) {\n      panDefd = false;\n    }\n    if (!zoomDefd && !panDefd) {\n      return this;\n    }\n\n    if (zoomDefd) {\n      var z = opts.zoom;\n\n      if (z < _p.minZoom || z > _p.maxZoom || !_p.zoomingEnabled) {\n        zoomFailed = true;\n      } else {\n        _p.zoom = z;\n\n        events.push('zoom');\n      }\n    }\n\n    if (panDefd && (!zoomFailed || !opts.cancelOnFailedZoom) && _p.panningEnabled) {\n      var p = opts.pan;\n\n      if (is.number(p.x)) {\n        _p.pan.x = p.x;\n        panFailed = false;\n      }\n\n      if (is.number(p.y)) {\n        _p.pan.y = p.y;\n        panFailed = false;\n      }\n\n      if (!panFailed) {\n        events.push('pan');\n      }\n    }\n\n    if (events.length > 0) {\n      events.push('viewport');\n      this.emit(events.join(' '));\n\n      this.notify({\n        type: 'viewport'\n      });\n    }\n\n    return this; // chaining\n  },\n\n  center: function center(elements) {\n    var pan = this.getCenterPan(elements);\n\n    if (pan) {\n      this._private.pan = pan;\n\n      this.emit('pan viewport');\n\n      this.notify({ // notify the renderer that the viewport changed\n        type: 'viewport'\n      });\n    }\n\n    return this; // chaining\n  },\n\n  getCenterPan: function getCenterPan(elements, zoom) {\n    if (!this._private.panningEnabled) {\n      return;\n    }\n\n    if (is.string(elements)) {\n      var selector = elements;\n      elements = this.mutableElements().filter(selector);\n    } else if (!is.elementOrCollection(elements)) {\n      elements = this.mutableElements();\n    }\n\n    if (elements.length === 0) {\n      return;\n    } // can't centre pan to nothing\n\n    var bb = elements.boundingBox();\n    var w = this.width();\n    var h = this.height();\n    zoom = zoom === undefined ? this._private.zoom : zoom;\n\n    var pan = { // middle\n      x: (w - zoom * (bb.x1 + bb.x2)) / 2,\n      y: (h - zoom * (bb.y1 + bb.y2)) / 2\n    };\n\n    return pan;\n  },\n\n  reset: function reset() {\n    if (!this._private.panningEnabled || !this._private.zoomingEnabled) {\n      return this;\n    }\n\n    this.viewport({\n      pan: { x: 0, y: 0 },\n      zoom: 1\n    });\n\n    return this; // chaining\n  },\n\n  invalidateSize: function invalidateSize() {\n    this._private.sizeCache = null;\n  },\n\n  size: function size() {\n    var _p = this._private;\n    var container = _p.container;\n\n    return _p.sizeCache = _p.sizeCache || (container ? function () {\n      var style = window.getComputedStyle(container);\n      var val = function val(name) {\n        return parseFloat(style.getPropertyValue(name));\n      };\n\n      return {\n        width: container.clientWidth - val('padding-left') - val('padding-right'),\n        height: container.clientHeight - val('padding-top') - val('padding-bottom')\n      };\n    }() : { // fallback if no container (not 0 b/c can be used for dividing etc)\n      width: 1,\n      height: 1\n    });\n  },\n\n  width: function width() {\n    return this.size().width;\n  },\n\n  height: function height() {\n    return this.size().height;\n  },\n\n  extent: function extent() {\n    var pan = this._private.pan;\n    var zoom = this._private.zoom;\n    var rb = this.renderedExtent();\n\n    var b = {\n      x1: (rb.x1 - pan.x) / zoom,\n      x2: (rb.x2 - pan.x) / zoom,\n      y1: (rb.y1 - pan.y) / zoom,\n      y2: (rb.y2 - pan.y) / zoom\n    };\n\n    b.w = b.x2 - b.x1;\n    b.h = b.y2 - b.y1;\n\n    return b;\n  },\n\n  renderedExtent: function renderedExtent() {\n    var width = this.width();\n    var height = this.height();\n\n    return {\n      x1: 0,\n      y1: 0,\n      x2: width,\n      y2: height,\n      w: width,\n      h: height\n    };\n  }\n};\n\n// aliases\ncorefn.centre = corefn.center;\n\n// backwards compatibility\ncorefn.autolockNodes = corefn.autolock;\ncorefn.autoungrabifyNodes = corefn.autoungrabify;\n\nmodule.exports = corefn;\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar Animation = __webpack_require__(23);\nvar math = __webpack_require__(2);\nvar is = __webpack_require__(0);\n\nvar define = {\n\n  animated: function animated() {\n    return function animatedImpl() {\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n      var cy = this._private.cy || this;\n\n      if (!cy.styleEnabled()) {\n        return false;\n      }\n\n      var ele = all[0];\n\n      if (ele) {\n        return ele._private.animation.current.length > 0;\n      }\n    };\n  }, // animated\n\n  clearQueue: function clearQueue() {\n    return function clearQueueImpl() {\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n      var cy = this._private.cy || this;\n\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n\n      for (var i = 0; i < all.length; i++) {\n        var ele = all[i];\n        ele._private.animation.queue = [];\n      }\n\n      return this;\n    };\n  }, // clearQueue\n\n  delay: function delay() {\n    return function delayImpl(time, complete) {\n      var cy = this._private.cy || this;\n\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n\n      return this.animate({\n        delay: time,\n        duration: time,\n        complete: complete\n      });\n    };\n  }, // delay\n\n  delayAnimation: function delayAnimation() {\n    return function delayAnimationImpl(time, complete) {\n      var cy = this._private.cy || this;\n\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n\n      return this.animation({\n        delay: time,\n        duration: time,\n        complete: complete\n      });\n    };\n  }, // delay\n\n  animation: function animation() {\n    return function animationImpl(properties, params) {\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n      var cy = this._private.cy || this;\n      var isCore = !selfIsArrayLike;\n      var isEles = !isCore;\n\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n\n      var style = cy.style();\n\n      properties = util.assign({}, properties, params);\n\n      var propertiesEmpty = Object.keys(properties).length === 0;\n\n      if (propertiesEmpty) {\n        return new Animation(all[0], properties); // nothing to animate\n      }\n\n      if (properties.duration === undefined) {\n        properties.duration = 400;\n      }\n\n      switch (properties.duration) {\n        case 'slow':\n          properties.duration = 600;\n          break;\n        case 'fast':\n          properties.duration = 200;\n          break;\n      }\n\n      if (isEles) {\n        properties.style = style.getPropsList(properties.style || properties.css);\n\n        properties.css = undefined;\n      }\n\n      if (isEles && properties.renderedPosition != null) {\n        var rpos = properties.renderedPosition;\n        var pan = cy.pan();\n        var zoom = cy.zoom();\n\n        properties.position = math.renderedToModelPosition(rpos, zoom, pan);\n      }\n\n      // override pan w/ panBy if set\n      if (isCore && properties.panBy != null) {\n        var panBy = properties.panBy;\n        var cyPan = cy.pan();\n\n        properties.pan = {\n          x: cyPan.x + panBy.x,\n          y: cyPan.y + panBy.y\n        };\n      }\n\n      // override pan w/ center if set\n      var center = properties.center || properties.centre;\n      if (isCore && center != null) {\n        var centerPan = cy.getCenterPan(center.eles, properties.zoom);\n\n        if (centerPan != null) {\n          properties.pan = centerPan;\n        }\n      }\n\n      // override pan & zoom w/ fit if set\n      if (isCore && properties.fit != null) {\n        var fit = properties.fit;\n        var fitVp = cy.getFitViewport(fit.eles || fit.boundingBox, fit.padding);\n\n        if (fitVp != null) {\n          properties.pan = fitVp.pan;\n          properties.zoom = fitVp.zoom;\n        }\n      }\n\n      // override zoom (& potentially pan) w/ zoom obj if set\n      if (isCore && is.plainObject(properties.zoom)) {\n        var vp = cy.getZoomedViewport(properties.zoom);\n\n        if (vp != null) {\n          if (vp.zoomed) {\n            properties.zoom = vp.zoom;\n          }\n\n          if (vp.panned) {\n            properties.pan = vp.pan;\n          }\n        }\n      }\n\n      return new Animation(all[0], properties);\n    };\n  }, // animate\n\n  animate: function animate() {\n    return function animateImpl(properties, params) {\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n      var cy = this._private.cy || this;\n\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n\n      if (params) {\n        properties = util.extend({}, properties, params);\n      }\n\n      // manually hook and run the animation\n      for (var i = 0; i < all.length; i++) {\n        var ele = all[i];\n        var queue = ele.animated() && (properties.queue === undefined || properties.queue);\n\n        var ani = ele.animation(properties, queue ? { queue: true } : undefined);\n\n        ani.play();\n      }\n\n      return this; // chaining\n    };\n  }, // animate\n\n  stop: function stop() {\n    return function stopImpl(clearQueue, jumpToEnd) {\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n      var cy = this._private.cy || this;\n\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n\n      for (var i = 0; i < all.length; i++) {\n        var ele = all[i];\n        var _p = ele._private;\n        var anis = _p.animation.current;\n\n        for (var j = 0; j < anis.length; j++) {\n          var ani = anis[j];\n          var ani_p = ani._private;\n\n          if (jumpToEnd) {\n            // next iteration of the animation loop, the animation\n            // will go straight to the end and be removed\n            ani_p.duration = 0;\n          }\n        }\n\n        // clear the queue of future animations\n        if (clearQueue) {\n          _p.animation.queue = [];\n        }\n\n        if (!jumpToEnd) {\n          _p.animation.current = [];\n        }\n      }\n\n      // we have to notify (the animation loop doesn't do it for us on `stop`)\n      cy.notify({\n        eles: this,\n        type: 'draw'\n      });\n\n      return this;\n    };\n  } // stop\n\n}; // define\n\nmodule.exports = define;\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar util = __webpack_require__(1);\nvar is = __webpack_require__(0);\n\nvar define = {\n\n  // access data field\n  data: function data(params) {\n    var defaults = {\n      field: 'data',\n      bindingEvent: 'data',\n      allowBinding: false,\n      allowSetting: false,\n      allowGetting: false,\n      settingEvent: 'data',\n      settingTriggersEvent: false,\n      triggerFnName: 'trigger',\n      immutableKeys: {}, // key => true if immutable\n      updateStyle: false,\n      beforeGet: function beforeGet(self) {},\n      beforeSet: function beforeSet(self, obj) {},\n      onSet: function onSet(self) {},\n      canSet: function canSet(self) {\n        return true;\n      }\n    };\n    params = util.extend({}, defaults, params);\n\n    return function dataImpl(name, value) {\n      var p = params;\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n      var single = selfIsArrayLike ? self[0] : self;\n\n      // .data('foo', ...)\n      if (is.string(name)) {\n        // set or get property\n\n        // .data('foo')\n        if (p.allowGetting && value === undefined) {\n          // get\n\n          var ret = void 0;\n          if (single) {\n            p.beforeGet(single);\n\n            ret = single._private[p.field][name];\n          }\n          return ret;\n\n          // .data('foo', 'bar')\n        } else if (p.allowSetting && value !== undefined) {\n          // set\n          var valid = !p.immutableKeys[name];\n          if (valid) {\n            var change = _defineProperty({}, name, value);\n\n            p.beforeSet(self, change);\n\n            for (var i = 0, l = all.length; i < l; i++) {\n              var ele = all[i];\n\n              if (p.canSet(ele)) {\n                ele._private[p.field][name] = value;\n              }\n            }\n\n            // update mappers if asked\n            if (p.updateStyle) {\n              self.updateStyle();\n            }\n\n            // call onSet callback\n            p.onSet(self);\n\n            if (p.settingTriggersEvent) {\n              self[p.triggerFnName](p.settingEvent);\n            }\n          }\n        }\n\n        // .data({ 'foo': 'bar' })\n      } else if (p.allowSetting && is.plainObject(name)) {\n        // extend\n        var obj = name;\n        var k = void 0,\n            v = void 0;\n        var keys = Object.keys(obj);\n\n        p.beforeSet(self, obj);\n\n        for (var _i = 0; _i < keys.length; _i++) {\n          k = keys[_i];\n          v = obj[k];\n\n          var _valid = !p.immutableKeys[k];\n          if (_valid) {\n            for (var j = 0; j < all.length; j++) {\n              var _ele = all[j];\n\n              if (p.canSet(_ele)) {\n                _ele._private[p.field][k] = v;\n              }\n            }\n          }\n        }\n\n        // update mappers if asked\n        if (p.updateStyle) {\n          self.updateStyle();\n        }\n\n        // call onSet callback\n        p.onSet(self);\n\n        if (p.settingTriggersEvent) {\n          self[p.triggerFnName](p.settingEvent);\n        }\n\n        // .data(function(){ ... })\n      } else if (p.allowBinding && is.fn(name)) {\n        // bind to event\n        var fn = name;\n        self.on(p.bindingEvent, fn);\n\n        // .data()\n      } else if (p.allowGetting && name === undefined) {\n        // get whole object\n        var _ret = void 0;\n        if (single) {\n          p.beforeGet(single);\n\n          _ret = single._private[p.field];\n        }\n        return _ret;\n      }\n\n      return self; // maintain chainability\n    }; // function\n  }, // data\n\n  // remove data field\n  removeData: function removeData(params) {\n    var defaults = {\n      field: 'data',\n      event: 'data',\n      triggerFnName: 'trigger',\n      triggerEvent: false,\n      immutableKeys: {} // key => true if immutable\n    };\n    params = util.extend({}, defaults, params);\n\n    return function removeDataImpl(names) {\n      var p = params;\n      var self = this;\n      var selfIsArrayLike = self.length !== undefined;\n      var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n\n      // .removeData('foo bar')\n      if (is.string(names)) {\n        // then get the list of keys, and delete them\n        var keys = names.split(/\\s+/);\n        var l = keys.length;\n\n        for (var i = 0; i < l; i++) {\n          // delete each non-empty key\n          var key = keys[i];\n          if (is.emptyString(key)) {\n            continue;\n          }\n\n          var valid = !p.immutableKeys[key]; // not valid if immutable\n          if (valid) {\n            for (var i_a = 0, l_a = all.length; i_a < l_a; i_a++) {\n              all[i_a]._private[p.field][key] = undefined;\n            }\n          }\n        }\n\n        if (p.triggerEvent) {\n          self[p.triggerFnName](p.event);\n        }\n\n        // .removeData()\n      } else if (names === undefined) {\n        // then delete all keys\n\n        for (var _i_a = 0, _l_a = all.length; _i_a < _l_a; _i_a++) {\n          var _privateFields = all[_i_a]._private[p.field];\n          var _keys = Object.keys(_privateFields);\n\n          for (var _i2 = 0; _i2 < _keys.length; _i2++) {\n            var _key = _keys[_i2];\n            var validKeyToDelete = !p.immutableKeys[_key];\n\n            if (validKeyToDelete) {\n              _privateFields[_key] = undefined;\n            }\n          }\n        }\n\n        if (p.triggerEvent) {\n          self[p.triggerFnName](p.event);\n        }\n      }\n\n      return self; // maintain chaining\n    }; // function\n  } // removeData\n}; // define\n\nmodule.exports = define;\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Promise = __webpack_require__(5);\n\nvar define = {\n\n  eventAliasesOn: function eventAliasesOn(proto) {\n    var p = proto;\n\n    p.addListener = p.listen = p.bind = p.on;\n    p.unlisten = p.unbind = p.off = p.removeListener;\n    p.trigger = p.emit;\n\n    // this is just a wrapper alias of .on()\n    p.pon = p.promiseOn = function (events, selector) {\n      var self = this;\n      var args = Array.prototype.slice.call(arguments, 0);\n\n      return new Promise(function (resolve, reject) {\n        var callback = function callback(e) {\n          self.off.apply(self, offArgs);\n\n          resolve(e);\n        };\n\n        var onArgs = args.concat([callback]);\n        var offArgs = onArgs.concat([]);\n\n        self.on.apply(self, onArgs);\n      });\n    };\n  }\n\n}; // define\n\nmodule.exports = define;\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = [{\n  type: 'layout',\n  extensions: __webpack_require__(81)\n}, {\n  type: 'renderer',\n  extensions: __webpack_require__(114)\n}];\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar math = __webpack_require__(2);\nvar is = __webpack_require__(0);\n\nvar defaults = {\n  fit: true, // whether to fit the viewport to the graph\n  directed: false, // whether the tree is directed downwards (or edges can point in any direction if false)\n  padding: 30, // padding on fit\n  circle: false, // put depths in concentric circles if true, put depths top down if false\n  spacingFactor: 1.75, // positive spacing factor, larger => more space between nodes (N.B. n/a if causes overlap)\n  boundingBox: undefined, // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  avoidOverlap: true, // prevents node overlap, may overflow boundingBox if not enough space\n  nodeDimensionsIncludeLabels: false, // Excludes the label when calculating node bounding boxes for the layout algorithm\n  roots: undefined, // the roots of the trees\n  maximalAdjustments: 0, // how many times to try to position the nodes in a maximal way (i.e. no backtracking)\n  animate: false, // whether to transition the node positions\n  animationDuration: 500, // duration of animation in ms if enabled\n  animationEasing: undefined, // easing of animation if enabled,\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  }, // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined, // callback on layoutready\n  stop: undefined, // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts\n};\n\nfunction BreadthFirstLayout(options) {\n  this.options = util.extend({}, defaults, options);\n}\n\nBreadthFirstLayout.prototype.run = function () {\n  var params = this.options;\n  var options = params;\n\n  var cy = params.cy;\n  var eles = options.eles;\n  var nodes = eles.nodes().not(':parent');\n  var graph = eles;\n\n  var bb = math.makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0, y1: 0, w: cy.width(), h: cy.height()\n  });\n\n  var roots = void 0;\n  if (is.elementOrCollection(options.roots)) {\n    roots = options.roots;\n  } else if (is.array(options.roots)) {\n    var rootsArray = [];\n\n    for (var i = 0; i < options.roots.length; i++) {\n      var id = options.roots[i];\n      var ele = cy.getElementById(id);\n      rootsArray.push(ele);\n    }\n\n    roots = cy.collection(rootsArray);\n  } else if (is.string(options.roots)) {\n    roots = cy.$(options.roots);\n  } else {\n    if (options.directed) {\n      roots = nodes.roots();\n    } else {\n      var components = [];\n      var unhandledNodes = nodes;\n\n      var _loop = function _loop() {\n        var currComp = cy.collection();\n\n        eles.bfs({\n          roots: unhandledNodes[0],\n          visit: function visit(node, edge, pNode, i, depth) {\n            currComp = currComp.add(node);\n          },\n          directed: false\n        });\n\n        unhandledNodes = unhandledNodes.not(currComp);\n        components.push(currComp);\n      };\n\n      while (unhandledNodes.length > 0) {\n        _loop();\n      }\n\n      roots = cy.collection();\n\n      var _loop2 = function _loop2(_i) {\n        var comp = components[_i];\n        var maxDegree = comp.maxDegree(false);\n        var compRoots = comp.filter(function (ele) {\n          return ele.degree(false) === maxDegree;\n        });\n\n        roots = roots.add(compRoots);\n      };\n\n      for (var _i = 0; _i < components.length; _i++) {\n        _loop2(_i);\n      }\n    }\n  }\n\n  var depths = [];\n  var foundByBfs = {};\n  var id2depth = {};\n  var prevNode = {};\n  var prevEdge = {};\n  var successors = {};\n\n  // find the depths of the nodes\n  graph.bfs({\n    roots: roots,\n    directed: options.directed,\n    visit: function visit(node, edge, pNode, i, depth) {\n      var ele = node[0];\n      var id = ele.id();\n\n      if (!depths[depth]) {\n        depths[depth] = [];\n      }\n\n      depths[depth].push(ele);\n      foundByBfs[id] = true;\n      id2depth[id] = depth;\n      prevNode[id] = pNode;\n      prevEdge[id] = edge;\n\n      if (pNode) {\n        var prevId = pNode.id();\n        var succ = successors[prevId] = successors[prevId] || [];\n\n        succ.push(node);\n      }\n    }\n  });\n\n  // check for nodes not found by bfs\n  var orphanNodes = [];\n  for (var _i2 = 0; _i2 < nodes.length; _i2++) {\n    var _ele = nodes[_i2];\n\n    if (foundByBfs[_ele.id()]) {\n      continue;\n    } else {\n      orphanNodes.push(_ele);\n    }\n  }\n\n  // assign orphan nodes a depth from their neighborhood\n  var maxChecks = orphanNodes.length * 3;\n  var checks = 0;\n  while (orphanNodes.length !== 0 && checks < maxChecks) {\n    var node = orphanNodes.shift();\n    var neighbors = node.neighborhood().nodes();\n    var assignedDepth = false;\n\n    for (var _i3 = 0; _i3 < neighbors.length; _i3++) {\n      var depth = id2depth[neighbors[_i3].id()];\n\n      if (depth !== undefined) {\n        depths[depth].push(node);\n        assignedDepth = true;\n        break;\n      }\n    }\n\n    if (!assignedDepth) {\n      orphanNodes.push(node);\n    }\n\n    checks++;\n  }\n\n  // assign orphan nodes that are still left to the depth of their subgraph\n  while (orphanNodes.length !== 0) {\n    var _node = orphanNodes.shift();\n    //let subgraph = graph.bfs( node ).path;\n    var _assignedDepth = false;\n\n    // for( let i = 0; i < subgraph.length; i++ ){\n    //   let depth = id2depth[ subgraph[i].id() ];\n\n    //   if( depth !== undefined ){\n    //     depths[depth].push( node );\n    //     assignedDepth = true;\n    //     break;\n    //   }\n    // }\n\n    if (!_assignedDepth) {\n      // worst case if the graph really isn't tree friendly, then just dump it in 0\n      if (depths.length === 0) {\n        depths.push([]);\n      }\n\n      depths[0].push(_node);\n    }\n  }\n\n  // assign the nodes a depth and index\n  var assignDepthsToEles = function assignDepthsToEles() {\n    for (var _i4 = 0; _i4 < depths.length; _i4++) {\n      var _eles = depths[_i4];\n\n      for (var j = 0; j < _eles.length; j++) {\n        var _ele2 = _eles[j];\n\n        if (_ele2 == null) {\n          _eles.splice(j, 1);\n          j--;\n          continue;\n        }\n\n        _ele2._private.scratch.breadthfirst = {\n          depth: _i4,\n          index: j\n        };\n      }\n    }\n  };\n  assignDepthsToEles();\n\n  var intersectsDepth = function intersectsDepth(node) {\n    // returns true if has edges pointing in from a higher depth\n    var edges = node.connectedEdges(function (ele) {\n      return ele.data('target') === node.id();\n    });\n    var thisInfo = node._private.scratch.breadthfirst;\n    var highestDepthOfOther = 0;\n    var highestOther = void 0;\n    for (var _i5 = 0; _i5 < edges.length; _i5++) {\n      var edge = edges[_i5];\n      var otherNode = edge.source()[0];\n      var otherInfo = otherNode._private.scratch.breadthfirst;\n\n      if (thisInfo.depth <= otherInfo.depth && highestDepthOfOther < otherInfo.depth) {\n        highestDepthOfOther = otherInfo.depth;\n        highestOther = otherNode;\n      }\n    }\n\n    return highestOther;\n  };\n\n  // make maximal if so set by adjusting depths\n  for (var adj = 0; adj < options.maximalAdjustments; adj++) {\n\n    var nDepths = depths.length;\n    var elesToMove = [];\n    for (var _i6 = 0; _i6 < nDepths; _i6++) {\n      var _depth = depths[_i6];\n\n      var nDepth = _depth.length;\n      for (var j = 0; j < nDepth; j++) {\n        var _ele3 = _depth[j];\n        var info = _ele3._private.scratch.breadthfirst;\n        var intEle = intersectsDepth(_ele3);\n\n        if (intEle) {\n          info.intEle = intEle;\n          elesToMove.push(_ele3);\n        }\n      }\n    }\n\n    for (var _i7 = 0; _i7 < elesToMove.length; _i7++) {\n      var _ele4 = elesToMove[_i7];\n      var _info = _ele4._private.scratch.breadthfirst;\n      var _intEle = _info.intEle;\n      var intInfo = _intEle._private.scratch.breadthfirst;\n\n      depths[_info.depth][_info.index] = null; // remove from old depth & index (create hole to be cleaned)\n\n      // add to end of new depth\n      var newDepth = intInfo.depth + 1;\n      while (newDepth > depths.length - 1) {\n        depths.push([]);\n      }\n      depths[newDepth].push(_ele4);\n\n      _info.depth = newDepth;\n      _info.index = depths[newDepth].length - 1;\n    }\n\n    assignDepthsToEles();\n  }\n\n  // find min distance we need to leave between nodes\n  var minDistance = 0;\n  if (options.avoidOverlap) {\n    for (var _i8 = 0; _i8 < nodes.length; _i8++) {\n      var n = nodes[_i8];\n      var nbb = n.layoutDimensions(options);\n      var w = nbb.w;\n      var h = nbb.h;\n\n      minDistance = Math.max(minDistance, w, h);\n    }\n  }\n\n  // get the weighted percent for an element based on its connectivity to other levels\n  var cachedWeightedPercent = {};\n  var getWeightedPercent = function getWeightedPercent(ele) {\n    if (cachedWeightedPercent[ele.id()]) {\n      return cachedWeightedPercent[ele.id()];\n    }\n\n    var eleDepth = ele._private.scratch.breadthfirst.depth;\n    var neighbors = ele.neighborhood().nodes().not(':parent').intersection(nodes);\n    var percent = 0;\n    var samples = 0;\n\n    for (var _i9 = 0; _i9 < neighbors.length; _i9++) {\n      var neighbor = neighbors[_i9];\n      var bf = neighbor._private.scratch.breadthfirst;\n      var index = bf.index;\n      var _depth2 = bf.depth;\n      var _nDepth = depths[_depth2].length;\n\n      if (eleDepth > _depth2 || eleDepth === 0) {\n        // only get influenced by elements above\n        percent += index / _nDepth;\n        samples++;\n      }\n    }\n\n    samples = Math.max(1, samples);\n    percent = percent / samples;\n\n    if (samples === 0) {\n      // so lone nodes have a \"don't care\" state in sorting\n      percent = undefined;\n    }\n\n    cachedWeightedPercent[ele.id()] = percent;\n    return percent;\n  };\n\n  // rearrange the indices in each depth level based on connectivity\n\n  var sortFn = function sortFn(a, b) {\n    var apct = getWeightedPercent(a);\n    var bpct = getWeightedPercent(b);\n\n    return apct - bpct;\n  };\n\n  for (var times = 0; times < 3; times++) {\n    // do it a few times b/c the depths are dynamic and we want a more stable result\n\n    for (var _i10 = 0; _i10 < depths.length; _i10++) {\n      depths[_i10] = depths[_i10].sort(sortFn);\n    }\n    assignDepthsToEles(); // and update\n  }\n\n  var biggestDepthSize = 0;\n  for (var _i11 = 0; _i11 < depths.length; _i11++) {\n    biggestDepthSize = Math.max(depths[_i11].length, biggestDepthSize);\n  }\n\n  var center = {\n    x: bb.x1 + bb.w / 2,\n    y: bb.x1 + bb.h / 2\n  };\n\n  var getPosition = function getPosition(ele, isBottomDepth) {\n    var info = ele._private.scratch.breadthfirst;\n    var depth = info.depth;\n    var index = info.index;\n    var depthSize = depths[depth].length;\n\n    var distanceX = Math.max(bb.w / (depthSize + 1), minDistance);\n    var distanceY = Math.max(bb.h / (depths.length + 1), minDistance);\n    var radiusStepSize = Math.min(bb.w / 2 / depths.length, bb.h / 2 / depths.length);\n    radiusStepSize = Math.max(radiusStepSize, minDistance);\n\n    if (!options.circle) {\n\n      var epos = {\n        x: center.x + (index + 1 - (depthSize + 1) / 2) * distanceX,\n        y: (depth + 1) * distanceY\n      };\n\n      if (isBottomDepth) {\n        return epos;\n      }\n\n      // let succs = successors[ ele.id() ];\n      // if( succs ){\n      //   epos.x = 0;\n      //\n      //   for( let i = 0 ; i < succs.length; i++ ){\n      //     let spos = pos[ succs[i].id() ];\n      //\n      //     epos.x += spos.x;\n      //   }\n      //\n      //   epos.x /= succs.length;\n      // } else {\n      //   //debugger;\n      // }\n\n      return epos;\n    } else {\n      if (options.circle) {\n        var radius = radiusStepSize * depth + radiusStepSize - (depths.length > 0 && depths[0].length <= 3 ? radiusStepSize / 2 : 0);\n        var theta = 2 * Math.PI / depths[depth].length * index;\n\n        if (depth === 0 && depths[0].length === 1) {\n          radius = 1;\n        }\n\n        return {\n          x: center.x + radius * Math.cos(theta),\n          y: center.y + radius * Math.sin(theta)\n        };\n      } else {\n        return {\n          x: center.x + (index + 1 - (depthSize + 1) / 2) * distanceX,\n          y: (depth + 1) * distanceY\n        };\n      }\n    }\n  };\n\n  // get positions in reverse depth order\n  var pos = {};\n  for (var _i12 = depths.length - 1; _i12 >= 0; _i12--) {\n    var _depth3 = depths[_i12];\n\n    for (var _j = 0; _j < _depth3.length; _j++) {\n      var _node2 = _depth3[_j];\n\n      pos[_node2.id()] = getPosition(_node2, _i12 === depths.length - 1);\n    }\n  }\n\n  nodes.layoutPositions(this, options, function (node) {\n    return pos[node.id()];\n  });\n\n  return this; // chaining\n};\n\nmodule.exports = BreadthFirstLayout;\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar math = __webpack_require__(2);\nvar is = __webpack_require__(0);\n\nvar defaults = {\n  fit: true, // whether to fit the viewport to the graph\n  padding: 30, // the padding on fit\n  boundingBox: undefined, // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  avoidOverlap: true, // prevents node overlap, may overflow boundingBox and radius if not enough space\n  nodeDimensionsIncludeLabels: false, // Excludes the label when calculating node bounding boxes for the layout algorithm\n  spacingFactor: undefined, // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n  radius: undefined, // the radius of the circle\n  startAngle: 3 / 2 * Math.PI, // where nodes start in radians\n  sweep: undefined, // how many radians should be between the first and last node (defaults to full circle)\n  clockwise: true, // whether the layout should go clockwise (true) or counterclockwise/anticlockwise (false)\n  sort: undefined, // a sorting function to order the nodes; e.g. function(a, b){ return a.data('weight') - b.data('weight') }\n  animate: false, // whether to transition the node positions\n  animationDuration: 500, // duration of animation in ms if enabled\n  animationEasing: undefined, // easing of animation if enabled\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  }, // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined, // callback on layoutready\n  stop: undefined, // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts \n\n};\n\nfunction CircleLayout(options) {\n  this.options = util.extend({}, defaults, options);\n}\n\nCircleLayout.prototype.run = function () {\n  var params = this.options;\n  var options = params;\n\n  var cy = params.cy;\n  var eles = options.eles;\n\n  var clockwise = options.counterclockwise !== undefined ? !options.counterclockwise : options.clockwise;\n\n  var nodes = eles.nodes().not(':parent');\n\n  if (options.sort) {\n    nodes = nodes.sort(options.sort);\n  }\n\n  var bb = math.makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0, y1: 0, w: cy.width(), h: cy.height()\n  });\n\n  var center = {\n    x: bb.x1 + bb.w / 2,\n    y: bb.y1 + bb.h / 2\n  };\n\n  var sweep = options.sweep === undefined ? 2 * Math.PI - 2 * Math.PI / nodes.length : options.sweep;\n  var dTheta = sweep / Math.max(1, nodes.length - 1);\n  var r = void 0;\n\n  var minDistance = 0;\n  for (var i = 0; i < nodes.length; i++) {\n    var n = nodes[i];\n    var nbb = n.layoutDimensions(options);\n    var w = nbb.w;\n    var h = nbb.h;\n\n    minDistance = Math.max(minDistance, w, h);\n  }\n\n  if (is.number(options.radius)) {\n    r = options.radius;\n  } else if (nodes.length <= 1) {\n    r = 0;\n  } else {\n    r = Math.min(bb.h, bb.w) / 2 - minDistance;\n  }\n\n  // calculate the radius\n  if (nodes.length > 1 && options.avoidOverlap) {\n    // but only if more than one node (can't overlap)\n    minDistance *= 1.75; // just to have some nice spacing\n\n    var dcos = Math.cos(dTheta) - Math.cos(0);\n    var dsin = Math.sin(dTheta) - Math.sin(0);\n    var rMin = Math.sqrt(minDistance * minDistance / (dcos * dcos + dsin * dsin)); // s.t. no nodes overlapping\n    r = Math.max(rMin, r);\n  }\n\n  var getPos = function getPos(ele, i) {\n    var theta = options.startAngle + i * dTheta * (clockwise ? 1 : -1);\n\n    var rx = r * Math.cos(theta);\n    var ry = r * Math.sin(theta);\n    var pos = {\n      x: center.x + rx,\n      y: center.y + ry\n    };\n\n    return pos;\n  };\n\n  nodes.layoutPositions(this, options, getPos);\n\n  return this; // chaining\n};\n\nmodule.exports = CircleLayout;\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar math = __webpack_require__(2);\n\nvar defaults = {\n  fit: true, // whether to fit the viewport to the graph\n  padding: 30, // the padding on fit\n  startAngle: 3 / 2 * Math.PI, // where nodes start in radians\n  sweep: undefined, // how many radians should be between the first and last node (defaults to full circle)\n  clockwise: true, // whether the layout should go clockwise (true) or counterclockwise/anticlockwise (false)\n  equidistant: false, // whether levels have an equal radial distance betwen them, may cause bounding box overflow\n  minNodeSpacing: 10, // min spacing between outside of nodes (used for radius adjustment)\n  boundingBox: undefined, // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  avoidOverlap: true, // prevents node overlap, may overflow boundingBox if not enough space\n  nodeDimensionsIncludeLabels: false, // Excludes the label when calculating node bounding boxes for the layout algorithm\n  height: undefined, // height of layout area (overrides container height)\n  width: undefined, // width of layout area (overrides container width)\n  spacingFactor: undefined, // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n  concentric: function concentric(node) {\n    // returns numeric value for each node, placing higher nodes in levels towards the centre\n    return node.degree();\n  },\n  levelWidth: function levelWidth(nodes) {\n    // the letiation of concentric values in each level\n    return nodes.maxDegree() / 4;\n  },\n  animate: false, // whether to transition the node positions\n  animationDuration: 500, // duration of animation in ms if enabled\n  animationEasing: undefined, // easing of animation if enabled\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  }, // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined, // callback on layoutready\n  stop: undefined, // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts \n};\n\nfunction ConcentricLayout(options) {\n  this.options = util.extend({}, defaults, options);\n}\n\nConcentricLayout.prototype.run = function () {\n  var params = this.options;\n  var options = params;\n\n  var clockwise = options.counterclockwise !== undefined ? !options.counterclockwise : options.clockwise;\n\n  var cy = params.cy;\n\n  var eles = options.eles;\n  var nodes = eles.nodes().not(':parent');\n\n  var bb = math.makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0, y1: 0, w: cy.width(), h: cy.height()\n  });\n\n  var center = {\n    x: bb.x1 + bb.w / 2,\n    y: bb.y1 + bb.h / 2\n  };\n\n  var nodeValues = []; // { node, value }\n  var theta = options.startAngle;\n  var maxNodeSize = 0;\n\n  for (var i = 0; i < nodes.length; i++) {\n    var node = nodes[i];\n    var value = void 0;\n\n    // calculate the node value\n    value = options.concentric(node);\n    nodeValues.push({\n      value: value,\n      node: node\n    });\n\n    // for style mapping\n    node._private.scratch.concentric = value;\n  }\n\n  // in case we used the `concentric` in style\n  nodes.updateStyle();\n\n  // calculate max size now based on potentially updated mappers\n  for (var _i = 0; _i < nodes.length; _i++) {\n    var _node = nodes[_i];\n    var nbb = _node.layoutDimensions(options);\n\n    maxNodeSize = Math.max(maxNodeSize, nbb.w, nbb.h);\n  }\n\n  // sort node values in descreasing order\n  nodeValues.sort(function (a, b) {\n    return b.value - a.value;\n  });\n\n  var levelWidth = options.levelWidth(nodes);\n\n  // put the values into levels\n  var levels = [[]];\n  var currentLevel = levels[0];\n  for (var _i2 = 0; _i2 < nodeValues.length; _i2++) {\n    var val = nodeValues[_i2];\n\n    if (currentLevel.length > 0) {\n      var diff = Math.abs(currentLevel[0].value - val.value);\n\n      if (diff >= levelWidth) {\n        currentLevel = [];\n        levels.push(currentLevel);\n      }\n    }\n\n    currentLevel.push(val);\n  }\n\n  // create positions from levels\n\n  var minDist = maxNodeSize + options.minNodeSpacing; // min dist between nodes\n\n  if (!options.avoidOverlap) {\n    // then strictly constrain to bb\n    var firstLvlHasMulti = levels.length > 0 && levels[0].length > 1;\n    var maxR = Math.min(bb.w, bb.h) / 2 - minDist;\n    var rStep = maxR / (levels.length + firstLvlHasMulti ? 1 : 0);\n\n    minDist = Math.min(minDist, rStep);\n  }\n\n  // find the metrics for each level\n  var r = 0;\n  for (var _i3 = 0; _i3 < levels.length; _i3++) {\n    var level = levels[_i3];\n    var sweep = options.sweep === undefined ? 2 * Math.PI - 2 * Math.PI / level.length : options.sweep;\n    var dTheta = level.dTheta = sweep / Math.max(1, level.length - 1);\n\n    // calculate the radius\n    if (level.length > 1 && options.avoidOverlap) {\n      // but only if more than one node (can't overlap)\n      var dcos = Math.cos(dTheta) - Math.cos(0);\n      var dsin = Math.sin(dTheta) - Math.sin(0);\n      var rMin = Math.sqrt(minDist * minDist / (dcos * dcos + dsin * dsin)); // s.t. no nodes overlapping\n\n      r = Math.max(rMin, r);\n    }\n\n    level.r = r;\n\n    r += minDist;\n  }\n\n  if (options.equidistant) {\n    var rDeltaMax = 0;\n    var _r = 0;\n\n    for (var _i4 = 0; _i4 < levels.length; _i4++) {\n      var _level = levels[_i4];\n      var rDelta = _level.r - _r;\n\n      rDeltaMax = Math.max(rDeltaMax, rDelta);\n    }\n\n    _r = 0;\n    for (var _i5 = 0; _i5 < levels.length; _i5++) {\n      var _level2 = levels[_i5];\n\n      if (_i5 === 0) {\n        _r = _level2.r;\n      }\n\n      _level2.r = _r;\n\n      _r += rDeltaMax;\n    }\n  }\n\n  // calculate the node positions\n  var pos = {}; // id => position\n  for (var _i6 = 0; _i6 < levels.length; _i6++) {\n    var _level3 = levels[_i6];\n    var _dTheta = _level3.dTheta;\n    var _r2 = _level3.r;\n\n    for (var j = 0; j < _level3.length; j++) {\n      var _val = _level3[j];\n      var _theta = options.startAngle + (clockwise ? 1 : -1) * _dTheta * j;\n\n      var p = {\n        x: center.x + _r2 * Math.cos(_theta),\n        y: center.y + _r2 * Math.sin(_theta)\n      };\n\n      pos[_val.node.id()] = p;\n    }\n  }\n\n  // position the nodes\n  nodes.layoutPositions(this, options, function (ele) {\n    var id = ele.id();\n\n    return pos[id];\n  });\n\n  return this; // chaining\n};\n\nmodule.exports = ConcentricLayout;\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*\nThe CoSE layout was written by Gerardo Huck.\nhttps://www.linkedin.com/in/gerardohuck/\n\nBased on the following article:\nhttp://dl.acm.org/citation.cfm?id=1498047\n\nModifications tracked on Github.\n*/\n\nvar util = __webpack_require__(1);\nvar math = __webpack_require__(2);\nvar is = __webpack_require__(0);\nvar Promise = __webpack_require__(5);\n\nvar DEBUG;\n\n/**\n * @brief :  default layout options\n */\nvar defaults = {\n  // Called on `layoutready`\n  ready: function ready() {},\n\n  // Called on `layoutstop`\n  stop: function stop() {},\n\n  // Whether to animate while running the layout\n  // true : Animate continuously as the layout is running\n  // false : Just show the end result\n  // 'end' : Animate with the end result, from the initial positions to the end positions\n  animate: true,\n\n  // Easing of the animation for animate:'end'\n  animationEasing: undefined,\n\n  // The duration of the animation for animate:'end'\n  animationDuration: undefined,\n\n  // A function that determines whether the node should be animated\n  // All nodes animated by default on animate enabled\n  // Non-animated nodes are positioned immediately when the layout starts\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  },\n\n  // The layout animates only after this many milliseconds for animate:true\n  // (prevents flashing on fast runs)\n  animationThreshold: 250,\n\n  // Number of iterations between consecutive screen positions update\n  // (0 -> only updated on the end)\n  refresh: 20,\n\n  // Whether to fit the network view after when done\n  fit: true,\n\n  // Padding on fit\n  padding: 30,\n\n  // Constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  boundingBox: undefined,\n\n  // Excludes the label when calculating node bounding boxes for the layout algorithm\n  nodeDimensionsIncludeLabels: false,\n\n  // Randomize the initial positions of the nodes (true) or use existing positions (false)\n  randomize: false,\n\n  // Extra spacing between components in non-compound graphs\n  componentSpacing: 40,\n\n  // Node repulsion (non overlapping) multiplier\n  nodeRepulsion: function nodeRepulsion(node) {\n    return 2048;\n  },\n\n  // Node repulsion (overlapping) multiplier\n  nodeOverlap: 4,\n\n  // Ideal edge (non nested) length\n  idealEdgeLength: function idealEdgeLength(edge) {\n    return 32;\n  },\n\n  // Divisor to compute edge forces\n  edgeElasticity: function edgeElasticity(edge) {\n    return 32;\n  },\n\n  // Nesting factor (multiplier) to compute ideal edge length for nested edges\n  nestingFactor: 1.2,\n\n  // Gravity force (constant)\n  gravity: 1,\n\n  // Maximum number of iterations to perform\n  numIter: 1000,\n\n  // Initial temperature (maximum node displacement)\n  initialTemp: 1000,\n\n  // Cooling factor (how the temperature is reduced between consecutive iterations\n  coolingFactor: 0.99,\n\n  // Lower temperature threshold (below this point the layout will end)\n  minTemp: 1.0,\n\n  // Pass a reference to weaver to use threads for calculations\n  weaver: false\n};\n\n/**\n * @brief       : constructor\n * @arg options : object containing layout options\n */\nfunction CoseLayout(options) {\n  this.options = util.extend({}, defaults, options);\n\n  this.options.layout = this;\n}\n\n/**\n * @brief : runs the layout\n */\nCoseLayout.prototype.run = function () {\n  var options = this.options;\n  var cy = options.cy;\n  var layout = this;\n  var thread = this.thread;\n  var Thread = options.weaver ? options.weaver.Thread : null;\n\n  var falseThread = { // use false thread as polyfill\n    listeners: [],\n    on: function on(e, cb) {\n      this.listeners.push({ event: e, callback: cb });\n\n      return this;\n    },\n    trigger: function trigger(e) {\n      if (is.string(e)) {\n        e = { type: e };\n      }\n\n      var matchesEvent = function matchesEvent(l) {\n        return l.event === e.type;\n      };\n      var trigger = function trigger(l) {\n        l.callback(e);\n      };\n\n      this.listeners.filter(matchesEvent).forEach(trigger);\n\n      return this;\n    },\n    pass: function pass(data) {\n      this.pass = data;\n\n      return this;\n    },\n    run: function run(cb) {\n      var pass = this.pass;\n\n      return new Promise(function (resolve) {\n        resolve(cb(pass));\n      });\n    },\n    stop: function stop() {\n      return this;\n    }\n  };\n\n  function broadcast(message) {\n    // for false thread\n    var e = { type: 'message', message: message };\n\n    falseThread.trigger(e);\n  }\n\n  if (!thread || thread.stopped()) {\n    thread = this.thread = Thread ? new Thread() : falseThread;\n  }\n\n  layout.stopped = false;\n\n  if (options.animate === true || options.animate === false) {\n    layout.emit({ type: 'layoutstart', layout: layout });\n  }\n\n  // Set DEBUG - Global variable\n  if (true === options.debug) {\n    DEBUG = true;\n  } else {\n    DEBUG = false;\n  }\n\n  // Initialize layout info\n  var layoutInfo = createLayoutInfo(cy, layout, options);\n\n  // Show LayoutInfo contents if debugging\n  if (DEBUG) {\n    printLayoutInfo(layoutInfo);\n  }\n\n  // If required, randomize node positions\n  if (options.randomize) {\n    randomizePositions(layoutInfo, cy);\n  }\n\n  var startTime = Date.now();\n  var refreshRequested = false;\n  var refresh = function refresh(rOpts) {\n    rOpts = rOpts || {};\n\n    if (refreshRequested && !rOpts.next) {\n      return;\n    }\n\n    if (!rOpts.force && Date.now() - startTime < options.animationThreshold) {\n      return;\n    }\n\n    refreshRequested = true;\n\n    util.requestAnimationFrame(function () {\n      refreshPositions(layoutInfo, cy, options);\n\n      // Fit the graph if necessary\n      if (true === options.fit) {\n        cy.fit(options.padding);\n      }\n\n      refreshRequested = false;\n\n      if (rOpts.next) {\n        rOpts.next();\n      }\n    });\n  };\n\n  thread.on('message', function (e) {\n    var layoutNodes = e.message;\n\n    layoutInfo.layoutNodes = layoutNodes;\n    refresh();\n  });\n\n  thread.pass({\n    layoutInfo: layoutInfo,\n    options: {\n      animate: options.animate,\n      refresh: options.refresh,\n      componentSpacing: options.componentSpacing,\n      nodeOverlap: options.nodeOverlap,\n      nestingFactor: options.nestingFactor,\n      gravity: options.gravity,\n      numIter: options.numIter,\n      initialTemp: options.initialTemp,\n      coolingFactor: options.coolingFactor,\n      minTemp: options.minTemp\n    }\n  }).run(function (pass) {\n    var layoutInfo = pass.layoutInfo;\n    var options = pass.options;\n    var stopped = false;\n\n    /**\n     * @brief          : Performs one iteration of the physical simulation\n     * @arg layoutInfo : LayoutInfo object already initialized\n     * @arg cy         : Cytoscape object\n     * @arg options    : Layout options\n     */\n    var step = function step(layoutInfo, options, _step) {\n      // var s = \"\\n\\n###############################\";\n      // s += \"\\nSTEP: \" + step;\n      // s += \"\\n###############################\\n\";\n      // logDebug(s);\n\n      // Calculate node repulsions\n      calculateNodeForces(layoutInfo, options);\n      // Calculate edge forces\n      calculateEdgeForces(layoutInfo, options);\n      // Calculate gravity forces\n      calculateGravityForces(layoutInfo, options);\n      // Propagate forces from parent to child\n      propagateForces(layoutInfo, options);\n      // Update positions based on calculated forces\n      updatePositions(layoutInfo, options);\n    };\n\n    /**\n     * @brief : Computes the node repulsion forces\n     */\n    var calculateNodeForces = function calculateNodeForces(layoutInfo, options) {\n      // Go through each of the graphs in graphSet\n      // Nodes only repel each other if they belong to the same graph\n      // var s = 'calculateNodeForces';\n      // logDebug(s);\n      for (var i = 0; i < layoutInfo.graphSet.length; i++) {\n        var graph = layoutInfo.graphSet[i];\n        var numNodes = graph.length;\n\n        // s = \"Set: \" + graph.toString();\n        // logDebug(s);\n\n        // Now get all the pairs of nodes\n        // Only get each pair once, (A, B) = (B, A)\n        for (var j = 0; j < numNodes; j++) {\n          var node1 = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[j]]];\n\n          for (var k = j + 1; k < numNodes; k++) {\n            var node2 = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[k]]];\n\n            nodeRepulsion(node1, node2, layoutInfo, options);\n          }\n        }\n      }\n    };\n\n    var randomDistance = function randomDistance(max) {\n      return -max + 2 * max * Math.random();\n    };\n\n    /**\n     * @brief : Compute the node repulsion forces between a pair of nodes\n     */\n    var nodeRepulsion = function nodeRepulsion(node1, node2, layoutInfo, options) {\n      // var s = \"Node repulsion. Node1: \" + node1.id + \" Node2: \" + node2.id;\n\n      var cmptId1 = node1.cmptId;\n      var cmptId2 = node2.cmptId;\n\n      if (cmptId1 !== cmptId2 && !layoutInfo.isCompound) {\n        return;\n      }\n\n      // Get direction of line connecting both node centers\n      var directionX = node2.positionX - node1.positionX;\n      var directionY = node2.positionY - node1.positionY;\n      var maxRandDist = 1;\n      // s += \"\\ndirectionX: \" + directionX + \", directionY: \" + directionY;\n\n      // If both centers are the same, apply a random force\n      if (0 === directionX && 0 === directionY) {\n        directionX = randomDistance(maxRandDist);\n        directionY = randomDistance(maxRandDist);\n      }\n\n      var overlap = nodesOverlap(node1, node2, directionX, directionY);\n\n      if (overlap > 0) {\n        // s += \"\\nNodes DO overlap.\";\n        // s += \"\\nOverlap: \" + overlap;\n        // If nodes overlap, repulsion force is proportional\n        // to the overlap\n        var force = options.nodeOverlap * overlap;\n\n        // Compute the module and components of the force vector\n        var distance = Math.sqrt(directionX * directionX + directionY * directionY);\n        // s += \"\\nDistance: \" + distance;\n        var forceX = force * directionX / distance;\n        var forceY = force * directionY / distance;\n      } else {\n        // s += \"\\nNodes do NOT overlap.\";\n        // If there's no overlap, force is inversely proportional\n        // to squared distance\n\n        // Get clipping points for both nodes\n        var point1 = findClippingPoint(node1, directionX, directionY);\n        var point2 = findClippingPoint(node2, -1 * directionX, -1 * directionY);\n\n        // Use clipping points to compute distance\n        var distanceX = point2.x - point1.x;\n        var distanceY = point2.y - point1.y;\n        var distanceSqr = distanceX * distanceX + distanceY * distanceY;\n        var distance = Math.sqrt(distanceSqr);\n        // s += \"\\nDistance: \" + distance;\n\n        // Compute the module and components of the force vector\n        var force = (node1.nodeRepulsion + node2.nodeRepulsion) / distanceSqr;\n        var forceX = force * distanceX / distance;\n        var forceY = force * distanceY / distance;\n      }\n\n      // Apply force\n      if (!node1.isLocked) {\n        node1.offsetX -= forceX;\n        node1.offsetY -= forceY;\n      }\n\n      if (!node2.isLocked) {\n        node2.offsetX += forceX;\n        node2.offsetY += forceY;\n      }\n\n      // s += \"\\nForceX: \" + forceX + \" ForceY: \" + forceY;\n      // logDebug(s);\n\n      return;\n    };\n\n    /**\n     * @brief  : Determines whether two nodes overlap or not\n     * @return : Amount of overlapping (0 => no overlap)\n     */\n    var nodesOverlap = function nodesOverlap(node1, node2, dX, dY) {\n\n      if (dX > 0) {\n        var overlapX = node1.maxX - node2.minX;\n      } else {\n        var overlapX = node2.maxX - node1.minX;\n      }\n\n      if (dY > 0) {\n        var overlapY = node1.maxY - node2.minY;\n      } else {\n        var overlapY = node2.maxY - node1.minY;\n      }\n\n      if (overlapX >= 0 && overlapY >= 0) {\n        return Math.sqrt(overlapX * overlapX + overlapY * overlapY);\n      } else {\n        return 0;\n      }\n    };\n\n    /**\n     * @brief : Finds the point in which an edge (direction dX, dY) intersects\n     *          the rectangular bounding box of it's source/target node\n     */\n    var findClippingPoint = function findClippingPoint(node, dX, dY) {\n\n      // Shorcuts\n      var X = node.positionX;\n      var Y = node.positionY;\n      var H = node.height || 1;\n      var W = node.width || 1;\n      var dirSlope = dY / dX;\n      var nodeSlope = H / W;\n\n      // var s = 'Computing clipping point of node ' + node.id +\n      //   \" . Height:  \" + H + \", Width: \" + W +\n      //   \"\\nDirection \" + dX + \", \" + dY;\n      //\n      // Compute intersection\n      var res = {};\n\n      // Case: Vertical direction (up)\n      if (0 === dX && 0 < dY) {\n        res.x = X;\n        // s += \"\\nUp direction\";\n        res.y = Y + H / 2;\n\n        return res;\n      }\n\n      // Case: Vertical direction (down)\n      if (0 === dX && 0 > dY) {\n        res.x = X;\n        res.y = Y + H / 2;\n        // s += \"\\nDown direction\";\n\n        return res;\n      }\n\n      // Case: Intersects the right border\n      if (0 < dX && -1 * nodeSlope <= dirSlope && dirSlope <= nodeSlope) {\n        res.x = X + W / 2;\n        res.y = Y + W * dY / 2 / dX;\n        // s += \"\\nRightborder\";\n\n        return res;\n      }\n\n      // Case: Intersects the left border\n      if (0 > dX && -1 * nodeSlope <= dirSlope && dirSlope <= nodeSlope) {\n        res.x = X - W / 2;\n        res.y = Y - W * dY / 2 / dX;\n        // s += \"\\nLeftborder\";\n\n        return res;\n      }\n\n      // Case: Intersects the top border\n      if (0 < dY && (dirSlope <= -1 * nodeSlope || dirSlope >= nodeSlope)) {\n        res.x = X + H * dX / 2 / dY;\n        res.y = Y + H / 2;\n        // s += \"\\nTop border\";\n\n        return res;\n      }\n\n      // Case: Intersects the bottom border\n      if (0 > dY && (dirSlope <= -1 * nodeSlope || dirSlope >= nodeSlope)) {\n        res.x = X - H * dX / 2 / dY;\n        res.y = Y - H / 2;\n        // s += \"\\nBottom border\";\n\n        return res;\n      }\n\n      // s += \"\\nClipping point found at \" + res.x + \", \" + res.y;\n      // logDebug(s);\n      return res;\n    };\n\n    /**\n     * @brief : Calculates all edge forces\n     */\n    var calculateEdgeForces = function calculateEdgeForces(layoutInfo, options) {\n      // Iterate over all edges\n      for (var i = 0; i < layoutInfo.edgeSize; i++) {\n        // Get edge, source & target nodes\n        var edge = layoutInfo.layoutEdges[i];\n        var sourceIx = layoutInfo.idToIndex[edge.sourceId];\n        var source = layoutInfo.layoutNodes[sourceIx];\n        var targetIx = layoutInfo.idToIndex[edge.targetId];\n        var target = layoutInfo.layoutNodes[targetIx];\n\n        // Get direction of line connecting both node centers\n        var directionX = target.positionX - source.positionX;\n        var directionY = target.positionY - source.positionY;\n\n        // If both centers are the same, do nothing.\n        // A random force has already been applied as node repulsion\n        if (0 === directionX && 0 === directionY) {\n          continue;\n        }\n\n        // Get clipping points for both nodes\n        var point1 = findClippingPoint(source, directionX, directionY);\n        var point2 = findClippingPoint(target, -1 * directionX, -1 * directionY);\n\n        var lx = point2.x - point1.x;\n        var ly = point2.y - point1.y;\n        var l = Math.sqrt(lx * lx + ly * ly);\n\n        var force = Math.pow(edge.idealLength - l, 2) / edge.elasticity;\n\n        if (0 !== l) {\n          var forceX = force * lx / l;\n          var forceY = force * ly / l;\n        } else {\n          var forceX = 0;\n          var forceY = 0;\n        }\n\n        // Add this force to target and source nodes\n        if (!source.isLocked) {\n          source.offsetX += forceX;\n          source.offsetY += forceY;\n        }\n\n        if (!target.isLocked) {\n          target.offsetX -= forceX;\n          target.offsetY -= forceY;\n        }\n\n        // var s = 'Edge force between nodes ' + source.id + ' and ' + target.id;\n        // s += \"\\nDistance: \" + l + \" Force: (\" + forceX + \", \" + forceY + \")\";\n        // logDebug(s);\n      }\n    };\n\n    /**\n     * @brief : Computes gravity forces for all nodes\n     */\n    var calculateGravityForces = function calculateGravityForces(layoutInfo, options) {\n      var distThreshold = 1;\n\n      // var s = 'calculateGravityForces';\n      // logDebug(s);\n      for (var i = 0; i < layoutInfo.graphSet.length; i++) {\n        var graph = layoutInfo.graphSet[i];\n        var numNodes = graph.length;\n\n        // s = \"Set: \" + graph.toString();\n        // logDebug(s);\n\n        // Compute graph center\n        if (0 === i) {\n          var centerX = layoutInfo.clientHeight / 2;\n          var centerY = layoutInfo.clientWidth / 2;\n        } else {\n          // Get Parent node for this graph, and use its position as center\n          var temp = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[0]]];\n          var parent = layoutInfo.layoutNodes[layoutInfo.idToIndex[temp.parentId]];\n          var centerX = parent.positionX;\n          var centerY = parent.positionY;\n        }\n        // s = \"Center found at: \" + centerX + \", \" + centerY;\n        // logDebug(s);\n\n        // Apply force to all nodes in graph\n        for (var j = 0; j < numNodes; j++) {\n          var node = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[j]]];\n          // s = \"Node: \" + node.id;\n\n          if (node.isLocked) {\n            continue;\n          }\n\n          var dx = centerX - node.positionX;\n          var dy = centerY - node.positionY;\n          var d = Math.sqrt(dx * dx + dy * dy);\n          if (d > distThreshold) {\n            var fx = options.gravity * dx / d;\n            var fy = options.gravity * dy / d;\n            node.offsetX += fx;\n            node.offsetY += fy;\n            // s += \": Applied force: \" + fx + \", \" + fy;\n          } else {}\n            // s += \": skypped since it's too close to center\";\n\n            // logDebug(s);\n        }\n      }\n    };\n\n    /**\n     * @brief          : This function propagates the existing offsets from\n     *                   parent nodes to its descendents.\n     * @arg layoutInfo : layoutInfo Object\n     * @arg cy         : cytoscape Object\n     * @arg options    : Layout options\n     */\n    var propagateForces = function propagateForces(layoutInfo, options) {\n      // Inline implementation of a queue, used for traversing the graph in BFS order\n      var queue = [];\n      var start = 0; // Points to the start the queue\n      var end = -1; // Points to the end of the queue\n\n      // logDebug('propagateForces');\n\n      // Start by visiting the nodes in the root graph\n      queue.push.apply(queue, layoutInfo.graphSet[0]);\n      end += layoutInfo.graphSet[0].length;\n\n      // Traverse the graph, level by level,\n      while (start <= end) {\n        // Get the node to visit and remove it from queue\n        var nodeId = queue[start++];\n        var nodeIndex = layoutInfo.idToIndex[nodeId];\n        var node = layoutInfo.layoutNodes[nodeIndex];\n        var children = node.children;\n\n        // We only need to process the node if it's compound\n        if (0 < children.length && !node.isLocked) {\n          var offX = node.offsetX;\n          var offY = node.offsetY;\n\n          // var s = \"Propagating offset from parent node : \" + node.id +\n          //   \". OffsetX: \" + offX + \". OffsetY: \" + offY;\n          // s += \"\\n Children: \" + children.toString();\n          // logDebug(s);\n\n          for (var i = 0; i < children.length; i++) {\n            var childNode = layoutInfo.layoutNodes[layoutInfo.idToIndex[children[i]]];\n            // Propagate offset\n            childNode.offsetX += offX;\n            childNode.offsetY += offY;\n            // Add children to queue to be visited\n            queue[++end] = children[i];\n          }\n\n          // Reset parent offsets\n          node.offsetX = 0;\n          node.offsetY = 0;\n        }\n      }\n    };\n\n    /**\n     * @brief : Updates the layout model positions, based on\n     *          the accumulated forces\n     */\n    var updatePositions = function updatePositions(layoutInfo, options) {\n      // var s = 'Updating positions';\n      // logDebug(s);\n\n      // Reset boundaries for compound nodes\n      for (var i = 0; i < layoutInfo.nodeSize; i++) {\n        var n = layoutInfo.layoutNodes[i];\n        if (0 < n.children.length) {\n          // logDebug(\"Resetting boundaries of compound node: \" + n.id);\n          n.maxX = undefined;\n          n.minX = undefined;\n          n.maxY = undefined;\n          n.minY = undefined;\n        }\n      }\n\n      for (var i = 0; i < layoutInfo.nodeSize; i++) {\n        var n = layoutInfo.layoutNodes[i];\n        if (0 < n.children.length || n.isLocked) {\n          // No need to set compound or locked node position\n          // logDebug(\"Skipping position update of node: \" + n.id);\n          continue;\n        }\n        // s = \"Node: \" + n.id + \" Previous position: (\" +\n        // n.positionX + \", \" + n.positionY + \").\";\n\n        // Limit displacement in order to improve stability\n        var tempForce = limitForce(n.offsetX, n.offsetY, layoutInfo.temperature);\n        n.positionX += tempForce.x;\n        n.positionY += tempForce.y;\n        n.offsetX = 0;\n        n.offsetY = 0;\n        n.minX = n.positionX - n.width;\n        n.maxX = n.positionX + n.width;\n        n.minY = n.positionY - n.height;\n        n.maxY = n.positionY + n.height;\n        // s += \" New Position: (\" + n.positionX + \", \" + n.positionY + \").\";\n        // logDebug(s);\n\n        // Update ancestry boudaries\n        updateAncestryBoundaries(n, layoutInfo);\n      }\n\n      // Update size, position of compund nodes\n      for (var i = 0; i < layoutInfo.nodeSize; i++) {\n        var n = layoutInfo.layoutNodes[i];\n        if (0 < n.children.length && !n.isLocked) {\n          n.positionX = (n.maxX + n.minX) / 2;\n          n.positionY = (n.maxY + n.minY) / 2;\n          n.width = n.maxX - n.minX;\n          n.height = n.maxY - n.minY;\n          // s = \"Updating position, size of compound node \" + n.id;\n          // s += \"\\nPositionX: \" + n.positionX + \", PositionY: \" + n.positionY;\n          // s += \"\\nWidth: \" + n.width + \", Height: \" + n.height;\n          // logDebug(s);\n        }\n      }\n    };\n\n    /**\n     * @brief : Limits a force (forceX, forceY) to be not\n     *          greater (in modulo) than max.\n     8          Preserves force direction.\n     */\n    var limitForce = function limitForce(forceX, forceY, max) {\n      // var s = \"Limiting force: (\" + forceX + \", \" + forceY + \"). Max: \" + max;\n      var force = Math.sqrt(forceX * forceX + forceY * forceY);\n\n      if (force > max) {\n        var res = {\n          x: max * forceX / force,\n          y: max * forceY / force\n        };\n      } else {\n        var res = {\n          x: forceX,\n          y: forceY\n        };\n      }\n\n      // s += \".\\nResult: (\" + res.x + \", \" + res.y + \")\";\n      // logDebug(s);\n\n      return res;\n    };\n\n    /**\n     * @brief : Function used for keeping track of compound node\n     *          sizes, since they should bound all their subnodes.\n     */\n    var updateAncestryBoundaries = function updateAncestryBoundaries(node, layoutInfo) {\n      // var s = \"Propagating new position/size of node \" + node.id;\n      var parentId = node.parentId;\n      if (null == parentId) {\n        // If there's no parent, we are done\n        // s += \". No parent node.\";\n        // logDebug(s);\n        return;\n      }\n\n      // Get Parent Node\n      var p = layoutInfo.layoutNodes[layoutInfo.idToIndex[parentId]];\n      var flag = false;\n\n      // MaxX\n      if (null == p.maxX || node.maxX + p.padRight > p.maxX) {\n        p.maxX = node.maxX + p.padRight;\n        flag = true;\n        // s += \"\\nNew maxX for parent node \" + p.id + \": \" + p.maxX;\n      }\n\n      // MinX\n      if (null == p.minX || node.minX - p.padLeft < p.minX) {\n        p.minX = node.minX - p.padLeft;\n        flag = true;\n        // s += \"\\nNew minX for parent node \" + p.id + \": \" + p.minX;\n      }\n\n      // MaxY\n      if (null == p.maxY || node.maxY + p.padBottom > p.maxY) {\n        p.maxY = node.maxY + p.padBottom;\n        flag = true;\n        // s += \"\\nNew maxY for parent node \" + p.id + \": \" + p.maxY;\n      }\n\n      // MinY\n      if (null == p.minY || node.minY - p.padTop < p.minY) {\n        p.minY = node.minY - p.padTop;\n        flag = true;\n        // s += \"\\nNew minY for parent node \" + p.id + \": \" + p.minY;\n      }\n\n      // If updated boundaries, propagate changes upward\n      if (flag) {\n        // logDebug(s);\n        return updateAncestryBoundaries(p, layoutInfo);\n      }\n\n      // s += \". No changes in boundaries/position of parent node \" + p.id;\n      // logDebug(s);\n      return;\n    };\n\n    var separateComponents = function separateComponents(layutInfo, options) {\n      var nodes = layoutInfo.layoutNodes;\n      var components = [];\n\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var cid = node.cmptId;\n        var component = components[cid] = components[cid] || [];\n\n        component.push(node);\n      }\n\n      var totalA = 0;\n\n      for (var i = 0; i < components.length; i++) {\n        var c = components[i];\n\n        if (!c) {\n          continue;\n        }\n\n        c.x1 = Infinity;\n        c.x2 = -Infinity;\n        c.y1 = Infinity;\n        c.y2 = -Infinity;\n\n        for (var j = 0; j < c.length; j++) {\n          var n = c[j];\n\n          c.x1 = Math.min(c.x1, n.positionX - n.width / 2);\n          c.x2 = Math.max(c.x2, n.positionX + n.width / 2);\n          c.y1 = Math.min(c.y1, n.positionY - n.height / 2);\n          c.y2 = Math.max(c.y2, n.positionY + n.height / 2);\n        }\n\n        c.w = c.x2 - c.x1;\n        c.h = c.y2 - c.y1;\n\n        totalA += c.w * c.h;\n      }\n\n      components.sort(function (c1, c2) {\n        return c2.w * c2.h - c1.w * c1.h;\n      });\n\n      var x = 0;\n      var y = 0;\n      var usedW = 0;\n      var rowH = 0;\n      var maxRowW = Math.sqrt(totalA) * layoutInfo.clientWidth / layoutInfo.clientHeight;\n\n      for (var i = 0; i < components.length; i++) {\n        var c = components[i];\n\n        if (!c) {\n          continue;\n        }\n\n        for (var j = 0; j < c.length; j++) {\n          var n = c[j];\n\n          if (!n.isLocked) {\n            n.positionX += x;\n            n.positionY += y;\n          }\n        }\n\n        x += c.w + options.componentSpacing;\n        usedW += c.w + options.componentSpacing;\n        rowH = Math.max(rowH, c.h);\n\n        if (usedW > maxRowW) {\n          y += rowH + options.componentSpacing;\n          x = 0;\n          usedW = 0;\n          rowH = 0;\n        }\n      }\n    };\n\n    var mainLoop = function mainLoop(i) {\n      if (stopped) {\n        // logDebug(\"Layout manually stopped. Stopping computation in step \" + i);\n        return false;\n      }\n\n      // Do one step in the phisical simulation\n      step(layoutInfo, options, i);\n\n      // Update temperature\n      layoutInfo.temperature = layoutInfo.temperature * options.coolingFactor;\n      // logDebug(\"New temperature: \" + layoutInfo.temperature);\n\n      if (layoutInfo.temperature < options.minTemp) {\n        // logDebug(\"Temperature drop below minimum threshold. Stopping computation in step \" + i);\n        return false;\n      }\n\n      return true;\n    };\n\n    var i = 0;\n    var loopRet;\n\n    do {\n      var f = 0;\n\n      while (f < options.refresh && i < options.numIter) {\n        var loopRet = mainLoop(i);\n        if (!loopRet) {\n          break;\n        }\n\n        f++;\n        i++;\n      }\n\n      if (options.animate === true) {\n        broadcast(layoutInfo.layoutNodes); // eslint-disable-line no-undef\n      }\n    } while (loopRet && i + 1 < options.numIter);\n\n    separateComponents(layoutInfo, options);\n\n    return layoutInfo;\n  }).then(function (layoutInfoUpdated) {\n    layoutInfo.layoutNodes = layoutInfoUpdated.layoutNodes; // get the positions\n\n    thread.stop();\n    done();\n  });\n\n  var done = function done() {\n    if (options.animate === true || options.animate === false) {\n      refresh({\n        force: true,\n        next: function next() {\n          // Layout has finished\n          layout.one('layoutstop', options.stop);\n          layout.emit({ type: 'layoutstop', layout: layout });\n        }\n      });\n    } else {\n      options.eles.nodes().layoutPositions(layout, options, function (node) {\n        var lnode = layoutInfo.layoutNodes[layoutInfo.idToIndex[node.data('id')]];\n\n        return { x: lnode.positionX, y: lnode.positionY };\n      });\n    }\n  };\n\n  return this; // chaining\n};\n\n/**\n * @brief : called on continuous layouts to stop them before they finish\n */\nCoseLayout.prototype.stop = function () {\n  this.stopped = true;\n\n  if (this.thread) {\n    this.thread.stop();\n  }\n\n  this.emit('layoutstop');\n\n  return this; // chaining\n};\n\nCoseLayout.prototype.destroy = function () {\n  if (this.thread) {\n    this.thread.stop();\n  }\n\n  return this; // chaining\n};\n\n/**\n * @brief     : Creates an object which is contains all the data\n *              used in the layout process\n * @arg cy    : cytoscape.js object\n * @return    : layoutInfo object initialized\n */\nvar createLayoutInfo = function createLayoutInfo(cy, layout, options) {\n  // Shortcut\n  var edges = options.eles.edges();\n  var nodes = options.eles.nodes();\n\n  var layoutInfo = {\n    isCompound: cy.hasCompoundNodes(),\n    layoutNodes: [],\n    idToIndex: {},\n    nodeSize: nodes.size(),\n    graphSet: [],\n    indexToGraph: [],\n    layoutEdges: [],\n    edgeSize: edges.size(),\n    temperature: options.initialTemp,\n    clientWidth: cy.width(),\n    clientHeight: cy.width(),\n    boundingBox: math.makeBoundingBox(options.boundingBox ? options.boundingBox : {\n      x1: 0, y1: 0, w: cy.width(), h: cy.height()\n    })\n  };\n\n  var components = options.eles.components();\n  var id2cmptId = {};\n\n  for (var i = 0; i < components.length; i++) {\n    var component = components[i];\n\n    for (var j = 0; j < component.length; j++) {\n      var node = component[j];\n\n      id2cmptId[node.id()] = i;\n    }\n  }\n\n  // Iterate over all nodes, creating layout nodes\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = nodes[i];\n    var nbb = n.layoutDimensions(options);\n\n    var tempNode = {};\n    tempNode.isLocked = n.locked();\n    tempNode.id = n.data('id');\n    tempNode.parentId = n.data('parent');\n    tempNode.cmptId = id2cmptId[n.id()];\n    tempNode.children = [];\n    tempNode.positionX = n.position('x');\n    tempNode.positionY = n.position('y');\n    tempNode.offsetX = 0;\n    tempNode.offsetY = 0;\n    tempNode.height = nbb.w;\n    tempNode.width = nbb.h;\n    tempNode.maxX = tempNode.positionX + tempNode.width / 2;\n    tempNode.minX = tempNode.positionX - tempNode.width / 2;\n    tempNode.maxY = tempNode.positionY + tempNode.height / 2;\n    tempNode.minY = tempNode.positionY - tempNode.height / 2;\n    tempNode.padLeft = parseFloat(n.style('padding'));\n    tempNode.padRight = parseFloat(n.style('padding'));\n    tempNode.padTop = parseFloat(n.style('padding'));\n    tempNode.padBottom = parseFloat(n.style('padding'));\n\n    // forces\n    tempNode.nodeRepulsion = is.fn(options.nodeRepulsion) ? options.nodeRepulsion(n) : options.nodeRepulsion;\n\n    // Add new node\n    layoutInfo.layoutNodes.push(tempNode);\n    // Add entry to id-index map\n    layoutInfo.idToIndex[tempNode.id] = i;\n  }\n\n  // Inline implementation of a queue, used for traversing the graph in BFS order\n  var queue = [];\n  var start = 0; // Points to the start the queue\n  var end = -1; // Points to the end of the queue\n\n  var tempGraph = [];\n\n  // Second pass to add child information and\n  // initialize queue for hierarchical traversal\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = layoutInfo.layoutNodes[i];\n    var p_id = n.parentId;\n    // Check if node n has a parent node\n    if (null != p_id) {\n      // Add node Id to parent's list of children\n      layoutInfo.layoutNodes[layoutInfo.idToIndex[p_id]].children.push(n.id);\n    } else {\n      // If a node doesn't have a parent, then it's in the root graph\n      queue[++end] = n.id;\n      tempGraph.push(n.id);\n    }\n  }\n\n  // Add root graph to graphSet\n  layoutInfo.graphSet.push(tempGraph);\n\n  // Traverse the graph, level by level,\n  while (start <= end) {\n    // Get the node to visit and remove it from queue\n    var node_id = queue[start++];\n    var node_ix = layoutInfo.idToIndex[node_id];\n    var node = layoutInfo.layoutNodes[node_ix];\n    var children = node.children;\n    if (children.length > 0) {\n      // Add children nodes as a new graph to graph set\n      layoutInfo.graphSet.push(children);\n      // Add children to que queue to be visited\n      for (var i = 0; i < children.length; i++) {\n        queue[++end] = children[i];\n      }\n    }\n  }\n\n  // Create indexToGraph map\n  for (var i = 0; i < layoutInfo.graphSet.length; i++) {\n    var graph = layoutInfo.graphSet[i];\n    for (var j = 0; j < graph.length; j++) {\n      var index = layoutInfo.idToIndex[graph[j]];\n      layoutInfo.indexToGraph[index] = i;\n    }\n  }\n\n  // Iterate over all edges, creating Layout Edges\n  for (var i = 0; i < layoutInfo.edgeSize; i++) {\n    var e = edges[i];\n    var tempEdge = {};\n    tempEdge.id = e.data('id');\n    tempEdge.sourceId = e.data('source');\n    tempEdge.targetId = e.data('target');\n\n    // Compute ideal length\n    var idealLength = is.fn(options.idealEdgeLength) ? options.idealEdgeLength(e) : options.idealEdgeLength;\n    var elasticity = is.fn(options.edgeElasticity) ? options.edgeElasticity(e) : options.edgeElasticity;\n\n    // Check if it's an inter graph edge\n    var sourceIx = layoutInfo.idToIndex[tempEdge.sourceId];\n    var targetIx = layoutInfo.idToIndex[tempEdge.targetId];\n    var sourceGraph = layoutInfo.indexToGraph[sourceIx];\n    var targetGraph = layoutInfo.indexToGraph[targetIx];\n\n    if (sourceGraph != targetGraph) {\n      // Find lowest common graph ancestor\n      var lca = findLCA(tempEdge.sourceId, tempEdge.targetId, layoutInfo);\n\n      // Compute sum of node depths, relative to lca graph\n      var lcaGraph = layoutInfo.graphSet[lca];\n      var depth = 0;\n\n      // Source depth\n      var tempNode = layoutInfo.layoutNodes[sourceIx];\n      while (-1 === lcaGraph.indexOf(tempNode.id)) {\n        tempNode = layoutInfo.layoutNodes[layoutInfo.idToIndex[tempNode.parentId]];\n        depth++;\n      }\n\n      // Target depth\n      tempNode = layoutInfo.layoutNodes[targetIx];\n      while (-1 === lcaGraph.indexOf(tempNode.id)) {\n        tempNode = layoutInfo.layoutNodes[layoutInfo.idToIndex[tempNode.parentId]];\n        depth++;\n      }\n\n      // logDebug('LCA of nodes ' + tempEdge.sourceId + ' and ' + tempEdge.targetId +\n      //  \". Index: \" + lca + \" Contents: \" + lcaGraph.toString() +\n      //  \". Depth: \" + depth);\n\n      // Update idealLength\n      idealLength *= depth * options.nestingFactor;\n    }\n\n    tempEdge.idealLength = idealLength;\n    tempEdge.elasticity = elasticity;\n\n    layoutInfo.layoutEdges.push(tempEdge);\n  }\n\n  // Finally, return layoutInfo object\n  return layoutInfo;\n};\n\n/**\n * @brief : This function finds the index of the lowest common\n *          graph ancestor between 2 nodes in the subtree\n *          (from the graph hierarchy induced tree) whose\n *          root is graphIx\n *\n * @arg node1: node1's ID\n * @arg node2: node2's ID\n * @arg layoutInfo: layoutInfo object\n *\n */\nvar findLCA = function findLCA(node1, node2, layoutInfo) {\n  // Find their common ancester, starting from the root graph\n  var res = findLCA_aux(node1, node2, 0, layoutInfo);\n  if (2 > res.count) {\n    // If aux function couldn't find the common ancester,\n    // then it is the root graph\n    return 0;\n  } else {\n    return res.graph;\n  }\n};\n\n/**\n * @brief          : Auxiliary function used for LCA computation\n *\n * @arg node1      : node1's ID\n * @arg node2      : node2's ID\n * @arg graphIx    : subgraph index\n * @arg layoutInfo : layoutInfo object\n *\n * @return         : object of the form {count: X, graph: Y}, where:\n *                   X is the number of ancesters (max: 2) found in\n *                   graphIx (and it's subgraphs),\n *                   Y is the graph index of the lowest graph containing\n *                   all X nodes\n */\nvar findLCA_aux = function findLCA_aux(node1, node2, graphIx, layoutInfo) {\n  var graph = layoutInfo.graphSet[graphIx];\n  // If both nodes belongs to graphIx\n  if (-1 < graph.indexOf(node1) && -1 < graph.indexOf(node2)) {\n    return { count: 2, graph: graphIx };\n  }\n\n  // Make recursive calls for all subgraphs\n  var c = 0;\n  for (var i = 0; i < graph.length; i++) {\n    var nodeId = graph[i];\n    var nodeIx = layoutInfo.idToIndex[nodeId];\n    var children = layoutInfo.layoutNodes[nodeIx].children;\n\n    // If the node has no child, skip it\n    if (0 === children.length) {\n      continue;\n    }\n\n    var childGraphIx = layoutInfo.indexToGraph[layoutInfo.idToIndex[children[0]]];\n    var result = findLCA_aux(node1, node2, childGraphIx, layoutInfo);\n    if (0 === result.count) {\n      // Neither node1 nor node2 are present in this subgraph\n      continue;\n    } else if (1 === result.count) {\n      // One of (node1, node2) is present in this subgraph\n      c++;\n      if (2 === c) {\n        // We've already found both nodes, no need to keep searching\n        break;\n      }\n    } else {\n      // Both nodes are present in this subgraph\n      return result;\n    }\n  }\n\n  return { count: c, graph: graphIx };\n};\n\n/**\n * @brief: printsLayoutInfo into js console\n *         Only used for debbuging\n */\nvar printLayoutInfo = function printLayoutInfo(layoutInfo) {\n  /* eslint-disable */\n\n  if (!DEBUG) {\n    return;\n  }\n  console.debug('layoutNodes:');\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = layoutInfo.layoutNodes[i];\n    var s = '\\nindex: ' + i + '\\nId: ' + n.id + '\\nChildren: ' + n.children.toString() + '\\nparentId: ' + n.parentId + '\\npositionX: ' + n.positionX + '\\npositionY: ' + n.positionY + '\\nOffsetX: ' + n.offsetX + '\\nOffsetY: ' + n.offsetY + '\\npadLeft: ' + n.padLeft + '\\npadRight: ' + n.padRight + '\\npadTop: ' + n.padTop + '\\npadBottom: ' + n.padBottom;\n\n    console.debug(s);\n  }\n\n  console.debug('idToIndex');\n  for (var i in layoutInfo.idToIndex) {\n    console.debug('Id: ' + i + '\\nIndex: ' + layoutInfo.idToIndex[i]);\n  }\n\n  console.debug('Graph Set');\n  var set = layoutInfo.graphSet;\n  for (var i = 0; i < set.length; i++) {\n    console.debug('Set : ' + i + ': ' + set[i].toString());\n  }\n\n  var s = 'IndexToGraph';\n  for (var i = 0; i < layoutInfo.indexToGraph.length; i++) {\n    s += '\\nIndex : ' + i + ' Graph: ' + layoutInfo.indexToGraph[i];\n  }\n  console.debug(s);\n\n  s = 'Layout Edges';\n  for (var i = 0; i < layoutInfo.layoutEdges.length; i++) {\n    var e = layoutInfo.layoutEdges[i];\n    s += '\\nEdge Index: ' + i + ' ID: ' + e.id + ' SouceID: ' + e.sourceId + ' TargetId: ' + e.targetId + ' Ideal Length: ' + e.idealLength;\n  }\n  console.debug(s);\n\n  s = 'nodeSize: ' + layoutInfo.nodeSize;\n  s += '\\nedgeSize: ' + layoutInfo.edgeSize;\n  s += '\\ntemperature: ' + layoutInfo.temperature;\n  console.debug(s);\n\n  return;\n  /* eslint-enable */\n};\n\n/**\n * @brief : Randomizes the position of all nodes\n */\nvar randomizePositions = function randomizePositions(layoutInfo, cy) {\n  var width = layoutInfo.clientWidth;\n  var height = layoutInfo.clientHeight;\n\n  for (var i = 0; i < layoutInfo.nodeSize; i++) {\n    var n = layoutInfo.layoutNodes[i];\n\n    // No need to randomize compound nodes or locked nodes\n    if (0 === n.children.length && !n.isLocked) {\n      n.positionX = Math.random() * width;\n      n.positionY = Math.random() * height;\n    }\n  }\n};\n\n/**\n * @brief          : Updates the positions of nodes in the network\n * @arg layoutInfo : LayoutInfo object\n * @arg cy         : Cytoscape object\n * @arg options    : Layout options\n */\nvar refreshPositions = function refreshPositions(layoutInfo, cy, options) {\n  // var s = 'Refreshing positions';\n  // logDebug(s);\n\n  var layout = options.layout;\n  var nodes = options.eles.nodes();\n  var bb = layoutInfo.boundingBox;\n  var coseBB = { x1: Infinity, x2: -Infinity, y1: Infinity, y2: -Infinity };\n\n  if (options.boundingBox) {\n    nodes.forEach(function (node) {\n      var lnode = layoutInfo.layoutNodes[layoutInfo.idToIndex[node.data('id')]];\n\n      coseBB.x1 = Math.min(coseBB.x1, lnode.positionX);\n      coseBB.x2 = Math.max(coseBB.x2, lnode.positionX);\n\n      coseBB.y1 = Math.min(coseBB.y1, lnode.positionY);\n      coseBB.y2 = Math.max(coseBB.y2, lnode.positionY);\n    });\n\n    coseBB.w = coseBB.x2 - coseBB.x1;\n    coseBB.h = coseBB.y2 - coseBB.y1;\n  }\n\n  nodes.positions(function (ele, i) {\n    var lnode = layoutInfo.layoutNodes[layoutInfo.idToIndex[ele.data('id')]];\n    // s = \"Node: \" + lnode.id + \". Refreshed position: (\" +\n    // lnode.positionX + \", \" + lnode.positionY + \").\";\n    // logDebug(s);\n\n    if (options.boundingBox) {\n      // then add extra bounding box constraint\n      var pctX = (lnode.positionX - coseBB.x1) / coseBB.w;\n      var pctY = (lnode.positionY - coseBB.y1) / coseBB.h;\n\n      return {\n        x: bb.x1 + pctX * bb.w,\n        y: bb.y1 + pctY * bb.h\n      };\n    } else {\n      return {\n        x: lnode.positionX,\n        y: lnode.positionY\n      };\n    }\n  });\n\n  // Trigger layoutReady only on first call\n  if (true !== layoutInfo.ready) {\n    // s = 'Triggering layoutready';\n    // logDebug(s);\n    layoutInfo.ready = true;\n    layout.one('layoutready', options.ready);\n    layout.emit({ type: 'layoutready', layout: this });\n  }\n};\n\n/**\n * @brief : Logs a debug message in JS console, if DEBUG is ON\n */\n// var logDebug = function(text) {\n//   if (DEBUG) {\n//     console.debug(text);\n//   }\n// };\n\nmodule.exports = CoseLayout;\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar math = __webpack_require__(2);\n\nvar defaults = {\n  fit: true, // whether to fit the viewport to the graph\n  padding: 30, // padding used on fit\n  boundingBox: undefined, // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  avoidOverlap: true, // prevents node overlap, may overflow boundingBox if not enough space\n  avoidOverlapPadding: 10, // extra spacing around nodes when avoidOverlap: true\n  nodeDimensionsIncludeLabels: false, // Excludes the label when calculating node bounding boxes for the layout algorithm\n  spacingFactor: undefined, // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n  condense: false, // uses all available space on false, uses minimal space on true\n  rows: undefined, // force num of rows in the grid\n  cols: undefined, // force num of columns in the grid\n  position: function position(node) {}, // returns { row, col } for element\n  sort: undefined, // a sorting function to order the nodes; e.g. function(a, b){ return a.data('weight') - b.data('weight') }\n  animate: false, // whether to transition the node positions\n  animationDuration: 500, // duration of animation in ms if enabled\n  animationEasing: undefined, // easing of animation if enabled\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  }, // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined, // callback on layoutready\n  stop: undefined, // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts \n};\n\nfunction GridLayout(options) {\n  this.options = util.extend({}, defaults, options);\n}\n\nGridLayout.prototype.run = function () {\n  var params = this.options;\n  var options = params;\n\n  var cy = params.cy;\n  var eles = options.eles;\n  var nodes = eles.nodes().not(':parent');\n\n  if (options.sort) {\n    nodes = nodes.sort(options.sort);\n  }\n\n  var bb = math.makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0, y1: 0, w: cy.width(), h: cy.height()\n  });\n\n  if (bb.h === 0 || bb.w === 0) {\n    nodes.layoutPositions(this, options, function (ele) {\n      return { x: bb.x1, y: bb.y1 };\n    });\n  } else {\n\n    // width/height * splits^2 = cells where splits is number of times to split width\n    var cells = nodes.size();\n    var splits = Math.sqrt(cells * bb.h / bb.w);\n    var rows = Math.round(splits);\n    var cols = Math.round(bb.w / bb.h * splits);\n\n    var small = function small(val) {\n      if (val == null) {\n        return Math.min(rows, cols);\n      } else {\n        var min = Math.min(rows, cols);\n        if (min == rows) {\n          rows = val;\n        } else {\n          cols = val;\n        }\n      }\n    };\n\n    var large = function large(val) {\n      if (val == null) {\n        return Math.max(rows, cols);\n      } else {\n        var max = Math.max(rows, cols);\n        if (max == rows) {\n          rows = val;\n        } else {\n          cols = val;\n        }\n      }\n    };\n\n    var oRows = options.rows;\n    var oCols = options.cols != null ? options.cols : options.columns;\n\n    // if rows or columns were set in options, use those values\n    if (oRows != null && oCols != null) {\n      rows = oRows;\n      cols = oCols;\n    } else if (oRows != null && oCols == null) {\n      rows = oRows;\n      cols = Math.ceil(cells / rows);\n    } else if (oRows == null && oCols != null) {\n      cols = oCols;\n      rows = Math.ceil(cells / cols);\n    }\n\n    // otherwise use the automatic values and adjust accordingly\n\n    // if rounding was up, see if we can reduce rows or columns\n    else if (cols * rows > cells) {\n        var sm = small();\n        var lg = large();\n\n        // reducing the small side takes away the most cells, so try it first\n        if ((sm - 1) * lg >= cells) {\n          small(sm - 1);\n        } else if ((lg - 1) * sm >= cells) {\n          large(lg - 1);\n        }\n      } else {\n\n        // if rounding was too low, add rows or columns\n        while (cols * rows < cells) {\n          var _sm = small();\n          var _lg = large();\n\n          // try to add to larger side first (adds less in multiplication)\n          if ((_lg + 1) * _sm >= cells) {\n            large(_lg + 1);\n          } else {\n            small(_sm + 1);\n          }\n        }\n      }\n\n    var cellWidth = bb.w / cols;\n    var cellHeight = bb.h / rows;\n\n    if (options.condense) {\n      cellWidth = 0;\n      cellHeight = 0;\n    }\n\n    if (options.avoidOverlap) {\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var pos = node._private.position;\n\n        if (pos.x == null || pos.y == null) {\n          // for bb\n          pos.x = 0;\n          pos.y = 0;\n        }\n\n        var nbb = node.layoutDimensions(options);\n        var p = options.avoidOverlapPadding;\n\n        var w = nbb.w + p;\n        var h = nbb.h + p;\n\n        cellWidth = Math.max(cellWidth, w);\n        cellHeight = Math.max(cellHeight, h);\n      }\n    }\n\n    var cellUsed = {}; // e.g. 'c-0-2' => true\n\n    var used = function used(row, col) {\n      return cellUsed['c-' + row + '-' + col] ? true : false;\n    };\n\n    var use = function use(row, col) {\n      cellUsed['c-' + row + '-' + col] = true;\n    };\n\n    // to keep track of current cell position\n    var row = 0;\n    var col = 0;\n    var moveToNextCell = function moveToNextCell() {\n      col++;\n      if (col >= cols) {\n        col = 0;\n        row++;\n      }\n    };\n\n    // get a cache of all the manual positions\n    var id2manPos = {};\n    for (var _i = 0; _i < nodes.length; _i++) {\n      var _node = nodes[_i];\n      var rcPos = options.position(_node);\n\n      if (rcPos && (rcPos.row !== undefined || rcPos.col !== undefined)) {\n        // must have at least row or col def'd\n        var _pos = {\n          row: rcPos.row,\n          col: rcPos.col\n        };\n\n        if (_pos.col === undefined) {\n          // find unused col\n          _pos.col = 0;\n\n          while (used(_pos.row, _pos.col)) {\n            _pos.col++;\n          }\n        } else if (_pos.row === undefined) {\n          // find unused row\n          _pos.row = 0;\n\n          while (used(_pos.row, _pos.col)) {\n            _pos.row++;\n          }\n        }\n\n        id2manPos[_node.id()] = _pos;\n        use(_pos.row, _pos.col);\n      }\n    }\n\n    var getPos = function getPos(element, i) {\n      var x = void 0,\n          y = void 0;\n\n      if (element.locked() || element.isParent()) {\n        return false;\n      }\n\n      // see if we have a manual position set\n      var rcPos = id2manPos[element.id()];\n      if (rcPos) {\n        x = rcPos.col * cellWidth + cellWidth / 2 + bb.x1;\n        y = rcPos.row * cellHeight + cellHeight / 2 + bb.y1;\n      } else {\n        // otherwise set automatically\n\n        while (used(row, col)) {\n          moveToNextCell();\n        }\n\n        x = col * cellWidth + cellWidth / 2 + bb.x1;\n        y = row * cellHeight + cellHeight / 2 + bb.y1;\n        use(row, col);\n\n        moveToNextCell();\n      }\n\n      return { x: x, y: y };\n    };\n\n    nodes.layoutPositions(this, options, getPos);\n  }\n\n  return this; // chaining\n};\n\nmodule.exports = GridLayout;\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = [{ name: 'breadthfirst', impl: __webpack_require__(76) }, { name: 'circle', impl: __webpack_require__(77) }, { name: 'concentric', impl: __webpack_require__(78) }, { name: 'cose', impl: __webpack_require__(79) }, { name: 'grid', impl: __webpack_require__(80) }, { name: 'null', impl: __webpack_require__(82) }, { name: 'preset', impl: __webpack_require__(83) }, { name: 'random', impl: __webpack_require__(84) }];\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\n\n// default layout options\nvar defaults = {\n  ready: function ready() {}, // on layoutready\n  stop: function stop() {} // on layoutstop\n};\n\n// constructor\n// options : object containing layout options\nfunction NullLayout(options) {\n  this.options = util.extend({}, defaults, options);\n}\n\n// runs the layout\nNullLayout.prototype.run = function () {\n  var options = this.options;\n  var eles = options.eles; // elements to consider in the layout\n  var layout = this;\n\n  // cy is automatically populated for us in the constructor\n  var cy = options.cy; // jshint ignore:line\n\n  layout.emit('layoutstart');\n\n  // puts all nodes at (0, 0)\n  eles.nodes().positions(function () {\n    return {\n      x: 0,\n      y: 0\n    };\n  });\n\n  // trigger layoutready when each node has had its position set at least once\n  layout.one('layoutready', options.ready);\n  layout.emit('layoutready');\n\n  // trigger layoutstop when the layout stops (e.g. finishes)\n  layout.one('layoutstop', options.stop);\n  layout.emit('layoutstop');\n\n  return this; // chaining\n};\n\n// called on continuous layouts to stop them before they finish\nNullLayout.prototype.stop = function () {\n  return this; // chaining\n};\n\nmodule.exports = NullLayout;\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar is = __webpack_require__(0);\n\nvar defaults = {\n  positions: undefined, // map of (node id) => (position obj); or function(node){ return somPos; }\n  zoom: undefined, // the zoom level to set (prob want fit = false if set)\n  pan: undefined, // the pan level to set (prob want fit = false if set)\n  fit: true, // whether to fit to viewport\n  padding: 30, // padding on fit\n  animate: false, // whether to transition the node positions\n  animationDuration: 500, // duration of animation in ms if enabled\n  animationEasing: undefined, // easing of animation if enabled\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  }, // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined, // callback on layoutready\n  stop: undefined, // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts \n};\n\nfunction PresetLayout(options) {\n  this.options = util.extend({}, defaults, options);\n}\n\nPresetLayout.prototype.run = function () {\n  var options = this.options;\n  var eles = options.eles;\n\n  var nodes = eles.nodes();\n  var posIsFn = is.fn(options.positions);\n\n  function getPosition(node) {\n    if (options.positions == null) {\n      return null;\n    }\n\n    if (posIsFn) {\n      return options.positions(node);\n    }\n\n    var pos = options.positions[node._private.data.id];\n\n    if (pos == null) {\n      return null;\n    }\n\n    return pos;\n  }\n\n  nodes.layoutPositions(this, options, function (node, i) {\n    var position = getPosition(node);\n\n    if (node.locked() || position == null) {\n      return false;\n    }\n\n    return position;\n  });\n\n  return this; // chaining\n};\n\nmodule.exports = PresetLayout;\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar math = __webpack_require__(2);\n\nvar defaults = {\n  fit: true, // whether to fit to viewport\n  padding: 30, // fit padding\n  boundingBox: undefined, // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n  animate: false, // whether to transition the node positions\n  animationDuration: 500, // duration of animation in ms if enabled\n  animationEasing: undefined, // easing of animation if enabled\n  animateFilter: function animateFilter(node, i) {\n    return true;\n  }, // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  ready: undefined, // callback on layoutready\n  stop: undefined, // callback on layoutstop\n  transform: function transform(node, position) {\n    return position;\n  } // transform a given node position. Useful for changing flow direction in discrete layouts \n};\n\nfunction RandomLayout(options) {\n  this.options = util.extend({}, defaults, options);\n}\n\nRandomLayout.prototype.run = function () {\n  var options = this.options;\n  var cy = options.cy;\n  var eles = options.eles;\n  var nodes = eles.nodes().not(':parent');\n\n  var bb = math.makeBoundingBox(options.boundingBox ? options.boundingBox : {\n    x1: 0, y1: 0, w: cy.width(), h: cy.height()\n  });\n\n  var getPos = function getPos(node, i) {\n    return {\n      x: bb.x1 + Math.round(Math.random() * bb.w),\n      y: bb.y1 + Math.round(Math.random() * bb.h)\n    };\n  };\n\n  nodes.layoutPositions(this, options, getPos);\n\n  return this; // chaining\n};\n\nmodule.exports = RandomLayout;\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar math = __webpack_require__(2);\nvar is = __webpack_require__(0);\nvar util = __webpack_require__(1);\n\nvar BRp = {};\n\nBRp.arrowShapeWidth = 0.3;\n\nBRp.registerArrowShapes = function () {\n  var arrowShapes = this.arrowShapes = {};\n  var renderer = this;\n\n  // Contract for arrow shapes:\n  // 0, 0 is arrow tip\n  // (0, 1) is direction towards node\n  // (1, 0) is right\n  //\n  // functional api:\n  // collide: check x, y in shape\n  // roughCollide: called before collide, no false negatives\n  // draw: draw\n  // spacing: dist(arrowTip, nodeBoundary)\n  // gap: dist(edgeTip, nodeBoundary), edgeTip may != arrowTip\n\n  var bbCollide = function bbCollide(x, y, size, angle, translation, edgeWidth, padding) {\n    var x1 = translation.x - size / 2 - padding;\n    var x2 = translation.x + size / 2 + padding;\n    var y1 = translation.y - size / 2 - padding;\n    var y2 = translation.y + size / 2 + padding;\n\n    var inside = x1 <= x && x <= x2 && y1 <= y && y <= y2;\n\n    return inside;\n  };\n\n  var transform = function transform(x, y, size, angle, translation) {\n    var xRotated = x * Math.cos(angle) - y * Math.sin(angle);\n    var yRotated = x * Math.sin(angle) + y * Math.cos(angle);\n\n    var xScaled = xRotated * size;\n    var yScaled = yRotated * size;\n\n    var xTranslated = xScaled + translation.x;\n    var yTranslated = yScaled + translation.y;\n\n    return {\n      x: xTranslated,\n      y: yTranslated\n    };\n  };\n\n  var transformPoints = function transformPoints(pts, size, angle, translation) {\n    var retPts = [];\n\n    for (var i = 0; i < pts.length; i += 2) {\n      var x = pts[i];\n      var y = pts[i + 1];\n\n      retPts.push(transform(x, y, size, angle, translation));\n    }\n\n    return retPts;\n  };\n\n  var pointsToArr = function pointsToArr(pts) {\n    var ret = [];\n\n    for (var i = 0; i < pts.length; i++) {\n      var p = pts[i];\n\n      ret.push(p.x, p.y);\n    }\n\n    return ret;\n  };\n\n  var standardGap = function standardGap(edge) {\n    return edge.pstyle('width').pfValue * edge.pstyle('arrow-scale').pfValue * 2;\n  };\n\n  var defineArrowShape = function defineArrowShape(name, defn) {\n    if (is.string(defn)) {\n      defn = arrowShapes[defn];\n    }\n\n    arrowShapes[name] = util.extend({\n      name: name,\n\n      points: [-0.15, -0.3, 0.15, -0.3, 0.15, 0.3, -0.15, 0.3],\n\n      collide: function collide(x, y, size, angle, translation, padding) {\n        var points = pointsToArr(transformPoints(this.points, size + 2 * padding, angle, translation));\n        var inside = math.pointInsidePolygonPoints(x, y, points);\n\n        return inside;\n      },\n\n      roughCollide: bbCollide,\n\n      draw: function draw(context, size, angle, translation) {\n        var points = transformPoints(this.points, size, angle, translation);\n\n        renderer.arrowShapeImpl('polygon')(context, points);\n      },\n\n      spacing: function spacing(edge) {\n        return 0;\n      },\n\n      gap: standardGap\n    }, defn);\n  };\n\n  defineArrowShape('none', {\n    collide: util.falsify,\n\n    roughCollide: util.falsify,\n\n    draw: util.noop,\n\n    spacing: util.zeroify,\n\n    gap: util.zeroify\n  });\n\n  defineArrowShape('triangle', {\n    points: [-0.15, -0.3, 0, 0, 0.15, -0.3]\n  });\n\n  defineArrowShape('arrow', 'triangle');\n\n  defineArrowShape('triangle-backcurve', {\n    points: arrowShapes['triangle'].points,\n\n    controlPoint: [0, -0.15],\n\n    roughCollide: bbCollide,\n\n    draw: function draw(context, size, angle, translation, edgeWidth) {\n      var ptsTrans = transformPoints(this.points, size, angle, translation);\n      var ctrlPt = this.controlPoint;\n      var ctrlPtTrans = transform(ctrlPt[0], ctrlPt[1], size, angle, translation);\n\n      renderer.arrowShapeImpl(this.name)(context, ptsTrans, ctrlPtTrans);\n    },\n\n    gap: function gap(edge) {\n      return standardGap(edge) * 0.985;\n    }\n  });\n\n  defineArrowShape('triangle-tee', {\n    points: [-0.15, -0.3, 0, 0, 0.15, -0.3, -0.15, -0.3],\n\n    pointsTee: [-0.15, -0.4, -0.15, -0.5, 0.15, -0.5, 0.15, -0.4],\n\n    collide: function collide(x, y, size, angle, translation, edgeWidth, padding) {\n      var triPts = pointsToArr(transformPoints(this.points, size + 2 * padding, angle, translation));\n      var teePts = pointsToArr(transformPoints(this.pointsTee, size + 2 * padding, angle, translation));\n\n      var inside = math.pointInsidePolygonPoints(x, y, triPts) || math.pointInsidePolygonPoints(x, y, teePts);\n\n      return inside;\n    },\n\n    draw: function draw(context, size, angle, translation, edgeWidth) {\n      var triPts = transformPoints(this.points, size, angle, translation);\n      var teePts = transformPoints(this.pointsTee, size, angle, translation);\n\n      renderer.arrowShapeImpl(this.name)(context, triPts, teePts);\n    }\n  });\n\n  defineArrowShape('triangle-cross', {\n    points: [-0.15, -0.3, 0, 0, 0.15, -0.3, -0.15, -0.3],\n\n    baseCrossLinePts: [-0.15, -0.4, // first half of the rectangle\n    -0.15, -0.4, 0.15, -0.4, // second half of the rectangle\n    0.15, -0.4],\n\n    crossLinePts: function crossLinePts(size, edgeWidth) {\n      // shift points so that the distance between the cross points matches edge width\n      var p = this.baseCrossLinePts.slice();\n      var shiftFactor = edgeWidth / size;\n      var y0 = 3;\n      var y1 = 5;\n\n      p[y0] = p[y0] - shiftFactor;\n      p[y1] = p[y1] - shiftFactor;\n\n      return p;\n    },\n\n    collide: function collide(x, y, size, angle, translation, edgeWidth, padding) {\n      var triPts = pointsToArr(transformPoints(this.points, size + 2 * padding, angle, translation));\n      var teePts = pointsToArr(transformPoints(this.crossLinePts(size, edgeWidth), size + 2 * padding, angle, translation));\n      var inside = math.pointInsidePolygonPoints(x, y, triPts) || math.pointInsidePolygonPoints(x, y, teePts);\n\n      return inside;\n    },\n\n    draw: function draw(context, size, angle, translation, edgeWidth) {\n      var triPts = transformPoints(this.points, size, angle, translation);\n      var crossLinePts = transformPoints(this.crossLinePts(size, edgeWidth), size, angle, translation);\n\n      renderer.arrowShapeImpl(this.name)(context, triPts, crossLinePts);\n    }\n  });\n\n  defineArrowShape('vee', {\n    points: [-0.15, -0.3, 0, 0, 0.15, -0.3, 0, -0.15],\n\n    gap: function gap(edge) {\n      return standardGap(edge) * 0.985;\n    }\n  });\n\n  defineArrowShape('circle', {\n    radius: 0.15,\n\n    collide: function collide(x, y, size, angle, translation, edgeWidth, padding) {\n      var t = translation;\n      var inside = Math.pow(t.x - x, 2) + Math.pow(t.y - y, 2) <= Math.pow((size + 2 * padding) * this.radius, 2);\n\n      return inside;\n    },\n\n    draw: function draw(context, size, angle, translation, edgeWidth) {\n      renderer.arrowShapeImpl(this.name)(context, translation.x, translation.y, this.radius * size);\n    },\n\n    spacing: function spacing(edge) {\n      return renderer.getArrowWidth(edge.pstyle('width').pfValue, edge.pstyle('arrow-scale').value) * this.radius;\n    }\n  });\n\n  defineArrowShape('tee', {\n    points: [-0.15, 0, -0.15, -0.1, 0.15, -0.1, 0.15, 0],\n\n    spacing: function spacing(edge) {\n      return 1;\n    },\n\n    gap: function gap(edge) {\n      return 1;\n    }\n  });\n\n  defineArrowShape('square', {\n    points: [-0.15, 0.00, 0.15, 0.00, 0.15, -0.3, -0.15, -0.3]\n  });\n\n  defineArrowShape('diamond', {\n    points: [-0.15, -0.15, 0, -0.3, 0.15, -0.15, 0, 0],\n\n    gap: function gap(edge) {\n      return edge.pstyle('width').pfValue * edge.pstyle('arrow-scale').value;\n    }\n  });\n};\n\nmodule.exports = BRp;\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar window = __webpack_require__(4);\nvar math = __webpack_require__(2);\nvar util = __webpack_require__(1);\nvar window = __webpack_require__(4);\n\nvar BRp = {};\n\n// Project mouse\nBRp.projectIntoViewport = function (clientX, clientY) {\n  var cy = this.cy;\n  var offsets = this.findContainerClientCoords();\n  var offsetLeft = offsets[0];\n  var offsetTop = offsets[1];\n  var scale = offsets[4];\n  var pan = cy.pan();\n  var zoom = cy.zoom();\n\n  var x = ((clientX - offsetLeft) / scale - pan.x) / zoom;\n  var y = ((clientY - offsetTop) / scale - pan.y) / zoom;\n\n  return [x, y];\n};\n\nBRp.findContainerClientCoords = function () {\n  if (this.containerBB) {\n    return this.containerBB;\n  }\n\n  var container = this.container;\n  var rect = container.getBoundingClientRect();\n  var style = window.getComputedStyle(container);\n  var styleValue = function styleValue(name) {\n    return parseFloat(style.getPropertyValue(name));\n  };\n\n  var padding = {\n    left: styleValue('padding-left'),\n    right: styleValue('padding-right'),\n    top: styleValue('padding-top'),\n    bottom: styleValue('padding-bottom')\n  };\n\n  var border = {\n    left: styleValue('border-left-width'),\n    right: styleValue('border-right-width'),\n    top: styleValue('border-top-width'),\n    bottom: styleValue('border-bottom-width')\n  };\n\n  var clientWidth = container.clientWidth;\n  var clientHeight = container.clientHeight;\n\n  var paddingHor = padding.left + padding.right;\n  var paddingVer = padding.top + padding.bottom;\n\n  var borderHor = border.left + border.right;\n  var borderVer = border.top + border.bottom;\n\n  var scale = rect.width / (clientWidth + borderHor);\n\n  var unscaledW = clientWidth - paddingHor;\n  var unscaledH = clientHeight - paddingVer;\n\n  var scaledW = rect.width - (paddingHor + borderHor) * scale;\n  var scaledH = rect.height - (paddingVer + borderVer) * scale;\n\n  var left = rect.left + padding.left + border.left;\n  var top = rect.top + padding.top + border.top;\n\n  return this.containerBB = [left, top, unscaledW, unscaledH, scale];\n};\n\nBRp.invalidateContainerClientCoordsCache = function () {\n  this.containerBB = null;\n};\n\nBRp.findNearestElement = function (x, y, interactiveElementsOnly, isTouch) {\n  return this.findNearestElements(x, y, interactiveElementsOnly, isTouch)[0];\n};\n\nBRp.findNearestElements = function (x, y, interactiveElementsOnly, isTouch) {\n  var self = this;\n  var r = this;\n  var eles = r.getCachedZSortedEles();\n  var near = []; // 1 node max, 1 edge max\n  var zoom = r.cy.zoom();\n  var hasCompounds = r.cy.hasCompoundNodes();\n  var edgeThreshold = (isTouch ? 24 : 8) / zoom;\n  var nodeThreshold = (isTouch ? 8 : 2) / zoom;\n  var labelThreshold = (isTouch ? 8 : 2) / zoom;\n  var minSqDist = Infinity;\n  var nearEdge;\n  var nearNode;\n\n  if (interactiveElementsOnly) {\n    eles = eles.interactive;\n  }\n\n  function addEle(ele, sqDist) {\n    if (ele.isNode()) {\n      if (nearNode) {\n        return; // can't replace node\n      } else {\n        nearNode = ele;\n        near.push(ele);\n      }\n    }\n\n    if (ele.isEdge() && (sqDist == null || sqDist < minSqDist)) {\n      if (nearEdge) {\n        // then replace existing edge\n        // can replace only if same z-index\n        if (nearEdge.pstyle('z-index').value === ele.pstyle('z-index').value) {\n          for (var i = 0; i < near.length; i++) {\n            if (near[i].isEdge()) {\n              near[i] = ele;\n              nearEdge = ele;\n              minSqDist = sqDist != null ? sqDist : minSqDist;\n              break;\n            }\n          }\n        }\n      } else {\n        near.push(ele);\n        nearEdge = ele;\n        minSqDist = sqDist != null ? sqDist : minSqDist;\n      }\n    }\n  }\n\n  function checkNode(node) {\n    var width = node.outerWidth() + 2 * nodeThreshold;\n    var height = node.outerHeight() + 2 * nodeThreshold;\n    var hw = width / 2;\n    var hh = height / 2;\n    var pos = node.position();\n\n    if (pos.x - hw <= x && x <= pos.x + hw // bb check x\n    && pos.y - hh <= y && y <= pos.y + hh // bb check y\n    ) {\n        var shape = r.nodeShapes[self.getNodeShape(node)];\n\n        if (shape.checkPoint(x, y, 0, width, height, pos.x, pos.y)) {\n          addEle(node, 0);\n          return true;\n        }\n      }\n  }\n\n  function checkEdge(edge) {\n    var _p = edge._private;\n\n    var rs = _p.rscratch;\n    var styleWidth = edge.pstyle('width').pfValue;\n    var scale = edge.pstyle('arrow-scale').value;\n    var width = styleWidth / 2 + edgeThreshold; // more like a distance radius from centre\n    var widthSq = width * width;\n    var width2 = width * 2;\n    var src = _p.source;\n    var tgt = _p.target;\n    var inEdgeBB = false;\n    var sqDist;\n\n    if (rs.edgeType === 'segments' || rs.edgeType === 'straight' || rs.edgeType === 'haystack') {\n      var pts = rs.allpts;\n\n      for (var i = 0; i + 3 < pts.length; i += 2) {\n        if ((inEdgeBB = math.inLineVicinity(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3], width2)) && widthSq > (sqDist = math.sqdistToFiniteLine(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3]))) {\n          addEle(edge, sqDist);\n          return true;\n        }\n      }\n    } else if (rs.edgeType === 'bezier' || rs.edgeType === 'multibezier' || rs.edgeType === 'self' || rs.edgeType === 'compound') {\n      var pts = rs.allpts;\n      for (var i = 0; i + 5 < rs.allpts.length; i += 4) {\n        if ((inEdgeBB = math.inBezierVicinity(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3], pts[i + 4], pts[i + 5], width2)) && widthSq > (sqDist = math.sqdistToQuadraticBezier(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3], pts[i + 4], pts[i + 5]))) {\n          addEle(edge, sqDist);\n          return true;\n        }\n      }\n    }\n\n    // if we're close to the edge but didn't hit it, maybe we hit its arrows\n\n    var src = src || _p.source;\n    var tgt = tgt || _p.target;\n\n    var arSize = self.getArrowWidth(styleWidth, scale);\n\n    var arrows = [{ name: 'source', x: rs.arrowStartX, y: rs.arrowStartY, angle: rs.srcArrowAngle }, { name: 'target', x: rs.arrowEndX, y: rs.arrowEndY, angle: rs.tgtArrowAngle }, { name: 'mid-source', x: rs.midX, y: rs.midY, angle: rs.midsrcArrowAngle }, { name: 'mid-target', x: rs.midX, y: rs.midY, angle: rs.midtgtArrowAngle }];\n\n    for (var i = 0; i < arrows.length; i++) {\n      var ar = arrows[i];\n      var shape = r.arrowShapes[edge.pstyle(ar.name + '-arrow-shape').value];\n      var edgeWidth = edge.pstyle('width').pfValue;\n      if (shape.roughCollide(x, y, arSize, ar.angle, { x: ar.x, y: ar.y }, edgeWidth, edgeThreshold) && shape.collide(x, y, arSize, ar.angle, { x: ar.x, y: ar.y }, edgeWidth, edgeThreshold)) {\n        addEle(edge);\n        return true;\n      }\n    }\n\n    // for compound graphs, hitting edge may actually want a connected node instead (b/c edge may have greater z-index precedence)\n    if (hasCompounds && near.length > 0) {\n      checkNode(src);\n      checkNode(tgt);\n    }\n  }\n\n  function preprop(obj, name, pre) {\n    return util.getPrefixedProperty(obj, name, pre);\n  }\n\n  function checkLabel(ele, prefix) {\n    var _p = ele._private;\n    var th = labelThreshold;\n\n    var prefixDash;\n    if (prefix) {\n      prefixDash = prefix + '-';\n    } else {\n      prefixDash = '';\n    }\n\n    var text = ele.pstyle(prefixDash + 'label').value;\n    var eventsEnabled = ele.pstyle('text-events').strValue === 'yes';\n\n    if (!eventsEnabled || !text) {\n      return;\n    }\n\n    var rstyle = _p.rstyle;\n    var bw = ele.pstyle('text-border-width').pfValue;\n    var pw = ele.pstyle('text-background-padding').pfValue;\n    var lw = preprop(rstyle, 'labelWidth', prefix) + bw + 2 * th + 2 * pw;\n    var lh = preprop(rstyle, 'labelHeight', prefix) + bw + 2 * th + 2 * pw;\n    var lx = preprop(rstyle, 'labelX', prefix);\n    var ly = preprop(rstyle, 'labelY', prefix);\n\n    var theta = preprop(_p.rscratch, 'labelAngle', prefix);\n\n    var lx1 = lx - lw / 2;\n    var lx2 = lx + lw / 2;\n    var ly1 = ly - lh / 2;\n    var ly2 = ly + lh / 2;\n\n    if (theta) {\n      var cos = Math.cos(theta);\n      var sin = Math.sin(theta);\n\n      var rotate = function rotate(x, y) {\n        x = x - lx;\n        y = y - ly;\n\n        return {\n          x: x * cos - y * sin + lx,\n          y: x * sin + y * cos + ly\n        };\n      };\n\n      var px1y1 = rotate(lx1, ly1);\n      var px1y2 = rotate(lx1, ly2);\n      var px2y1 = rotate(lx2, ly1);\n      var px2y2 = rotate(lx2, ly2);\n\n      var points = [px1y1.x, px1y1.y, px2y1.x, px2y1.y, px2y2.x, px2y2.y, px1y2.x, px1y2.y];\n\n      if (math.pointInsidePolygonPoints(x, y, points)) {\n        addEle(ele);\n        return true;\n      }\n    } else {\n      // do a cheaper bb check\n      var bb = {\n        w: lw,\n        h: lh,\n        x1: lx1,\n        x2: lx2,\n        y1: ly1,\n        y2: ly2\n      };\n\n      if (math.inBoundingBox(bb, x, y)) {\n        addEle(ele);\n        return true;\n      }\n    }\n  }\n\n  for (var i = eles.length - 1; i >= 0; i--) {\n    // reverse order for precedence\n    var ele = eles[i];\n\n    if (ele.isNode()) {\n      checkNode(ele) || checkLabel(ele);\n    } else {\n      // then edge\n      checkEdge(ele) || checkLabel(ele) || checkLabel(ele, 'source') || checkLabel(ele, 'target');\n    }\n  }\n\n  return near;\n};\n\n// 'Give me everything from this box'\nBRp.getAllInBox = function (x1, y1, x2, y2) {\n  var eles = this.getCachedZSortedEles().interactive;\n  var box = [];\n\n  var x1c = Math.min(x1, x2);\n  var x2c = Math.max(x1, x2);\n  var y1c = Math.min(y1, y2);\n  var y2c = Math.max(y1, y2);\n\n  x1 = x1c;\n  x2 = x2c;\n  y1 = y1c;\n  y2 = y2c;\n\n  var boxBb = math.makeBoundingBox({\n    x1: x1, y1: y1,\n    x2: x2, y2: y2\n  });\n\n  for (var e = 0; e < eles.length; e++) {\n    var ele = eles[e];\n\n    if (ele.isNode()) {\n      var node = ele;\n      var nodeBb = node.boundingBox({\n        includeNodes: true,\n        includeEdges: false,\n        includeLabels: false\n      });\n\n      if (math.boundingBoxesIntersect(boxBb, nodeBb) && !math.boundingBoxInBoundingBox(nodeBb, boxBb)) {\n        box.push(node);\n      }\n    } else {\n      var edge = ele;\n      var _p = edge._private;\n      var rs = _p.rscratch;\n\n      if (rs.startX != null && rs.startY != null && !math.inBoundingBox(boxBb, rs.startX, rs.startY)) {\n        continue;\n      }\n      if (rs.endX != null && rs.endY != null && !math.inBoundingBox(boxBb, rs.endX, rs.endY)) {\n        continue;\n      }\n\n      if (rs.edgeType === 'bezier' || rs.edgeType === 'multibezier' || rs.edgeType === 'self' || rs.edgeType === 'compound' || rs.edgeType === 'segments' || rs.edgeType === 'haystack') {\n\n        var pts = _p.rstyle.bezierPts || _p.rstyle.linePts || _p.rstyle.haystackPts;\n        var allInside = true;\n\n        for (var i = 0; i < pts.length; i++) {\n          if (!math.pointInBoundingBox(boxBb, pts[i])) {\n            allInside = false;\n            break;\n          }\n        }\n\n        if (allInside) {\n          box.push(edge);\n        }\n      } else if (rs.edgeType === 'haystack' || rs.edgeType === 'straight') {\n        box.push(edge);\n      }\n    }\n  }\n\n  return box;\n};\n\nmodule.exports = BRp;\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar math = __webpack_require__(2);\n\nvar BRp = {};\n\nBRp.calculateArrowAngles = function (edge) {\n  var rs = edge._private.rscratch;\n  var isHaystack = rs.edgeType === 'haystack';\n  var isBezier = rs.edgeType === 'bezier';\n  var isMultibezier = rs.edgeType === 'multibezier';\n  var isSegments = rs.edgeType === 'segments';\n  var isCompound = rs.edgeType === 'compound';\n  var isSelf = rs.edgeType === 'self';\n\n  // Displacement gives direction for arrowhead orientation\n  var dispX, dispY;\n  var startX, startY, endX, endY, midX, midY;\n\n  if (isHaystack) {\n    startX = rs.haystackPts[0];\n    startY = rs.haystackPts[1];\n    endX = rs.haystackPts[2];\n    endY = rs.haystackPts[3];\n  } else {\n    startX = rs.arrowStartX;\n    startY = rs.arrowStartY;\n    endX = rs.arrowEndX;\n    endY = rs.arrowEndY;\n  }\n\n  midX = rs.midX;\n  midY = rs.midY;\n\n  // source\n  //\n\n  if (isSegments) {\n    dispX = startX - rs.segpts[0];\n    dispY = startY - rs.segpts[1];\n  } else if (isMultibezier || isCompound || isSelf || isBezier) {\n    var pts = rs.allpts;\n    var bX = math.qbezierAt(pts[0], pts[2], pts[4], 0.1);\n    var bY = math.qbezierAt(pts[1], pts[3], pts[5], 0.1);\n\n    dispX = startX - bX;\n    dispY = startY - bY;\n  } else {\n    dispX = startX - midX;\n    dispY = startY - midY;\n  }\n\n  rs.srcArrowAngle = math.getAngleFromDisp(dispX, dispY);\n\n  // mid target\n  //\n\n  var midX = rs.midX;\n  var midY = rs.midY;\n\n  if (isHaystack) {\n    midX = (startX + endX) / 2;\n    midY = (startY + endY) / 2;\n  }\n\n  dispX = endX - startX;\n  dispY = endY - startY;\n\n  if (isSegments) {\n    var pts = rs.allpts;\n\n    if (pts.length / 2 % 2 === 0) {\n      var i2 = pts.length / 2;\n      var i1 = i2 - 2;\n\n      dispX = pts[i2] - pts[i1];\n      dispY = pts[i2 + 1] - pts[i1 + 1];\n    } else {\n      var i2 = pts.length / 2 - 1;\n      var i1 = i2 - 2;\n      var i3 = i2 + 2;\n\n      dispX = pts[i2] - pts[i1];\n      dispY = pts[i2 + 1] - pts[i1 + 1];\n    }\n  } else if (isMultibezier || isCompound || isSelf) {\n    var pts = rs.allpts;\n    var cpts = rs.ctrlpts;\n    var bp0x, bp0y;\n    var bp1x, bp1y;\n\n    if (cpts.length / 2 % 2 === 0) {\n      var p0 = pts.length / 2 - 1; // startpt\n      var ic = p0 + 2;\n      var p1 = ic + 2;\n\n      bp0x = math.qbezierAt(pts[p0], pts[ic], pts[p1], 0.0);\n      bp0y = math.qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.0);\n\n      bp1x = math.qbezierAt(pts[p0], pts[ic], pts[p1], 0.0001);\n      bp1y = math.qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.0001);\n    } else {\n      var ic = pts.length / 2 - 1; // ctrpt\n      var p0 = ic - 2; // startpt\n      var p1 = ic + 2; // endpt\n\n      bp0x = math.qbezierAt(pts[p0], pts[ic], pts[p1], 0.4999);\n      bp0y = math.qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.4999);\n\n      bp1x = math.qbezierAt(pts[p0], pts[ic], pts[p1], 0.5);\n      bp1y = math.qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.5);\n    }\n\n    dispX = bp1x - bp0x;\n    dispY = bp1y - bp0y;\n  }\n\n  rs.midtgtArrowAngle = math.getAngleFromDisp(dispX, dispY);\n\n  rs.midDispX = dispX;\n  rs.midDispY = dispY;\n\n  // mid source\n  //\n\n  dispX *= -1;\n  dispY *= -1;\n\n  if (isSegments) {\n    var pts = rs.allpts;\n\n    if (pts.length / 2 % 2 === 0) {\n      // already ok\n    } else {\n      var i2 = pts.length / 2 - 1;\n      var i3 = i2 + 2;\n\n      dispX = -(pts[i3] - pts[i2]);\n      dispY = -(pts[i3 + 1] - pts[i2 + 1]);\n    }\n  }\n\n  rs.midsrcArrowAngle = math.getAngleFromDisp(dispX, dispY);\n\n  // target\n  //\n\n  if (isSegments) {\n    dispX = endX - rs.segpts[rs.segpts.length - 2];\n    dispY = endY - rs.segpts[rs.segpts.length - 1];\n  } else if (isMultibezier || isCompound || isSelf || isBezier) {\n    var pts = rs.allpts;\n    var l = pts.length;\n    var bX = math.qbezierAt(pts[l - 6], pts[l - 4], pts[l - 2], 0.9);\n    var bY = math.qbezierAt(pts[l - 5], pts[l - 3], pts[l - 1], 0.9);\n\n    dispX = endX - bX;\n    dispY = endY - bY;\n  } else {\n    dispX = endX - midX;\n    dispY = endY - midY;\n  }\n\n  rs.tgtArrowAngle = math.getAngleFromDisp(dispX, dispY);\n};\n\nBRp.getArrowWidth = BRp.getArrowHeight = function (edgeWidth, scale) {\n  var cache = this.arrowWidthCache = this.arrowWidthCache || {};\n\n  var cachedVal = cache[edgeWidth + ', ' + scale];\n  if (cachedVal) {\n    return cachedVal;\n  }\n\n  cachedVal = Math.max(Math.pow(edgeWidth * 13.37, 0.9), 29) * scale;\n  cache[edgeWidth + ', ' + scale] = cachedVal;\n\n  return cachedVal;\n};\n\nmodule.exports = BRp;\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar math = __webpack_require__(2);\nvar is = __webpack_require__(0);\n\nvar BRp = {};\n\nBRp.findEdgeControlPoints = function (edges) {\n  if (!edges || edges.length === 0) {\n    return;\n  }\n\n  var r = this;\n  var cy = r.cy;\n  var hasCompounds = cy.hasCompoundNodes();\n  var hashTable = {};\n  var pairIds = [];\n  var haystackEdges = [];\n\n  // create a table of edge (src, tgt) => list of edges between them\n  var pairId;\n  for (var i = 0; i < edges.length; i++) {\n    var edge = edges[i];\n    var _p = edge._private;\n    var data = _p.data;\n    var curveStyle = edge.pstyle('curve-style').value;\n    var edgeIsUnbundled = curveStyle === 'unbundled-bezier' || curveStyle === 'segments';\n    var edgeIsBezier = curveStyle === 'unbundled-bezier' || curveStyle === 'bezier';\n\n    // ignore edges who are not to be displayed\n    // they shouldn't take up space\n    if (edge.pstyle('display').value === 'none') {\n      continue;\n    }\n\n    if (curveStyle === 'haystack') {\n      haystackEdges.push(edge);\n      continue;\n    }\n\n    var srcId = data.source;\n    var tgtId = data.target;\n\n    pairId = srcId > tgtId ? tgtId + '$-$' + srcId : srcId + '$-$' + tgtId;\n\n    if (edgeIsUnbundled) {\n      pairId = 'unbundled' + '$-$' + data.id;\n    }\n\n    var tableEntry = hashTable[pairId];\n\n    if (tableEntry == null) {\n      tableEntry = hashTable[pairId] = [];\n      pairIds.push(pairId);\n    }\n\n    tableEntry.push(edge);\n\n    if (edgeIsUnbundled) {\n      tableEntry.hasUnbundled = true;\n    }\n\n    if (edgeIsBezier) {\n      tableEntry.hasBezier = true;\n    }\n  }\n\n  var src, tgt, srcPos, tgtPos, srcW, srcH, tgtW, tgtH, srcShape, tgtShape;\n  var vectorNormInverse;\n  var badBezier;\n\n  // for each pair (src, tgt), create the ctrl pts\n  // Nested for loop is OK; total number of iterations for both loops = edgeCount\n  for (var p = 0; p < pairIds.length; p++) {\n    pairId = pairIds[p];\n    var pairEdges = hashTable[pairId];\n\n    // for each pair id, the edges should be sorted by index\n    pairEdges.sort(function (edge1, edge2) {\n      return edge1.poolIndex() - edge2.poolIndex();\n    });\n\n    src = pairEdges[0]._private.source;\n    tgt = pairEdges[0]._private.target;\n\n    // make sure src/tgt distinction is consistent for bundled edges\n    if (!pairEdges.hasUnbundled && src.id() > tgt.id()) {\n      var temp = src;\n      src = tgt;\n      tgt = temp;\n    }\n\n    srcPos = src.position();\n    tgtPos = tgt.position();\n\n    srcW = src.outerWidth();\n    srcH = src.outerHeight();\n\n    tgtW = tgt.outerWidth();\n    tgtH = tgt.outerHeight();\n\n    srcShape = r.nodeShapes[this.getNodeShape(src)];\n    tgtShape = r.nodeShapes[this.getNodeShape(tgt)];\n\n    badBezier = false;\n\n    var edge;\n    var edge_p;\n    var rs;\n\n    var dirCounts = {\n      'north': 0,\n      'west': 0,\n      'south': 0,\n      'east': 0,\n      'northwest': 0,\n      'southwest': 0,\n      'northeast': 0,\n      'southeast': 0\n    };\n\n    var srcX2 = srcPos.x;\n    var srcY2 = srcPos.y;\n    var srcW2 = srcW;\n    var srcH2 = srcH;\n\n    var tgtX2 = tgtPos.x;\n    var tgtY2 = tgtPos.y;\n    var tgtW2 = tgtW;\n    var tgtH2 = tgtH;\n\n    var numEdges2 = pairEdges.length;\n\n    for (var i = 0; i < pairEdges.length; i++) {\n      edge = pairEdges[i];\n      edge_p = edge._private;\n      rs = edge_p.rscratch;\n\n      var edgeIndex1 = rs.lastEdgeIndex;\n      var edgeIndex2 = i;\n\n      var numEdges1 = rs.lastNumEdges;\n\n      var curveStyle = edge.pstyle('curve-style').value;\n\n      var edgeIsUnbundled = curveStyle === 'unbundled-bezier' || curveStyle === 'segments';\n\n      // whether the normalised pair order is the reverse of the edge's src-tgt order\n      var edgeIsSwapped = src.id() !== edge.source().id();\n\n      var ctrlptDists = edge.pstyle('control-point-distances');\n      var loopDir = edge.pstyle('loop-direction').pfValue;\n      var loopSwp = edge.pstyle('loop-sweep').pfValue;\n      var ctrlptWs = edge.pstyle('control-point-weights');\n      var bezierN = ctrlptDists && ctrlptWs ? Math.min(ctrlptDists.value.length, ctrlptWs.value.length) : 1;\n      var stepSize = edge.pstyle('control-point-step-size').pfValue;\n      var ctrlptDist = ctrlptDists ? ctrlptDists.pfValue[0] : undefined;\n      var ctrlptWeight = ctrlptWs.value[0];\n      var edgeDistances = edge.pstyle('edge-distances').value;\n      var segmentWs = edge.pstyle('segment-weights');\n      var segmentDs = edge.pstyle('segment-distances');\n      var segmentsN = Math.min(segmentWs.pfValue.length, segmentDs.pfValue.length);\n      var srcEndpt = edge.pstyle('source-endpoint').value;\n      var tgtEndpt = edge.pstyle('target-endpoint').value;\n      var srcArrShape = edge.pstyle('source-arrow-shape').value;\n      var tgtArrShape = edge.pstyle('target-arrow-shape').value;\n      var arrowScale = edge.pstyle('arrow-scale').value;\n      var lineWidth = edge.pstyle('width').pfValue;\n\n      var srcX1 = rs.lastSrcCtlPtX;\n      var srcY1 = rs.lastSrcCtlPtY;\n      var srcW1 = rs.lastSrcCtlPtW;\n      var srcH1 = rs.lastSrcCtlPtH;\n\n      var tgtX1 = rs.lastTgtCtlPtX;\n      var tgtY1 = rs.lastTgtCtlPtY;\n      var tgtW1 = rs.lastTgtCtlPtW;\n      var tgtH1 = rs.lastTgtCtlPtH;\n\n      var curveStyle1 = rs.lastCurveStyle;\n      var curveStyle2 = curveStyle;\n\n      var ctrlptDists1 = rs.lastCtrlptDists;\n      var ctrlptDists2 = ctrlptDists ? ctrlptDists.strValue : null;\n\n      var ctrlptWs1 = rs.lastCtrlptWs;\n      var ctrlptWs2 = ctrlptWs.strValue;\n\n      var segmentWs1 = rs.lastSegmentWs;\n      var segmentWs2 = segmentWs.strValue;\n\n      var segmentDs1 = rs.lastSegmentDs;\n      var segmentDs2 = segmentDs.strValue;\n\n      var stepSize1 = rs.lastStepSize;\n      var stepSize2 = stepSize;\n\n      var loopDir1 = rs.lastLoopDir;\n      var loopDir2 = loopDir;\n\n      var loopSwp1 = rs.lastLoopSwp;\n      var loopSwp2 = loopSwp;\n\n      var edgeDistances1 = rs.lastEdgeDistances;\n      var edgeDistances2 = edgeDistances;\n\n      var srcEndpt1 = rs.lastSrcEndpt;\n      var srcEndpt2 = srcEndpt;\n\n      var tgtEndpt1 = rs.lastTgtEndpt;\n      var tgtEndpt2 = tgtEndpt;\n\n      var srcArr1 = rs.lastSrcArr;\n      var srcArr2 = srcArrShape;\n\n      var tgtArr1 = rs.lastTgtArr;\n      var tgtArr2 = tgtArrShape;\n\n      var lineW1 = rs.lastLineW;\n      var lineW2 = lineWidth;\n\n      var arrScl1 = rs.lastArrScl;\n      var arrScl2 = arrowScale;\n\n      if (badBezier) {\n        rs.badBezier = true;\n      } else {\n        rs.badBezier = false;\n      }\n\n      var ptCacheHit;\n\n      if (srcX1 === srcX2 && srcY1 === srcY2 && srcW1 === srcW2 && srcH1 === srcH2 && tgtX1 === tgtX2 && tgtY1 === tgtY2 && tgtW1 === tgtW2 && tgtH1 === tgtH2 && curveStyle1 === curveStyle2 && ctrlptDists1 === ctrlptDists2 && ctrlptWs1 === ctrlptWs2 && segmentWs1 === segmentWs2 && segmentDs1 === segmentDs2 && stepSize1 === stepSize2 && loopDir1 === loopDir2 && loopSwp1 === loopSwp2 && edgeDistances1 === edgeDistances2 && srcEndpt1 === srcEndpt2 && tgtEndpt1 === tgtEndpt2 && srcArr1 === srcArr2 && tgtArr1 === tgtArr2 && lineW1 === lineW2 && arrScl1 === arrScl2 && (edgeIndex1 === edgeIndex2 && numEdges1 === numEdges2 || edgeIsUnbundled)) {\n        ptCacheHit = true; // then the control points haven't changed and we can skip calculating them\n      } else {\n        ptCacheHit = false;\n\n        rs.lastSrcCtlPtX = srcX2;\n        rs.lastSrcCtlPtY = srcY2;\n        rs.lastSrcCtlPtW = srcW2;\n        rs.lastSrcCtlPtH = srcH2;\n        rs.lastTgtCtlPtX = tgtX2;\n        rs.lastTgtCtlPtY = tgtY2;\n        rs.lastTgtCtlPtW = tgtW2;\n        rs.lastTgtCtlPtH = tgtH2;\n        rs.lastEdgeIndex = edgeIndex2;\n        rs.lastNumEdges = numEdges2;\n        rs.lastCurveStyle = curveStyle2;\n        rs.lastCtrlptDists = ctrlptDists2;\n        rs.lastCtrlptWs = ctrlptWs2;\n        rs.lastSegmentDs = segmentDs2;\n        rs.lastSegmentWs = segmentWs2;\n        rs.lastStepSize = stepSize2;\n        rs.lastLoopDir = loopDir2;\n        rs.lastLoopSwp = loopSwp2;\n        rs.lastEdgeDistances = edgeDistances2;\n        rs.lastSrcEndpt = srcEndpt2;\n        rs.lastTgtEndpt = tgtEndpt2;\n        rs.lastSrcArr = srcArr2;\n        rs.lastTgtArr = tgtArr2;\n        rs.lastLineW = lineW2;\n        rs.lastArrScl = arrScl2;\n      }\n\n      if (!ptCacheHit) {\n\n        if (!pairEdges.calculatedIntersection && src !== tgt && (pairEdges.hasBezier || pairEdges.hasUnbundled)) {\n\n          pairEdges.calculatedIntersection = true;\n\n          // pt outside src shape to calc distance/displacement from src to tgt\n          var srcOutside = srcShape.intersectLine(srcPos.x, srcPos.y, srcW, srcH, tgtPos.x, tgtPos.y, 0);\n\n          pairEdges.srcIntn = srcOutside;\n\n          // pt outside tgt shape to calc distance/displacement from src to tgt\n          var tgtOutside = tgtShape.intersectLine(tgtPos.x, tgtPos.y, tgtW, tgtH, srcPos.x, srcPos.y, 0);\n\n          pairEdges.tgtIntn = tgtOutside;\n\n          var midptSrcPts = {\n            x1: srcOutside[0],\n            x2: tgtOutside[0],\n            y1: srcOutside[1],\n            y2: tgtOutside[1]\n          };\n\n          var posPts = {\n            x1: srcPos.x,\n            x2: tgtPos.x,\n            y1: srcPos.y,\n            y2: tgtPos.y\n          };\n\n          var dy = tgtOutside[1] - srcOutside[1];\n          var dx = tgtOutside[0] - srcOutside[0];\n          var l = Math.sqrt(dx * dx + dy * dy);\n\n          var vector = {\n            x: dx,\n            y: dy\n          };\n\n          var vectorNorm = {\n            x: vector.x / l,\n            y: vector.y / l\n          };\n          vectorNormInverse = {\n            x: -vectorNorm.y,\n            y: vectorNorm.x\n          };\n\n          // if node shapes overlap, then no ctrl pts to draw\n          if (tgtShape.checkPoint(srcOutside[0], srcOutside[1], 0, tgtW, tgtH, tgtPos.x, tgtPos.y) && srcShape.checkPoint(tgtOutside[0], tgtOutside[1], 0, srcW, srcH, srcPos.x, srcPos.y)) {\n            vectorNormInverse = {};\n            badBezier = true;\n          }\n        }\n\n        if (!edgeIsSwapped) {\n          rs.srcIntn = pairEdges.srcIntn;\n          rs.tgtIntn = pairEdges.tgtIntn;\n        } else {\n          // ensure that the per-edge cached value for intersections are correct for swapped bundled edges\n          rs.srcIntn = pairEdges.tgtIntn;\n          rs.tgtIntn = pairEdges.srcIntn;\n        }\n\n        if (src === tgt) {\n          // Self-edge\n\n          rs.edgeType = 'self';\n\n          var j = i;\n          var loopDist = stepSize;\n\n          if (edgeIsUnbundled) {\n            j = 0;\n            loopDist = ctrlptDist;\n          }\n\n          var loopAngle = loopDir - Math.PI / 2;\n          var outAngle = loopAngle - loopSwp / 2;\n          var inAngle = loopAngle + loopSwp / 2;\n\n          // increase by step size for overlapping loops, keyed on direction and sweep values\n          var dc = String(loopDir + '_' + loopSwp);\n          j = dirCounts[dc] === undefined ? dirCounts[dc] = 0 : ++dirCounts[dc];\n\n          rs.ctrlpts = [srcPos.x + Math.cos(outAngle) * 1.4 * loopDist * (j / 3 + 1), srcPos.y + Math.sin(outAngle) * 1.4 * loopDist * (j / 3 + 1), srcPos.x + Math.cos(inAngle) * 1.4 * loopDist * (j / 3 + 1), srcPos.y + Math.sin(inAngle) * 1.4 * loopDist * (j / 3 + 1)];\n        } else if (hasCompounds && (src.isParent() || src.isChild() || tgt.isParent() || tgt.isChild()) && (src.parents().anySame(tgt) || tgt.parents().anySame(src))) {\n          // Compound edge\n\n          rs.edgeType = 'compound';\n\n          // because the line approximation doesn't apply for compound beziers\n          // (loop/self edges are already elided b/c of cheap src==tgt check)\n          rs.badBezier = false;\n\n          var j = i;\n          var loopDist = stepSize;\n\n          if (edgeIsUnbundled) {\n            j = 0;\n            loopDist = ctrlptDist;\n          }\n\n          var loopW = 50;\n\n          var loopaPos = {\n            x: srcPos.x - srcW / 2,\n            y: srcPos.y - srcH / 2\n          };\n\n          var loopbPos = {\n            x: tgtPos.x - tgtW / 2,\n            y: tgtPos.y - tgtH / 2\n          };\n\n          var loopPos = {\n            x: Math.min(loopaPos.x, loopbPos.x),\n            y: Math.min(loopaPos.y, loopbPos.y)\n          };\n\n          // avoids cases with impossible beziers\n          var minCompoundStretch = 0.5;\n          var compoundStretchA = Math.max(minCompoundStretch, Math.log(srcW * 0.01));\n          var compoundStretchB = Math.max(minCompoundStretch, Math.log(tgtW * 0.01));\n\n          rs.ctrlpts = [loopPos.x, loopPos.y - (1 + Math.pow(loopW, 1.12) / 100) * loopDist * (j / 3 + 1) * compoundStretchA, loopPos.x - (1 + Math.pow(loopW, 1.12) / 100) * loopDist * (j / 3 + 1) * compoundStretchB, loopPos.y];\n        } else if (curveStyle === 'segments') {\n          // Segments (multiple straight lines)\n\n          rs.edgeType = 'segments';\n          rs.segpts = [];\n\n          for (var s = 0; s < segmentsN; s++) {\n            var w = segmentWs.pfValue[s];\n            var d = segmentDs.pfValue[s];\n\n            var w1 = 1 - w;\n            var w2 = w;\n\n            var midptPts = edgeDistances === 'node-position' ? posPts : midptSrcPts;\n\n            var adjustedMidpt = {\n              x: midptPts.x1 * w1 + midptPts.x2 * w2,\n              y: midptPts.y1 * w1 + midptPts.y2 * w2\n            };\n\n            rs.segpts.push(adjustedMidpt.x + vectorNormInverse.x * d, adjustedMidpt.y + vectorNormInverse.y * d);\n          }\n\n          // Straight edge\n        } else if (pairEdges.length % 2 === 1 && i === Math.floor(pairEdges.length / 2) && !edgeIsUnbundled) {\n\n          rs.edgeType = 'straight';\n        } else {\n          // (Multi)bezier\n\n          var multi = edgeIsUnbundled;\n\n          rs.edgeType = multi ? 'multibezier' : 'bezier';\n          rs.ctrlpts = [];\n\n          for (var b = 0; b < bezierN; b++) {\n            var normctrlptDist = (0.5 - pairEdges.length / 2 + i) * stepSize;\n            var manctrlptDist;\n            var sign = math.signum(normctrlptDist);\n\n            if (multi) {\n              ctrlptDist = ctrlptDists ? ctrlptDists.pfValue[b] : stepSize; // fall back on step size\n              ctrlptWeight = ctrlptWs.value[b];\n            }\n\n            if (edgeIsUnbundled) {\n              // multi or single unbundled\n              manctrlptDist = ctrlptDist;\n            } else {\n              manctrlptDist = ctrlptDist !== undefined ? sign * ctrlptDist : undefined;\n            }\n\n            var distanceFromMidpoint = manctrlptDist !== undefined ? manctrlptDist : normctrlptDist;\n\n            var w1 = 1 - ctrlptWeight;\n            var w2 = ctrlptWeight;\n\n            if (edgeIsSwapped) {\n              var temp = w1;\n              w1 = w2;\n              w2 = temp;\n            }\n\n            var midptPts = edgeDistances === 'node-position' ? posPts : midptSrcPts;\n\n            var adjustedMidpt = {\n              x: midptPts.x1 * w1 + midptPts.x2 * w2,\n              y: midptPts.y1 * w1 + midptPts.y2 * w2\n            };\n\n            rs.ctrlpts.push(adjustedMidpt.x + vectorNormInverse.x * distanceFromMidpoint, adjustedMidpt.y + vectorNormInverse.y * distanceFromMidpoint);\n          }\n        }\n\n        // find endpts for edge\n        this.findEndpoints(edge);\n\n        var badStart = !is.number(rs.startX) || !is.number(rs.startY);\n        var badAStart = !is.number(rs.arrowStartX) || !is.number(rs.arrowStartY);\n        var badEnd = !is.number(rs.endX) || !is.number(rs.endY);\n        var badAEnd = !is.number(rs.arrowEndX) || !is.number(rs.arrowEndY);\n\n        var minCpADistFactor = 3;\n        var arrowW = this.getArrowWidth(edge.pstyle('width').pfValue, edge.pstyle('arrow-scale').value) * this.arrowShapeWidth;\n        var minCpADist = minCpADistFactor * arrowW;\n\n        if (rs.edgeType === 'bezier') {\n          var startACpDist = math.dist({ x: rs.ctrlpts[0], y: rs.ctrlpts[1] }, { x: rs.startX, y: rs.startY });\n          var closeStartACp = startACpDist < minCpADist;\n          var endACpDist = math.dist({ x: rs.ctrlpts[0], y: rs.ctrlpts[1] }, { x: rs.endX, y: rs.endY });\n          var closeEndACp = endACpDist < minCpADist;\n\n          var overlapping = false;\n\n          if (badStart || badAStart || closeStartACp) {\n            overlapping = true;\n\n            // project control point along line from src centre to outside the src shape\n            // (otherwise intersection will yield nothing)\n            var cpD = { // delta\n              x: rs.ctrlpts[0] - srcPos.x,\n              y: rs.ctrlpts[1] - srcPos.y\n            };\n            var cpL = Math.sqrt(cpD.x * cpD.x + cpD.y * cpD.y); // length of line\n            var cpM = { // normalised delta\n              x: cpD.x / cpL,\n              y: cpD.y / cpL\n            };\n            var radius = Math.max(srcW, srcH);\n            var cpProj = { // *2 radius guarantees outside shape\n              x: rs.ctrlpts[0] + cpM.x * 2 * radius,\n              y: rs.ctrlpts[1] + cpM.y * 2 * radius\n            };\n\n            var srcCtrlPtIntn = srcShape.intersectLine(srcPos.x, srcPos.y, srcW, srcH, cpProj.x, cpProj.y, 0);\n\n            if (closeStartACp) {\n              rs.ctrlpts[0] = rs.ctrlpts[0] + cpM.x * (minCpADist - startACpDist);\n              rs.ctrlpts[1] = rs.ctrlpts[1] + cpM.y * (minCpADist - startACpDist);\n            } else {\n              rs.ctrlpts[0] = srcCtrlPtIntn[0] + cpM.x * minCpADist;\n              rs.ctrlpts[1] = srcCtrlPtIntn[1] + cpM.y * minCpADist;\n            }\n          }\n\n          if (badEnd || badAEnd || closeEndACp) {\n            overlapping = true;\n\n            // project control point along line from tgt centre to outside the tgt shape\n            // (otherwise intersection will yield nothing)\n            var cpD = { // delta\n              x: rs.ctrlpts[0] - tgtPos.x,\n              y: rs.ctrlpts[1] - tgtPos.y\n            };\n            var cpL = Math.sqrt(cpD.x * cpD.x + cpD.y * cpD.y); // length of line\n            var cpM = { // normalised delta\n              x: cpD.x / cpL,\n              y: cpD.y / cpL\n            };\n            var radius = Math.max(srcW, srcH);\n            var cpProj = { // *2 radius guarantees outside shape\n              x: rs.ctrlpts[0] + cpM.x * 2 * radius,\n              y: rs.ctrlpts[1] + cpM.y * 2 * radius\n            };\n\n            var tgtCtrlPtIntn = tgtShape.intersectLine(tgtPos.x, tgtPos.y, tgtW, tgtH, cpProj.x, cpProj.y, 0);\n\n            if (closeEndACp) {\n              rs.ctrlpts[0] = rs.ctrlpts[0] + cpM.x * (minCpADist - endACpDist);\n              rs.ctrlpts[1] = rs.ctrlpts[1] + cpM.y * (minCpADist - endACpDist);\n            } else {\n              rs.ctrlpts[0] = tgtCtrlPtIntn[0] + cpM.x * minCpADist;\n              rs.ctrlpts[1] = tgtCtrlPtIntn[1] + cpM.y * minCpADist;\n            }\n          }\n\n          if (overlapping) {\n            // recalc endpts\n            this.findEndpoints(edge);\n          }\n        }\n\n        if (rs.edgeType === 'multibezier' || rs.edgeType === 'bezier' || rs.edgeType === 'self' || rs.edgeType === 'compound') {\n          rs.allpts = [];\n\n          rs.allpts.push(rs.startX, rs.startY);\n\n          for (var b = 0; b + 1 < rs.ctrlpts.length; b += 2) {\n            // ctrl pt itself\n            rs.allpts.push(rs.ctrlpts[b], rs.ctrlpts[b + 1]);\n\n            // the midpt between ctrlpts as intermediate destination pts\n            if (b + 3 < rs.ctrlpts.length) {\n              rs.allpts.push((rs.ctrlpts[b] + rs.ctrlpts[b + 2]) / 2, (rs.ctrlpts[b + 1] + rs.ctrlpts[b + 3]) / 2);\n            }\n          }\n\n          rs.allpts.push(rs.endX, rs.endY);\n\n          var m, mt;\n          if (rs.ctrlpts.length / 2 % 2 === 0) {\n            m = rs.allpts.length / 2 - 1;\n\n            rs.midX = rs.allpts[m];\n            rs.midY = rs.allpts[m + 1];\n          } else {\n            m = rs.allpts.length / 2 - 3;\n            mt = 0.5;\n\n            rs.midX = math.qbezierAt(rs.allpts[m], rs.allpts[m + 2], rs.allpts[m + 4], mt);\n            rs.midY = math.qbezierAt(rs.allpts[m + 1], rs.allpts[m + 3], rs.allpts[m + 5], mt);\n          }\n        } else if (rs.edgeType === 'straight') {\n          // need to calc these after endpts\n          rs.allpts = [rs.startX, rs.startY, rs.endX, rs.endY];\n\n          // default midpt for labels etc\n          rs.midX = (rs.startX + rs.endX + rs.arrowStartX + rs.arrowEndX) / 4;\n          rs.midY = (rs.startY + rs.endY + rs.arrowStartY + rs.arrowEndY) / 4;\n        } else if (rs.edgeType === 'segments') {\n          rs.allpts = [];\n          rs.allpts.push(rs.startX, rs.startY);\n          rs.allpts.push.apply(rs.allpts, rs.segpts);\n          rs.allpts.push(rs.endX, rs.endY);\n\n          if (rs.segpts.length % 4 === 0) {\n            var i2 = rs.segpts.length / 2;\n            var i1 = i2 - 2;\n\n            rs.midX = (rs.segpts[i1] + rs.segpts[i2]) / 2;\n            rs.midY = (rs.segpts[i1 + 1] + rs.segpts[i2 + 1]) / 2;\n          } else {\n            var i1 = rs.segpts.length / 2 - 1;\n\n            rs.midX = rs.segpts[i1];\n            rs.midY = rs.segpts[i1 + 1];\n          }\n        }\n\n        this.storeEdgeProjections(edge);\n        this.calculateArrowAngles(edge);\n      } // if point cache miss\n\n      this.recalculateEdgeLabelProjections(edge);\n      this.calculateLabelAngles(edge);\n    } // for pair edges\n  } // for pair ids\n\n  for (var i = 0; i < haystackEdges.length; i++) {\n    var edge = haystackEdges[i];\n    var _p = edge._private;\n    var rscratch = _p.rscratch;\n    var rs = rscratch;\n\n    if (!rscratch.haystack) {\n      var angle = Math.random() * 2 * Math.PI;\n\n      rscratch.source = {\n        x: Math.cos(angle),\n        y: Math.sin(angle)\n      };\n\n      var angle = Math.random() * 2 * Math.PI;\n\n      rscratch.target = {\n        x: Math.cos(angle),\n        y: Math.sin(angle)\n      };\n    }\n\n    var src = _p.source;\n    var tgt = _p.target;\n    var srcPos = src.position();\n    var tgtPos = tgt.position();\n    var srcW = src.width();\n    var tgtW = tgt.width();\n    var srcH = src.height();\n    var tgtH = tgt.height();\n    var radius = edge.pstyle('haystack-radius').value;\n    var halfRadius = radius / 2; // b/c have to half width/height\n\n    rs.haystackPts = rs.allpts = [rs.source.x * srcW * halfRadius + srcPos.x, rs.source.y * srcH * halfRadius + srcPos.y, rs.target.x * tgtW * halfRadius + tgtPos.x, rs.target.y * tgtH * halfRadius + tgtPos.y];\n\n    rs.midX = (rs.allpts[0] + rs.allpts[2]) / 2;\n    rs.midY = (rs.allpts[1] + rs.allpts[3]) / 2;\n\n    // always override as haystack in case set to different type previously\n    rscratch.edgeType = rscratch.lastCurveStyle = 'haystack';\n    rscratch.haystack = true;\n\n    this.storeEdgeProjections(edge);\n    this.calculateArrowAngles(edge);\n    this.recalculateEdgeLabelProjections(edge);\n    this.calculateLabelAngles(edge);\n  }\n};\n\nfunction getPts(pts) {\n  var retPts = [];\n\n  if (pts == null) {\n    return;\n  }\n\n  for (var i = 0; i < pts.length; i += 2) {\n    var x = pts[i];\n    var y = pts[i + 1];\n\n    retPts.push({ x: x, y: y });\n  }\n\n  return retPts;\n}\n\nBRp.getSegmentPoints = function (edge) {\n  var rs = edge[0]._private.rscratch;\n  var type = rs.edgeType;\n\n  if (type === 'segments') {\n    return getPts(rs.segpts);\n  }\n};\n\nBRp.getControlPoints = function (edge) {\n  var rs = edge[0]._private.rscratch;\n  var type = rs.edgeType;\n\n  if (type === 'bezier' || type === 'multibezier') {\n    return getPts(rs.ctrlpts);\n  }\n};\n\nBRp.getEdgeMidpoint = function (edge) {\n  var rs = edge[0]._private.rscratch;\n\n  return {\n    x: rs.midX,\n    y: rs.midY\n  };\n};\n\nmodule.exports = BRp;\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar math = __webpack_require__(2);\nvar is = __webpack_require__(0);\n\nvar BRp = {};\n\nBRp.manualEndptToPx = function (node, prop) {\n  var r = this;\n  var npos = node.position();\n  var w = node.outerWidth();\n  var h = node.outerHeight();\n\n  if (prop.value.length === 2) {\n    var p = [prop.pfValue[0], prop.pfValue[1]];\n\n    if (prop.units[0] === '%') {\n      p[0] = p[0] * w;\n    }\n\n    if (prop.units[1] === '%') {\n      p[1] = p[1] * h;\n    }\n\n    p[0] += npos.x;\n    p[1] += npos.y;\n\n    return p;\n  } else {\n    var angle = prop.pfValue[0];\n\n    angle = -Math.PI / 2 + angle; // start at 12 o'clock\n\n    var l = 2 * Math.max(w, h);\n\n    var _p = [npos.x + Math.cos(angle) * l, npos.y + Math.sin(angle) * l];\n\n    return r.nodeShapes[this.getNodeShape(node)].intersectLine(npos.x, npos.y, w, h, _p[0], _p[1], 0);\n  }\n};\n\nBRp.findEndpoints = function (edge) {\n  var r = this;\n  var intersect = void 0;\n\n  var source = edge.source()[0];\n  var target = edge.target()[0];\n\n  var srcPos = source.position();\n  var tgtPos = target.position();\n\n  var tgtArShape = edge.pstyle('target-arrow-shape').value;\n  var srcArShape = edge.pstyle('source-arrow-shape').value;\n\n  var tgtDist = edge.pstyle('target-distance-from-node').pfValue;\n  var srcDist = edge.pstyle('source-distance-from-node').pfValue;\n\n  var rs = edge._private.rscratch;\n\n  var et = rs.edgeType;\n  var self = et === 'self' || et === 'compound';\n  var bezier = et === 'bezier' || et === 'multibezier' || self;\n  var multi = et !== 'bezier';\n  var lines = et === 'straight' || et === 'segments';\n  var segments = et === 'segments';\n  var hasEndpts = bezier || multi || lines;\n  var srcManEndpt = edge.pstyle('source-endpoint');\n  var srcManEndptVal = self ? 'outside-to-node' : srcManEndpt.value;\n  var tgtManEndpt = edge.pstyle('target-endpoint');\n  var tgtManEndptVal = self ? 'outside-to-node' : tgtManEndpt.value;\n\n  rs.srcManEndpt = srcManEndpt;\n  rs.tgtManEndpt = tgtManEndpt;\n\n  var p1 = void 0; // last known point of edge on target side\n  var p2 = void 0; // last known point of edge on source side\n\n  var p1_i = void 0; // point to intersect with target shape\n  var p2_i = void 0; // point to intersect with source shape\n\n  if (bezier) {\n    var cpStart = [rs.ctrlpts[0], rs.ctrlpts[1]];\n    var cpEnd = multi ? [rs.ctrlpts[rs.ctrlpts.length - 2], rs.ctrlpts[rs.ctrlpts.length - 1]] : cpStart;\n\n    p1 = cpEnd;\n    p2 = cpStart;\n  } else if (lines) {\n    var srcArrowFromPt = !segments ? [tgtPos.x, tgtPos.y] : rs.segpts.slice(0, 2);\n    var tgtArrowFromPt = !segments ? [srcPos.x, srcPos.y] : rs.segpts.slice(rs.segpts.length - 2);\n\n    p1 = tgtArrowFromPt;\n    p2 = srcArrowFromPt;\n  }\n\n  if (tgtManEndptVal === 'inside-to-node') {\n    intersect = [tgtPos.x, tgtPos.y];\n  } else if (tgtManEndpt.units) {\n    intersect = this.manualEndptToPx(target, tgtManEndpt);\n  } else if (tgtManEndptVal === 'outside-to-line') {\n    intersect = rs.tgtIntn; // use cached value from ctrlpt calc\n  } else {\n    if (tgtManEndptVal === 'outside-to-node') {\n      p1_i = p1;\n    } else if (tgtManEndptVal === 'outside-to-line') {\n      p1_i = [srcPos.x, srcPos.y];\n    }\n\n    intersect = r.nodeShapes[this.getNodeShape(target)].intersectLine(tgtPos.x, tgtPos.y, target.outerWidth(), target.outerHeight(), p1_i[0], p1_i[1], 0);\n  }\n\n  var arrowEnd = math.shortenIntersection(intersect, p1, r.arrowShapes[tgtArShape].spacing(edge) + tgtDist);\n  var edgeEnd = math.shortenIntersection(intersect, p1, r.arrowShapes[tgtArShape].gap(edge) + tgtDist);\n\n  rs.endX = edgeEnd[0];\n  rs.endY = edgeEnd[1];\n\n  rs.arrowEndX = arrowEnd[0];\n  rs.arrowEndY = arrowEnd[1];\n\n  if (srcManEndptVal === 'inside-to-node') {\n    intersect = [srcPos.x, srcPos.y];\n  } else if (srcManEndpt.units) {\n    intersect = this.manualEndptToPx(source, srcManEndpt);\n  } else if (srcManEndptVal === 'outside-to-line') {\n    intersect = rs.srcIntn; // use cached value from ctrlpt calc\n  } else {\n    if (srcManEndptVal === 'outside-to-node') {\n      p2_i = p2;\n    } else if (srcManEndptVal === 'outside-to-line') {\n      p2_i = [tgtPos.x, tgtPos.y];\n    }\n\n    intersect = r.nodeShapes[this.getNodeShape(source)].intersectLine(srcPos.x, srcPos.y, source.outerWidth(), source.outerHeight(), p2_i[0], p2_i[1], 0);\n  }\n\n  var arrowStart = math.shortenIntersection(intersect, p2, r.arrowShapes[srcArShape].spacing(edge) + srcDist);\n  var edgeStart = math.shortenIntersection(intersect, p2, r.arrowShapes[srcArShape].gap(edge) + srcDist);\n\n  rs.startX = edgeStart[0];\n  rs.startY = edgeStart[1];\n\n  rs.arrowStartX = arrowStart[0];\n  rs.arrowStartY = arrowStart[1];\n\n  if (hasEndpts) {\n    if (!is.number(rs.startX) || !is.number(rs.startY) || !is.number(rs.endX) || !is.number(rs.endY)) {\n      rs.badLine = true;\n    } else {\n      rs.badLine = false;\n    }\n  }\n};\n\nBRp.getSourceEndpoint = function (edge) {\n  var rs = edge[0]._private.rscratch;\n\n  switch (rs.edgeType) {\n    case 'haystack':\n      return {\n        x: rs.haystackPts[0],\n        y: rs.haystackPts[1]\n      };\n    default:\n      return {\n        x: rs.arrowStartX,\n        y: rs.arrowStartY\n      };\n  }\n};\n\nBRp.getTargetEndpoint = function (edge) {\n  var rs = edge[0]._private.rscratch;\n\n  switch (rs.edgeType) {\n    case 'haystack':\n      return {\n        x: rs.haystackPts[2],\n        y: rs.haystackPts[3]\n      };\n    default:\n      return {\n        x: rs.arrowEndX,\n        y: rs.arrowEndY\n      };\n  }\n};\n\nmodule.exports = BRp;\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar math = __webpack_require__(2);\n\nvar BRp = {};\n\nfunction pushBezierPts(r, edge, pts) {\n  var qbezierAt = function qbezierAt(p1, p2, p3, t) {\n    return math.qbezierAt(p1, p2, p3, t);\n  };\n  var _p = edge._private;\n  var bpts = _p.rstyle.bezierPts;\n\n  for (var i = 0; i < r.bezierProjPcts.length; i++) {\n    var p = r.bezierProjPcts[i];\n\n    bpts.push({\n      x: qbezierAt(pts[0], pts[2], pts[4], p),\n      y: qbezierAt(pts[1], pts[3], pts[5], p)\n    });\n  }\n}\n\nBRp.storeEdgeProjections = function (edge) {\n  var _p = edge._private;\n  var rs = _p.rscratch;\n  var et = rs.edgeType;\n\n  // clear the cached points state\n  _p.rstyle.bezierPts = null;\n  _p.rstyle.linePts = null;\n  _p.rstyle.haystackPts = null;\n\n  if (et === 'multibezier' || et === 'bezier' || et === 'self' || et === 'compound') {\n    var bpts = _p.rstyle.bezierPts = []; // jshint ignore:line\n\n    for (var i = 0; i + 5 < rs.allpts.length; i += 4) {\n      pushBezierPts(this, edge, rs.allpts.slice(i, i + 6));\n    }\n  } else if (et === 'segments') {\n    var lpts = _p.rstyle.linePts = [];\n\n    for (var i = 0; i + 1 < rs.allpts.length; i += 2) {\n      lpts.push({\n        x: rs.allpts[i],\n        y: rs.allpts[i + 1]\n      });\n    }\n  } else if (et === 'haystack') {\n    var hpts = rs.haystackPts;\n\n    _p.rstyle.haystackPts = [{ x: hpts[0], y: hpts[1] }, { x: hpts[2], y: hpts[3] }];\n  }\n\n  _p.rstyle.arrowWidth = this.getArrowWidth(edge.pstyle('width').pfValue, edge.pstyle('arrow-scale').value) * this.arrowShapeWidth;\n};\n\nBRp.recalculateEdgeProjections = function (edges) {\n  this.findEdgeControlPoints(edges);\n};\n\nmodule.exports = BRp;\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\n\nvar BRp = {};\n\n[__webpack_require__(86), __webpack_require__(87), __webpack_require__(88), __webpack_require__(89), __webpack_require__(90), __webpack_require__(92), __webpack_require__(93), __webpack_require__(94), __webpack_require__(95)].forEach(function (props) {\n  util.extend(BRp, props);\n});\n\nmodule.exports = BRp;\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar math = __webpack_require__(2);\nvar is = __webpack_require__(0);\nvar util = __webpack_require__(1);\n\nvar BRp = {};\n\nBRp.recalculateNodeLabelProjection = function (node) {\n  var content = node.pstyle('label').strValue;\n\n  if (is.emptyString(content)) {\n    return;\n  }\n\n  var textX, textY;\n  var _p = node._private;\n  var nodeWidth = node.width();\n  var nodeHeight = node.height();\n  var padding = node.padding();\n  var nodePos = node.position();\n  var textHalign = node.pstyle('text-halign').strValue;\n  var textValign = node.pstyle('text-valign').strValue;\n  var rs = _p.rscratch;\n  var rstyle = _p.rstyle;\n\n  switch (textHalign) {\n    case 'left':\n      textX = nodePos.x - nodeWidth / 2 - padding;\n      break;\n\n    case 'right':\n      textX = nodePos.x + nodeWidth / 2 + padding;\n      break;\n\n    default:\n      // e.g. center\n      textX = nodePos.x;\n  }\n\n  switch (textValign) {\n    case 'top':\n      textY = nodePos.y - nodeHeight / 2 - padding;\n      break;\n\n    case 'bottom':\n      textY = nodePos.y + nodeHeight / 2 + padding;\n      break;\n\n    default:\n      // e.g. middle\n      textY = nodePos.y;\n  }\n\n  rs.labelX = textX;\n  rs.labelY = textY;\n  rstyle.labelX = textX;\n  rstyle.labelY = textY;\n\n  this.applyLabelDimensions(node);\n};\n\nBRp.recalculateEdgeLabelProjections = function (edge) {\n  var p;\n  var _p = edge._private;\n  var rs = _p.rscratch;\n  var r = this;\n  var content = {\n    mid: edge.pstyle('label').strValue,\n    source: edge.pstyle('source-label').strValue,\n    target: edge.pstyle('target-label').strValue\n  };\n\n  if (content.mid || content.source || content.target) {\n    // then we have to calculate...\n  } else {\n      return; // no labels => no calcs\n    }\n\n  // add center point to style so bounding box calculations can use it\n  //\n  p = {\n    x: rs.midX,\n    y: rs.midY\n  };\n\n  var setRs = function setRs(propName, prefix, value) {\n    util.setPrefixedProperty(_p.rscratch, propName, prefix, value);\n    util.setPrefixedProperty(_p.rstyle, propName, prefix, value);\n  };\n\n  setRs('labelX', null, p.x);\n  setRs('labelY', null, p.y);\n\n  var createControlPointInfo = function createControlPointInfo() {\n    if (createControlPointInfo.cache) {\n      return createControlPointInfo.cache;\n    } // use cache so only 1x per edge\n\n    var ctrlpts = [];\n\n    // store each ctrlpt info init\n    for (var i = 0; i + 5 < rs.allpts.length; i += 4) {\n      var p0 = { x: rs.allpts[i], y: rs.allpts[i + 1] };\n      var p1 = { x: rs.allpts[i + 2], y: rs.allpts[i + 3] }; // ctrlpt\n      var p2 = { x: rs.allpts[i + 4], y: rs.allpts[i + 5] };\n\n      ctrlpts.push({\n        p0: p0,\n        p1: p1,\n        p2: p2,\n        startDist: 0,\n        length: 0,\n        segments: []\n      });\n    }\n\n    var bpts = _p.rstyle.bezierPts;\n    var nProjs = r.bezierProjPcts.length;\n\n    function addSegment(cp, p0, p1, t0, t1) {\n      var length = math.dist(p0, p1);\n      var prevSegment = cp.segments[cp.segments.length - 1];\n      var segment = {\n        p0: p0,\n        p1: p1,\n        t0: t0,\n        t1: t1,\n        startDist: prevSegment ? prevSegment.startDist + prevSegment.length : 0,\n        length: length\n      };\n\n      cp.segments.push(segment);\n\n      cp.length += length;\n    }\n\n    // update each ctrlpt with segment info\n    for (var i = 0; i < ctrlpts.length; i++) {\n      var cp = ctrlpts[i];\n      var prevCp = ctrlpts[i - 1];\n\n      if (prevCp) {\n        cp.startDist = prevCp.startDist + prevCp.length;\n      }\n\n      addSegment(cp, cp.p0, bpts[i * nProjs], 0, r.bezierProjPcts[0]); // first\n\n      for (var j = 0; j < nProjs - 1; j++) {\n        addSegment(cp, bpts[i * nProjs + j], bpts[i * nProjs + j + 1], r.bezierProjPcts[j], r.bezierProjPcts[j + 1]);\n      }\n\n      addSegment(cp, bpts[i * nProjs + nProjs - 1], cp.p2, r.bezierProjPcts[nProjs - 1], 1); // last\n    }\n\n    return createControlPointInfo.cache = ctrlpts;\n  };\n\n  var calculateEndProjection = function calculateEndProjection(prefix) {\n    var angle;\n    var isSrc = prefix === 'source';\n\n    if (!content[prefix]) {\n      return;\n    }\n\n    var offset = edge.pstyle(prefix + '-text-offset').pfValue;\n\n    var lineAngle = function lineAngle(p0, p1) {\n      var dx = p1.x - p0.x;\n      var dy = p1.y - p0.y;\n\n      return Math.atan(dy / dx);\n    };\n\n    var bezierAngle = function bezierAngle(p0, p1, p2, t) {\n      var t0 = math.bound(0, t - 0.001, 1);\n      var t1 = math.bound(0, t + 0.001, 1);\n\n      var lp0 = math.qbezierPtAt(p0, p1, p2, t0);\n      var lp1 = math.qbezierPtAt(p0, p1, p2, t1);\n\n      return lineAngle(lp0, lp1);\n    };\n\n    switch (rs.edgeType) {\n      case 'self':\n      case 'compound':\n      case 'bezier':\n      case 'multibezier':\n        var cps = createControlPointInfo();\n        var selected;\n        var startDist = 0;\n        var totalDist = 0;\n\n        // find the segment we're on\n        for (var i = 0; i < cps.length; i++) {\n          var cp = cps[isSrc ? i : cps.length - 1 - i];\n\n          for (var j = 0; j < cp.segments.length; j++) {\n            var seg = cp.segments[isSrc ? j : cp.segments.length - 1 - j];\n            var lastSeg = i === cps.length - 1 && j === cp.segments.length - 1;\n\n            startDist = totalDist;\n            totalDist += seg.length;\n\n            if (totalDist >= offset || lastSeg) {\n              selected = { cp: cp, segment: seg };\n              break;\n            }\n          }\n\n          if (selected) {\n            break;\n          }\n        }\n\n        var cp = selected.cp;\n        var seg = selected.segment;\n        var tSegment = (offset - startDist) / seg.length;\n        var segDt = seg.t1 - seg.t0;\n        var t = isSrc ? seg.t0 + segDt * tSegment : seg.t1 - segDt * tSegment;\n\n        t = math.bound(0, t, 1);\n        p = math.qbezierPtAt(cp.p0, cp.p1, cp.p2, t);\n        angle = bezierAngle(cp.p0, cp.p1, cp.p2, t, p);\n\n        break;\n\n      case 'straight':\n      case 'segments':\n      case 'haystack':\n        var d = 0,\n            di,\n            d0;\n        var p0, p1;\n        var l = rs.allpts.length;\n\n        for (var i = 0; i + 3 < l; i += 2) {\n          if (isSrc) {\n            p0 = { x: rs.allpts[i], y: rs.allpts[i + 1] };\n            p1 = { x: rs.allpts[i + 2], y: rs.allpts[i + 3] };\n          } else {\n            p0 = { x: rs.allpts[l - 2 - i], y: rs.allpts[l - 1 - i] };\n            p1 = { x: rs.allpts[l - 4 - i], y: rs.allpts[l - 3 - i] };\n          }\n\n          di = math.dist(p0, p1);\n          d0 = d;\n          d += di;\n\n          if (d >= offset) {\n            break;\n          }\n        }\n\n        var pD = offset - d0;\n        var t = pD / di;\n\n        t = math.bound(0, t, 1);\n        p = math.lineAt(p0, p1, t);\n        angle = lineAngle(p0, p1);\n\n        break;\n    }\n\n    setRs('labelX', prefix, p.x);\n    setRs('labelY', prefix, p.y);\n    setRs('labelAutoAngle', prefix, angle);\n  };\n\n  calculateEndProjection('source');\n  calculateEndProjection('target');\n\n  this.applyLabelDimensions(edge);\n};\n\nBRp.applyLabelDimensions = function (ele) {\n  this.applyPrefixedLabelDimensions(ele);\n\n  if (ele.isEdge()) {\n    this.applyPrefixedLabelDimensions(ele, 'source');\n    this.applyPrefixedLabelDimensions(ele, 'target');\n  }\n};\n\nBRp.applyPrefixedLabelDimensions = function (ele, prefix) {\n  var _p = ele._private;\n\n  var text = this.getLabelText(ele, prefix);\n  var labelDims = this.calculateLabelDimensions(ele, text);\n\n  util.setPrefixedProperty(_p.rstyle, 'labelWidth', prefix, labelDims.width);\n  util.setPrefixedProperty(_p.rscratch, 'labelWidth', prefix, labelDims.width);\n\n  util.setPrefixedProperty(_p.rstyle, 'labelHeight', prefix, labelDims.height);\n  util.setPrefixedProperty(_p.rscratch, 'labelHeight', prefix, labelDims.height);\n};\n\nBRp.getLabelText = function (ele, prefix) {\n  var _p = ele._private;\n  var pfd = prefix ? prefix + '-' : '';\n  var text = ele.pstyle(pfd + 'label').strValue;\n  var textTransform = ele.pstyle('text-transform').value;\n  var rscratch = function rscratch(propName, value) {\n    if (value) {\n      util.setPrefixedProperty(_p.rscratch, propName, prefix, value);\n      return value;\n    } else {\n      return util.getPrefixedProperty(_p.rscratch, propName, prefix);\n    }\n  };\n\n  if (textTransform == 'none') {\n    // passthrough\n  } else if (textTransform == 'uppercase') {\n    text = text.toUpperCase();\n  } else if (textTransform == 'lowercase') {\n    text = text.toLowerCase();\n  }\n\n  var wrapStyle = ele.pstyle('text-wrap').value;\n\n  if (wrapStyle === 'wrap') {\n    //console.log('wrap');\n\n    var labelKey = rscratch('labelKey');\n\n    // save recalc if the label is the same as before\n    if (labelKey && rscratch('labelWrapKey') === labelKey) {\n      // console.log('wrap cache hit');\n      return rscratch('labelWrapCachedText');\n    }\n    // console.log('wrap cache miss');\n\n    var lines = text.split('\\n');\n    var maxW = ele.pstyle('text-max-width').pfValue;\n    var wrappedLines = [];\n\n    for (var l = 0; l < lines.length; l++) {\n      var line = lines[l];\n      var lineDims = this.calculateLabelDimensions(ele, line, 'line=' + line);\n      var lineW = lineDims.width;\n\n      if (lineW > maxW) {\n        // line is too long\n        var words = line.split(/\\s+/); // NB: assume collapsed whitespace into single space\n        var subline = '';\n\n        for (var w = 0; w < words.length; w++) {\n          var word = words[w];\n          var testLine = subline.length === 0 ? word : subline + ' ' + word;\n          var testDims = this.calculateLabelDimensions(ele, testLine, 'testLine=' + testLine);\n          var testW = testDims.width;\n\n          if (testW <= maxW) {\n            // word fits on current line\n            subline += word + ' ';\n          } else {\n            // word starts new line\n            wrappedLines.push(subline);\n            subline = word + ' ';\n          }\n        }\n\n        // if there's remaining text, put it in a wrapped line\n        if (!subline.match(/^\\s+$/)) {\n          wrappedLines.push(subline);\n        }\n      } else {\n        // line is already short enough\n        wrappedLines.push(line);\n      }\n    } // for\n\n    rscratch('labelWrapCachedLines', wrappedLines);\n    text = rscratch('labelWrapCachedText', wrappedLines.join('\\n'));\n    rscratch('labelWrapKey', labelKey);\n\n    // console.log(text)\n  } else if (wrapStyle === 'ellipsis') {\n    var maxW = ele.pstyle('text-max-width').pfValue;\n    var ellipsized = '';\n    var ellipsis = '\\u2026';\n    var incLastCh = false;\n\n    for (var i = 0; i < text.length; i++) {\n      var widthWithNextCh = this.calculateLabelDimensions(ele, ellipsized + text[i] + ellipsis).width;\n\n      if (widthWithNextCh > maxW) {\n        break;\n      }\n\n      ellipsized += text[i];\n\n      if (i === text.length - 1) {\n        incLastCh = true;\n      }\n    }\n\n    if (!incLastCh) {\n      ellipsized += ellipsis;\n    }\n\n    return ellipsized;\n  } // if ellipsize\n\n  return text;\n};\n\nBRp.calculateLabelDimensions = function (ele, text, extraKey) {\n  var r = this;\n\n  var cacheKey = ele._private.labelStyleKey + '$@$' + text;\n\n  if (extraKey) {\n    cacheKey += '$@$' + extraKey;\n  }\n\n  var cache = r.labelDimCache || (r.labelDimCache = {});\n\n  if (cache[cacheKey]) {\n    return cache[cacheKey];\n  }\n\n  var sizeMult = 1; // increase the scale to increase accuracy w.r.t. zoomed text\n  var fStyle = ele.pstyle('font-style').strValue;\n  var size = sizeMult * ele.pstyle('font-size').pfValue + 'px';\n  var family = ele.pstyle('font-family').strValue;\n  var weight = ele.pstyle('font-weight').strValue;\n\n  var div = this.labelCalcDiv;\n\n  if (!div) {\n    div = this.labelCalcDiv = document.createElement('div'); // eslint-disable-line no-undef\n    document.body.appendChild(div); // eslint-disable-line no-undef\n  }\n\n  var ds = div.style;\n\n  // from ele style\n  ds.fontFamily = family;\n  ds.fontStyle = fStyle;\n  ds.fontSize = size;\n  ds.fontWeight = weight;\n\n  // forced style\n  ds.position = 'absolute';\n  ds.left = '-9999px';\n  ds.top = '-9999px';\n  ds.zIndex = '-1';\n  ds.visibility = 'hidden';\n  ds.pointerEvents = 'none';\n  ds.padding = '0';\n  ds.lineHeight = '1';\n\n  if (ele.pstyle('text-wrap').value === 'wrap') {\n    ds.whiteSpace = 'pre'; // so newlines are taken into account\n  } else {\n    ds.whiteSpace = 'normal';\n  }\n\n  // put label content in div\n  div.textContent = text;\n\n  cache[cacheKey] = {\n    width: Math.ceil(div.clientWidth / sizeMult),\n    height: Math.ceil(div.clientHeight / sizeMult)\n  };\n\n  return cache[cacheKey];\n};\n\nBRp.calculateLabelAngles = function (ele) {\n  var _p = ele._private;\n  var rs = _p.rscratch;\n  var isEdge = ele.isEdge();\n  var rot = ele.pstyle('text-rotation');\n  var rotStr = rot.strValue;\n\n  if (rotStr === 'none') {\n    rs.labelAngle = rs.sourceLabelAngle = rs.targetLabelAngle = 0;\n  } else if (isEdge && rotStr === 'autorotate') {\n    rs.labelAngle = Math.atan(rs.midDispY / rs.midDispX);\n    rs.sourceLabelAngle = rs.sourceLabelAutoAngle;\n    rs.targetLabelAngle = rs.targetLabelAutoAngle;\n  } else if (rotStr === 'autorotate') {\n    rs.labelAngle = rs.sourceLabelAngle = rs.targetLabelAngle = 0;\n  } else {\n    rs.labelAngle = rs.sourceLabelAngle = rs.targetLabelAngle = rot.pfValue;\n  }\n};\n\nmodule.exports = BRp;\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar BRp = {};\n\nBRp.getNodeShape = function (node) {\n  var r = this;\n  var shape = node.pstyle('shape').value;\n\n  if (node.isParent()) {\n    if (shape === 'rectangle' || shape === 'roundrectangle' || shape === 'cutrectangle' || shape === 'barrel') {\n      return shape;\n    } else {\n      return 'rectangle';\n    }\n  }\n\n  if (shape === 'polygon') {\n    var points = node.pstyle('shape-polygon-points').value;\n\n    return r.nodeShapes.makePolygon(points).name;\n  }\n\n  return shape;\n};\n\nmodule.exports = BRp;\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar BRp = {};\n\nBRp.registerCalculationListeners = function () {\n  var cy = this.cy;\n  var elesToUpdate = cy.collection();\n  var r = this;\n\n  var enqueue = function enqueue(eles, e) {\n    var dirtyStyleCaches = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n    elesToUpdate.merge(eles);\n\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      var _p = ele._private;\n      var rstyle = _p.rstyle;\n\n      if (dirtyStyleCaches) {\n        rstyle.clean = false;\n        _p.bbCache = null;\n      }\n\n      var evts = rstyle.dirtyEvents = rstyle.dirtyEvents || { length: 0 };\n\n      if (!evts[e.type]) {\n        evts[e.type] = true;\n        evts.length++;\n      }\n    }\n  };\n\n  r.binder(cy)\n  // nodes\n\n  .on('position.* style.* free.* bounds.*', 'node', function onDirtyModNode(e) {\n    var node = e.target;\n\n    enqueue(node, e);\n    enqueue(node.connectedEdges(), e);\n  }).on('add.*', 'node', function onDirtyAddNode(e) {\n    var ele = e.target;\n\n    enqueue(ele, e);\n  }).on('background.*', 'node', function onDirtyBgNode(e) {\n    var ele = e.target;\n\n    enqueue(ele, e, false);\n  })\n\n  // edges\n\n  .on('add.* style.*', 'edge', function onDirtyEdge(e) {\n    var edge = e.target;\n\n    enqueue(edge, e);\n    enqueue(edge.parallelEdges(), e);\n  }).on('remove.*', 'edge', function onDirtyRemoveEdge(e) {\n    var edge = e.target;\n    var pEdges = edge.parallelEdges();\n\n    for (var i = 0; i < pEdges.length; i++) {\n      var pEdge = pEdges[i];\n\n      if (!pEdge.removed()) {\n        enqueue(pEdge, e);\n      }\n    }\n  })\n\n  // manual dirtying\n\n  .on('dirty.*', 'node', function onDirtyEle(e) {\n    var ele = e.target;\n\n    enqueue(ele, e);\n  });\n\n  var updateEleCalcs = function updateEleCalcs(willDraw) {\n    if (willDraw) {\n      var fns = r.onUpdateEleCalcsFns;\n\n      if (fns) {\n        for (var i = 0; i < fns.length; i++) {\n          var fn = fns[i];\n\n          fn(willDraw, elesToUpdate);\n        }\n      }\n\n      r.recalculateRenderedStyle(elesToUpdate, false);\n\n      for (var i = 0; i < elesToUpdate.length; i++) {\n        elesToUpdate[i]._private.rstyle.dirtyEvents = null;\n      }\n\n      elesToUpdate = cy.collection();\n    }\n  };\n\n  r.beforeRender(updateEleCalcs, r.beforeRenderPriorities.eleCalcs);\n};\n\nBRp.onUpdateEleCalcs = function (fn) {\n  var fns = this.onUpdateEleCalcsFns = this.onUpdateEleCalcsFns || [];\n\n  fns.push(fn);\n};\n\nBRp.recalculateRenderedStyle = function (eles, useCache) {\n  var edges = [];\n  var nodes = [];\n\n  // the renderer can't be used for calcs when destroyed, e.g. ele.boundingBox()\n  if (this.destroyed) {\n    return;\n  }\n\n  // use cache by default for perf\n  if (useCache === undefined) {\n    useCache = true;\n  }\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    var _p = ele._private;\n    var rstyle = _p.rstyle;\n\n    // only update if dirty and in graph\n    if (useCache && rstyle.clean || ele.removed()) {\n      continue;\n    }\n\n    // only update if not display: none\n    if (ele.pstyle('display').value === 'none') {\n      continue;\n    }\n\n    if (_p.group === 'nodes') {\n      nodes.push(ele);\n    } else {\n      // edges\n      edges.push(ele);\n    }\n\n    rstyle.clean = true;\n    // rstyle.dirtyEvents = null;\n  }\n\n  // update node data from projections\n  for (var i = 0; i < nodes.length; i++) {\n    var ele = nodes[i];\n    var _p = ele._private;\n    var rstyle = _p.rstyle;\n    var pos = ele.position();\n\n    this.recalculateNodeLabelProjection(ele);\n\n    rstyle.nodeX = pos.x;\n    rstyle.nodeY = pos.y;\n    rstyle.nodeW = ele.pstyle('width').pfValue;\n    rstyle.nodeH = ele.pstyle('height').pfValue;\n  }\n\n  this.recalculateEdgeProjections(edges);\n\n  // update edge data from projections\n  for (var i = 0; i < edges.length; i++) {\n    var ele = edges[i];\n    var _p = ele._private;\n    var rstyle = _p.rstyle;\n    var rs = _p.rscratch;\n\n    this.recalculateEdgeLabelProjections(ele);\n\n    // update rstyle positions\n    rstyle.srcX = rs.arrowStartX;\n    rstyle.srcY = rs.arrowStartY;\n    rstyle.tgtX = rs.arrowEndX;\n    rstyle.tgtY = rs.arrowEndY;\n    rstyle.midX = rs.midX;\n    rstyle.midY = rs.midY;\n    rstyle.labelAngle = rs.labelAngle;\n    rstyle.sourceLabelAngle = rs.sourceLabelAngle;\n    rstyle.targetLabelAngle = rs.targetLabelAngle;\n  }\n};\n\nmodule.exports = BRp;\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar zIndexSort = __webpack_require__(14);\n\nvar BRp = {};\n\nBRp.updateCachedGrabbedEles = function () {\n  var eles = this.cachedZSortedEles;\n\n  if (!eles) {\n    // just let this be recalculated on the next z sort tick\n    return;\n  }\n\n  eles.drag = [];\n  eles.nondrag = [];\n\n  var grabTargets = [];\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    var rs = ele._private.rscratch;\n\n    if (ele.grabbed() && !ele.isParent()) {\n      grabTargets.push(ele);\n    } else if (rs.inDragLayer) {\n      eles.drag.push(ele);\n    } else {\n      eles.nondrag.push(ele);\n    }\n  }\n\n  // put the grab target nodes last so it's on top of its neighbourhood\n  for (var i = 0; i < grabTargets.length; i++) {\n    var ele = grabTargets[i];\n\n    eles.drag.push(ele);\n  }\n};\n\nBRp.invalidateCachedZSortedEles = function () {\n  this.cachedZSortedEles = null;\n};\n\nBRp.getCachedZSortedEles = function (forceRecalc) {\n  if (forceRecalc || !this.cachedZSortedEles) {\n    //console.time('cachezorder')\n\n    var eles = this.cy.mutableElements().toArray();\n\n    eles.sort(zIndexSort);\n\n    eles.interactive = eles.filter(function (ele) {\n      return ele.interactive();\n    });\n\n    this.cachedZSortedEles = eles;\n\n    this.updateCachedGrabbedEles();\n  } else {\n    eles = this.cachedZSortedEles;\n  }\n\n  return eles;\n};\n\nmodule.exports = BRp;\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar BRp = {};\n\nBRp.getCachedImage = function (url, crossOrigin, onLoad) {\n  var r = this;\n  var imageCache = r.imageCache = r.imageCache || {};\n  var cache = imageCache[url];\n\n  if (cache) {\n    if (!cache.image.complete) {\n      cache.image.addEventListener('load', onLoad);\n    }\n\n    return cache.image;\n  } else {\n    cache = imageCache[url] = imageCache[url] || {};\n\n    var image = cache.image = new Image(); // eslint-disable-line no-undef\n\n    image.addEventListener('load', onLoad);\n    image.addEventListener('error', function () {\n      image.error = true;\n    });\n\n    // #1582 safari doesn't load data uris with crossOrigin properly\n    // https://bugs.webkit.org/show_bug.cgi?id=123978\n    var dataUriPrefix = 'data:';\n    var isDataUri = url.substring(0, dataUriPrefix.length).toLowerCase() === dataUriPrefix;\n    if (!isDataUri) {\n      image.crossOrigin = crossOrigin; // prevent tainted canvas\n    }\n\n    image.src = url;\n\n    return image;\n  }\n};\n\nmodule.exports = BRp;\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar util = __webpack_require__(1);\nvar window = __webpack_require__(4);\n\nvar BaseRenderer = function BaseRenderer(options) {\n  this.init(options);\n};\nvar BR = BaseRenderer;\nvar BRp = BR.prototype;\n\nBRp.clientFunctions = ['redrawHint', 'render', 'renderTo', 'matchCanvasSize', 'nodeShapeImpl', 'arrowShapeImpl'];\n\nBRp.init = function (options) {\n  var r = this;\n\n  r.options = options;\n\n  r.cy = options.cy;\n\n  var ctr = r.container = options.cy.container();\n\n  // prepend a stylesheet in the head such that\n  if (window) {\n    var document = window.document;\n    var head = document.head;\n    var stylesheetId = '__________cytoscape_stylesheet';\n    var className = '__________cytoscape_container';\n    var stylesheetAlreadyExists = document.getElementById(stylesheetId) != null;\n\n    if (ctr.className.indexOf(className) < 0) {\n      ctr.className = (ctr.className || '') + ' ' + className;\n    }\n\n    if (!stylesheetAlreadyExists) {\n      var stylesheet = document.createElement('style');\n\n      stylesheet.id = stylesheetId;\n      stylesheet.innerHTML = '.' + className + ' { position: relative; }';\n\n      head.insertBefore(stylesheet, head.children[0]); // first so lowest priority\n    }\n\n    var computedStyle = window.getComputedStyle(ctr);\n    var position = computedStyle.getPropertyValue('position');\n\n    if (position === 'static') {\n      util.error('A Cytoscape container has style position:static and so can not use UI extensions properly');\n    }\n  }\n\n  r.selection = [undefined, undefined, undefined, undefined, 0]; // Coordinates for selection box, plus enabled flag\n\n  r.bezierProjPcts = [0.05, 0.225, 0.4, 0.5, 0.6, 0.775, 0.95];\n\n  //--Pointer-related data\n  r.hoverData = { down: null, last: null,\n    downTime: null, triggerMode: null,\n    dragging: false,\n    initialPan: [null, null], capture: false };\n\n  r.dragData = { possibleDragElements: [] };\n\n  r.touchData = {\n    start: null, capture: false,\n\n    // These 3 fields related to tap, taphold events\n    startPosition: [null, null, null, null, null, null],\n    singleTouchStartTime: null,\n    singleTouchMoved: true,\n\n    now: [null, null, null, null, null, null],\n    earlier: [null, null, null, null, null, null]\n  };\n\n  r.redraws = 0;\n  r.showFps = options.showFps;\n  r.debug = options.debug;\n\n  r.hideEdgesOnViewport = options.hideEdgesOnViewport;\n  r.hideLabelsOnViewport = options.hideLabelsOnViewport;\n  r.textureOnViewport = options.textureOnViewport;\n  r.wheelSensitivity = options.wheelSensitivity;\n  r.motionBlurEnabled = options.motionBlur; // on by default\n  r.forcedPixelRatio = options.pixelRatio;\n  r.motionBlur = options.motionBlur; // for initial kick off\n  r.motionBlurOpacity = options.motionBlurOpacity;\n  r.motionBlurTransparency = 1 - r.motionBlurOpacity;\n  r.motionBlurPxRatio = 1;\n  r.mbPxRBlurry = 1; //0.8;\n  r.minMbLowQualFrames = 4;\n  r.fullQualityMb = false;\n  r.clearedForMotionBlur = [];\n  r.desktopTapThreshold = options.desktopTapThreshold;\n  r.desktopTapThreshold2 = options.desktopTapThreshold * options.desktopTapThreshold;\n  r.touchTapThreshold = options.touchTapThreshold;\n  r.touchTapThreshold2 = options.touchTapThreshold * options.touchTapThreshold;\n  r.tapholdDuration = 500;\n\n  r.bindings = [];\n  r.beforeRenderCallbacks = [];\n  r.beforeRenderPriorities = { // higher priority execs before lower one\n    animations: 400,\n    eleCalcs: 300,\n    eleTxrDeq: 200,\n    lyrTxrDeq: 100\n  };\n\n  r.registerNodeShapes();\n  r.registerArrowShapes();\n  r.registerCalculationListeners();\n};\n\nBRp.notify = function (params) {\n  var types;\n  var r = this;\n\n  // the renderer can't be notified after it's destroyed\n  if (this.destroyed) {\n    return;\n  }\n\n  if (is.array(params.type)) {\n    types = params.type;\n  } else {\n    types = [params.type];\n  }\n\n  var has = {};\n  for (var i = 0; i < types.length; i++) {\n    var type = types[i];\n\n    has[type] = true;\n  } // for\n\n  if (has['init']) {\n    r.load();\n    return;\n  }\n\n  if (has['destroy']) {\n    r.destroy();\n    return;\n  }\n\n  if (has['add'] || has['remove'] || has['load'] || has['zorder']) {\n    r.invalidateCachedZSortedEles();\n  }\n\n  if (has['viewport']) {\n    r.redrawHint('select', true);\n  }\n\n  if (has['load'] || has['resize']) {\n    r.invalidateContainerClientCoordsCache();\n    r.matchCanvasSize(r.container);\n  }\n\n  r.redrawHint('eles', true);\n  r.redrawHint('drag', true);\n\n  this.startRenderLoop();\n\n  this.redraw();\n};\n\nBRp.destroy = function () {\n  var r = this;\n\n  r.destroyed = true;\n\n  r.cy.stopAnimationLoop();\n\n  for (var i = 0; i < r.bindings.length; i++) {\n    var binding = r.bindings[i];\n    var b = binding;\n    var tgt = b.target;\n\n    (tgt.off || tgt.removeEventListener).apply(tgt, b.args);\n  }\n\n  r.bindings = [];\n  r.beforeRenderCallbacks = [];\n  r.onUpdateEleCalcsFns = [];\n\n  if (r.removeObserver) {\n    r.removeObserver.disconnect();\n  }\n\n  if (r.styleObserver) {\n    r.styleObserver.disconnect();\n  }\n\n  if (r.labelCalcDiv) {\n    try {\n      document.body.removeChild(r.labelCalcDiv); // eslint-disable-line no-undef\n    } catch (e) {\n      // ie10 issue #1014\n    }\n  }\n};\n\n[__webpack_require__(85), __webpack_require__(91), __webpack_require__(96), __webpack_require__(98), __webpack_require__(99), __webpack_require__(100)].forEach(function (props) {\n  util.extend(BRp, props);\n});\n\nmodule.exports = BR;\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar util = __webpack_require__(1);\nvar math = __webpack_require__(2);\nvar Event = __webpack_require__(15);\n\nvar BRp = {};\n\nBRp.registerBinding = function (target, event, handler, useCapture) {\n  var args = Array.prototype.slice.apply(arguments, [1]); // copy\n  var b = this.binder(target);\n\n  return b.on.apply(b, args);\n};\n\nBRp.binder = function (tgt) {\n  var r = this;\n\n  var tgtIsDom = tgt === window || tgt === document || tgt === document.body || is.domElement(tgt);\n\n  if (r.supportsPassiveEvents == null) {\n\n    // from https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n    var supportsPassive = false;\n    try {\n      var opts = Object.defineProperty({}, 'passive', {\n        get: function get() {\n          supportsPassive = true;\n        }\n      });\n\n      window.addEventListener('test', null, opts);\n    } catch (err) {}\n\n    r.supportsPassiveEvents = supportsPassive;\n  }\n\n  var on = function on(event, handler, useCapture) {\n    var args = Array.prototype.slice.call(arguments);\n\n    if (tgtIsDom && r.supportsPassiveEvents) {\n      // replace useCapture w/ opts obj\n      args[2] = {\n        capture: useCapture != null ? useCapture : false,\n        passive: false,\n        once: false\n      };\n    }\n\n    r.bindings.push({\n      target: tgt,\n      args: args\n    });\n\n    (tgt.addEventListener || tgt.on).apply(tgt, args);\n\n    return this;\n  };\n\n  return {\n    on: on,\n    addEventListener: on,\n    addListener: on,\n    bind: on\n  };\n};\n\nBRp.nodeIsDraggable = function (node) {\n  return node && node.isNode() && !node.locked() && node.grabbable();\n};\n\nBRp.nodeIsGrabbable = function (node) {\n  return this.nodeIsDraggable(node) && node.interactive();\n};\n\nBRp.load = function () {\n  var r = this;\n\n  var triggerEvents = function triggerEvents(target, names, e, props) {\n    if (target == null) {\n      target = r.cy;\n    }\n\n    for (var i = 0; i < names.length; i++) {\n      var name = names[i];\n\n      target.emit(util.extend({ originalEvent: e, type: name }, props));\n    }\n  };\n\n  var isMultSelKeyDown = function isMultSelKeyDown(e) {\n    return e.shiftKey || e.metaKey || e.ctrlKey; // maybe e.altKey\n  };\n\n  var allowPanningPassthrough = function allowPanningPassthrough(down, downs) {\n    var allowPassthrough = true;\n\n    if (r.cy.hasCompoundNodes() && down && down.isEdge()) {\n      // a compound node below the edge => no passthrough panning\n      for (var i = 0; downs && i < downs.length; i++) {\n        var down = downs[i];\n\n        if (down.isNode() && down.isParent()) {\n          allowPassthrough = false;\n          break;\n        }\n      }\n    } else {\n      allowPassthrough = true;\n    }\n\n    return allowPassthrough;\n  };\n\n  var getDragListIds = function getDragListIds(opts) {\n    var listHasId;\n\n    if (opts.addToList && r.cy.hasCompoundNodes()) {\n      // only needed for compound graphs\n      if (!opts.addToList.hasId) {\n        // build ids lookup if doesn't already exist\n        opts.addToList.hasId = {};\n\n        for (var i = 0; i < opts.addToList.length; i++) {\n          var ele = opts.addToList[i];\n\n          opts.addToList.hasId[ele.id()] = true;\n        }\n      }\n\n      listHasId = opts.addToList.hasId;\n    }\n\n    return listHasId || {};\n  };\n\n  var setGrabbed = function setGrabbed(ele) {\n    ele[0]._private.grabbed = true;\n  };\n\n  var setFreed = function setFreed(ele) {\n    ele[0]._private.grabbed = false;\n  };\n\n  var setInDragLayer = function setInDragLayer(ele) {\n    ele[0]._private.rscratch.inDragLayer = true;\n  };\n\n  var setOutDragLayer = function setOutDragLayer(ele) {\n    ele[0]._private.rscratch.inDragLayer = false;\n  };\n\n  var setGrabTarget = function setGrabTarget(ele) {\n    ele[0]._private.rscratch.isGrabTarget = true;\n  };\n\n  var removeGrabTarget = function removeGrabTarget(ele) {\n    ele[0]._private.rscratch.isGrabTarget = false;\n  };\n\n  var addToDragList = function addToDragList(ele, opts) {\n    var listHasId = getDragListIds(opts);\n\n    if (!listHasId[ele.id()]) {\n      opts.addToList.push(ele);\n      listHasId[ele.id()] = true;\n\n      setGrabbed(ele);\n    }\n  };\n\n  // helper function to determine which child nodes and inner edges\n  // of a compound node to be dragged as well as the grabbed and selected nodes\n  var addDescendantsToDrag = function addDescendantsToDrag(node, opts) {\n    if (!node.cy().hasCompoundNodes()) {\n      return;\n    }\n\n    if (opts.inDragLayer == null && opts.addToList == null) {\n      return;\n    } // nothing to do\n\n    var innerNodes = node.descendants();\n\n    if (opts.inDragLayer) {\n      innerNodes.forEach(setInDragLayer);\n      innerNodes.connectedEdges().forEach(setInDragLayer);\n    }\n\n    if (opts.addToList) {\n      innerNodes.forEach(function (ele) {\n        addToDragList(ele, opts);\n      });\n    }\n  };\n\n  // adds the given nodes and its neighbourhood to the drag layer\n  var addNodesToDrag = function addNodesToDrag(nodes, opts) {\n    opts = opts || {};\n\n    var hasCompoundNodes = nodes.cy().hasCompoundNodes();\n\n    if (opts.inDragLayer) {\n      nodes.forEach(setInDragLayer);\n\n      nodes.neighborhood().stdFilter(function (ele) {\n        return !hasCompoundNodes || ele.isEdge();\n      }).forEach(setInDragLayer);\n    }\n\n    if (opts.addToList) {\n      nodes.forEach(function (ele) {\n        addToDragList(ele, opts);\n      });\n    }\n\n    addDescendantsToDrag(nodes, opts); // always add to drag\n\n    // also add nodes and edges related to the topmost ancestor\n    updateAncestorsInDragLayer(nodes, {\n      inDragLayer: opts.inDragLayer\n    });\n\n    r.updateCachedGrabbedEles();\n  };\n\n  var addNodeToDrag = addNodesToDrag;\n\n  var freeDraggedElements = function freeDraggedElements(grabbedEles) {\n    if (!grabbedEles) {\n      return;\n    }\n\n    grabbedEles.hasId = {}; // clear the id list\n\n    // just go over all elements rather than doing a bunch of (possibly expensive) traversals\n    r.getCachedZSortedEles().forEach(function (ele) {\n      setFreed(ele);\n      setOutDragLayer(ele);\n      removeGrabTarget(ele);\n    });\n\n    r.updateCachedGrabbedEles();\n  };\n\n  // helper function to determine which ancestor nodes and edges should go\n  // to the drag layer (or should be removed from drag layer).\n  var updateAncestorsInDragLayer = function updateAncestorsInDragLayer(node, opts) {\n\n    if (opts.inDragLayer == null && opts.addToList == null) {\n      return;\n    } // nothing to do\n\n    if (!node.cy().hasCompoundNodes()) {\n      return;\n    }\n\n    // find top-level parent\n    var parent = node.ancestors().orphans();\n\n    // no parent node: no nodes to add to the drag layer\n    if (parent.same(node)) {\n      return;\n    }\n\n    var nodes = parent.descendants().spawnSelf().merge(parent).unmerge(node).unmerge(node.descendants());\n\n    var edges = nodes.connectedEdges();\n\n    if (opts.inDragLayer) {\n      edges.forEach(setInDragLayer);\n      nodes.forEach(setInDragLayer);\n    }\n\n    if (opts.addToList) {\n      nodes.forEach(function (ele) {\n        addToDragList(ele, opts);\n      });\n    }\n  };\n\n  var haveMutationsApi = typeof MutationObserver !== 'undefined';\n\n  // watch for when the cy container is removed from the dom\n  if (haveMutationsApi) {\n    r.removeObserver = new MutationObserver(function (mutns) {\n      // eslint-disable-line no-undef\n      for (var i = 0; i < mutns.length; i++) {\n        var mutn = mutns[i];\n        var rNodes = mutn.removedNodes;\n\n        if (rNodes) {\n          for (var j = 0; j < rNodes.length; j++) {\n            var rNode = rNodes[j];\n\n            if (rNode === r.container) {\n              r.destroy();\n              break;\n            }\n          }\n        }\n      }\n    });\n\n    if (r.container.parentNode) {\n      r.removeObserver.observe(r.container.parentNode, { childList: true });\n    }\n  } else {\n    r.registerBinding(r.container, 'DOMNodeRemoved', function (e) {\n      r.destroy();\n    });\n  }\n\n  var onResize = util.debounce(function () {\n    r.cy.resize();\n  }, 100);\n\n  if (haveMutationsApi) {\n    r.styleObserver = new MutationObserver(onResize); // eslint-disable-line no-undef\n\n    r.styleObserver.observe(r.container, { attributes: true });\n  }\n\n  // auto resize\n  r.registerBinding(window, 'resize', onResize); // eslint-disable-line no-undef\n\n  var forEachUp = function forEachUp(domEle, fn) {\n    while (domEle != null) {\n      fn(domEle);\n\n      domEle = domEle.parentNode;\n    }\n  };\n\n  var invalidateCoords = function invalidateCoords() {\n    r.invalidateContainerClientCoordsCache();\n  };\n\n  forEachUp(r.container, function (domEle) {\n    r.registerBinding(domEle, 'transitionend', invalidateCoords);\n    r.registerBinding(domEle, 'animationend', invalidateCoords);\n    r.registerBinding(domEle, 'scroll', invalidateCoords);\n  });\n\n  // stop right click menu from appearing on cy\n  r.registerBinding(r.container, 'contextmenu', function (e) {\n    e.preventDefault();\n  });\n\n  var inBoxSelection = function inBoxSelection() {\n    return r.selection[4] !== 0;\n  };\n\n  var eventInContainer = function eventInContainer(e) {\n    // save cycles if mouse events aren't to be captured\n    var containerPageCoords = r.findContainerClientCoords();\n    var x = containerPageCoords[0];\n    var y = containerPageCoords[1];\n    var width = containerPageCoords[2];\n    var height = containerPageCoords[3];\n\n    var positions = e.touches ? e.touches : [e];\n    var atLeastOnePosInside = false;\n\n    for (var i = 0; i < positions.length; i++) {\n      var p = positions[i];\n\n      if (x <= p.clientX && p.clientX <= x + width && y <= p.clientY && p.clientY <= y + height) {\n        atLeastOnePosInside = true;\n        break;\n      }\n    }\n\n    if (!atLeastOnePosInside) {\n      return false;\n    }\n\n    var container = r.container;\n    var target = e.target;\n    var tParent = target.parentNode;\n    var containerIsTarget = false;\n\n    while (tParent) {\n      if (tParent === container) {\n        containerIsTarget = true;\n        break;\n      }\n\n      tParent = tParent.parentNode;\n    }\n\n    if (!containerIsTarget) {\n      return false;\n    } // if target is outisde cy container, then this event is not for us\n\n    return true;\n  };\n\n  // Primary key\n  r.registerBinding(r.container, 'mousedown', function mousedownHandler(e) {\n    if (!eventInContainer(e)) {\n      return;\n    }\n\n    e.preventDefault();\n    r.hoverData.capture = true;\n    r.hoverData.which = e.which;\n\n    var cy = r.cy;\n    var gpos = [e.clientX, e.clientY];\n    var pos = r.projectIntoViewport(gpos[0], gpos[1]);\n    var select = r.selection;\n    var nears = r.findNearestElements(pos[0], pos[1], true, false);\n    var near = nears[0];\n    var draggedElements = r.dragData.possibleDragElements;\n\n    r.hoverData.mdownPos = pos;\n    r.hoverData.mdownGPos = gpos;\n\n    var checkForTaphold = function checkForTaphold() {\n      r.hoverData.tapholdCancelled = false;\n\n      clearTimeout(r.hoverData.tapholdTimeout);\n\n      r.hoverData.tapholdTimeout = setTimeout(function () {\n\n        if (r.hoverData.tapholdCancelled) {\n          return;\n        } else {\n          var ele = r.hoverData.down;\n\n          if (ele) {\n            ele.emit({\n              originalEvent: e,\n              type: 'taphold',\n              position: { x: pos[0], y: pos[1] }\n            });\n          } else {\n            cy.emit({\n              originalEvent: e,\n              type: 'taphold',\n              position: { x: pos[0], y: pos[1] }\n            });\n          }\n        }\n      }, r.tapholdDuration);\n    };\n\n    // Right click button\n    if (e.which == 3) {\n\n      r.hoverData.cxtStarted = true;\n\n      var cxtEvt = {\n        originalEvent: e,\n        type: 'cxttapstart',\n        position: { x: pos[0], y: pos[1] }\n      };\n\n      if (near) {\n        near.activate();\n        near.emit(cxtEvt);\n\n        r.hoverData.down = near;\n      } else {\n        cy.emit(cxtEvt);\n      }\n\n      r.hoverData.downTime = new Date().getTime();\n      r.hoverData.cxtDragged = false;\n\n      // Primary button\n    } else if (e.which == 1) {\n\n      if (near) {\n        near.activate();\n      }\n\n      // Element dragging\n      {\n        // If something is under the cursor and it is draggable, prepare to grab it\n        if (near != null) {\n\n          if (r.nodeIsGrabbable(near)) {\n\n            var makeEvent = function makeEvent(type) {\n              return {\n                originalEvent: e,\n                type: type,\n                position: { x: pos[0], y: pos[1] }\n              };\n            };\n\n            var triggerGrab = function triggerGrab(ele) {\n              ele.emit(makeEvent('grab'));\n            };\n\n            setGrabTarget(near);\n\n            if (!near.selected()) {\n\n              draggedElements = r.dragData.possibleDragElements = [];\n              addNodeToDrag(near, { addToList: draggedElements });\n\n              near.emit(makeEvent('grabon')).emit(makeEvent('grab'));\n            } else {\n              draggedElements = r.dragData.possibleDragElements = [];\n\n              var selectedNodes = cy.$(function (ele) {\n                return ele.isNode() && ele.selected() && r.nodeIsGrabbable(ele);\n              });\n\n              addNodesToDrag(selectedNodes, { addToList: draggedElements });\n\n              near.emit(makeEvent('grabon'));\n\n              selectedNodes.forEach(triggerGrab);\n            }\n\n            r.redrawHint('eles', true);\n            r.redrawHint('drag', true);\n          }\n        }\n\n        r.hoverData.down = near;\n        r.hoverData.downs = nears;\n        r.hoverData.downTime = new Date().getTime();\n      }\n\n      triggerEvents(near, ['mousedown', 'tapstart', 'vmousedown'], e, {\n        position: { x: pos[0], y: pos[1] }\n      });\n\n      if (near == null) {\n        select[4] = 1;\n\n        r.data.bgActivePosistion = {\n          x: pos[0],\n          y: pos[1]\n        };\n\n        r.redrawHint('select', true);\n\n        r.redraw();\n      } else if (near.isEdge()) {\n        select[4] = 1; // for future pan\n      }\n\n      checkForTaphold();\n    }\n\n    // Initialize selection box coordinates\n    select[0] = select[2] = pos[0];\n    select[1] = select[3] = pos[1];\n  }, false);\n\n  r.registerBinding(window, 'mousemove', function mousemoveHandler(e) {\n    // eslint-disable-line no-undef\n    var capture = r.hoverData.capture;\n\n    if (!capture && !eventInContainer(e)) {\n      return;\n    }\n\n    var preventDefault = false;\n    var cy = r.cy;\n    var zoom = cy.zoom();\n    var gpos = [e.clientX, e.clientY];\n    var pos = r.projectIntoViewport(gpos[0], gpos[1]);\n    var mdownPos = r.hoverData.mdownPos;\n    var mdownGPos = r.hoverData.mdownGPos;\n    var select = r.selection;\n\n    var near = null;\n    if (!r.hoverData.draggingEles && !r.hoverData.dragging && !r.hoverData.selecting) {\n      near = r.findNearestElement(pos[0], pos[1], true, false);\n    }\n    var last = r.hoverData.last;\n    var down = r.hoverData.down;\n\n    var disp = [pos[0] - select[2], pos[1] - select[3]];\n\n    var draggedElements = r.dragData.possibleDragElements;\n\n    var isOverThresholdDrag;\n\n    if (mdownGPos) {\n      var dx = gpos[0] - mdownGPos[0];\n      var dx2 = dx * dx;\n      var dy = gpos[1] - mdownGPos[1];\n      var dy2 = dy * dy;\n      var dist2 = dx2 + dy2;\n\n      r.hoverData.isOverThresholdDrag = isOverThresholdDrag = dist2 >= r.desktopTapThreshold2;\n    }\n\n    var multSelKeyDown = isMultSelKeyDown(e);\n\n    if (isOverThresholdDrag) {\n      r.hoverData.tapholdCancelled = true;\n    }\n\n    var updateDragDelta = function updateDragDelta() {\n      var dragDelta = r.hoverData.dragDelta = r.hoverData.dragDelta || [];\n\n      if (dragDelta.length === 0) {\n        dragDelta.push(disp[0]);\n        dragDelta.push(disp[1]);\n      } else {\n        dragDelta[0] += disp[0];\n        dragDelta[1] += disp[1];\n      }\n    };\n\n    preventDefault = true;\n\n    triggerEvents(near, ['mousemove', 'vmousemove', 'tapdrag'], e, {\n      position: { x: pos[0], y: pos[1] }\n    });\n\n    var goIntoBoxMode = function goIntoBoxMode() {\n      r.data.bgActivePosistion = undefined;\n\n      if (!r.hoverData.selecting) {\n        cy.emit('boxstart');\n      }\n\n      select[4] = 1;\n      r.hoverData.selecting = true;\n\n      r.redrawHint('select', true);\n      r.redraw();\n    };\n\n    // trigger context drag if rmouse down\n    if (r.hoverData.which === 3) {\n      // but only if over threshold\n      if (isOverThresholdDrag) {\n        var cxtEvt = {\n          originalEvent: e,\n          type: 'cxtdrag',\n          position: { x: pos[0], y: pos[1] }\n        };\n\n        if (down) {\n          down.emit(cxtEvt);\n        } else {\n          cy.emit(cxtEvt);\n        }\n\n        r.hoverData.cxtDragged = true;\n\n        if (!r.hoverData.cxtOver || near !== r.hoverData.cxtOver) {\n\n          if (r.hoverData.cxtOver) {\n            r.hoverData.cxtOver.emit({\n              originalEvent: e,\n              type: 'cxtdragout',\n              position: { x: pos[0], y: pos[1] }\n            });\n          }\n\n          r.hoverData.cxtOver = near;\n\n          if (near) {\n            near.emit({\n              originalEvent: e,\n              type: 'cxtdragover',\n              position: { x: pos[0], y: pos[1] }\n            });\n          }\n        }\n      }\n\n      // Check if we are drag panning the entire graph\n    } else if (r.hoverData.dragging) {\n      preventDefault = true;\n\n      if (cy.panningEnabled() && cy.userPanningEnabled()) {\n        var deltaP;\n\n        if (r.hoverData.justStartedPan) {\n          var mdPos = r.hoverData.mdownPos;\n\n          deltaP = {\n            x: (pos[0] - mdPos[0]) * zoom,\n            y: (pos[1] - mdPos[1]) * zoom\n          };\n\n          r.hoverData.justStartedPan = false;\n        } else {\n          deltaP = {\n            x: disp[0] * zoom,\n            y: disp[1] * zoom\n          };\n        }\n\n        cy.panBy(deltaP);\n\n        r.hoverData.dragged = true;\n      }\n\n      // Needs reproject due to pan changing viewport\n      pos = r.projectIntoViewport(e.clientX, e.clientY);\n\n      // Checks primary button down & out of time & mouse not moved much\n    } else if (select[4] == 1 && (down == null || down.isEdge())) {\n\n      if (isOverThresholdDrag) {\n\n        if (!r.hoverData.dragging && cy.boxSelectionEnabled() && (multSelKeyDown || !cy.panningEnabled() || !cy.userPanningEnabled())) {\n          goIntoBoxMode();\n        } else if (!r.hoverData.selecting && cy.panningEnabled() && cy.userPanningEnabled()) {\n          var allowPassthrough = allowPanningPassthrough(down, r.hoverData.downs);\n\n          if (allowPassthrough) {\n            r.hoverData.dragging = true;\n            r.hoverData.justStartedPan = true;\n            select[4] = 0;\n\n            r.data.bgActivePosistion = math.array2point(mdownPos);\n\n            r.redrawHint('select', true);\n            r.redraw();\n          }\n        }\n\n        if (down && down.isEdge() && down.active()) {\n          down.unactivate();\n        }\n      }\n    } else {\n      if (down && down.isEdge() && down.active()) {\n        down.unactivate();\n      }\n\n      if ((!down || !down.grabbed()) && near != last) {\n\n        if (last) {\n          triggerEvents(last, ['mouseout', 'tapdragout'], e, {\n            position: { x: pos[0], y: pos[1] }\n          });\n        }\n\n        if (near) {\n          triggerEvents(near, ['mouseover', 'tapdragover'], e, {\n            position: { x: pos[0], y: pos[1] }\n          });\n        }\n\n        r.hoverData.last = near;\n      }\n\n      if (down) {\n\n        if (isOverThresholdDrag) {\n          // then we can take action\n\n          if (cy.boxSelectionEnabled() && multSelKeyDown) {\n            // then selection overrides\n            if (down && down.grabbed()) {\n              freeDraggedElements(draggedElements);\n\n              down.emit('free');\n            }\n\n            goIntoBoxMode();\n          } else if (down && down.grabbed() && r.nodeIsDraggable(down)) {\n            // drag node\n            var justStartedDrag = !r.dragData.didDrag;\n\n            if (justStartedDrag) {\n              r.redrawHint('eles', true);\n            }\n\n            r.dragData.didDrag = true; // indicate that we actually did drag the node\n\n            var toTrigger = [];\n\n            // now, add the elements to the drag layer if not done already\n            if (!r.hoverData.draggingEles) {\n              addNodesToDrag(cy.collection(draggedElements), { inDragLayer: true });\n            }\n\n            for (var i = 0; i < draggedElements.length; i++) {\n              var dEle = draggedElements[i];\n\n              // Locked nodes not draggable, as well as non-visible nodes\n              if (r.nodeIsDraggable(dEle) && dEle.grabbed()) {\n                var dPos = dEle.position();\n\n                toTrigger.push(dEle);\n\n                if (is.number(disp[0]) && is.number(disp[1])) {\n                  dPos.x += disp[0];\n                  dPos.y += disp[1];\n\n                  if (justStartedDrag) {\n                    var dragDelta = r.hoverData.dragDelta;\n\n                    if (dragDelta && is.number(dragDelta[0]) && is.number(dragDelta[1])) {\n                      dPos.x += dragDelta[0];\n                      dPos.y += dragDelta[1];\n                    }\n                  }\n                }\n              }\n            }\n\n            r.hoverData.draggingEles = true;\n\n            var tcol = cy.collection(toTrigger);\n\n            tcol.dirtyCompoundBoundsCache();\n            tcol.emit('position drag');\n\n            r.redrawHint('drag', true);\n            r.redraw();\n          }\n        } else {\n          // otherwise save drag delta for when we actually start dragging so the relative grab pos is constant\n          updateDragDelta();\n        }\n      }\n\n      // prevent the dragging from triggering text selection on the page\n      preventDefault = true;\n    }\n\n    select[2] = pos[0];select[3] = pos[1];\n\n    if (preventDefault) {\n      if (e.stopPropagation) e.stopPropagation();\n      if (e.preventDefault) e.preventDefault();\n      return false;\n    }\n  }, false);\n\n  r.registerBinding(window, 'mouseup', function mouseupHandler(e) {\n    // eslint-disable-line no-undef\n    var capture = r.hoverData.capture;\n    if (!capture) {\n      return;\n    }\n    r.hoverData.capture = false;\n\n    var cy = r.cy;var pos = r.projectIntoViewport(e.clientX, e.clientY);var select = r.selection;\n    var near = r.findNearestElement(pos[0], pos[1], true, false);\n    var draggedElements = r.dragData.possibleDragElements;var down = r.hoverData.down;\n    var multSelKeyDown = isMultSelKeyDown(e);\n\n    if (r.data.bgActivePosistion) {\n      r.redrawHint('select', true);\n      r.redraw();\n    }\n\n    r.hoverData.tapholdCancelled = true;\n\n    r.data.bgActivePosistion = undefined; // not active bg now\n\n    if (down) {\n      down.unactivate();\n    }\n\n    if (r.hoverData.which === 3) {\n      var cxtEvt = {\n        originalEvent: e,\n        type: 'cxttapend',\n        position: { x: pos[0], y: pos[1] }\n      };\n\n      if (down) {\n        down.emit(cxtEvt);\n      } else {\n        cy.emit(cxtEvt);\n      }\n\n      if (!r.hoverData.cxtDragged) {\n        var cxtTap = {\n          originalEvent: e,\n          type: 'cxttap',\n          position: { x: pos[0], y: pos[1] }\n        };\n\n        if (down) {\n          down.emit(cxtTap);\n        } else {\n          cy.emit(cxtTap);\n        }\n      }\n\n      r.hoverData.cxtDragged = false;\n      r.hoverData.which = null;\n    } else if (r.hoverData.which === 1) {\n\n      // Deselect all elements if nothing is currently under the mouse cursor and we aren't dragging something\n      if (down == null && // not mousedown on node\n      !r.dragData.didDrag // didn't move the node around\n      && !r.hoverData.selecting // not box selection\n      && !r.hoverData.dragged // didn't pan\n      && !isMultSelKeyDown(e)) {\n\n        cy.$(function (ele) {\n          return ele.selected();\n        }).unselect();\n\n        if (draggedElements.length > 0) {\n          r.redrawHint('eles', true);\n        }\n\n        r.dragData.possibleDragElements = draggedElements = [];\n      }\n\n      triggerEvents(near, ['mouseup', 'tapend', 'vmouseup'], e, {\n        position: { x: pos[0], y: pos[1] }\n      });\n\n      if (!r.dragData.didDrag // didn't move a node around\n      && !r.hoverData.dragged // didn't pan\n      && !r.hoverData.selecting // not box selection\n      && !r.hoverData.isOverThresholdDrag // didn't move too much\n      ) {\n          triggerEvents(down, ['click', 'tap', 'vclick'], e, {\n            position: { x: pos[0], y: pos[1] }\n          });\n        }\n\n      // Single selection\n      if (near == down && !r.dragData.didDrag && !r.hoverData.selecting) {\n        if (near != null && near._private.selectable) {\n\n          if (r.hoverData.dragging) {\n            // if panning, don't change selection state\n          } else if (cy.selectionType() === 'additive' || multSelKeyDown) {\n            if (near.selected()) {\n              near.unselect();\n            } else {\n              near.select();\n            }\n          } else {\n            if (!multSelKeyDown) {\n              cy.$(':selected').unmerge(near).unselect();\n              near.select();\n            }\n          }\n\n          r.redrawHint('eles', true);\n        }\n      }\n\n      if (r.hoverData.selecting) {\n        var box = cy.collection(r.getAllInBox(select[0], select[1], select[2], select[3]));\n\n        r.redrawHint('select', true);\n\n        if (box.length > 0) {\n          r.redrawHint('eles', true);\n        }\n\n        cy.emit('boxend');\n\n        var eleWouldBeSelected = function eleWouldBeSelected(ele) {\n          return ele.selectable() && !ele.selected();\n        };\n\n        if (cy.selectionType() === 'additive') {\n          box.emit('box').stdFilter(eleWouldBeSelected).select().emit('boxselect');\n        } else {\n          if (!multSelKeyDown) {\n            cy.$(':selected').unmerge(box).unselect();\n          }\n\n          box.emit('box').stdFilter(eleWouldBeSelected).select().emit('boxselect');\n        }\n\n        // always need redraw in case eles unselectable\n        r.redraw();\n      }\n\n      // Cancel drag pan\n      if (r.hoverData.dragging) {\n        r.hoverData.dragging = false;\n\n        r.redrawHint('select', true);\n        r.redrawHint('eles', true);\n\n        r.redraw();\n      }\n\n      if (!select[4]) {\n        r.redrawHint('drag', true);\n        r.redrawHint('eles', true);\n\n        var downWasGrabbed = down && down.grabbed();\n\n        freeDraggedElements(draggedElements);\n\n        if (downWasGrabbed) {\n          down.emit('free');\n        }\n      }\n    } // else not right mouse\n\n    select[4] = 0;r.hoverData.down = null;\n\n    r.hoverData.cxtStarted = false;\n    r.hoverData.draggingEles = false;\n    r.hoverData.selecting = false;\n    r.hoverData.isOverThresholdDrag = false;\n    r.dragData.didDrag = false;\n    r.hoverData.dragged = false;\n    r.hoverData.dragDelta = [];\n    r.hoverData.mdownPos = null;\n    r.hoverData.mdownGPos = null;\n  }, false);\n\n  var wheelHandler = function wheelHandler(e) {\n\n    if (r.scrollingPage) {\n      return;\n    } // while scrolling, ignore wheel-to-zoom\n\n    var cy = r.cy;\n    var pos = r.projectIntoViewport(e.clientX, e.clientY);\n    var rpos = [pos[0] * cy.zoom() + cy.pan().x, pos[1] * cy.zoom() + cy.pan().y];\n\n    if (r.hoverData.draggingEles || r.hoverData.dragging || r.hoverData.cxtStarted || inBoxSelection()) {\n      // if pan dragging or cxt dragging, wheel movements make no zoom\n      e.preventDefault();\n      return;\n    }\n\n    if (cy.panningEnabled() && cy.userPanningEnabled() && cy.zoomingEnabled() && cy.userZoomingEnabled()) {\n      e.preventDefault();\n\n      r.data.wheelZooming = true;\n      clearTimeout(r.data.wheelTimeout);\n      r.data.wheelTimeout = setTimeout(function () {\n        r.data.wheelZooming = false;\n\n        r.redrawHint('eles', true);\n        r.redraw();\n      }, 150);\n\n      var diff;\n\n      if (e.deltaY != null) {\n        diff = e.deltaY / -250;\n      } else if (e.wheelDeltaY != null) {\n        diff = e.wheelDeltaY / 1000;\n      } else {\n        diff = e.wheelDelta / 1000;\n      }\n\n      diff = diff * r.wheelSensitivity;\n\n      var needsWheelFix = e.deltaMode === 1;\n      if (needsWheelFix) {\n        // fixes slow wheel events on ff/linux and ff/windows\n        diff *= 33;\n      }\n\n      cy.zoom({\n        level: cy.zoom() * Math.pow(10, diff),\n        renderedPosition: { x: rpos[0], y: rpos[1] }\n      });\n    }\n  };\n\n  // Functions to help with whether mouse wheel should trigger zooming\n  // --\n  r.registerBinding(r.container, 'wheel', wheelHandler, true);\n\n  // disable nonstandard wheel events\n  // r.registerBinding(r.container, 'mousewheel', wheelHandler, true);\n  // r.registerBinding(r.container, 'DOMMouseScroll', wheelHandler, true);\n  // r.registerBinding(r.container, 'MozMousePixelScroll', wheelHandler, true); // older firefox\n\n  r.registerBinding(window, 'scroll', function scrollHandler(e) {\n    // eslint-disable-line no-undef\n    r.scrollingPage = true;\n\n    clearTimeout(r.scrollingPageTimeout);\n    r.scrollingPageTimeout = setTimeout(function () {\n      r.scrollingPage = false;\n    }, 250);\n  }, true);\n\n  // Functions to help with handling mouseout/mouseover on the Cytoscape container\n  // Handle mouseout on Cytoscape container\n  r.registerBinding(r.container, 'mouseout', function mouseOutHandler(e) {\n    var pos = r.projectIntoViewport(e.clientX, e.clientY);\n\n    r.cy.emit({\n      originalEvent: e,\n      type: 'mouseout',\n      position: { x: pos[0], y: pos[1] }\n    });\n  }, false);\n\n  r.registerBinding(r.container, 'mouseover', function mouseOverHandler(e) {\n    var pos = r.projectIntoViewport(e.clientX, e.clientY);\n\n    r.cy.emit({\n      originalEvent: e,\n      type: 'mouseover',\n      position: { x: pos[0], y: pos[1] }\n    });\n  }, false);\n\n  var f1x1, f1y1, f2x1, f2y1; // starting points for pinch-to-zoom\n  var distance1, distance1Sq; // initial distance between finger 1 and finger 2 for pinch-to-zoom\n  var center1, modelCenter1; // center point on start pinch to zoom\n  var offsetLeft, offsetTop;\n  var containerWidth, containerHeight;\n  var twoFingersStartInside;\n\n  var distance = function distance(x1, y1, x2, y2) {\n    return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n  };\n\n  var distanceSq = function distanceSq(x1, y1, x2, y2) {\n    return (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n  };\n\n  var touchstartHandler;\n  r.registerBinding(r.container, 'touchstart', touchstartHandler = function touchstartHandler(e) {\n    if (!eventInContainer(e)) {\n      return;\n    }\n\n    r.touchData.capture = true;\n    r.data.bgActivePosistion = undefined;\n\n    var cy = r.cy;\n    var now = r.touchData.now;\n    var earlier = r.touchData.earlier;\n\n    if (e.touches[0]) {\n      var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);now[0] = pos[0];now[1] = pos[1];\n    }\n    if (e.touches[1]) {\n      var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);now[2] = pos[0];now[3] = pos[1];\n    }\n    if (e.touches[2]) {\n      var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);now[4] = pos[0];now[5] = pos[1];\n    }\n\n    // record starting points for pinch-to-zoom\n    if (e.touches[1]) {\n\n      freeDraggedElements(r.dragData.touchDragEles);\n\n      var offsets = r.findContainerClientCoords();\n      offsetLeft = offsets[0];\n      offsetTop = offsets[1];\n      containerWidth = offsets[2];\n      containerHeight = offsets[3];\n\n      f1x1 = e.touches[0].clientX - offsetLeft;\n      f1y1 = e.touches[0].clientY - offsetTop;\n\n      f2x1 = e.touches[1].clientX - offsetLeft;\n      f2y1 = e.touches[1].clientY - offsetTop;\n\n      twoFingersStartInside = 0 <= f1x1 && f1x1 <= containerWidth && 0 <= f2x1 && f2x1 <= containerWidth && 0 <= f1y1 && f1y1 <= containerHeight && 0 <= f2y1 && f2y1 <= containerHeight;\n\n      var pan = cy.pan();\n      var zoom = cy.zoom();\n\n      distance1 = distance(f1x1, f1y1, f2x1, f2y1);\n      distance1Sq = distanceSq(f1x1, f1y1, f2x1, f2y1);\n      center1 = [(f1x1 + f2x1) / 2, (f1y1 + f2y1) / 2];\n      modelCenter1 = [(center1[0] - pan.x) / zoom, (center1[1] - pan.y) / zoom];\n\n      // consider context tap\n      var cxtDistThreshold = 200;\n      var cxtDistThresholdSq = cxtDistThreshold * cxtDistThreshold;\n      if (distance1Sq < cxtDistThresholdSq && !e.touches[2]) {\n\n        var near1 = r.findNearestElement(now[0], now[1], true, true);\n        var near2 = r.findNearestElement(now[2], now[3], true, true);\n\n        if (near1 && near1.isNode()) {\n          near1.activate().emit({\n            originalEvent: e,\n            type: 'cxttapstart',\n            position: { x: now[0], y: now[1] }\n          });\n          r.touchData.start = near1;\n        } else if (near2 && near2.isNode()) {\n          near2.activate().emit({\n            originalEvent: e,\n            type: 'cxttapstart',\n            position: { x: now[0], y: now[1] }\n          });\n          r.touchData.start = near2;\n        } else {\n          cy.emit({\n            originalEvent: e,\n            type: 'cxttapstart',\n            position: { x: now[0], y: now[1] }\n          });\n        }\n\n        if (r.touchData.start) {\n          r.touchData.start._private.grabbed = false;\n        }\n        r.touchData.cxt = true;\n        r.touchData.cxtDragged = false;\n        r.data.bgActivePosistion = undefined;\n\n        r.redraw();\n        return;\n      }\n    }\n\n    if (e.touches[2]) {\n      // ignore\n    } else if (e.touches[1]) {\n      // ignore\n    } else if (e.touches[0]) {\n      var nears = r.findNearestElements(now[0], now[1], true, true);\n      var near = nears[0];\n\n      if (near != null) {\n        near.activate();\n\n        r.touchData.start = near;\n        r.touchData.starts = nears;\n\n        if (r.nodeIsGrabbable(near)) {\n\n          var draggedEles = r.dragData.touchDragEles = [];\n          var selectedNodes = null;\n\n          r.redrawHint('eles', true);\n          r.redrawHint('drag', true);\n\n          if (near.selected()) {\n            // reset drag elements, since near will be added again\n\n            selectedNodes = cy.$(function (ele) {\n              return ele.selected() && r.nodeIsGrabbable(ele);\n            });\n\n            addNodesToDrag(selectedNodes, { addToList: draggedEles });\n          } else {\n            addNodeToDrag(near, { addToList: draggedEles });\n          }\n\n          setGrabTarget(near);\n\n          var makeEvent = function makeEvent(type) {\n            return {\n              originalEvent: e,\n              type: type,\n              position: { x: now[0], y: now[1] }\n            };\n          };\n\n          near.emit(makeEvent('grabon'));\n\n          if (selectedNodes) {\n            selectedNodes.forEach(function (n) {\n              n.emit(makeEvent('grab'));\n            });\n          } else {\n            near.emit(makeEvent('grab'));\n          }\n        }\n      }\n\n      triggerEvents(near, ['touchstart', 'tapstart', 'vmousedown'], e, {\n        position: { x: now[0], y: now[1] }\n      });\n\n      if (near == null) {\n        r.data.bgActivePosistion = {\n          x: pos[0],\n          y: pos[1]\n        };\n\n        r.redrawHint('select', true);\n        r.redraw();\n      }\n\n      // Tap, taphold\n      // -----\n\n      r.touchData.singleTouchMoved = false;\n      r.touchData.singleTouchStartTime = +new Date();\n\n      clearTimeout(r.touchData.tapholdTimeout);\n      r.touchData.tapholdTimeout = setTimeout(function () {\n        if (r.touchData.singleTouchMoved === false && !r.pinching // if pinching, then taphold unselect shouldn't take effect\n        && !r.touchData.selecting // box selection shouldn't allow taphold through\n        ) {\n            triggerEvents(r.touchData.start, ['taphold'], e, {\n              position: { x: now[0], y: now[1] }\n            });\n\n            if (!r.touchData.start) {\n              cy.$(':selected').unselect();\n            }\n          }\n      }, r.tapholdDuration);\n    }\n\n    if (e.touches.length >= 1) {\n      var sPos = r.touchData.startPosition = [];\n\n      for (var i = 0; i < now.length; i++) {\n        sPos[i] = earlier[i] = now[i];\n      }\n\n      var touch0 = e.touches[0];\n\n      r.touchData.startGPosition = [touch0.clientX, touch0.clientY];\n    }\n  }, false);\n\n  var touchmoveHandler;\n  r.registerBinding(window, 'touchmove', touchmoveHandler = function touchmoveHandler(e) {\n    // eslint-disable-line no-undef\n    var capture = r.touchData.capture;\n\n    if (!capture && !eventInContainer(e)) {\n      return;\n    }\n\n    var select = r.selection;\n    var cy = r.cy;\n    var now = r.touchData.now;\n    var earlier = r.touchData.earlier;\n    var zoom = cy.zoom();\n\n    if (e.touches[0]) {\n      var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);now[0] = pos[0];now[1] = pos[1];\n    }\n    if (e.touches[1]) {\n      var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);now[2] = pos[0];now[3] = pos[1];\n    }\n    if (e.touches[2]) {\n      var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);now[4] = pos[0];now[5] = pos[1];\n    }\n\n    var startGPos = r.touchData.startGPosition;\n    var isOverThresholdDrag;\n\n    if (capture && e.touches[0] && startGPos) {\n      var disp = [];for (var j = 0; j < now.length; j++) {\n        disp[j] = now[j] - earlier[j];\n      }\n      var dx = e.touches[0].clientX - startGPos[0];\n      var dx2 = dx * dx;\n      var dy = e.touches[0].clientY - startGPos[1];\n      var dy2 = dy * dy;\n      var dist2 = dx2 + dy2;\n\n      isOverThresholdDrag = dist2 >= r.touchTapThreshold2;\n    }\n\n    // context swipe cancelling\n    if (capture && r.touchData.cxt) {\n      e.preventDefault();\n\n      var f1x2 = e.touches[0].clientX - offsetLeft,\n          f1y2 = e.touches[0].clientY - offsetTop;\n      var f2x2 = e.touches[1].clientX - offsetLeft,\n          f2y2 = e.touches[1].clientY - offsetTop;\n      // var distance2 = distance( f1x2, f1y2, f2x2, f2y2 );\n      var distance2Sq = distanceSq(f1x2, f1y2, f2x2, f2y2);\n      var factorSq = distance2Sq / distance1Sq;\n\n      var distThreshold = 150;\n      var distThresholdSq = distThreshold * distThreshold;\n      var factorThreshold = 1.5;\n      var factorThresholdSq = factorThreshold * factorThreshold;\n\n      // cancel ctx gestures if the distance b/t the fingers increases\n      if (factorSq >= factorThresholdSq || distance2Sq >= distThresholdSq) {\n        r.touchData.cxt = false;\n\n        r.data.bgActivePosistion = undefined;\n\n        r.redrawHint('select', true);\n\n        var cxtEvt = {\n          originalEvent: e,\n          type: 'cxttapend',\n          position: { x: now[0], y: now[1] }\n        };\n\n        if (r.touchData.start) {\n          r.touchData.start.unactivate().emit(cxtEvt);\n\n          r.touchData.start = null;\n        } else {\n          cy.emit(cxtEvt);\n        }\n      }\n    }\n\n    // context swipe\n    if (capture && r.touchData.cxt) {\n      var cxtEvt = {\n        originalEvent: e,\n        type: 'cxtdrag',\n        position: { x: now[0], y: now[1] }\n      };\n      r.data.bgActivePosistion = undefined;\n      r.redrawHint('select', true);\n\n      if (r.touchData.start) {\n        r.touchData.start.emit(cxtEvt);\n      } else {\n        cy.emit(cxtEvt);\n      }\n\n      if (r.touchData.start) {\n        r.touchData.start._private.grabbed = false;\n      }\n      r.touchData.cxtDragged = true;\n\n      var near = r.findNearestElement(now[0], now[1], true, true);\n\n      if (!r.touchData.cxtOver || near !== r.touchData.cxtOver) {\n\n        if (r.touchData.cxtOver) {\n          r.touchData.cxtOver.emit({\n            originalEvent: e,\n            type: 'cxtdragout',\n            position: { x: now[0], y: now[1] }\n          });\n        }\n\n        r.touchData.cxtOver = near;\n\n        if (near) {\n          near.emit({\n            originalEvent: e,\n            type: 'cxtdragover',\n            position: { x: now[0], y: now[1] }\n          });\n        }\n      }\n\n      // box selection\n    } else if (capture && e.touches[2] && cy.boxSelectionEnabled()) {\n      e.preventDefault();\n\n      r.data.bgActivePosistion = undefined;\n\n      this.lastThreeTouch = +new Date();\n\n      if (!r.touchData.selecting) {\n        cy.emit('boxstart');\n      }\n\n      r.touchData.selecting = true;\n\n      r.redrawHint('select', true);\n\n      if (!select || select.length === 0 || select[0] === undefined) {\n        select[0] = (now[0] + now[2] + now[4]) / 3;\n        select[1] = (now[1] + now[3] + now[5]) / 3;\n        select[2] = (now[0] + now[2] + now[4]) / 3 + 1;\n        select[3] = (now[1] + now[3] + now[5]) / 3 + 1;\n      } else {\n        select[2] = (now[0] + now[2] + now[4]) / 3;\n        select[3] = (now[1] + now[3] + now[5]) / 3;\n      }\n\n      select[4] = 1;\n      r.touchData.selecting = true;\n\n      r.redraw();\n\n      // pinch to zoom\n    } else if (capture && e.touches[1] && cy.zoomingEnabled() && cy.panningEnabled() && cy.userZoomingEnabled() && cy.userPanningEnabled()) {\n      // two fingers => pinch to zoom\n      e.preventDefault();\n\n      r.data.bgActivePosistion = undefined;\n      r.redrawHint('select', true);\n\n      var draggedEles = r.dragData.touchDragEles;\n      if (draggedEles) {\n        r.redrawHint('drag', true);\n\n        for (var i = 0; i < draggedEles.length; i++) {\n          var de_p = draggedEles[i]._private;\n\n          de_p.grabbed = false;\n          de_p.rscratch.inDragLayer = false;\n        }\n      }\n\n      // (x2, y2) for fingers 1 and 2\n      var f1x2 = e.touches[0].clientX - offsetLeft,\n          f1y2 = e.touches[0].clientY - offsetTop;\n      var f2x2 = e.touches[1].clientX - offsetLeft,\n          f2y2 = e.touches[1].clientY - offsetTop;\n\n      var distance2 = distance(f1x2, f1y2, f2x2, f2y2);\n      // var distance2Sq = distanceSq( f1x2, f1y2, f2x2, f2y2 );\n      // var factor = Math.sqrt( distance2Sq ) / Math.sqrt( distance1Sq );\n      var factor = distance2 / distance1;\n\n      if (twoFingersStartInside) {\n        // delta finger1\n        var df1x = f1x2 - f1x1;\n        var df1y = f1y2 - f1y1;\n\n        // delta finger 2\n        var df2x = f2x2 - f2x1;\n        var df2y = f2y2 - f2y1;\n\n        // translation is the normalised vector of the two fingers movement\n        // i.e. so pinching cancels out and moving together pans\n        var tx = (df1x + df2x) / 2;\n        var ty = (df1y + df2y) / 2;\n\n        // adjust factor by the speed multiplier\n        // var speed = 1.5;\n        // if( factor > 1 ){\n        //   factor = (factor - 1) * speed + 1;\n        // } else {\n        //   factor = 1 - (1 - factor) * speed;\n        // }\n\n        // now calculate the zoom\n        var zoom1 = cy.zoom();\n        var zoom2 = zoom1 * factor;\n        var pan1 = cy.pan();\n\n        // the model center point converted to the current rendered pos\n        var ctrx = modelCenter1[0] * zoom1 + pan1.x;\n        var ctry = modelCenter1[1] * zoom1 + pan1.y;\n\n        var pan2 = {\n          x: -zoom2 / zoom1 * (ctrx - pan1.x - tx) + ctrx,\n          y: -zoom2 / zoom1 * (ctry - pan1.y - ty) + ctry\n        };\n\n        // remove dragged eles\n        if (r.touchData.start && r.touchData.start.active()) {\n          var draggedEles = r.dragData.touchDragEles;\n\n          freeDraggedElements(draggedEles);\n\n          r.redrawHint('drag', true);\n          r.redrawHint('eles', true);\n\n          r.touchData.start.unactivate().emit('free');\n        }\n\n        cy.viewport({\n          zoom: zoom2,\n          pan: pan2,\n          cancelOnFailedZoom: true\n        });\n\n        distance1 = distance2;\n        f1x1 = f1x2;\n        f1y1 = f1y2;\n        f2x1 = f2x2;\n        f2y1 = f2y2;\n\n        r.pinching = true;\n      }\n\n      // Re-project\n      if (e.touches[0]) {\n        var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);now[0] = pos[0];now[1] = pos[1];\n      }\n      if (e.touches[1]) {\n        var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);now[2] = pos[0];now[3] = pos[1];\n      }\n      if (e.touches[2]) {\n        var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);now[4] = pos[0];now[5] = pos[1];\n      }\n    } else if (e.touches[0]) {\n      var start = r.touchData.start;\n      var last = r.touchData.last;\n      var near;\n\n      if (!r.hoverData.draggingEles && !r.swipePanning) {\n        near = r.findNearestElement(now[0], now[1], true, true);\n      }\n\n      if (capture && start != null) {\n        e.preventDefault();\n      }\n\n      // dragging nodes\n      if (capture && start != null && r.nodeIsDraggable(start)) {\n\n        if (isOverThresholdDrag) {\n          // then dragging can happen\n          var draggedEles = r.dragData.touchDragEles;\n          var justStartedDrag = !r.dragData.didDrag;\n\n          if (justStartedDrag) {\n            addNodesToDrag(cy.collection(draggedEles), { inDragLayer: true });\n          }\n\n          for (var k = 0; k < draggedEles.length; k++) {\n            var draggedEle = draggedEles[k];\n\n            if (r.nodeIsDraggable(draggedEle) && draggedEle.grabbed()) {\n              r.dragData.didDrag = true;\n              var dPos = draggedEle.position();\n\n              if (is.number(disp[0]) && is.number(disp[1])) {\n                dPos.x += disp[0];\n                dPos.y += disp[1];\n              }\n\n              if (justStartedDrag) {\n                r.redrawHint('eles', true);\n\n                var dragDelta = r.touchData.dragDelta;\n\n                if (dragDelta && is.number(dragDelta[0]) && is.number(dragDelta[1])) {\n                  dPos.x += dragDelta[0];\n                  dPos.y += dragDelta[1];\n                }\n              }\n            }\n          }\n\n          var tcol = cy.collection(draggedEles);\n\n          tcol.dirtyCompoundBoundsCache();\n          tcol.emit('position drag');\n\n          r.hoverData.draggingEles = true;\n\n          r.redrawHint('drag', true);\n\n          if (r.touchData.startPosition[0] == earlier[0] && r.touchData.startPosition[1] == earlier[1]) {\n\n            r.redrawHint('eles', true);\n          }\n\n          r.redraw();\n        } else {\n          // otherise keep track of drag delta for later\n          var dragDelta = r.touchData.dragDelta = r.touchData.dragDelta || [];\n\n          if (dragDelta.length === 0) {\n            dragDelta.push(disp[0]);\n            dragDelta.push(disp[1]);\n          } else {\n            dragDelta[0] += disp[0];\n            dragDelta[1] += disp[1];\n          }\n        }\n      }\n\n      // touchmove\n      {\n        triggerEvents(start || near, ['touchmove', 'tapdrag', 'vmousemove'], e, {\n          position: { x: now[0], y: now[1] }\n        });\n\n        if ((!start || !start.grabbed()) && near != last) {\n          if (last) {\n            last.emit({ originalEvent: e, type: 'tapdragout', position: { x: now[0], y: now[1] } });\n          }\n          if (near) {\n            near.emit({ originalEvent: e, type: 'tapdragover', position: { x: now[0], y: now[1] } });\n          }\n        }\n\n        r.touchData.last = near;\n      }\n\n      // check to cancel taphold\n      if (capture) {\n        for (var i = 0; i < now.length; i++) {\n          if (now[i] && r.touchData.startPosition[i] && isOverThresholdDrag) {\n\n            r.touchData.singleTouchMoved = true;\n          }\n        }\n      }\n\n      // panning\n      if (capture && (start == null || start.isEdge()) && cy.panningEnabled() && cy.userPanningEnabled()) {\n\n        var allowPassthrough = allowPanningPassthrough(start, r.touchData.starts);\n\n        if (allowPassthrough) {\n          e.preventDefault();\n\n          if (r.swipePanning) {\n            cy.panBy({\n              x: disp[0] * zoom,\n              y: disp[1] * zoom\n            });\n          } else if (isOverThresholdDrag) {\n            r.swipePanning = true;\n\n            cy.panBy({\n              x: dx * zoom,\n              y: dy * zoom\n            });\n\n            if (start) {\n              start.unactivate();\n\n              if (!r.data.bgActivePosistion) {\n                r.data.bgActivePosistion = math.array2point(r.touchData.startPosition);\n              }\n\n              r.redrawHint('select', true);\n\n              r.touchData.start = null;\n            }\n          }\n        }\n\n        // Re-project\n        var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n        now[0] = pos[0];now[1] = pos[1];\n      }\n    }\n\n    for (var j = 0; j < now.length; j++) {\n      earlier[j] = now[j];\n    }\n    //r.redraw();\n  }, false);\n\n  var touchcancelHandler;\n  r.registerBinding(window, 'touchcancel', touchcancelHandler = function touchcancelHandler(e) {\n    // eslint-disable-line no-undef\n    var start = r.touchData.start;\n\n    r.touchData.capture = false;\n\n    if (start) {\n      start.unactivate();\n    }\n  });\n\n  var touchendHandler;\n  r.registerBinding(window, 'touchend', touchendHandler = function touchendHandler(e) {\n    // eslint-disable-line no-undef\n    var start = r.touchData.start;\n\n    var capture = r.touchData.capture;\n\n    if (capture) {\n      r.touchData.capture = false;\n\n      e.preventDefault();\n    } else {\n      return;\n    }\n\n    var select = r.selection;\n\n    r.swipePanning = false;\n    r.hoverData.draggingEles = false;\n\n    var cy = r.cy;\n    var zoom = cy.zoom();\n    var now = r.touchData.now;\n    var earlier = r.touchData.earlier;\n\n    if (e.touches[0]) {\n      var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);now[0] = pos[0];now[1] = pos[1];\n    }\n    if (e.touches[1]) {\n      var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);now[2] = pos[0];now[3] = pos[1];\n    }\n    if (e.touches[2]) {\n      var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);now[4] = pos[0];now[5] = pos[1];\n    }\n\n    if (start) {\n      start.unactivate();\n    }\n\n    var ctxTapend;\n    if (r.touchData.cxt) {\n      ctxTapend = {\n        originalEvent: e,\n        type: 'cxttapend',\n        position: { x: now[0], y: now[1] }\n      };\n\n      if (start) {\n        start.emit(ctxTapend);\n      } else {\n        cy.emit(ctxTapend);\n      }\n\n      if (!r.touchData.cxtDragged) {\n        var ctxTap = {\n          originalEvent: e,\n          type: 'cxttap',\n          position: { x: now[0], y: now[1] }\n        };\n\n        if (start) {\n          start.emit(ctxTap);\n        } else {\n          cy.emit(ctxTap);\n        }\n      }\n\n      if (r.touchData.start) {\n        r.touchData.start._private.grabbed = false;\n      }\n      r.touchData.cxt = false;\n      r.touchData.start = null;\n\n      r.redraw();\n      return;\n    }\n\n    // no more box selection if we don't have three fingers\n    if (!e.touches[2] && cy.boxSelectionEnabled() && r.touchData.selecting) {\n      r.touchData.selecting = false;\n\n      var box = cy.collection(r.getAllInBox(select[0], select[1], select[2], select[3]));\n\n      select[0] = undefined;\n      select[1] = undefined;\n      select[2] = undefined;\n      select[3] = undefined;\n      select[4] = 0;\n\n      r.redrawHint('select', true);\n\n      cy.emit('boxend');\n\n      var eleWouldBeSelected = function eleWouldBeSelected(ele) {\n        return ele.selectable() && !ele.selected();\n      };\n\n      box.emit('box').stdFilter(eleWouldBeSelected).select().emit('boxselect');\n\n      if (box.nonempty()) {\n        r.redrawHint('eles', true);\n      }\n\n      r.redraw();\n    }\n\n    if (start != null) {\n      start.unactivate();\n    }\n\n    if (e.touches[2]) {\n      r.data.bgActivePosistion = undefined;\n      r.redrawHint('select', true);\n    } else if (e.touches[1]) {\n      // ignore\n    } else if (e.touches[0]) {\n      // ignore\n\n      // Last touch released\n    } else if (!e.touches[0]) {\n\n      r.data.bgActivePosistion = undefined;\n      r.redrawHint('select', true);\n\n      var draggedEles = r.dragData.touchDragEles;\n\n      if (start != null) {\n\n        var startWasGrabbed = start._private.grabbed;\n\n        freeDraggedElements(draggedEles);\n\n        r.redrawHint('drag', true);\n        r.redrawHint('eles', true);\n\n        if (startWasGrabbed) {\n          start.emit('free');\n        }\n\n        triggerEvents(start, ['touchend', 'tapend', 'vmouseup', 'tapdragout'], e, {\n          position: { x: now[0], y: now[1] }\n        });\n\n        start.unactivate();\n\n        r.touchData.start = null;\n      } else {\n        var near = r.findNearestElement(now[0], now[1], true, true);\n\n        triggerEvents(near, ['touchend', 'tapend', 'vmouseup', 'tapdragout'], e, {\n          position: { x: now[0], y: now[1] }\n        });\n      }\n\n      var dx = r.touchData.startPosition[0] - now[0];\n      var dx2 = dx * dx;\n      var dy = r.touchData.startPosition[1] - now[1];\n      var dy2 = dy * dy;\n      var dist2 = dx2 + dy2;\n      var rdist2 = dist2 * zoom * zoom;\n\n      // Prepare to select the currently touched node, only if it hasn't been dragged past a certain distance\n      if (start != null && !r.dragData.didDrag // didn't drag nodes around\n      && start._private.selectable && rdist2 < r.touchTapThreshold2 && !r.pinching // pinch to zoom should not affect selection\n      ) {\n\n          if (cy.selectionType() === 'single') {\n            cy.$(':selected').unmerge(start).unselect();\n            start.select();\n          } else {\n            if (start.selected()) {\n              start.unselect();\n            } else {\n              start.select();\n            }\n          }\n\n          r.redrawHint('eles', true);\n        }\n\n      // Tap event, roughly same as mouse click event for touch\n      if (!r.touchData.singleTouchMoved) {\n        triggerEvents(start, ['tap', 'vclick'], e, {\n          position: { x: now[0], y: now[1] }\n        });\n      }\n\n      r.touchData.singleTouchMoved = true;\n    }\n\n    for (var j = 0; j < now.length; j++) {\n      earlier[j] = now[j];\n    }\n\n    r.dragData.didDrag = false; // reset for next mousedown\n\n    if (e.touches.length === 0) {\n      r.touchData.dragDelta = [];\n      r.touchData.startPosition = null;\n      r.touchData.startGPosition = null;\n    }\n\n    if (e.touches.length < 2) {\n      r.pinching = false;\n      r.redrawHint('eles', true);\n      r.redraw();\n    }\n\n    //r.redraw();\n  }, false);\n\n  // fallback compatibility layer for ms pointer events\n  if (typeof TouchEvent === 'undefined') {\n\n    var pointers = [];\n\n    var makeTouch = function makeTouch(e) {\n      return {\n        clientX: e.clientX,\n        clientY: e.clientY,\n        force: 1,\n        identifier: e.pointerId,\n        pageX: e.pageX,\n        pageY: e.pageY,\n        radiusX: e.width / 2,\n        radiusY: e.height / 2,\n        screenX: e.screenX,\n        screenY: e.screenY,\n        target: e.target\n      };\n    };\n\n    var makePointer = function makePointer(e) {\n      return {\n        event: e,\n        touch: makeTouch(e)\n      };\n    };\n\n    var addPointer = function addPointer(e) {\n      pointers.push(makePointer(e));\n    };\n\n    var removePointer = function removePointer(e) {\n      for (var i = 0; i < pointers.length; i++) {\n        var p = pointers[i];\n\n        if (p.event.pointerId === e.pointerId) {\n          pointers.splice(i, 1);\n          return;\n        }\n      }\n    };\n\n    var updatePointer = function updatePointer(e) {\n      var p = pointers.filter(function (p) {\n        return p.event.pointerId === e.pointerId;\n      })[0];\n\n      p.event = e;\n      p.touch = makeTouch(e);\n    };\n\n    var addTouchesToEvent = function addTouchesToEvent(e) {\n      e.touches = pointers.map(function (p) {\n        return p.touch;\n      });\n    };\n\n    var pointerIsMouse = function pointerIsMouse(e) {\n      return e.pointerType === 'mouse' || e.pointerType === 4;\n    };\n\n    r.registerBinding(r.container, 'pointerdown', function (e) {\n      if (pointerIsMouse(e)) {\n        return;\n      } // mouse already handled\n\n      e.preventDefault();\n\n      addPointer(e);\n\n      addTouchesToEvent(e);\n      touchstartHandler(e);\n    });\n\n    r.registerBinding(r.container, 'pointerup', function (e) {\n      if (pointerIsMouse(e)) {\n        return;\n      } // mouse already handled\n\n      removePointer(e);\n\n      addTouchesToEvent(e);\n      touchendHandler(e);\n    });\n\n    r.registerBinding(r.container, 'pointercancel', function (e) {\n      if (pointerIsMouse(e)) {\n        return;\n      } // mouse already handled\n\n      removePointer(e);\n\n      addTouchesToEvent(e);\n      touchcancelHandler(e);\n    });\n\n    r.registerBinding(r.container, 'pointermove', function (e) {\n      if (pointerIsMouse(e)) {\n        return;\n      } // mouse already handled\n\n      e.preventDefault();\n\n      updatePointer(e);\n\n      addTouchesToEvent(e);\n      touchmoveHandler(e);\n    });\n  }\n};\n\nmodule.exports = BRp;\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar math = __webpack_require__(2);\n\nvar BRp = {};\n\nBRp.generatePolygon = function (name, points) {\n  return this.nodeShapes[name] = {\n    renderer: this,\n\n    name: name,\n\n    points: points,\n\n    draw: function draw(context, centerX, centerY, width, height) {\n      this.renderer.nodeShapeImpl('polygon', context, centerX, centerY, width, height, this.points);\n    },\n\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n      return math.polygonIntersectLine(x, y, this.points, nodeX, nodeY, width / 2, height / 2, padding);\n    },\n\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n      return math.pointInsidePolygon(x, y, this.points, centerX, centerY, width, height, [0, -1], padding);\n    }\n  };\n};\n\nBRp.generateEllipse = function () {\n  return this.nodeShapes['ellipse'] = {\n    renderer: this,\n\n    name: 'ellipse',\n\n    draw: function draw(context, centerX, centerY, width, height) {\n      this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n    },\n\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n      return math.intersectLineEllipse(x, y, nodeX, nodeY, width / 2 + padding, height / 2 + padding);\n    },\n\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n      return math.checkInEllipse(x, y, width, height, centerX, centerY, padding);\n    }\n  };\n};\n\nBRp.generateRoundRectangle = function () {\n  return this.nodeShapes['roundrectangle'] = {\n    renderer: this,\n\n    name: 'roundrectangle',\n\n    points: math.generateUnitNgonPointsFitToSquare(4, 0),\n\n    draw: function draw(context, centerX, centerY, width, height) {\n      this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n    },\n\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n      return math.roundRectangleIntersectLine(x, y, nodeX, nodeY, width, height, padding);\n    },\n\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n\n      var cornerRadius = math.getRoundRectangleRadius(width, height);\n      var diam = cornerRadius * 2;\n\n      // Check hBox\n      if (math.pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - diam, [0, -1], padding)) {\n        return true;\n      }\n\n      // Check vBox\n      if (math.pointInsidePolygon(x, y, this.points, centerX, centerY, width - diam, height, [0, -1], padding)) {\n        return true;\n      }\n\n      // Check top left quarter circle\n      if (math.checkInEllipse(x, y, diam, diam, centerX - width / 2 + cornerRadius, centerY - height / 2 + cornerRadius, padding)) {\n\n        return true;\n      }\n\n      // Check top right quarter circle\n      if (math.checkInEllipse(x, y, diam, diam, centerX + width / 2 - cornerRadius, centerY - height / 2 + cornerRadius, padding)) {\n\n        return true;\n      }\n\n      // Check bottom right quarter circle\n      if (math.checkInEllipse(x, y, diam, diam, centerX + width / 2 - cornerRadius, centerY + height / 2 - cornerRadius, padding)) {\n\n        return true;\n      }\n\n      // Check bottom left quarter circle\n      if (math.checkInEllipse(x, y, diam, diam, centerX - width / 2 + cornerRadius, centerY + height / 2 - cornerRadius, padding)) {\n\n        return true;\n      }\n\n      return false;\n    }\n  };\n};\n\nBRp.generateCutRectangle = function () {\n  return this.nodeShapes['cutrectangle'] = {\n    renderer: this,\n\n    name: 'cutrectangle',\n\n    cornerLength: math.getCutRectangleCornerLength(),\n\n    points: math.generateUnitNgonPointsFitToSquare(4, 0),\n\n    draw: function draw(context, centerX, centerY, width, height) {\n      this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n    },\n\n    generateCutTrianglePts: function generateCutTrianglePts(width, height, centerX, centerY) {\n      var cl = this.cornerLength;\n      var hh = height / 2;\n      var hw = width / 2;\n      var xBegin = centerX - hw;\n      var xEnd = centerX + hw;\n      var yBegin = centerY - hh;\n      var yEnd = centerY + hh;\n\n      // points are in clockwise order, inner (imaginary) triangle pt on [4, 5]\n      return {\n        topLeft: [xBegin, yBegin + cl, xBegin + cl, yBegin, xBegin + cl, yBegin + cl],\n        topRight: [xEnd - cl, yBegin, xEnd, yBegin + cl, xEnd - cl, yBegin + cl],\n        bottomRight: [xEnd, yEnd - cl, xEnd - cl, yEnd, xEnd - cl, yEnd - cl],\n        bottomLeft: [xBegin + cl, yEnd, xBegin, yEnd - cl, xBegin + cl, yEnd - cl]\n      };\n    },\n\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n      var cPts = this.generateCutTrianglePts(width + 2 * padding, height + 2 * padding, nodeX, nodeY);\n      var pts = [].concat.apply([], [cPts.topLeft.splice(0, 4), cPts.topRight.splice(0, 4), cPts.bottomRight.splice(0, 4), cPts.bottomLeft.splice(0, 4)]);\n\n      return math.polygonIntersectLine(x, y, pts, nodeX, nodeY);\n    },\n\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n      // Check hBox\n      if (math.pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - 2 * this.cornerLength, [0, -1], padding)) {\n        return true;\n      }\n\n      // Check vBox\n      if (math.pointInsidePolygon(x, y, this.points, centerX, centerY, width - 2 * this.cornerLength, height, [0, -1], padding)) {\n        return true;\n      }\n      var cutTrianglePts = this.generateCutTrianglePts(width, height, centerX, centerY);\n      return math.pointInsidePolygonPoints(x, y, cutTrianglePts.topLeft) || math.pointInsidePolygonPoints(x, y, cutTrianglePts.topRight) || math.pointInsidePolygonPoints(x, y, cutTrianglePts.bottomRight) || math.pointInsidePolygonPoints(x, y, cutTrianglePts.bottomLeft);\n    }\n\n  };\n};\n\nBRp.generateBarrel = function () {\n  return this.nodeShapes['barrel'] = {\n    renderer: this,\n\n    name: 'barrel',\n\n    points: math.generateUnitNgonPointsFitToSquare(4, 0),\n\n    draw: function draw(context, centerX, centerY, width, height) {\n      this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n    },\n\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n      var bPts = this.generateBarrelBezierPts(width + 2 * padding, height + 2 * padding, nodeX, nodeY);\n\n      var pts = [].concat(bPts.topLeft, bPts.topRight, bPts.bottomRight, bPts.bottomLeft);\n\n      return math.polygonIntersectLine(x, y, pts, nodeX, nodeY);\n    },\n\n    generateBarrelBezierPts: function generateBarrelBezierPts(width, height, centerX, centerY) {\n      var hh = height / 2;\n      var hw = width / 2;\n      var xBegin = centerX - hw;\n      var xEnd = centerX + hw;\n      var yBegin = centerY - hh;\n      var yEnd = centerY + hh;\n\n      var curveConstants = math.getBarrelCurveConstants(width, height);\n      var hOffset = curveConstants.heightOffset;\n      var wOffset = curveConstants.widthOffset;\n      var ctrlPtXOffset = curveConstants.ctrlPtOffsetPct * width;\n\n      // points are in clockwise order, inner (imaginary) control pt on [4, 5]\n      var pts = {\n        topLeft: [xBegin, yBegin + hOffset, xBegin + ctrlPtXOffset, yBegin, xBegin + wOffset, yBegin],\n        topRight: [xEnd - wOffset, yBegin, xEnd - ctrlPtXOffset, yBegin, xEnd, yBegin + hOffset],\n        bottomRight: [xEnd, yEnd - hOffset, xEnd - ctrlPtXOffset, yEnd, xEnd - wOffset, yEnd],\n        bottomLeft: [xBegin + wOffset, yEnd, xBegin + ctrlPtXOffset, yEnd, xBegin, yEnd - hOffset]\n      };\n\n      pts.topLeft.isTop = true;\n      pts.topRight.isTop = true;\n      pts.bottomLeft.isBottom = true;\n      pts.bottomRight.isBottom = true;\n\n      return pts;\n    },\n\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n\n      var curveConstants = math.getBarrelCurveConstants(width, height);\n      var hOffset = curveConstants.heightOffset;\n      var wOffset = curveConstants.widthOffset;\n\n      // Check hBox\n      if (math.pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - 2 * hOffset, [0, -1], padding)) {\n        return true;\n      }\n\n      // Check vBox\n      if (math.pointInsidePolygon(x, y, this.points, centerX, centerY, width - 2 * wOffset, height, [0, -1], padding)) {\n        return true;\n      }\n\n      var barrelCurvePts = this.generateBarrelBezierPts(width, height, centerX, centerY);\n\n      var getCurveT = function getCurveT(x, y, curvePts) {\n        var x0 = curvePts[4];\n        var x1 = curvePts[2];\n        var x2 = curvePts[0];\n        var y0 = curvePts[5];\n        // var y1 = curvePts[ 3 ];\n        var y2 = curvePts[1];\n\n        var xMin = Math.min(x0, x2);\n        var xMax = Math.max(x0, x2);\n        var yMin = Math.min(y0, y2);\n        var yMax = Math.max(y0, y2);\n\n        if (xMin <= x && x <= xMax && yMin <= y && y <= yMax) {\n          var coeff = math.bezierPtsToQuadCoeff(x0, x1, x2);\n          var roots = math.solveQuadratic(coeff[0], coeff[1], coeff[2], x);\n\n          var validRoots = roots.filter(function (r) {\n            return 0 <= r && r <= 1;\n          });\n\n          if (validRoots.length > 0) {\n            return validRoots[0];\n          }\n        }\n        return null;\n      };\n\n      var curveRegions = Object.keys(barrelCurvePts);\n      for (var i = 0; i < curveRegions.length; i++) {\n        var corner = curveRegions[i];\n        var cornerPts = barrelCurvePts[corner];\n        var t = getCurveT(x, y, cornerPts);\n\n        if (t == null) {\n          continue;\n        }\n\n        var y0 = cornerPts[5];\n        var y1 = cornerPts[3];\n        var y2 = cornerPts[1];\n        var bezY = math.qbezierAt(y0, y1, y2, t);\n\n        if (cornerPts.isTop && bezY <= y) {\n          return true;\n        }\n        if (cornerPts.isBottom && y <= bezY) {\n          return true;\n        }\n      }\n      return false;\n    }\n  };\n};\n\nBRp.generateBottomRoundrectangle = function () {\n  return this.nodeShapes['bottomroundrectangle'] = {\n    renderer: this,\n\n    name: 'bottomroundrectangle',\n\n    points: math.generateUnitNgonPointsFitToSquare(4, 0),\n\n    draw: function draw(context, centerX, centerY, width, height) {\n      this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n    },\n\n    intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n      var topStartX = nodeX - (width / 2 + padding);\n      var topStartY = nodeY - (height / 2 + padding);\n      var topEndY = topStartY;\n      var topEndX = nodeX + (width / 2 + padding);\n\n      var topIntersections = math.finiteLinesIntersect(x, y, nodeX, nodeY, topStartX, topStartY, topEndX, topEndY, false);\n      if (topIntersections.length > 0) {\n        return topIntersections;\n      }\n\n      return math.roundRectangleIntersectLine(x, y, nodeX, nodeY, width, height, padding);\n    },\n\n    checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n\n      var cornerRadius = math.getRoundRectangleRadius(width, height);\n      var diam = 2 * cornerRadius;\n\n      // Check hBox\n      if (math.pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - diam, [0, -1], padding)) {\n        return true;\n      }\n\n      // Check vBox\n      if (math.pointInsidePolygon(x, y, this.points, centerX, centerY, width - diam, height, [0, -1], padding)) {\n        return true;\n      }\n\n      // check non-rounded top side\n      var outerWidth = width / 2 + 2 * padding;\n      var outerHeight = height / 2 + 2 * padding;\n      var points = [centerX - outerWidth, centerY - outerHeight, centerX - outerWidth, centerY, centerX + outerWidth, centerY, centerX + outerWidth, centerY - outerHeight];\n      if (math.pointInsidePolygonPoints(x, y, points)) {\n        return true;\n      }\n\n      // Check bottom right quarter circle\n      if (math.checkInEllipse(x, y, diam, diam, centerX + width / 2 - cornerRadius, centerY + height / 2 - cornerRadius, padding)) {\n\n        return true;\n      }\n\n      // Check bottom left quarter circle\n      if (math.checkInEllipse(x, y, diam, diam, centerX - width / 2 + cornerRadius, centerY + height / 2 - cornerRadius, padding)) {\n\n        return true;\n      }\n\n      return false;\n    }\n  };\n};\n\nBRp.registerNodeShapes = function () {\n  var nodeShapes = this.nodeShapes = {};\n  var renderer = this;\n\n  this.generateEllipse();\n\n  this.generatePolygon('triangle', math.generateUnitNgonPointsFitToSquare(3, 0));\n\n  this.generatePolygon('rectangle', math.generateUnitNgonPointsFitToSquare(4, 0));\n  nodeShapes['square'] = nodeShapes['rectangle'];\n\n  this.generateRoundRectangle();\n\n  this.generateCutRectangle();\n\n  this.generateBarrel();\n\n  this.generateBottomRoundrectangle();\n\n  this.generatePolygon('diamond', [0, 1, 1, 0, 0, -1, -1, 0]);\n\n  this.generatePolygon('pentagon', math.generateUnitNgonPointsFitToSquare(5, 0));\n\n  this.generatePolygon('hexagon', math.generateUnitNgonPointsFitToSquare(6, 0));\n\n  this.generatePolygon('heptagon', math.generateUnitNgonPointsFitToSquare(7, 0));\n\n  this.generatePolygon('octagon', math.generateUnitNgonPointsFitToSquare(8, 0));\n\n  var star5Points = new Array(20);\n  {\n    var outerPoints = math.generateUnitNgonPoints(5, 0);\n    var innerPoints = math.generateUnitNgonPoints(5, Math.PI / 5);\n\n    // Outer radius is 1; inner radius of star is smaller\n    var innerRadius = 0.5 * (3 - Math.sqrt(5));\n    innerRadius *= 1.57;\n\n    for (var i = 0; i < innerPoints.length / 2; i++) {\n      innerPoints[i * 2] *= innerRadius;\n      innerPoints[i * 2 + 1] *= innerRadius;\n    }\n\n    for (var i = 0; i < 20 / 4; i++) {\n      star5Points[i * 4] = outerPoints[i * 2];\n      star5Points[i * 4 + 1] = outerPoints[i * 2 + 1];\n\n      star5Points[i * 4 + 2] = innerPoints[i * 2];\n      star5Points[i * 4 + 3] = innerPoints[i * 2 + 1];\n    }\n  }\n\n  star5Points = math.fitPolygonToSquare(star5Points);\n\n  this.generatePolygon('star', star5Points);\n\n  this.generatePolygon('vee', [-1, -1, 0, -0.333, 1, -1, 0, 1]);\n\n  this.generatePolygon('rhomboid', [-1, -1, 0.333, -1, 1, 1, -0.333, 1]);\n\n  this.generatePolygon('concavehexagon', [-1, -0.95, -0.75, 0, -1, 0.95, 1, 0.95, 0.75, 0, 1, -0.95]);\n\n  this.generatePolygon('tag', [-1, -1, 0.25, -1, 1, 0, 0.25, 1, -1, 1]);\n\n  nodeShapes.makePolygon = function (points) {\n\n    // use caching on user-specified polygons so they are as fast as native shapes\n\n    var key = points.join('$');\n    var name = 'polygon-' + key;\n    var shape;\n\n    if (shape = this[name]) {\n      // got cached shape\n      return shape;\n    }\n\n    // create and cache new shape\n    return renderer.generatePolygon(name, points);\n  };\n};\n\nmodule.exports = BRp;\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\n\nvar BRp = {};\n\nBRp.timeToRender = function () {\n  return this.redrawTotalTime / this.redrawCount;\n};\n\nBRp.redraw = function (options) {\n  options = options || util.staticEmptyObject();\n\n  var r = this;\n\n  if (r.averageRedrawTime === undefined) {\n    r.averageRedrawTime = 0;\n  }\n  if (r.lastRedrawTime === undefined) {\n    r.lastRedrawTime = 0;\n  }\n  if (r.lastDrawTime === undefined) {\n    r.lastDrawTime = 0;\n  }\n\n  r.requestedFrame = true;\n  r.renderOptions = options;\n};\n\nBRp.beforeRender = function (fn, priority) {\n  // the renderer can't add tick callbacks when destroyed\n  if (this.destroyed) {\n    return;\n  }\n\n  priority = priority || 0;\n\n  var cbs = this.beforeRenderCallbacks;\n\n  cbs.push({ fn: fn, priority: priority });\n\n  // higher priority callbacks executed first\n  cbs.sort(function (a, b) {\n    return b.priority - a.priority;\n  });\n};\n\nvar beforeRenderCallbacks = function beforeRenderCallbacks(r, willDraw, startTime) {\n  var cbs = r.beforeRenderCallbacks;\n\n  for (var i = 0; i < cbs.length; i++) {\n    cbs[i].fn(willDraw, startTime);\n  }\n};\n\nBRp.startRenderLoop = function () {\n  var r = this;\n\n  if (r.renderLoopStarted) {\n    return;\n  } else {\n    r.renderLoopStarted = true;\n  }\n\n  var renderFn = function renderFn(requestTime) {\n    if (r.destroyed) {\n      return;\n    }\n\n    if (r.requestedFrame && !r.skipFrame) {\n      beforeRenderCallbacks(r, true, requestTime);\n\n      var startTime = util.performanceNow();\n\n      r.render(r.renderOptions);\n\n      var endTime = r.lastDrawTime = util.performanceNow();\n\n      if (r.averageRedrawTime === undefined) {\n        r.averageRedrawTime = endTime - startTime;\n      }\n\n      if (r.redrawCount === undefined) {\n        r.redrawCount = 0;\n      }\n\n      r.redrawCount++;\n\n      if (r.redrawTotalTime === undefined) {\n        r.redrawTotalTime = 0;\n      }\n\n      var duration = endTime - startTime;\n\n      r.redrawTotalTime += duration;\n      r.lastRedrawTime = duration;\n\n      // use a weighted average with a bias from the previous average so we don't spike so easily\n      r.averageRedrawTime = r.averageRedrawTime / 2 + duration / 2;\n\n      r.requestedFrame = false;\n    } else {\n      beforeRenderCallbacks(r, false, requestTime);\n    }\n\n    r.skipFrame = false;\n\n    util.requestAnimationFrame(renderFn);\n  };\n\n  util.requestAnimationFrame(renderFn);\n};\n\nmodule.exports = BRp;\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar CRp = {};\n\nvar impl;\n\nCRp.arrowShapeImpl = function (name) {\n  return (impl || (impl = {\n    'polygon': function polygon(context, points) {\n      for (var i = 0; i < points.length; i++) {\n        var pt = points[i];\n\n        context.lineTo(pt.x, pt.y);\n      }\n    },\n\n    'triangle-backcurve': function triangleBackcurve(context, points, controlPoint) {\n      var firstPt;\n\n      for (var i = 0; i < points.length; i++) {\n        var pt = points[i];\n\n        if (i === 0) {\n          firstPt = pt;\n        }\n\n        context.lineTo(pt.x, pt.y);\n      }\n\n      context.quadraticCurveTo(controlPoint.x, controlPoint.y, firstPt.x, firstPt.y);\n    },\n\n    'triangle-tee': function triangleTee(context, trianglePoints, teePoints) {\n      if (context.beginPath) {\n        context.beginPath();\n      }\n\n      var triPts = trianglePoints;\n      for (var i = 0; i < triPts.length; i++) {\n        var pt = triPts[i];\n\n        context.lineTo(pt.x, pt.y);\n      }\n\n      if (context.closePath) {\n        context.closePath();\n      }\n\n      if (context.beginPath) {\n        context.beginPath();\n      }\n\n      var teePts = teePoints;\n      var firstTeePt = teePoints[0];\n      context.moveTo(firstTeePt.x, firstTeePt.y);\n\n      for (var i = 0; i < teePts.length; i++) {\n        var pt = teePts[i];\n\n        context.lineTo(pt.x, pt.y);\n      }\n      if (context.closePath) {\n        context.closePath();\n      }\n    },\n\n    'triangle-cross': function triangleCross(context, trianglePoints, crossLinePoints) {\n      if (context.beginPath) {\n        context.beginPath();\n      }\n\n      var triPts = trianglePoints;\n      for (var i = 0; i < triPts.length; i++) {\n        var pt = triPts[i];\n\n        context.lineTo(pt.x, pt.y);\n      }\n\n      if (context.closePath) {\n        context.closePath();\n      }\n\n      if (context.beginPath) {\n        context.beginPath();\n      }\n\n      var teePts = crossLinePoints;\n      var firstTeePt = crossLinePoints[0];\n      context.moveTo(firstTeePt.x, firstTeePt.y);\n\n      for (var i = 0; i < teePts.length; i++) {\n        var pt = teePts[i];\n\n        context.lineTo(pt.x, pt.y);\n      }\n      if (context.closePath) {\n        context.closePath();\n      }\n    },\n\n    'circle': function circle(context, rx, ry, r) {\n      context.arc(rx, ry, r, 0, Math.PI * 2, false);\n    }\n  }))[name];\n};\n\nmodule.exports = CRp;\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar CRp = {};\n\nCRp.drawEdge = function (context, edge, shiftToOriginWithBb, drawLabel) {\n  var r = this;\n  var rs = edge._private.rscratch;\n  var usePaths = r.usePaths();\n\n  // if bezier ctrl pts can not be calculated, then die\n  if (rs.badLine || isNaN(rs.allpts[0])) {\n    // isNaN in case edge is impossible and browser bugs (e.g. safari)\n    return;\n  }\n\n  if (!edge.visible()) {\n    return;\n  }\n\n  var bb = void 0;\n  if (shiftToOriginWithBb) {\n    bb = shiftToOriginWithBb;\n\n    context.translate(-bb.x1, -bb.y1);\n  }\n\n  var overlayPadding = edge.pstyle('overlay-padding').pfValue;\n  var overlayWidth = 2 * overlayPadding;\n  var overlayOpacity = edge.pstyle('overlay-opacity').value;\n  var overlayColor = edge.pstyle('overlay-color').value;\n  var lineColor = edge.pstyle('line-color').value;\n  var opacity = edge.pstyle('opacity').value;\n  var lineStyle = edge.pstyle('line-style').value;\n  var edgeWidth = edge.pstyle('width').pfValue;\n\n  var drawLine = function drawLine() {\n    var strokeOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : opacity;\n\n    context.lineWidth = edgeWidth;\n    context.lineCap = 'butt';\n\n    r.strokeStyle(context, lineColor[0], lineColor[1], lineColor[2], strokeOpacity);\n\n    r.drawEdgePath(edge, context, rs.allpts, lineStyle);\n  };\n\n  var drawOverlay = function drawOverlay() {\n    var strokeOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : overlayOpacity;\n\n    context.lineWidth = overlayWidth;\n\n    if (rs.edgeType === 'self' && !usePaths) {\n      context.lineCap = 'butt';\n    } else {\n      context.lineCap = 'round';\n    }\n\n    r.strokeStyle(context, overlayColor[0], overlayColor[1], overlayColor[2], strokeOpacity);\n\n    r.drawEdgePath(edge, context, rs.allpts, 'solid');\n  };\n\n  var drawArrows = function drawArrows() {\n    var arrowOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : opacity;\n\n    r.drawArrowheads(context, edge, arrowOpacity);\n  };\n\n  var drawText = function drawText() {\n    r.drawElementText(context, edge, drawLabel);\n  };\n\n  context.lineJoin = 'round';\n\n  var ghost = edge.pstyle('ghost').value === 'yes';\n\n  if (ghost) {\n    var gx = edge.pstyle('ghost-offset-x').pfValue;\n    var gy = edge.pstyle('ghost-offset-y').pfValue;\n    var ghostOpacity = edge.pstyle('ghost-opacity').value;\n    var effectiveGhostOpacity = opacity * ghostOpacity;\n\n    context.translate(gx, gy);\n\n    drawLine(effectiveGhostOpacity);\n    drawArrows(effectiveGhostOpacity);\n\n    context.translate(-gx, -gy);\n  }\n\n  drawLine();\n  drawArrows();\n  drawOverlay();\n  drawText();\n\n  if (shiftToOriginWithBb) {\n    context.translate(bb.x1, bb.y1);\n  }\n};\n\nCRp.drawEdgePath = function (edge, context, pts, type) {\n  var rs = edge._private.rscratch;\n  var canvasCxt = context;\n  var path = void 0;\n  var pathCacheHit = false;\n  var usePaths = this.usePaths();\n\n  if (usePaths) {\n    var pathCacheKey = pts.join('$');\n    var keyMatches = rs.pathCacheKey && rs.pathCacheKey === pathCacheKey;\n\n    if (keyMatches) {\n      path = context = rs.pathCache;\n      pathCacheHit = true;\n    } else {\n      path = context = new Path2D(); // eslint-disable-line no-undef\n      rs.pathCacheKey = pathCacheKey;\n      rs.pathCache = path;\n    }\n  }\n\n  if (canvasCxt.setLineDash) {\n    // for very outofdate browsers\n    switch (type) {\n      case 'dotted':\n        canvasCxt.setLineDash([1, 1]);\n        break;\n\n      case 'dashed':\n        canvasCxt.setLineDash([6, 3]);\n        break;\n\n      case 'solid':\n        canvasCxt.setLineDash([]);\n        break;\n    }\n  }\n\n  if (!pathCacheHit && !rs.badLine) {\n    if (context.beginPath) {\n      context.beginPath();\n    }\n    context.moveTo(pts[0], pts[1]);\n\n    switch (rs.edgeType) {\n      case 'bezier':\n      case 'self':\n      case 'compound':\n      case 'multibezier':\n        for (var i = 2; i + 3 < pts.length; i += 4) {\n          context.quadraticCurveTo(pts[i], pts[i + 1], pts[i + 2], pts[i + 3]);\n        }\n        break;\n\n      case 'straight':\n      case 'segments':\n      case 'haystack':\n        for (var _i = 2; _i + 1 < pts.length; _i += 2) {\n          context.lineTo(pts[_i], pts[_i + 1]);\n        }\n        break;\n    }\n  }\n\n  context = canvasCxt;\n  if (usePaths) {\n    context.stroke(path);\n  } else {\n    context.stroke();\n  }\n\n  // reset any line dashes\n  if (context.setLineDash) {\n    // for very outofdate browsers\n    context.setLineDash([]);\n  }\n};\n\nCRp.drawArrowheads = function (context, edge, opacity) {\n  var rs = edge._private.rscratch;\n  var isHaystack = rs.edgeType === 'haystack';\n\n  if (!isHaystack) {\n    this.drawArrowhead(context, edge, 'source', rs.arrowStartX, rs.arrowStartY, rs.srcArrowAngle, opacity);\n  }\n\n  this.drawArrowhead(context, edge, 'mid-target', rs.midX, rs.midY, rs.midtgtArrowAngle, opacity);\n\n  this.drawArrowhead(context, edge, 'mid-source', rs.midX, rs.midY, rs.midsrcArrowAngle, opacity);\n\n  if (!isHaystack) {\n    this.drawArrowhead(context, edge, 'target', rs.arrowEndX, rs.arrowEndY, rs.tgtArrowAngle, opacity);\n  }\n};\n\nCRp.drawArrowhead = function (context, edge, prefix, x, y, angle, opacity) {\n  if (isNaN(x) || x == null || isNaN(y) || y == null || isNaN(angle) || angle == null) {\n    return;\n  }\n\n  var self = this;\n  var arrowShape = edge.pstyle(prefix + '-arrow-shape').value;\n  if (arrowShape === 'none') {\n    return;\n  }\n\n  var arrowClearFill = edge.pstyle(prefix + '-arrow-fill').value === 'hollow' ? 'both' : 'filled';\n  var arrowFill = edge.pstyle(prefix + '-arrow-fill').value;\n  var edgeWidth = edge.pstyle('width').pfValue;\n  var edgeOpacity = edge.pstyle('opacity').value;\n\n  if (opacity === undefined) {\n    opacity = edgeOpacity;\n  }\n\n  var gco = context.globalCompositeOperation;\n\n  if (opacity !== 1 || arrowFill === 'hollow') {\n    // then extra clear is needed\n    context.globalCompositeOperation = 'destination-out';\n\n    self.fillStyle(context, 255, 255, 255, 1);\n    self.strokeStyle(context, 255, 255, 255, 1);\n\n    self.drawArrowShape(edge, prefix, context, arrowClearFill, edgeWidth, arrowShape, x, y, angle);\n\n    context.globalCompositeOperation = gco;\n  } // otherwise, the opaque arrow clears it for free :)\n\n  var color = edge.pstyle(prefix + '-arrow-color').value;\n  self.fillStyle(context, color[0], color[1], color[2], opacity);\n  self.strokeStyle(context, color[0], color[1], color[2], opacity);\n\n  self.drawArrowShape(edge, prefix, context, arrowFill, edgeWidth, arrowShape, x, y, angle);\n};\n\nCRp.drawArrowShape = function (edge, arrowType, context, fill, edgeWidth, shape, x, y, angle) {\n  var r = this;\n  var usePaths = this.usePaths();\n  var rs = edge._private.rscratch;\n  var pathCacheHit = false;\n  var path = void 0;\n  var canvasContext = context;\n  var translation = { x: x, y: y };\n  var scale = edge.pstyle('arrow-scale').value;\n  var size = this.getArrowWidth(edgeWidth, scale);\n  var shapeImpl = r.arrowShapes[shape];\n\n  if (usePaths) {\n    var pathCacheKey = size + '$' + shape + '$' + angle + '$' + x + '$' + y;\n    rs.arrowPathCacheKey = rs.arrowPathCacheKey || {};\n    rs.arrowPathCache = rs.arrowPathCache || {};\n\n    var alreadyCached = rs.arrowPathCacheKey[arrowType] === pathCacheKey;\n    if (alreadyCached) {\n      path = context = rs.arrowPathCache[arrowType];\n      pathCacheHit = true;\n    } else {\n      path = context = new Path2D(); // eslint-disable-line no-undef\n      rs.arrowPathCacheKey[arrowType] = pathCacheKey;\n      rs.arrowPathCache[arrowType] = path;\n    }\n  }\n\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  if (!pathCacheHit) {\n    shapeImpl.draw(context, size, angle, translation, edgeWidth);\n  }\n\n  if (!shapeImpl.leavePathOpen && context.closePath) {\n    context.closePath();\n  }\n\n  context = canvasContext;\n\n  if (fill === 'filled' || fill === 'both') {\n    if (usePaths) {\n      context.fill(path);\n    } else {\n      context.fill();\n    }\n  }\n\n  if (fill === 'hollow' || fill === 'both') {\n    context.lineWidth = shapeImpl.matchEdgeWidth ? edgeWidth : 1;\n    context.lineJoin = 'miter';\n\n    if (usePaths) {\n      context.stroke(path);\n    } else {\n      context.stroke();\n    }\n  }\n};\n\nmodule.exports = CRp;\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar math = __webpack_require__(2);\n\nvar CRp = {};\n\nCRp.drawElement = function (context, ele, shiftToOriginWithBb, showLabel) {\n  var r = this;\n\n  if (ele.isNode()) {\n    r.drawNode(context, ele, shiftToOriginWithBb, showLabel);\n  } else {\n    r.drawEdge(context, ele, shiftToOriginWithBb, showLabel);\n  }\n};\n\nCRp.drawCachedElement = function (context, ele, pxRatio, extent) {\n  var r = this;\n  var bb = ele.boundingBox();\n\n  if (bb.w === 0 || bb.h === 0) {\n    return;\n  }\n\n  if (!extent || math.boundingBoxesIntersect(bb, extent)) {\n    var cache = r.data.eleTxrCache.getElement(ele, bb, pxRatio);\n\n    if (cache != null) {\n      context.drawImage(cache.texture.canvas, cache.x, 0, cache.width, cache.height, bb.x1, bb.y1, bb.w, bb.h);\n    } else {\n      // if the element is not cacheable, then draw directly\n      r.drawElement(context, ele);\n    }\n  }\n};\n\nCRp.drawElements = function (context, eles) {\n  var r = this;\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n\n    r.drawElement(context, ele);\n  }\n};\n\nCRp.drawCachedElements = function (context, eles, pxRatio, extent) {\n  var r = this;\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n\n    r.drawCachedElement(context, ele, pxRatio, extent);\n  }\n};\n\nCRp.drawCachedNodes = function (context, eles, pxRatio, extent) {\n  var r = this;\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n\n    if (!ele.isNode()) {\n      continue;\n    }\n\n    r.drawCachedElement(context, ele, pxRatio, extent);\n  }\n};\n\nCRp.drawLayeredElements = function (context, eles, pxRatio, extent) {\n  var r = this;\n\n  var layers = r.data.lyrTxrCache.getLayers(eles, pxRatio);\n\n  if (layers) {\n    for (var i = 0; i < layers.length; i++) {\n      var layer = layers[i];\n      var bb = layer.bb;\n\n      if (bb.w === 0 || bb.h === 0) {\n        continue;\n      }\n\n      context.drawImage(layer.canvas, bb.x1, bb.y1, bb.w, bb.h);\n    }\n  } else {\n    // fall back on plain caching if no layers\n    r.drawCachedElements(context, eles, pxRatio, extent);\n  }\n};\n\nCRp.drawDebugPoints = function (context, eles) {\n  var draw = function draw(x, y, color) {\n    context.fillStyle = color;\n    context.fillRect(x - 1, y - 1, 3, 3);\n  };\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    var rs = ele._private.rscratch;\n\n    if (ele.isNode()) {\n      var p = ele.position();\n\n      draw(p.x, p.y, 'magenta');\n    } else {\n      var pts = rs.allpts;\n\n      for (var j = 0; j + 1 < pts.length; j += 2) {\n        var x = pts[j];\n        var y = pts[j + 1];\n\n        draw(x, y, 'cyan');\n      }\n\n      draw(rs.midX, rs.midY, 'yellow');\n    }\n  }\n};\n\nmodule.exports = CRp;\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar CRp = {};\n\nCRp.safeDrawImage = function (context, img, ix, iy, iw, ih, x, y, w, h) {\n  var r = this;\n\n  // detect problematic cases for old browsers with bad images (cheaper than try-catch)\n  if (iw <= 0 || ih <= 0 || w <= 0 || h <= 0) {\n    return;\n  }\n\n  context.drawImage(img, ix, iy, iw, ih, x, y, w, h);\n};\n\nCRp.drawInscribedImage = function (context, img, node, index, nodeOpacity) {\n  var r = this;\n  var pos = node.position();\n  var nodeX = pos.x;\n  var nodeY = pos.y;\n  var styleObj = node.cy().style();\n  var getIndexedStyle = styleObj.getIndexedStyle.bind(styleObj);\n  var fit = getIndexedStyle(node, 'background-fit', 'value', index);\n  var repeat = getIndexedStyle(node, 'background-repeat', 'value', index);\n  var nodeW = node.width();\n  var nodeH = node.height();\n  var paddingX2 = node.padding() * 2;\n  var nodeTW = nodeW + (getIndexedStyle(node, 'background-width-relative-to', 'value', index) === 'inner' ? 0 : paddingX2);\n  var nodeTH = nodeH + (getIndexedStyle(node, 'background-height-relative-to', 'value', index) === 'inner' ? 0 : paddingX2);\n  var rs = node._private.rscratch;\n  var clip = node.pstyle('background-clip').value;\n  var shouldClip = clip === 'node';\n  var imgOpacity = getIndexedStyle(node, 'background-image-opacity', 'value', index) * nodeOpacity;\n\n  var imgW = img.width || img.cachedW;\n  var imgH = img.height || img.cachedH;\n\n  // workaround for broken browsers like ie\n  if (null == imgW || null == imgH) {\n    document.body.appendChild(img); // eslint-disable-line no-undef\n\n    imgW = img.cachedW = img.width || img.offsetWidth;\n    imgH = img.cachedH = img.height || img.offsetHeight;\n\n    document.body.removeChild(img); // eslint-disable-line no-undef\n  }\n\n  var w = imgW;\n  var h = imgH;\n\n  if (getIndexedStyle(node, 'background-width', 'value', index) !== 'auto') {\n    if (getIndexedStyle(node, 'background-width', 'units', index) === '%') {\n      w = getIndexedStyle(node, 'background-width', 'pfValue', index) * nodeTW;\n    } else {\n      w = getIndexedStyle(node, 'background-width', 'pfValue', index);\n    }\n  }\n\n  if (getIndexedStyle(node, 'background-height', 'value', index) !== 'auto') {\n    if (getIndexedStyle(node, 'background-height', 'units', index) === '%') {\n      h = getIndexedStyle(node, 'background-height', 'pfValue', index) * nodeTH;\n    } else {\n      h = getIndexedStyle(node, 'background-height', 'pfValue', index);\n    }\n  }\n\n  if (w === 0 || h === 0) {\n    return; // no point in drawing empty image (and chrome is broken in this case)\n  }\n\n  if (fit === 'contain') {\n    var scale = Math.min(nodeTW / w, nodeTH / h);\n\n    w *= scale;\n    h *= scale;\n  } else if (fit === 'cover') {\n    var scale = Math.max(nodeTW / w, nodeTH / h);\n\n    w *= scale;\n    h *= scale;\n  }\n\n  var x = nodeX - nodeTW / 2; // left\n  if (getIndexedStyle(node, 'background-position-x', 'units', index) === '%') {\n    x += (nodeTW - w) * getIndexedStyle(node, 'background-position-x', 'pfValue', index);\n  } else {\n    x += getIndexedStyle(node, 'background-position-x', 'pfValue', index);\n  }\n\n  var y = nodeY - nodeTH / 2; // top\n  if (getIndexedStyle(node, 'background-position-y', 'units', index) === '%') {\n    y += (nodeTH - h) * getIndexedStyle(node, 'background-position-y', 'pfValue', index);\n  } else {\n    y += getIndexedStyle(node, 'background-position-y', 'pfValue', index);\n  }\n\n  if (rs.pathCache) {\n    x -= nodeX;\n    y -= nodeY;\n\n    nodeX = 0;\n    nodeY = 0;\n  }\n\n  var gAlpha = context.globalAlpha;\n\n  context.globalAlpha = imgOpacity;\n\n  if (repeat === 'no-repeat') {\n\n    if (shouldClip) {\n      context.save();\n\n      if (rs.pathCache) {\n        context.clip(rs.pathCache);\n      } else {\n        r.nodeShapes[r.getNodeShape(node)].draw(context, nodeX, nodeY, nodeTW, nodeTH);\n\n        context.clip();\n      }\n    }\n\n    r.safeDrawImage(context, img, 0, 0, imgW, imgH, x, y, w, h);\n\n    if (shouldClip) {\n      context.restore();\n    }\n  } else {\n    var pattern = context.createPattern(img, repeat);\n    context.fillStyle = pattern;\n\n    r.nodeShapes[r.getNodeShape(node)].draw(context, nodeX, nodeY, nodeTW, nodeTH);\n\n    context.translate(x, y);\n    context.fill();\n    context.translate(-x, -y);\n  }\n\n  context.globalAlpha = gAlpha;\n};\n\nmodule.exports = CRp;\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar math = __webpack_require__(2);\n\nvar CRp = {};\n\nCRp.eleTextBiggerThanMin = function (ele, scale) {\n  if (!scale) {\n    var zoom = ele.cy().zoom();\n    var pxRatio = this.getPixelRatio();\n    var lvl = Math.ceil(math.log2(zoom * pxRatio)); // the effective texture level\n\n    scale = Math.pow(2, lvl);\n  }\n\n  var computedSize = ele.pstyle('font-size').pfValue * scale;\n  var minSize = ele.pstyle('min-zoomed-font-size').pfValue;\n\n  if (computedSize < minSize) {\n    return false;\n  }\n\n  return true;\n};\n\nCRp.drawElementText = function (context, ele, force) {\n  var r = this;\n\n  if (force === undefined) {\n    if (!r.eleTextBiggerThanMin(ele)) {\n      return;\n    }\n  } else {\n    if (!force) {\n      return;\n    }\n  }\n\n  if (ele.isNode()) {\n    var label = ele.pstyle('label');\n\n    if (!label || !label.value) {\n      return;\n    }\n\n    var textHalign = ele.pstyle('text-halign').strValue;\n    var textValign = ele.pstyle('text-valign').strValue;\n\n    switch (textHalign) {\n      case 'left':\n        context.textAlign = 'right';\n        break;\n\n      case 'right':\n        context.textAlign = 'left';\n        break;\n\n      default:\n        // e.g. center\n        context.textAlign = 'center';\n    }\n\n    context.textBaseline = 'bottom';\n  } else {\n    var label = ele.pstyle('label');\n    var srcLabel = ele.pstyle('source-label');\n    var tgtLabel = ele.pstyle('target-label');\n\n    if ((!label || !label.value) && (!srcLabel || !srcLabel.value) && (!tgtLabel || !tgtLabel.value)) {\n      return;\n    }\n\n    context.textAlign = 'center';\n    context.textBaseline = 'bottom';\n  }\n\n  r.drawText(context, ele);\n\n  if (ele.isEdge()) {\n    r.drawText(context, ele, 'source');\n\n    r.drawText(context, ele, 'target');\n  }\n};\n\nCRp.drawNodeText = CRp.drawEdgeText = CRp.drawElementText;\n\nCRp.getFontCache = function (context) {\n  var cache;\n\n  this.fontCaches = this.fontCaches || [];\n\n  for (var i = 0; i < this.fontCaches.length; i++) {\n    cache = this.fontCaches[i];\n\n    if (cache.context === context) {\n      return cache;\n    }\n  }\n\n  cache = {\n    context: context\n  };\n  this.fontCaches.push(cache);\n\n  return cache;\n};\n\n// set up canvas context with font\n// returns transformed text string\nCRp.setupTextStyle = function (context, ele) {\n  // Font style\n  var parentOpacity = ele.effectiveOpacity();\n  var labelStyle = ele.pstyle('font-style').strValue;\n  var labelSize = ele.pstyle('font-size').pfValue + 'px';\n  var labelFamily = ele.pstyle('font-family').strValue;\n  var labelWeight = ele.pstyle('font-weight').strValue;\n  var opacity = ele.pstyle('text-opacity').value * ele.pstyle('opacity').value * parentOpacity;\n  var outlineOpacity = ele.pstyle('text-outline-opacity').value * opacity;\n  var color = ele.pstyle('color').value;\n  var outlineColor = ele.pstyle('text-outline-color').value;\n\n  var fontCacheKey = ele._private.fontKey;\n  var cache = this.getFontCache(context);\n\n  if (cache.key !== fontCacheKey) {\n    context.font = labelStyle + ' ' + labelWeight + ' ' + labelSize + ' ' + labelFamily;\n\n    cache.key = fontCacheKey;\n  }\n\n  // Calculate text draw position based on text alignment\n\n  // so text outlines aren't jagged\n  context.lineJoin = 'round';\n\n  this.fillStyle(context, color[0], color[1], color[2], opacity);\n\n  this.strokeStyle(context, outlineColor[0], outlineColor[1], outlineColor[2], outlineOpacity);\n};\n\nfunction roundRect(ctx, x, y, width, height, radius) {\n  var radius = radius || 5;\n  ctx.beginPath();\n  ctx.moveTo(x + radius, y);\n  ctx.lineTo(x + width - radius, y);\n  ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n  ctx.lineTo(x + width, y + height - radius);\n  ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n  ctx.lineTo(x + radius, y + height);\n  ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n  ctx.lineTo(x, y + radius);\n  ctx.quadraticCurveTo(x, y, x + radius, y);\n  ctx.closePath();\n  ctx.fill();\n}\n\n// Draw text\nCRp.drawText = function (context, ele, prefix) {\n  var _p = ele._private;\n  var rscratch = _p.rscratch;\n  var parentOpacity = ele.effectiveOpacity();\n  if (parentOpacity === 0 || ele.pstyle('text-opacity').value === 0) {\n    return;\n  }\n\n  var textX = util.getPrefixedProperty(rscratch, 'labelX', prefix);\n  var textY = util.getPrefixedProperty(rscratch, 'labelY', prefix);\n  var text = this.getLabelText(ele, prefix);\n\n  if (text != null && text !== '' && !isNaN(textX) && !isNaN(textY)) {\n    this.setupTextStyle(context, ele);\n\n    var pdash = prefix ? prefix + '-' : '';\n    var textW = util.getPrefixedProperty(rscratch, 'labelWidth', prefix);\n    var textH = util.getPrefixedProperty(rscratch, 'labelHeight', prefix);\n    var textAngle = util.getPrefixedProperty(rscratch, 'labelAngle', prefix);\n    var marginX = ele.pstyle(pdash + 'text-margin-x').pfValue;\n    var marginY = ele.pstyle(pdash + 'text-margin-y').pfValue;\n\n    var isEdge = ele.isEdge();\n    var isNode = ele.isNode();\n\n    var halign = ele.pstyle('text-halign').value;\n    var valign = ele.pstyle('text-valign').value;\n\n    if (isEdge) {\n      halign = 'center';\n      valign = 'center';\n    }\n\n    textX += marginX;\n    textY += marginY;\n\n    var rotation = ele.pstyle('text-rotation');\n    var theta;\n\n    if (rotation.strValue === 'autorotate') {\n      theta = isEdge ? textAngle : 0;\n    } else if (rotation.strValue === 'none') {\n      theta = 0;\n    } else {\n      theta = rotation.pfValue;\n    }\n\n    if (theta !== 0) {\n      var orgTextX = textX;\n      var orgTextY = textY;\n\n      context.translate(orgTextX, orgTextY);\n      context.rotate(theta);\n\n      textX = 0;\n      textY = 0;\n    }\n\n    switch (valign) {\n      case 'top':\n        break;\n      case 'center':\n        textY += textH / 2;\n        break;\n      case 'bottom':\n        textY += textH;\n        break;\n    }\n\n    var backgroundOpacity = ele.pstyle('text-background-opacity').value;\n    var borderOpacity = ele.pstyle('text-border-opacity').value;\n    var textBorderWidth = ele.pstyle('text-border-width').pfValue;\n    var backgroundPadding = ele.pstyle('text-background-padding').pfValue;\n\n    if (backgroundOpacity > 0 || textBorderWidth > 0 && borderOpacity > 0) {\n      var bgX = textX - backgroundPadding;\n\n      switch (halign) {\n        case 'left':\n          bgX -= textW;\n          break;\n        case 'center':\n          bgX -= textW / 2;\n          break;\n        case 'right':\n          break;\n      }\n\n      var bgY = textY - textH - backgroundPadding;\n      var bgW = textW + 2 * backgroundPadding;\n      var bgH = textH + 2 * backgroundPadding;\n\n      if (backgroundOpacity > 0) {\n        var textFill = context.fillStyle;\n        var textBackgroundColor = ele.pstyle('text-background-color').value;\n\n        context.fillStyle = 'rgba(' + textBackgroundColor[0] + ',' + textBackgroundColor[1] + ',' + textBackgroundColor[2] + ',' + backgroundOpacity * parentOpacity + ')';\n        var styleShape = ele.pstyle('text-background-shape').strValue;\n        if (styleShape == 'roundrectangle') {\n          roundRect(context, bgX, bgY, bgW, bgH, 2);\n        } else {\n          context.fillRect(bgX, bgY, bgW, bgH);\n        }\n        context.fillStyle = textFill;\n      }\n\n      if (textBorderWidth > 0 && borderOpacity > 0) {\n        var textStroke = context.strokeStyle;\n        var textLineWidth = context.lineWidth;\n        var textBorderColor = ele.pstyle('text-border-color').value;\n        var textBorderStyle = ele.pstyle('text-border-style').value;\n\n        context.strokeStyle = 'rgba(' + textBorderColor[0] + ',' + textBorderColor[1] + ',' + textBorderColor[2] + ',' + borderOpacity * parentOpacity + ')';\n        context.lineWidth = textBorderWidth;\n\n        if (context.setLineDash) {\n          // for very outofdate browsers\n          switch (textBorderStyle) {\n            case 'dotted':\n              context.setLineDash([1, 1]);\n              break;\n            case 'dashed':\n              context.setLineDash([4, 2]);\n              break;\n            case 'double':\n              context.lineWidth = textBorderWidth / 4; // 50% reserved for white between the two borders\n              context.setLineDash([]);\n              break;\n            case 'solid':\n              context.setLineDash([]);\n              break;\n          }\n        }\n\n        context.strokeRect(bgX, bgY, bgW, bgH);\n\n        if (textBorderStyle === 'double') {\n          var whiteWidth = textBorderWidth / 2;\n\n          context.strokeRect(bgX + whiteWidth, bgY + whiteWidth, bgW - whiteWidth * 2, bgH - whiteWidth * 2);\n        }\n\n        if (context.setLineDash) {\n          // for very outofdate browsers\n          context.setLineDash([]);\n        }\n        context.lineWidth = textLineWidth;\n        context.strokeStyle = textStroke;\n      }\n    }\n\n    var lineWidth = 2 * ele.pstyle('text-outline-width').pfValue; // *2 b/c the stroke is drawn centred on the middle\n\n    if (lineWidth > 0) {\n      context.lineWidth = lineWidth;\n    }\n\n    if (ele.pstyle('text-wrap').value === 'wrap') {\n      var lines = util.getPrefixedProperty(rscratch, 'labelWrapCachedLines', prefix);\n      var lineHeight = textH / lines.length;\n\n      switch (valign) {\n        case 'top':\n          textY -= (lines.length - 1) * lineHeight;\n          break;\n        case 'center':\n        case 'bottom':\n          textY -= (lines.length - 1) * lineHeight;\n          break;\n      }\n\n      for (var l = 0; l < lines.length; l++) {\n        if (lineWidth > 0) {\n          context.strokeText(lines[l], textX, textY);\n        }\n\n        context.fillText(lines[l], textX, textY);\n\n        textY += lineHeight;\n      }\n    } else {\n      if (lineWidth > 0) {\n        context.strokeText(text, textX, textY);\n      }\n\n      context.fillText(text, textX, textY);\n    }\n\n    if (theta !== 0) {\n      context.rotate(-theta);\n      context.translate(-orgTextX, -orgTextY);\n    }\n  }\n};\n\nmodule.exports = CRp;\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/* global Path2D */\n\nvar is = __webpack_require__(0);\n\nvar CRp = {};\n\nCRp.drawNode = function (context, node, shiftToOriginWithBb, drawLabel) {\n  var r = this;\n  var nodeWidth = void 0,\n      nodeHeight = void 0;\n  var _p = node._private;\n  var rs = _p.rscratch;\n  var pos = node.position();\n\n  if (!is.number(pos.x) || !is.number(pos.y)) {\n    return; // can't draw node with undefined position\n  }\n\n  if (!node.visible()) {\n    return;\n  }\n\n  var parentOpacity = node.effectiveOpacity();\n\n  var usePaths = r.usePaths();\n  var path = void 0;\n  var pathCacheHit = false;\n\n  var padding = node.padding();\n\n  nodeWidth = node.width() + 2 * padding;\n  nodeHeight = node.height() + 2 * padding;\n\n  //\n  // setup shift\n\n  var bb = void 0;\n  if (shiftToOriginWithBb) {\n    bb = shiftToOriginWithBb;\n\n    context.translate(-bb.x1, -bb.y1);\n  }\n\n  //\n  // load bg image\n\n  var bgImgProp = node.pstyle('background-image');\n  var urls = bgImgProp.value;\n  var urlDefined = new Array(urls.length);\n  var image = new Array(urls.length);\n  var numImages = 0;\n  for (var i = 0; i < urls.length; i++) {\n    var url = urls[i];\n    var defd = urlDefined[i] = url != null && url !== 'none';\n\n    if (defd) {\n      var bgImgCrossOrigin = node.cy().style().getIndexedStyle(node, 'background-image-crossorigin', 'value', i);\n\n      numImages++;\n\n      // get image, and if not loaded then ask to redraw when later loaded\n      image[i] = r.getCachedImage(url, bgImgCrossOrigin, function () {\n        node.emitAndNotify('background');\n      });\n    }\n  }\n\n  //\n  // setup styles\n\n  var darkness = node.pstyle('background-blacken').value;\n  var borderWidth = node.pstyle('border-width').pfValue;\n  var bgColor = node.pstyle('background-color').value;\n  var bgOpacity = node.pstyle('background-opacity').value * parentOpacity;\n  var borderColor = node.pstyle('border-color').value;\n  var borderStyle = node.pstyle('border-style').value;\n  var borderOpacity = node.pstyle('border-opacity').value * parentOpacity;\n\n  context.lineJoin = 'miter'; // so borders are square with the node shape\n\n  var setupShapeColor = function setupShapeColor() {\n    var bgOpy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : bgOpacity;\n\n    r.fillStyle(context, bgColor[0], bgColor[1], bgColor[2], bgOpy);\n  };\n\n  var setupBorderColor = function setupBorderColor() {\n    var bdrOpy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : borderOpacity;\n\n    r.strokeStyle(context, borderColor[0], borderColor[1], borderColor[2], bdrOpy);\n  };\n\n  //\n  // setup shape\n\n  var styleShape = node.pstyle('shape').strValue;\n  var shapePts = node.pstyle('shape-polygon-points').pfValue;\n\n  if (usePaths) {\n    var pathCacheKey = styleShape + '$' + nodeWidth + '$' + nodeHeight + (styleShape === 'polygon' ? '$' + shapePts.join('$') : '');\n\n    context.translate(pos.x, pos.y);\n\n    if (rs.pathCacheKey === pathCacheKey) {\n      path = rs.pathCache;\n      pathCacheHit = true;\n    } else {\n      path = new Path2D();\n      rs.pathCacheKey = pathCacheKey;\n      rs.pathCache = path;\n    }\n  }\n\n  var drawShape = function drawShape() {\n    if (!pathCacheHit) {\n\n      var npos = pos;\n\n      if (usePaths) {\n        npos = {\n          x: 0,\n          y: 0\n        };\n      }\n\n      r.nodeShapes[r.getNodeShape(node)].draw(path || context, npos.x, npos.y, nodeWidth, nodeHeight);\n    }\n\n    if (usePaths) {\n      context.fill(path);\n    } else {\n      context.fill();\n    }\n  };\n\n  var drawImages = function drawImages() {\n    var nodeOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : parentOpacity;\n\n    var prevBging = _p.backgrounding;\n    var totalCompleted = 0;\n\n    for (var _i = 0; _i < image.length; _i++) {\n      if (urlDefined[_i] && image[_i].complete && !image[_i].error) {\n        totalCompleted++;\n        r.drawInscribedImage(context, image[_i], node, _i, nodeOpacity);\n      }\n    }\n\n    _p.backgrounding = !(totalCompleted === numImages);\n    if (prevBging !== _p.backgrounding) {\n      // update style b/c :backgrounding state changed\n      node.updateStyle(false);\n    }\n  };\n\n  var drawPie = function drawPie() {\n    var redrawShape = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var pieOpacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : parentOpacity;\n\n    if (r.hasPie(node)) {\n      r.drawPie(context, node, pieOpacity);\n\n      // redraw/restore path if steps after pie need it\n      if (redrawShape) {\n\n        if (!usePaths) {\n          r.nodeShapes[r.getNodeShape(node)].draw(context, pos.x, pos.y, nodeWidth, nodeHeight);\n        }\n      }\n    }\n  };\n\n  var darken = function darken() {\n    var darkenOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : parentOpacity;\n\n    var opacity = (darkness > 0 ? darkness : -darkness) * darkenOpacity;\n    var c = darkness > 0 ? 0 : 255;\n\n    if (darkness !== 0) {\n      r.fillStyle(context, c, c, c, opacity);\n\n      if (usePaths) {\n        context.fill(path);\n      } else {\n        context.fill();\n      }\n    }\n  };\n\n  var drawBorder = function drawBorder() {\n    if (borderWidth > 0) {\n\n      context.lineWidth = borderWidth;\n      context.lineCap = 'butt';\n\n      if (context.setLineDash) {\n        // for very outofdate browsers\n        switch (borderStyle) {\n          case 'dotted':\n            context.setLineDash([1, 1]);\n            break;\n\n          case 'dashed':\n            context.setLineDash([4, 2]);\n            break;\n\n          case 'solid':\n          case 'double':\n            context.setLineDash([]);\n            break;\n        }\n      }\n\n      if (usePaths) {\n        context.stroke(path);\n      } else {\n        context.stroke();\n      }\n\n      if (borderStyle === 'double') {\n        context.lineWidth = borderWidth / 3;\n\n        var gco = context.globalCompositeOperation;\n        context.globalCompositeOperation = 'destination-out';\n\n        if (usePaths) {\n          context.stroke(path);\n        } else {\n          context.stroke();\n        }\n\n        context.globalCompositeOperation = gco;\n      }\n\n      // reset in case we changed the border style\n      if (context.setLineDash) {\n        // for very outofdate browsers\n        context.setLineDash([]);\n      }\n    }\n  };\n\n  var drawOverlay = function drawOverlay() {\n    var overlayPadding = node.pstyle('overlay-padding').pfValue;\n    var overlayOpacity = node.pstyle('overlay-opacity').value;\n    var overlayColor = node.pstyle('overlay-color').value;\n\n    if (overlayOpacity > 0) {\n      r.fillStyle(context, overlayColor[0], overlayColor[1], overlayColor[2], overlayOpacity);\n\n      r.nodeShapes['roundrectangle'].draw(context, pos.x, pos.y, nodeWidth + overlayPadding * 2, nodeHeight + overlayPadding * 2);\n\n      context.fill();\n    }\n  };\n\n  var drawText = function drawText() {\n    r.drawElementText(context, node, drawLabel);\n  };\n\n  var ghost = node.pstyle('ghost').value === 'yes';\n\n  if (ghost) {\n    var gx = node.pstyle('ghost-offset-x').pfValue;\n    var gy = node.pstyle('ghost-offset-y').pfValue;\n    var ghostOpacity = node.pstyle('ghost-opacity').value;\n    var effGhostOpacity = ghostOpacity * parentOpacity;\n\n    context.translate(gx, gy);\n\n    setupShapeColor(ghostOpacity * bgOpacity);\n    drawShape();\n    drawImages(effGhostOpacity);\n    drawPie(darkness !== 0 || borderWidth !== 0);\n    darken(effGhostOpacity);\n    setupBorderColor(ghostOpacity * borderOpacity);\n    drawBorder();\n\n    context.translate(-gx, -gy);\n  }\n\n  setupShapeColor();\n  drawShape();\n  drawImages();\n  drawPie(darkness !== 0 || borderWidth !== 0);\n  darken();\n  setupBorderColor();\n  drawBorder();\n\n  if (usePaths) {\n    context.translate(-pos.x, -pos.y);\n  }\n\n  drawText();\n  drawOverlay();\n\n  //\n  // clean up shift\n\n  if (shiftToOriginWithBb) {\n    context.translate(bb.x1, bb.y1);\n  }\n};\n\n// does the node have at least one pie piece?\nCRp.hasPie = function (node) {\n  node = node[0]; // ensure ele ref\n\n  return node._private.hasPie;\n};\n\nCRp.drawPie = function (context, node, nodeOpacity, pos) {\n  node = node[0]; // ensure ele ref\n  pos = pos || node.position();\n\n  var cyStyle = node.cy().style();\n  var pieSize = node.pstyle('pie-size');\n  var x = pos.x;\n  var y = pos.y;\n  var nodeW = node.width();\n  var nodeH = node.height();\n  var radius = Math.min(nodeW, nodeH) / 2; // must fit in node\n  var lastPercent = 0; // what % to continue drawing pie slices from on [0, 1]\n  var usePaths = this.usePaths();\n\n  if (usePaths) {\n    x = 0;\n    y = 0;\n  }\n\n  if (pieSize.units === '%') {\n    radius = radius * pieSize.pfValue;\n  } else if (pieSize.pfValue !== undefined) {\n    radius = pieSize.pfValue / 2;\n  }\n\n  for (var i = 1; i <= cyStyle.pieBackgroundN; i++) {\n    // 1..N\n    var size = node.pstyle('pie-' + i + '-background-size').value;\n    var color = node.pstyle('pie-' + i + '-background-color').value;\n    var opacity = node.pstyle('pie-' + i + '-background-opacity').value * nodeOpacity;\n    var percent = size / 100; // map integer range [0, 100] to [0, 1]\n\n    // percent can't push beyond 1\n    if (percent + lastPercent > 1) {\n      percent = 1 - lastPercent;\n    }\n\n    var angleStart = 1.5 * Math.PI + 2 * Math.PI * lastPercent; // start at 12 o'clock and go clockwise\n    var angleDelta = 2 * Math.PI * percent;\n    var angleEnd = angleStart + angleDelta;\n\n    // ignore if\n    // - zero size\n    // - we're already beyond the full circle\n    // - adding the current slice would go beyond the full circle\n    if (size === 0 || lastPercent >= 1 || lastPercent + percent > 1) {\n      continue;\n    }\n\n    context.beginPath();\n    context.moveTo(x, y);\n    context.arc(x, y, radius, angleStart, angleEnd);\n    context.closePath();\n\n    this.fillStyle(context, color[0], color[1], color[2], opacity);\n\n    context.fill();\n\n    lastPercent += percent;\n  }\n};\n\nmodule.exports = CRp;\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar CRp = {};\n\nvar util = __webpack_require__(1);\n\nvar motionBlurDelay = 100;\n\n// var isFirefox = typeof InstallTrigger !== 'undefined';\n\nCRp.getPixelRatio = function () {\n  var context = this.data.contexts[0];\n\n  if (this.forcedPixelRatio != null) {\n    return this.forcedPixelRatio;\n  }\n\n  var backingStore = context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n\n  return (window.devicePixelRatio || 1) / backingStore; // eslint-disable-line no-undef\n};\n\nCRp.paintCache = function (context) {\n  var caches = this.paintCaches = this.paintCaches || [];\n  var needToCreateCache = true;\n  var cache;\n\n  for (var i = 0; i < caches.length; i++) {\n    cache = caches[i];\n\n    if (cache.context === context) {\n      needToCreateCache = false;\n      break;\n    }\n  }\n\n  if (needToCreateCache) {\n    cache = {\n      context: context\n    };\n    caches.push(cache);\n  }\n\n  return cache;\n};\n\nCRp.fillStyle = function (context, r, g, b, a) {\n  context.fillStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n\n  // turn off for now, seems context does its own caching\n\n  // var cache = this.paintCache(context);\n\n  // var fillStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n\n  // if( cache.fillStyle !== fillStyle ){\n  //   context.fillStyle = cache.fillStyle = fillStyle;\n  // }\n};\n\nCRp.strokeStyle = function (context, r, g, b, a) {\n  context.strokeStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n\n  // turn off for now, seems context does its own caching\n\n  // var cache = this.paintCache(context);\n\n  // var strokeStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n\n  // if( cache.strokeStyle !== strokeStyle ){\n  //   context.strokeStyle = cache.strokeStyle = strokeStyle;\n  // }\n};\n\n// Resize canvas\nCRp.matchCanvasSize = function (container) {\n  var r = this;\n  var data = r.data;\n  var bb = r.findContainerClientCoords();\n  var width = bb[2];\n  var height = bb[3];\n  var pixelRatio = r.getPixelRatio();\n  var mbPxRatio = r.motionBlurPxRatio;\n\n  if (container === r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE] || container === r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG]) {\n    pixelRatio = mbPxRatio;\n  }\n\n  var canvasWidth = width * pixelRatio;\n  var canvasHeight = height * pixelRatio;\n  var canvas;\n\n  if (canvasWidth === r.canvasWidth && canvasHeight === r.canvasHeight) {\n    return; // save cycles if same\n  }\n\n  r.fontCaches = null; // resizing resets the style\n\n  var canvasContainer = data.canvasContainer;\n  canvasContainer.style.width = width + 'px';\n  canvasContainer.style.height = height + 'px';\n\n  for (var i = 0; i < r.CANVAS_LAYERS; i++) {\n    canvas = data.canvases[i];\n\n    canvas.width = canvasWidth;\n    canvas.height = canvasHeight;\n\n    canvas.style.width = width + 'px';\n    canvas.style.height = height + 'px';\n  }\n\n  for (var i = 0; i < r.BUFFER_COUNT; i++) {\n    canvas = data.bufferCanvases[i];\n\n    canvas.width = canvasWidth;\n    canvas.height = canvasHeight;\n\n    canvas.style.width = width + 'px';\n    canvas.style.height = height + 'px';\n  }\n\n  r.textureMult = 1;\n  if (pixelRatio <= 1) {\n    canvas = data.bufferCanvases[r.TEXTURE_BUFFER];\n\n    r.textureMult = 2;\n    canvas.width = canvasWidth * r.textureMult;\n    canvas.height = canvasHeight * r.textureMult;\n  }\n\n  r.canvasWidth = canvasWidth;\n  r.canvasHeight = canvasHeight;\n};\n\nCRp.renderTo = function (cxt, zoom, pan, pxRatio) {\n  this.render({\n    forcedContext: cxt,\n    forcedZoom: zoom,\n    forcedPan: pan,\n    drawAllLayers: true,\n    forcedPxRatio: pxRatio\n  });\n};\n\nCRp.render = function (options) {\n  options = options || util.staticEmptyObject();\n\n  var forcedContext = options.forcedContext;\n  var drawAllLayers = options.drawAllLayers;\n  var drawOnlyNodeLayer = options.drawOnlyNodeLayer;\n  var forcedZoom = options.forcedZoom;\n  var forcedPan = options.forcedPan;\n  var r = this;\n  var pixelRatio = options.forcedPxRatio === undefined ? this.getPixelRatio() : options.forcedPxRatio;\n  var cy = r.cy;var data = r.data;\n  var needDraw = data.canvasNeedsRedraw;\n  var textureDraw = r.textureOnViewport && !forcedContext && (r.pinching || r.hoverData.dragging || r.swipePanning || r.data.wheelZooming);\n  var motionBlur = options.motionBlur !== undefined ? options.motionBlur : r.motionBlur;\n  var mbPxRatio = r.motionBlurPxRatio;\n  var hasCompoundNodes = cy.hasCompoundNodes();\n  var inNodeDragGesture = r.hoverData.draggingEles;\n  var inBoxSelection = r.hoverData.selecting || r.touchData.selecting ? true : false;\n  motionBlur = motionBlur && !forcedContext && r.motionBlurEnabled && !inBoxSelection;\n  var motionBlurFadeEffect = motionBlur;\n\n  if (!forcedContext) {\n    if (r.prevPxRatio !== pixelRatio) {\n      r.invalidateContainerClientCoordsCache();\n      r.matchCanvasSize(r.container);\n\n      r.redrawHint('eles', true);\n      r.redrawHint('drag', true);\n    }\n\n    r.prevPxRatio = pixelRatio;\n  }\n\n  if (!forcedContext && r.motionBlurTimeout) {\n    clearTimeout(r.motionBlurTimeout);\n  }\n\n  if (motionBlur) {\n    if (r.mbFrames == null) {\n      r.mbFrames = 0;\n    }\n\n    r.mbFrames++;\n\n    if (r.mbFrames < 3) {\n      // need several frames before even high quality motionblur\n      motionBlurFadeEffect = false;\n    }\n\n    // go to lower quality blurry frames when several m/b frames have been rendered (avoids flashing)\n    if (r.mbFrames > r.minMbLowQualFrames) {\n      //r.fullQualityMb = false;\n      r.motionBlurPxRatio = r.mbPxRBlurry;\n    }\n  }\n\n  if (r.clearingMotionBlur) {\n    r.motionBlurPxRatio = 1;\n  }\n\n  // b/c drawToContext() may be async w.r.t. redraw(), keep track of last texture frame\n  // because a rogue async texture frame would clear needDraw\n  if (r.textureDrawLastFrame && !textureDraw) {\n    needDraw[r.NODE] = true;\n    needDraw[r.SELECT_BOX] = true;\n  }\n\n  var coreStyle = cy.style()._private.coreStyle;\n\n  var zoom = cy.zoom();\n  var effectiveZoom = forcedZoom !== undefined ? forcedZoom : zoom;\n  var pan = cy.pan();\n  var effectivePan = {\n    x: pan.x,\n    y: pan.y\n  };\n\n  var vp = {\n    zoom: zoom,\n    pan: {\n      x: pan.x,\n      y: pan.y\n    }\n  };\n  var prevVp = r.prevViewport;\n  var viewportIsDiff = prevVp === undefined || vp.zoom !== prevVp.zoom || vp.pan.x !== prevVp.pan.x || vp.pan.y !== prevVp.pan.y;\n\n  // we want the low quality motionblur only when the viewport is being manipulated etc (where it's not noticed)\n  if (!viewportIsDiff && !(inNodeDragGesture && !hasCompoundNodes)) {\n    r.motionBlurPxRatio = 1;\n  }\n\n  if (forcedPan) {\n    effectivePan = forcedPan;\n  }\n\n  // apply pixel ratio\n\n  effectiveZoom *= pixelRatio;\n  effectivePan.x *= pixelRatio;\n  effectivePan.y *= pixelRatio;\n\n  var eles = r.getCachedZSortedEles();\n\n  function mbclear(context, x, y, w, h) {\n    var gco = context.globalCompositeOperation;\n\n    context.globalCompositeOperation = 'destination-out';\n    r.fillStyle(context, 255, 255, 255, r.motionBlurTransparency);\n    context.fillRect(x, y, w, h);\n\n    context.globalCompositeOperation = gco;\n  }\n\n  function setContextTransform(context, clear) {\n    var ePan, eZoom, w, h;\n\n    if (!r.clearingMotionBlur && (context === data.bufferContexts[r.MOTIONBLUR_BUFFER_NODE] || context === data.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG])) {\n      ePan = {\n        x: pan.x * mbPxRatio,\n        y: pan.y * mbPxRatio\n      };\n\n      eZoom = zoom * mbPxRatio;\n\n      w = r.canvasWidth * mbPxRatio;\n      h = r.canvasHeight * mbPxRatio;\n    } else {\n      ePan = effectivePan;\n      eZoom = effectiveZoom;\n\n      w = r.canvasWidth;\n      h = r.canvasHeight;\n    }\n\n    context.setTransform(1, 0, 0, 1, 0, 0);\n\n    if (clear === 'motionBlur') {\n      mbclear(context, 0, 0, w, h);\n    } else if (!forcedContext && (clear === undefined || clear)) {\n      context.clearRect(0, 0, w, h);\n    }\n\n    if (!drawAllLayers) {\n      context.translate(ePan.x, ePan.y);\n      context.scale(eZoom, eZoom);\n    }\n    if (forcedPan) {\n      context.translate(forcedPan.x, forcedPan.y);\n    }\n    if (forcedZoom) {\n      context.scale(forcedZoom, forcedZoom);\n    }\n  }\n\n  if (!textureDraw) {\n    r.textureDrawLastFrame = false;\n  }\n\n  if (textureDraw) {\n    r.textureDrawLastFrame = true;\n\n    var bb;\n\n    if (!r.textureCache) {\n      r.textureCache = {};\n\n      bb = r.textureCache.bb = cy.mutableElements().boundingBox();\n\n      r.textureCache.texture = r.data.bufferCanvases[r.TEXTURE_BUFFER];\n\n      var cxt = r.data.bufferContexts[r.TEXTURE_BUFFER];\n\n      cxt.setTransform(1, 0, 0, 1, 0, 0);\n      cxt.clearRect(0, 0, r.canvasWidth * r.textureMult, r.canvasHeight * r.textureMult);\n\n      r.render({\n        forcedContext: cxt,\n        drawOnlyNodeLayer: true,\n        forcedPxRatio: pixelRatio * r.textureMult\n      });\n\n      var vp = r.textureCache.viewport = {\n        zoom: cy.zoom(),\n        pan: cy.pan(),\n        width: r.canvasWidth,\n        height: r.canvasHeight\n      };\n\n      vp.mpan = {\n        x: (0 - vp.pan.x) / vp.zoom,\n        y: (0 - vp.pan.y) / vp.zoom\n      };\n    }\n\n    needDraw[r.DRAG] = false;\n    needDraw[r.NODE] = false;\n\n    var context = data.contexts[r.NODE];\n\n    var texture = r.textureCache.texture;\n    var vp = r.textureCache.viewport;\n    bb = r.textureCache.bb;\n\n    context.setTransform(1, 0, 0, 1, 0, 0);\n\n    if (motionBlur) {\n      mbclear(context, 0, 0, vp.width, vp.height);\n    } else {\n      context.clearRect(0, 0, vp.width, vp.height);\n    }\n\n    var outsideBgColor = coreStyle['outside-texture-bg-color'].value;\n    var outsideBgOpacity = coreStyle['outside-texture-bg-opacity'].value;\n    r.fillStyle(context, outsideBgColor[0], outsideBgColor[1], outsideBgColor[2], outsideBgOpacity);\n    context.fillRect(0, 0, vp.width, vp.height);\n\n    var zoom = cy.zoom();\n\n    setContextTransform(context, false);\n\n    context.clearRect(vp.mpan.x, vp.mpan.y, vp.width / vp.zoom / pixelRatio, vp.height / vp.zoom / pixelRatio);\n    context.drawImage(texture, vp.mpan.x, vp.mpan.y, vp.width / vp.zoom / pixelRatio, vp.height / vp.zoom / pixelRatio);\n  } else if (r.textureOnViewport && !forcedContext) {\n    // clear the cache since we don't need it\n    r.textureCache = null;\n  }\n\n  var extent = cy.extent();\n  var vpManip = r.pinching || r.hoverData.dragging || r.swipePanning || r.data.wheelZooming || r.hoverData.draggingEles;\n  var hideEdges = r.hideEdgesOnViewport && vpManip;\n\n  var needMbClear = [];\n\n  needMbClear[r.NODE] = !needDraw[r.NODE] && motionBlur && !r.clearedForMotionBlur[r.NODE] || r.clearingMotionBlur;\n  if (needMbClear[r.NODE]) {\n    r.clearedForMotionBlur[r.NODE] = true;\n  }\n\n  needMbClear[r.DRAG] = !needDraw[r.DRAG] && motionBlur && !r.clearedForMotionBlur[r.DRAG] || r.clearingMotionBlur;\n  if (needMbClear[r.DRAG]) {\n    r.clearedForMotionBlur[r.DRAG] = true;\n  }\n\n  if (needDraw[r.NODE] || drawAllLayers || drawOnlyNodeLayer || needMbClear[r.NODE]) {\n    var useBuffer = motionBlur && !needMbClear[r.NODE] && mbPxRatio !== 1;\n    var context = forcedContext || (useBuffer ? r.data.bufferContexts[r.MOTIONBLUR_BUFFER_NODE] : data.contexts[r.NODE]);\n    var clear = motionBlur && !useBuffer ? 'motionBlur' : undefined;\n\n    setContextTransform(context, clear);\n\n    if (hideEdges) {\n      r.drawCachedNodes(context, eles.nondrag, pixelRatio, extent);\n    } else {\n      r.drawLayeredElements(context, eles.nondrag, pixelRatio, extent);\n    }\n\n    if (r.debug) {\n      r.drawDebugPoints(context, eles.nondrag);\n    }\n\n    if (!drawAllLayers && !motionBlur) {\n      needDraw[r.NODE] = false;\n    }\n  }\n\n  if (!drawOnlyNodeLayer && (needDraw[r.DRAG] || drawAllLayers || needMbClear[r.DRAG])) {\n    var useBuffer = motionBlur && !needMbClear[r.DRAG] && mbPxRatio !== 1;\n    var context = forcedContext || (useBuffer ? r.data.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG] : data.contexts[r.DRAG]);\n\n    setContextTransform(context, motionBlur && !useBuffer ? 'motionBlur' : undefined);\n\n    if (hideEdges) {\n      r.drawCachedNodes(context, eles.drag, pixelRatio, extent);\n    } else {\n      r.drawCachedElements(context, eles.drag, pixelRatio, extent);\n    }\n\n    if (r.debug) {\n      r.drawDebugPoints(context, eles.drag);\n    }\n\n    if (!drawAllLayers && !motionBlur) {\n      needDraw[r.DRAG] = false;\n    }\n  }\n\n  if (r.showFps || !drawOnlyNodeLayer && needDraw[r.SELECT_BOX] && !drawAllLayers) {\n    var context = forcedContext || data.contexts[r.SELECT_BOX];\n\n    setContextTransform(context);\n\n    if (r.selection[4] == 1 && (r.hoverData.selecting || r.touchData.selecting)) {\n      var zoom = r.cy.zoom();\n      var borderWidth = coreStyle['selection-box-border-width'].value / zoom;\n\n      context.lineWidth = borderWidth;\n      context.fillStyle = 'rgba(' + coreStyle['selection-box-color'].value[0] + ',' + coreStyle['selection-box-color'].value[1] + ',' + coreStyle['selection-box-color'].value[2] + ',' + coreStyle['selection-box-opacity'].value + ')';\n\n      context.fillRect(r.selection[0], r.selection[1], r.selection[2] - r.selection[0], r.selection[3] - r.selection[1]);\n\n      if (borderWidth > 0) {\n        context.strokeStyle = 'rgba(' + coreStyle['selection-box-border-color'].value[0] + ',' + coreStyle['selection-box-border-color'].value[1] + ',' + coreStyle['selection-box-border-color'].value[2] + ',' + coreStyle['selection-box-opacity'].value + ')';\n\n        context.strokeRect(r.selection[0], r.selection[1], r.selection[2] - r.selection[0], r.selection[3] - r.selection[1]);\n      }\n    }\n\n    if (data.bgActivePosistion && !r.hoverData.selecting) {\n      var zoom = r.cy.zoom();\n      var pos = data.bgActivePosistion;\n\n      context.fillStyle = 'rgba(' + coreStyle['active-bg-color'].value[0] + ',' + coreStyle['active-bg-color'].value[1] + ',' + coreStyle['active-bg-color'].value[2] + ',' + coreStyle['active-bg-opacity'].value + ')';\n\n      context.beginPath();\n      context.arc(pos.x, pos.y, coreStyle['active-bg-size'].pfValue / zoom, 0, 2 * Math.PI);\n      context.fill();\n    }\n\n    var timeToRender = r.lastRedrawTime;\n    if (r.showFps && timeToRender) {\n      timeToRender = Math.round(timeToRender);\n      var fps = Math.round(1000 / timeToRender);\n\n      context.setTransform(1, 0, 0, 1, 0, 0);\n\n      context.fillStyle = 'rgba(255, 0, 0, 0.75)';\n      context.strokeStyle = 'rgba(255, 0, 0, 0.75)';\n      context.lineWidth = 1;\n      context.fillText('1 frame = ' + timeToRender + ' ms = ' + fps + ' fps', 0, 20);\n\n      var maxFps = 60;\n      context.strokeRect(0, 30, 250, 20);\n      context.fillRect(0, 30, 250 * Math.min(fps / maxFps, 1), 20);\n    }\n\n    if (!drawAllLayers) {\n      needDraw[r.SELECT_BOX] = false;\n    }\n  }\n\n  // motionblur: blit rendered blurry frames\n  if (motionBlur && mbPxRatio !== 1) {\n    var cxtNode = data.contexts[r.NODE];\n    var txtNode = r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE];\n\n    var cxtDrag = data.contexts[r.DRAG];\n    var txtDrag = r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG];\n\n    var drawMotionBlur = function drawMotionBlur(cxt, txt, needClear) {\n      cxt.setTransform(1, 0, 0, 1, 0, 0);\n\n      if (needClear || !motionBlurFadeEffect) {\n        cxt.clearRect(0, 0, r.canvasWidth, r.canvasHeight);\n      } else {\n        mbclear(cxt, 0, 0, r.canvasWidth, r.canvasHeight);\n      }\n\n      var pxr = mbPxRatio;\n\n      cxt.drawImage(txt, // img\n      0, 0, // sx, sy\n      r.canvasWidth * pxr, r.canvasHeight * pxr, // sw, sh\n      0, 0, // x, y\n      r.canvasWidth, r.canvasHeight // w, h\n      );\n    };\n\n    if (needDraw[r.NODE] || needMbClear[r.NODE]) {\n      drawMotionBlur(cxtNode, txtNode, needMbClear[r.NODE]);\n      needDraw[r.NODE] = false;\n    }\n\n    if (needDraw[r.DRAG] || needMbClear[r.DRAG]) {\n      drawMotionBlur(cxtDrag, txtDrag, needMbClear[r.DRAG]);\n      needDraw[r.DRAG] = false;\n    }\n  }\n\n  r.prevViewport = vp;\n\n  if (r.clearingMotionBlur) {\n    r.clearingMotionBlur = false;\n    r.motionBlurCleared = true;\n    r.motionBlur = true;\n  }\n\n  if (motionBlur) {\n    r.motionBlurTimeout = setTimeout(function () {\n      r.motionBlurTimeout = null;\n\n      r.clearedForMotionBlur[r.NODE] = false;\n      r.clearedForMotionBlur[r.DRAG] = false;\n      r.motionBlur = false;\n      r.clearingMotionBlur = !textureDraw;\n      r.mbFrames = 0;\n\n      needDraw[r.NODE] = true;\n      needDraw[r.DRAG] = true;\n\n      r.redraw();\n    }, motionBlurDelay);\n  }\n\n  if (!forcedContext) {\n    cy.emit('render');\n  }\n};\n\nmodule.exports = CRp;\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar math = __webpack_require__(2);\n\nvar CRp = {};\n\n// @O Polygon drawing\nCRp.drawPolygonPath = function (context, x, y, width, height, points) {\n\n  var halfW = width / 2;\n  var halfH = height / 2;\n\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  context.moveTo(x + halfW * points[0], y + halfH * points[1]);\n\n  for (var i = 1; i < points.length / 2; i++) {\n    context.lineTo(x + halfW * points[i * 2], y + halfH * points[i * 2 + 1]);\n  }\n\n  context.closePath();\n};\n\n// Round rectangle drawing\nCRp.drawRoundRectanglePath = function (context, x, y, width, height) {\n\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n  var cornerRadius = math.getRoundRectangleRadius(width, height);\n\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  // Start at top middle\n  context.moveTo(x, y - halfHeight);\n  // Arc from middle top to right side\n  context.arcTo(x + halfWidth, y - halfHeight, x + halfWidth, y, cornerRadius);\n  // Arc from right side to bottom\n  context.arcTo(x + halfWidth, y + halfHeight, x, y + halfHeight, cornerRadius);\n  // Arc from bottom to left side\n  context.arcTo(x - halfWidth, y + halfHeight, x - halfWidth, y, cornerRadius);\n  // Arc from left side to topBorder\n  context.arcTo(x - halfWidth, y - halfHeight, x, y - halfHeight, cornerRadius);\n  // Join line\n  context.lineTo(x, y - halfHeight);\n\n  context.closePath();\n};\n\nCRp.drawBottomRoundRectanglePath = function (context, x, y, width, height) {\n\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n  var cornerRadius = math.getRoundRectangleRadius(width, height);\n\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  // Start at top middle\n  context.moveTo(x, y - halfHeight);\n  context.lineTo(x + halfWidth, y - halfHeight);\n  context.lineTo(x + halfWidth, y);\n\n  context.arcTo(x + halfWidth, y + halfHeight, x, y + halfHeight, cornerRadius);\n  context.arcTo(x - halfWidth, y + halfHeight, x - halfWidth, y, cornerRadius);\n\n  context.lineTo(x - halfWidth, y - halfHeight);\n  context.lineTo(x, y - halfHeight);\n\n  context.closePath();\n};\n\nCRp.drawCutRectanglePath = function (context, x, y, width, height) {\n\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n  var cornerLength = math.getCutRectangleCornerLength();\n\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  context.moveTo(x - halfWidth + cornerLength, y - halfHeight);\n\n  context.lineTo(x + halfWidth - cornerLength, y - halfHeight);\n  context.lineTo(x + halfWidth, y - halfHeight + cornerLength);\n  context.lineTo(x + halfWidth, y + halfHeight - cornerLength);\n  context.lineTo(x + halfWidth - cornerLength, y + halfHeight);\n  context.lineTo(x - halfWidth + cornerLength, y + halfHeight);\n  context.lineTo(x - halfWidth, y + halfHeight - cornerLength);\n  context.lineTo(x - halfWidth, y - halfHeight + cornerLength);\n\n  context.closePath();\n};\n\nCRp.drawBarrelPath = function (context, x, y, width, height) {\n\n  var halfWidth = width / 2;\n  var halfHeight = height / 2;\n\n  var xBegin = x - halfWidth;\n  var xEnd = x + halfWidth;\n  var yBegin = y - halfHeight;\n  var yEnd = y + halfHeight;\n\n  var barrelCurveConstants = math.getBarrelCurveConstants(width, height);\n  var wOffset = barrelCurveConstants.widthOffset;\n  var hOffset = barrelCurveConstants.heightOffset;\n  var ctrlPtXOffset = barrelCurveConstants.ctrlPtOffsetPct * wOffset;\n\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  context.moveTo(xBegin, yBegin + hOffset);\n\n  context.lineTo(xBegin, yEnd - hOffset);\n  context.quadraticCurveTo(xBegin + ctrlPtXOffset, yEnd, xBegin + wOffset, yEnd);\n\n  context.lineTo(xEnd - wOffset, yEnd);\n  context.quadraticCurveTo(xEnd - ctrlPtXOffset, yEnd, xEnd, yEnd - hOffset);\n\n  context.lineTo(xEnd, yBegin + hOffset);\n  context.quadraticCurveTo(xEnd - ctrlPtXOffset, yBegin, xEnd - wOffset, yBegin);\n\n  context.lineTo(xBegin + wOffset, yBegin);\n  context.quadraticCurveTo(xBegin + ctrlPtXOffset, yBegin, xBegin, yBegin + hOffset);\n\n  context.closePath();\n};\n\nvar sin0 = Math.sin(0);\nvar cos0 = Math.cos(0);\n\nvar sin = {};\nvar cos = {};\n\nvar ellipseStepSize = Math.PI / 40;\n\nfor (var i = 0 * Math.PI; i < 2 * Math.PI; i += ellipseStepSize) {\n  sin[i] = Math.sin(i);\n  cos[i] = Math.cos(i);\n}\n\nCRp.drawEllipsePath = function (context, centerX, centerY, width, height) {\n  if (context.beginPath) {\n    context.beginPath();\n  }\n\n  if (context.ellipse) {\n    context.ellipse(centerX, centerY, width / 2, height / 2, 0, 0, 2 * Math.PI);\n  } else {\n    var xPos, yPos;\n    var rw = width / 2;\n    var rh = height / 2;\n    for (var i = 0 * Math.PI; i < 2 * Math.PI; i += ellipseStepSize) {\n      xPos = centerX - rw * sin[i] * sin0 + rw * cos[i] * cos0;\n      yPos = centerY + rh * cos[i] * sin0 + rh * sin[i] * cos0;\n\n      if (i === 0) {\n        context.moveTo(xPos, yPos);\n      } else {\n        context.lineTo(xPos, yPos);\n      }\n    }\n  }\n\n  context.closePath();\n};\n\nmodule.exports = CRp;\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar math = __webpack_require__(2);\nvar util = __webpack_require__(1);\nvar Heap = __webpack_require__(8);\nvar defs = __webpack_require__(16);\n\nvar minTxrH = 25; // the size of the texture cache for small height eles (special case)\nvar txrStepH = 50; // the min size of the regular cache, and the size it increases with each step up\nvar minLvl = -4; // when scaling smaller than that we don't need to re-render\nvar maxLvl = 2; // when larger than this scale just render directly (caching is not helpful)\nvar maxZoom = 3.99; // beyond this zoom level, layered textures are not used\nvar eleTxrSpacing = 8; // spacing between elements on textures to avoid blitting overlaps\nvar defTxrWidth = 1024; // default/minimum texture width\nvar maxTxrW = 1024; // the maximum width of a texture\nvar maxTxrH = 1024; // the maximum height of a texture\nvar minUtility = 0.5; // if usage of texture is less than this, it is retired\nvar maxFullness = 0.8; // fullness of texture after which queue removal is checked\nvar maxFullnessChecks = 10; // dequeued after this many checks\nvar allowEdgeTxrCaching = false; // whether edges can be cached as textures (TODO maybe better on if webgl supported?)\nvar allowParentTxrCaching = false; // whether parent nodes can be cached as textures (TODO maybe better on if webgl supported?)\nvar deqCost = 0.15; // % of add'l rendering cost allowed for dequeuing ele caches each frame\nvar deqAvgCost = 0.1; // % of add'l rendering cost compared to average overall redraw time\nvar deqNoDrawCost = 0.9; // % of avg frame time that can be used for dequeueing when not drawing\nvar deqFastCost = 0.9; // % of frame time to be used when >60fps\nvar deqRedrawThreshold = 100; // time to batch redraws together from dequeueing to allow more dequeueing calcs to happen in the meanwhile\nvar maxDeqSize = 1; // number of eles to dequeue and render at higher texture in each batch\n\nvar getTxrReasons = {\n  dequeue: 'dequeue',\n  downscale: 'downscale',\n  highQuality: 'highQuality'\n};\n\nvar ElementTextureCache = function ElementTextureCache(renderer) {\n  var self = this;\n\n  self.renderer = renderer;\n  self.onDequeues = [];\n\n  self.setupDequeueing();\n};\n\nvar ETCp = ElementTextureCache.prototype;\n\nETCp.reasons = getTxrReasons;\n\n// the list of textures in which new subtextures for elements can be placed\nETCp.getTextureQueue = function (txrH) {\n  var self = this;\n  self.eleImgCaches = self.eleImgCaches || {};\n\n  return self.eleImgCaches[txrH] = self.eleImgCaches[txrH] || [];\n};\n\n// the list of usused textures which can be recycled (in use in texture queue)\nETCp.getRetiredTextureQueue = function (txrH) {\n  var self = this;\n\n  var rtxtrQs = self.eleImgCaches.retired = self.eleImgCaches.retired || {};\n  var rtxtrQ = rtxtrQs[txrH] = rtxtrQs[txrH] || [];\n\n  return rtxtrQ;\n};\n\n// queue of element draw requests at different scale levels\nETCp.getElementQueue = function () {\n  var self = this;\n\n  var q = self.eleCacheQueue = self.eleCacheQueue || new Heap(function (a, b) {\n    return b.reqs - a.reqs;\n  });\n\n  return q;\n};\n\n// queue of element draw requests at different scale levels (element id lookup)\nETCp.getElementIdToQueue = function () {\n  var self = this;\n\n  var id2q = self.eleIdToCacheQueue = self.eleIdToCacheQueue || {};\n\n  return id2q;\n};\n\nETCp.getElement = function (ele, bb, pxRatio, lvl, reason) {\n  var self = this;\n  var r = this.renderer;\n  var rs = ele._private.rscratch;\n  var zoom = r.cy.zoom();\n\n  if (bb.w === 0 || bb.h === 0 || !ele.visible()) {\n    return null;\n  }\n\n  if (lvl == null) {\n    lvl = Math.ceil(math.log2(zoom * pxRatio));\n  }\n\n  if (lvl < minLvl) {\n    lvl = minLvl;\n  } else if (zoom >= maxZoom || lvl > maxLvl) {\n    return null;\n  }\n\n  var scale = Math.pow(2, lvl);\n  var eleScaledH = bb.h * scale;\n  var eleScaledW = bb.w * scale;\n  var caches = rs.imgCaches = rs.imgCaches || {};\n  var eleCache = caches[lvl];\n\n  if (eleCache) {\n    return eleCache;\n  }\n\n  var txrH; // which texture height this ele belongs to\n\n  if (eleScaledH <= minTxrH) {\n    txrH = minTxrH;\n  } else if (eleScaledH <= txrStepH) {\n    txrH = txrStepH;\n  } else {\n    txrH = Math.ceil(eleScaledH / txrStepH) * txrStepH;\n  }\n\n  if (eleScaledH > maxTxrH || eleScaledW > maxTxrW || !allowEdgeTxrCaching && ele.isEdge() || !allowParentTxrCaching && ele.isParent()) {\n    return null; // caching large elements is not efficient\n  }\n\n  var txrQ = self.getTextureQueue(txrH);\n\n  // first try the second last one in case it has space at the end\n  var txr = txrQ[txrQ.length - 2];\n\n  var addNewTxr = function addNewTxr() {\n    return self.recycleTexture(txrH, eleScaledW) || self.addTexture(txrH, eleScaledW);\n  };\n\n  // try the last one if there is no second last one\n  if (!txr) {\n    txr = txrQ[txrQ.length - 1];\n  }\n\n  // if the last one doesn't exist, we need a first one\n  if (!txr) {\n    txr = addNewTxr();\n  }\n\n  // if there's no room in the current texture, we need a new one\n  if (txr.width - txr.usedWidth < eleScaledW) {\n    txr = addNewTxr();\n  }\n\n  var scaledLabelShown = r.eleTextBiggerThanMin(ele, scale);\n  var scalableFrom = function scalableFrom(otherCache) {\n    return otherCache && otherCache.scaledLabelShown === scaledLabelShown;\n  };\n\n  var deqing = reason && reason === getTxrReasons.dequeue;\n  var highQualityReq = reason && reason === getTxrReasons.highQuality;\n  var downscaleReq = reason && reason === getTxrReasons.downscale;\n\n  var higherCache; // the nearest cache with a higher level\n  for (var l = lvl + 1; l <= maxLvl; l++) {\n    var c = caches[l];\n\n    if (c) {\n      higherCache = c;break;\n    }\n  }\n\n  var oneUpCache = higherCache && higherCache.level === lvl + 1 ? higherCache : null;\n\n  var downscale = function downscale() {\n    txr.context.drawImage(oneUpCache.texture.canvas, oneUpCache.x, 0, oneUpCache.width, oneUpCache.height, txr.usedWidth, 0, eleScaledW, eleScaledH);\n  };\n\n  // reset ele area in texture\n  txr.context.setTransform(1, 0, 0, 1, 0, 0);\n  txr.context.clearRect(txr.usedWidth, 0, eleScaledW, txrH);\n\n  if (scalableFrom(oneUpCache)) {\n    // then we can relatively cheaply rescale the existing image w/o rerendering\n    downscale();\n  } else if (scalableFrom(higherCache)) {\n    // then use the higher cache for now and queue the next level down\n    // to cheaply scale towards the smaller level\n\n    if (highQualityReq) {\n      for (var l = higherCache.level; l > lvl; l--) {\n        oneUpCache = self.getElement(ele, bb, pxRatio, l, getTxrReasons.downscale);\n      }\n\n      downscale();\n    } else {\n      self.queueElement(ele, higherCache.level - 1);\n\n      return higherCache;\n    }\n  } else {\n\n    var lowerCache; // the nearest cache with a lower level\n    if (!deqing && !highQualityReq && !downscaleReq) {\n      for (var l = lvl - 1; l >= minLvl; l--) {\n        var c = caches[l];\n\n        if (c) {\n          lowerCache = c;break;\n        }\n      }\n    }\n\n    if (scalableFrom(lowerCache)) {\n      // then use the lower quality cache for now and queue the better one for later\n\n      self.queueElement(ele, lvl);\n\n      return lowerCache;\n    }\n\n    txr.context.translate(txr.usedWidth, 0);\n    txr.context.scale(scale, scale);\n\n    r.drawElement(txr.context, ele, bb, scaledLabelShown);\n\n    txr.context.scale(1 / scale, 1 / scale);\n    txr.context.translate(-txr.usedWidth, 0);\n  }\n\n  eleCache = caches[lvl] = {\n    ele: ele,\n    x: txr.usedWidth,\n    texture: txr,\n    level: lvl,\n    scale: scale,\n    width: eleScaledW,\n    height: eleScaledH,\n    scaledLabelShown: scaledLabelShown\n  };\n\n  txr.usedWidth += Math.ceil(eleScaledW + eleTxrSpacing);\n\n  txr.eleCaches.push(eleCache);\n\n  self.checkTextureFullness(txr);\n\n  return eleCache;\n};\n\nETCp.invalidateElement = function (ele) {\n  var self = this;\n  var caches = ele._private.rscratch.imgCaches;\n\n  if (caches) {\n    for (var lvl = minLvl; lvl <= maxLvl; lvl++) {\n      var cache = caches[lvl];\n\n      if (cache) {\n        var txr = cache.texture;\n\n        // remove space from the texture it belongs to\n        txr.invalidatedWidth += cache.width;\n\n        // remove refs with the element\n        caches[lvl] = null;\n        util.removeFromArray(txr.eleCaches, cache);\n\n        // remove from queue since the old req was for the old state\n        self.removeFromQueue(ele);\n\n        // might have to remove the entire texture if it's not efficiently using its space\n        self.checkTextureUtility(txr);\n      }\n    }\n  }\n};\n\nETCp.checkTextureUtility = function (txr) {\n  // invalidate all entries in the cache if the cache size is small\n  if (txr.invalidatedWidth >= minUtility * txr.width) {\n    this.retireTexture(txr);\n  }\n};\n\nETCp.checkTextureFullness = function (txr) {\n  // if texture has been mostly filled and passed over several times, remove\n  // it from the queue so we don't need to waste time looking at it to put new things\n\n  var self = this;\n  var txrQ = self.getTextureQueue(txr.height);\n\n  if (txr.usedWidth / txr.width > maxFullness && txr.fullnessChecks >= maxFullnessChecks) {\n    util.removeFromArray(txrQ, txr);\n  } else {\n    txr.fullnessChecks++;\n  }\n};\n\nETCp.retireTexture = function (txr) {\n  var self = this;\n  var txrH = txr.height;\n  var txrQ = self.getTextureQueue(txrH);\n\n  // retire the texture from the active / searchable queue:\n\n  util.removeFromArray(txrQ, txr);\n\n  txr.retired = true;\n\n  // remove the refs from the eles to the caches:\n\n  var eleCaches = txr.eleCaches;\n\n  for (var i = 0; i < eleCaches.length; i++) {\n    var eleCache = eleCaches[i];\n    var ele = eleCache.ele;\n    var lvl = eleCache.level;\n    var imgCaches = ele._private.rscratch.imgCaches;\n\n    if (imgCaches) {\n      imgCaches[lvl] = null;\n    }\n  }\n\n  util.clearArray(eleCaches);\n\n  // add the texture to a retired queue so it can be recycled in future:\n\n  var rtxtrQ = self.getRetiredTextureQueue(txrH);\n\n  rtxtrQ.push(txr);\n};\n\nETCp.addTexture = function (txrH, minW) {\n  var self = this;\n  var txrQ = self.getTextureQueue(txrH);\n  var txr = {};\n\n  txrQ.push(txr);\n\n  txr.eleCaches = [];\n\n  txr.height = txrH;\n  txr.width = Math.max(defTxrWidth, minW);\n  txr.usedWidth = 0;\n  txr.invalidatedWidth = 0;\n  txr.fullnessChecks = 0;\n\n  txr.canvas = document.createElement('canvas'); // eslint-disable-line no-undef\n  txr.canvas.width = txr.width;\n  txr.canvas.height = txr.height;\n\n  txr.context = txr.canvas.getContext('2d');\n\n  return txr;\n};\n\nETCp.recycleTexture = function (txrH, minW) {\n  var self = this;\n  var txrQ = self.getTextureQueue(txrH);\n  var rtxtrQ = self.getRetiredTextureQueue(txrH);\n\n  for (var i = 0; i < rtxtrQ.length; i++) {\n    var txr = rtxtrQ[i];\n\n    if (txr.width >= minW) {\n      txr.retired = false;\n\n      txr.usedWidth = 0;\n      txr.invalidatedWidth = 0;\n      txr.fullnessChecks = 0;\n\n      util.clearArray(txr.eleCaches);\n\n      txr.context.setTransform(1, 0, 0, 1, 0, 0);\n      txr.context.clearRect(0, 0, txr.width, txr.height);\n\n      util.removeFromArray(rtxtrQ, txr);\n      txrQ.push(txr);\n\n      return txr;\n    }\n  }\n};\n\nETCp.queueElement = function (ele, lvl) {\n  var self = this;\n  var q = self.getElementQueue();\n  var id2q = self.getElementIdToQueue();\n  var id = ele.id();\n  var existingReq = id2q[id];\n\n  if (existingReq) {\n    // use the max lvl b/c in between lvls are cheap to make\n    existingReq.level = Math.max(existingReq.level, lvl);\n    existingReq.reqs++;\n\n    q.updateItem(existingReq);\n  } else {\n    var req = {\n      ele: ele,\n      level: lvl,\n      reqs: 1\n    };\n\n    q.push(req);\n\n    id2q[id] = req;\n  }\n};\n\nETCp.dequeue = function (pxRatio /*, extent*/) {\n  var self = this;\n  var q = self.getElementQueue();\n  var id2q = self.getElementIdToQueue();\n  var dequeued = [];\n\n  for (var i = 0; i < maxDeqSize; i++) {\n    if (q.size() > 0) {\n      var req = q.pop();\n      var ele = req.ele;\n      var caches = ele._private.rscratch.imgCaches;\n\n      // dequeueing isn't necessary when an existing cache exists\n      if (caches[req.level] != null) {\n        continue;\n      }\n\n      id2q[ele.id()] = null;\n\n      dequeued.push(req);\n\n      var bb = ele.boundingBox();\n\n      self.getElement(ele, bb, pxRatio, req.level, getTxrReasons.dequeue);\n    } else {\n      break;\n    }\n  }\n\n  return dequeued;\n};\n\nETCp.removeFromQueue = function (ele) {\n  var self = this;\n  var q = self.getElementQueue();\n  var id2q = self.getElementIdToQueue();\n  var req = id2q[ele.id()];\n\n  if (req != null) {\n    // bring to front of queue\n    req.reqs = util.MAX_INT;\n    q.updateItem(req);\n\n    q.pop(); // remove from queue\n\n    id2q[ele.id()] = null; // remove from lookup map\n  }\n};\n\nETCp.onDequeue = function (fn) {\n  this.onDequeues.push(fn);\n};\nETCp.offDequeue = function (fn) {\n  util.removeFromArray(this.onDequeues, fn);\n};\n\nETCp.setupDequeueing = defs.setupDequeueing({\n  deqRedrawThreshold: deqRedrawThreshold,\n  deqCost: deqCost,\n  deqAvgCost: deqAvgCost,\n  deqNoDrawCost: deqNoDrawCost,\n  deqFastCost: deqFastCost,\n  deq: function deq(self, pxRatio, extent) {\n    return self.dequeue(pxRatio, extent);\n  },\n  onDeqd: function onDeqd(self, deqd) {\n    for (var i = 0; i < self.onDequeues.length; i++) {\n      var fn = self.onDequeues[i];\n\n      fn(deqd);\n    }\n  },\n  shouldRedraw: function shouldRedraw(self, deqd, pxRatio, extent) {\n    for (var i = 0; i < deqd.length; i++) {\n      var bb = deqd[i].ele.boundingBox();\n\n      if (math.boundingBoxesIntersect(bb, extent)) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n  priority: function priority(self) {\n    return self.renderer.beforeRenderPriorities.eleTxrDeq;\n  }\n});\n\nmodule.exports = ElementTextureCache;\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\n\nvar CRp = {};\n\nCRp.createBuffer = function (w, h) {\n  var buffer = document.createElement('canvas'); // eslint-disable-line no-undef\n  buffer.width = w;\n  buffer.height = h;\n\n  return [buffer, buffer.getContext('2d')];\n};\n\nCRp.bufferCanvasImage = function (options) {\n  var cy = this.cy;\n  var eles = cy.mutableElements();\n  var bb = eles.boundingBox();\n  var ctrRect = this.findContainerClientCoords();\n  var width = options.full ? Math.ceil(bb.w) : ctrRect[2];\n  var height = options.full ? Math.ceil(bb.h) : ctrRect[3];\n  var specdMaxDims = is.number(options.maxWidth) || is.number(options.maxHeight);\n  var pxRatio = this.getPixelRatio();\n  var scale = 1;\n\n  if (options.scale !== undefined) {\n    width *= options.scale;\n    height *= options.scale;\n\n    scale = options.scale;\n  } else if (specdMaxDims) {\n    var maxScaleW = Infinity;\n    var maxScaleH = Infinity;\n\n    if (is.number(options.maxWidth)) {\n      maxScaleW = scale * options.maxWidth / width;\n    }\n\n    if (is.number(options.maxHeight)) {\n      maxScaleH = scale * options.maxHeight / height;\n    }\n\n    scale = Math.min(maxScaleW, maxScaleH);\n\n    width *= scale;\n    height *= scale;\n  }\n\n  if (!specdMaxDims) {\n    width *= pxRatio;\n    height *= pxRatio;\n    scale *= pxRatio;\n  }\n\n  var buffCanvas = document.createElement('canvas'); // eslint-disable-line no-undef\n\n  buffCanvas.width = width;\n  buffCanvas.height = height;\n\n  buffCanvas.style.width = width + 'px';\n  buffCanvas.style.height = height + 'px';\n\n  var buffCxt = buffCanvas.getContext('2d');\n\n  // Rasterize the layers, but only if container has nonzero size\n  if (width > 0 && height > 0) {\n\n    buffCxt.clearRect(0, 0, width, height);\n\n    buffCxt.globalCompositeOperation = 'source-over';\n\n    var zsortedEles = this.getCachedZSortedEles();\n\n    if (options.full) {\n      // draw the full bounds of the graph\n      buffCxt.translate(-bb.x1 * scale, -bb.y1 * scale);\n      buffCxt.scale(scale, scale);\n\n      this.drawElements(buffCxt, zsortedEles);\n\n      buffCxt.scale(1 / scale, 1 / scale);\n      buffCxt.translate(bb.x1 * scale, bb.y1 * scale);\n    } else {\n      // draw the current view\n      var pan = cy.pan();\n\n      var translation = {\n        x: pan.x * scale,\n        y: pan.y * scale\n      };\n\n      scale *= cy.zoom();\n\n      buffCxt.translate(translation.x, translation.y);\n      buffCxt.scale(scale, scale);\n\n      this.drawElements(buffCxt, zsortedEles);\n\n      buffCxt.scale(1 / scale, 1 / scale);\n      buffCxt.translate(-translation.x, -translation.y);\n    }\n\n    // need to fill bg at end like this in order to fill cleared transparent pixels in jpgs\n    if (options.bg) {\n      buffCxt.globalCompositeOperation = 'destination-over';\n\n      buffCxt.fillStyle = options.bg;\n      buffCxt.rect(0, 0, width, height);\n      buffCxt.fill();\n    }\n  }\n\n  return buffCanvas;\n};\n\nfunction b64ToBlob(b64, mimeType) {\n  var bytes = atob(b64);\n  var buff = new ArrayBuffer(bytes.length);\n  var buffUint8 = new Uint8Array(buff);\n\n  for (var i = 0; i < bytes.length; i++) {\n    buffUint8[i] = bytes.charCodeAt(i);\n  }\n\n  return new Blob([buff], { type: mimeType });\n}\n\nfunction b64UriToB64(b64uri) {\n  var i = b64uri.indexOf(',');\n\n  return b64uri.substr(i + 1);\n};\n\nfunction output(options, canvas, mimeType) {\n  var b64Uri = canvas.toDataURL(mimeType, options.quality);\n\n  switch (options.output) {\n    case 'blob':\n      return b64ToBlob(b64UriToB64(b64Uri), mimeType);\n\n    case 'base64':\n      return b64UriToB64(b64Uri);\n\n    case 'base64uri':\n    default:\n      return b64Uri;\n  }\n}\n\nCRp.png = function (options) {\n  return output(options, this.bufferCanvasImage(options), 'image/png');\n};\n\nCRp.jpg = function (options) {\n  return output(options, this.bufferCanvasImage(options), 'image/jpeg');\n};\n\nmodule.exports = CRp;\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*\nThe canvas renderer was written by Yue Dong.\n\nModifications tracked on Github.\n*/\n\nvar util = __webpack_require__(1);\nvar is = __webpack_require__(0);\nvar ElementTextureCache = __webpack_require__(109);\nvar LayeredTextureCache = __webpack_require__(112);\n\nvar CR = CanvasRenderer;\nvar CRp = CanvasRenderer.prototype;\n\nCRp.CANVAS_LAYERS = 3;\n//\nCRp.SELECT_BOX = 0;\nCRp.DRAG = 1;\nCRp.NODE = 2;\n\nCRp.BUFFER_COUNT = 3;\n//\nCRp.TEXTURE_BUFFER = 0;\nCRp.MOTIONBLUR_BUFFER_NODE = 1;\nCRp.MOTIONBLUR_BUFFER_DRAG = 2;\n\nfunction CanvasRenderer(options) {\n  var r = this;\n\n  r.data = {\n    canvases: new Array(CRp.CANVAS_LAYERS),\n    contexts: new Array(CRp.CANVAS_LAYERS),\n    canvasNeedsRedraw: new Array(CRp.CANVAS_LAYERS),\n\n    bufferCanvases: new Array(CRp.BUFFER_COUNT),\n    bufferContexts: new Array(CRp.CANVAS_LAYERS)\n  };\n\n  var tapHlOff = '-webkit-tap-highlight-color: rgba(0,0,0,0);';\n\n  r.data.canvasContainer = document.createElement('div'); // eslint-disable-line no-undef\n  var containerStyle = r.data.canvasContainer.style;\n  r.data.canvasContainer.setAttribute('style', tapHlOff);\n  containerStyle.position = 'relative';\n  containerStyle.zIndex = '0';\n  containerStyle.overflow = 'hidden';\n\n  var container = options.cy.container();\n  container.appendChild(r.data.canvasContainer);\n\n  if ((container.getAttribute('style') || '').indexOf(tapHlOff) < 0) {\n    container.setAttribute('style', (container.getAttribute('style') || '') + tapHlOff);\n  }\n\n  for (var i = 0; i < CRp.CANVAS_LAYERS; i++) {\n    var canvas = r.data.canvases[i] = document.createElement('canvas'); // eslint-disable-line no-undef\n    r.data.contexts[i] = canvas.getContext('2d');\n    canvas.setAttribute('style', '-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;' + (is.ms() ? ' -ms-touch-action: none; touch-action: none; ' : ''));\n    canvas.style.position = 'absolute';\n    canvas.setAttribute('data-id', 'layer' + i);\n    canvas.style.zIndex = String(CRp.CANVAS_LAYERS - i);\n    r.data.canvasContainer.appendChild(canvas);\n\n    r.data.canvasNeedsRedraw[i] = false;\n  }\n  r.data.topCanvas = r.data.canvases[0];\n\n  r.data.canvases[CRp.NODE].setAttribute('data-id', 'layer' + CRp.NODE + '-node');\n  r.data.canvases[CRp.SELECT_BOX].setAttribute('data-id', 'layer' + CRp.SELECT_BOX + '-selectbox');\n  r.data.canvases[CRp.DRAG].setAttribute('data-id', 'layer' + CRp.DRAG + '-drag');\n\n  for (var i = 0; i < CRp.BUFFER_COUNT; i++) {\n    r.data.bufferCanvases[i] = document.createElement('canvas'); // eslint-disable-line no-undef\n    r.data.bufferContexts[i] = r.data.bufferCanvases[i].getContext('2d');\n    r.data.bufferCanvases[i].style.position = 'absolute';\n    r.data.bufferCanvases[i].setAttribute('data-id', 'buffer' + i);\n    r.data.bufferCanvases[i].style.zIndex = String(-i - 1);\n    r.data.bufferCanvases[i].style.visibility = 'hidden';\n    //r.data.canvasContainer.appendChild(r.data.bufferCanvases[i]);\n  }\n\n  r.pathsEnabled = true;\n\n  r.data.eleTxrCache = new ElementTextureCache(r);\n  r.data.lyrTxrCache = new LayeredTextureCache(r, r.data.eleTxrCache);\n\n  r.onUpdateEleCalcs(function invalidateTextureCaches(willDraw, eles) {\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      var rs = ele._private.rstyle;\n      var de = rs.dirtyEvents;\n\n      if (ele.isNode() && de && de.length === 1 && de['position']) {\n        // then keep cached ele texture\n      } else {\n        r.data.eleTxrCache.invalidateElement(ele);\n      }\n    }\n\n    if (eles.length > 0) {\n      r.data.lyrTxrCache.invalidateElements(eles);\n    }\n  });\n}\n\nCRp.redrawHint = function (group, bool) {\n  var r = this;\n\n  switch (group) {\n    case 'eles':\n      r.data.canvasNeedsRedraw[CRp.NODE] = bool;\n      break;\n    case 'drag':\n      r.data.canvasNeedsRedraw[CRp.DRAG] = bool;\n      break;\n    case 'select':\n      r.data.canvasNeedsRedraw[CRp.SELECT_BOX] = bool;\n      break;\n  }\n};\n\n// whether to use Path2D caching for drawing\nvar pathsImpld = typeof Path2D !== 'undefined';\n\nCRp.path2dEnabled = function (on) {\n  if (on === undefined) {\n    return this.pathsEnabled;\n  }\n\n  this.pathsEnabled = on ? true : false;\n};\n\nCRp.usePaths = function () {\n  return pathsImpld && this.pathsEnabled;\n};\n\n[__webpack_require__(101), __webpack_require__(103), __webpack_require__(102), __webpack_require__(104), __webpack_require__(105), __webpack_require__(106), __webpack_require__(107), __webpack_require__(108), __webpack_require__(110), __webpack_require__(113)].forEach(function (props) {\n  util.extend(CRp, props);\n});\n\nmodule.exports = CR;\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar math = __webpack_require__(2);\nvar Heap = __webpack_require__(8);\nvar is = __webpack_require__(0);\nvar defs = __webpack_require__(16);\n\nvar defNumLayers = 1; // default number of layers to use\nvar minLvl = -4; // when scaling smaller than that we don't need to re-render\nvar maxLvl = 2; // when larger than this scale just render directly (caching is not helpful)\nvar maxZoom = 3.99; // beyond this zoom level, layered textures are not used\nvar deqRedrawThreshold = 50; // time to batch redraws together from dequeueing to allow more dequeueing calcs to happen in the meanwhile\nvar refineEleDebounceTime = 50; // time to debounce sharper ele texture updates\nvar disableEleImgSmoothing = true; // when drawing eles on layers from an ele cache ; crisper and more performant when true\nvar deqCost = 0.15; // % of add'l rendering cost allowed for dequeuing ele caches each frame\nvar deqAvgCost = 0.1; // % of add'l rendering cost compared to average overall redraw time\nvar deqNoDrawCost = 0.9; // % of avg frame time that can be used for dequeueing when not drawing\nvar deqFastCost = 0.9; // % of frame time to be used when >60fps\nvar maxDeqSize = 1; // number of eles to dequeue and render at higher texture in each batch\nvar invalidThreshold = 250; // time threshold for disabling b/c of invalidations\nvar maxLayerArea = 4000 * 4000; // layers can't be bigger than this\nvar alwaysQueue = true; // never draw all the layers in a level on a frame; draw directly until all dequeued\nvar useHighQualityEleTxrReqs = true; // whether to use high quality ele txr requests (generally faster and cheaper in the longterm)\n\nvar useEleTxrCaching = true; // whether to use individual ele texture caching underneath this cache\n\n// var log = function(){ console.log.apply( console, arguments ); };\n\nvar LayeredTextureCache = function LayeredTextureCache(renderer, eleTxrCache) {\n  var self = this;\n\n  var r = self.renderer = renderer;\n\n  self.layersByLevel = {}; // e.g. 2 => [ layer1, layer2, ..., layerN ]\n\n  self.firstGet = true;\n\n  self.lastInvalidationTime = util.performanceNow() - 2 * invalidThreshold;\n\n  self.skipping = false;\n\n  r.beforeRender(function (willDraw, now) {\n    if (now - self.lastInvalidationTime <= invalidThreshold) {\n      self.skipping = true;\n    } else {\n      self.skipping = false;\n    }\n  });\n\n  var qSort = function qSort(a, b) {\n    return b.reqs - a.reqs;\n  };\n\n  self.layersQueue = new Heap(qSort);\n\n  self.eleTxrCache = eleTxrCache;\n\n  self.setupEleCacheInvalidation();\n\n  self.setupDequeueing();\n};\n\nvar LTCp = LayeredTextureCache.prototype;\n\nvar layerIdPool = 0;\nvar MAX_INT = Math.pow(2, 53) - 1;\n\nLTCp.makeLayer = function (bb, lvl) {\n  var scale = Math.pow(2, lvl);\n\n  var w = Math.ceil(bb.w * scale);\n  var h = Math.ceil(bb.h * scale);\n\n  var canvas = document.createElement('canvas'); // eslint-disable-line no-undef\n\n  canvas.width = w;\n  canvas.height = h;\n\n  var layer = {\n    id: layerIdPool = ++layerIdPool % MAX_INT,\n    bb: bb,\n    level: lvl,\n    width: w,\n    height: h,\n    canvas: canvas,\n    context: canvas.getContext('2d'),\n    eles: [],\n    elesQueue: [],\n    reqs: 0\n  };\n\n  // log('make layer %s with w %s and h %s and lvl %s', layer.id, layer.width, layer.height, layer.level);\n\n  var cxt = layer.context;\n  var dx = -layer.bb.x1;\n  var dy = -layer.bb.y1;\n\n  // do the transform on creation to save cycles (it's the same for all eles)\n  cxt.scale(scale, scale);\n  cxt.translate(dx, dy);\n\n  return layer;\n};\n\nLTCp.getLayers = function (eles, pxRatio, lvl) {\n  var self = this;\n  var r = self.renderer;\n  var cy = r.cy;\n  var zoom = cy.zoom();\n  var firstGet = self.firstGet;\n\n  self.firstGet = false;\n\n  // log('--\\nget layers with %s eles', eles.length);\n  //log eles.map(function(ele){ return ele.id() }) );\n\n  if (lvl == null) {\n    lvl = Math.ceil(math.log2(zoom * pxRatio));\n\n    if (lvl < minLvl) {\n      lvl = minLvl;\n    } else if (zoom >= maxZoom || lvl > maxLvl) {\n      return null;\n    }\n  }\n\n  self.validateLayersElesOrdering(lvl, eles);\n\n  var layersByLvl = self.layersByLevel;\n  var scale = Math.pow(2, lvl);\n  var layers = layersByLvl[lvl] = layersByLvl[lvl] || [];\n  var bb;\n\n  var lvlComplete = self.levelIsComplete(lvl, eles);\n  var tmpLayers;\n\n  var checkTempLevels = function checkTempLevels() {\n    var canUseAsTmpLvl = function canUseAsTmpLvl(l) {\n      self.validateLayersElesOrdering(l, eles);\n\n      if (self.levelIsComplete(l, eles)) {\n        tmpLayers = layersByLvl[l];\n        return true;\n      }\n    };\n\n    var checkLvls = function checkLvls(dir) {\n      if (tmpLayers) {\n        return;\n      }\n\n      for (var l = lvl + dir; minLvl <= l && l <= maxLvl; l += dir) {\n        if (canUseAsTmpLvl(l)) {\n          break;\n        }\n      }\n    };\n\n    checkLvls(+1);\n    checkLvls(-1);\n\n    // remove the invalid layers; they will be replaced as needed later in this function\n    for (var i = layers.length - 1; i >= 0; i--) {\n      var layer = layers[i];\n\n      if (layer.invalid) {\n        util.removeFromArray(layers, layer);\n      }\n    }\n  };\n\n  if (!lvlComplete) {\n    // if the current level is incomplete, then use the closest, best quality layerset temporarily\n    // and later queue the current layerset so we can get the proper quality level soon\n\n    checkTempLevels();\n  } else {\n    // log('level complete, using existing layers\\n--');\n    return layers;\n  }\n\n  var getBb = function getBb() {\n    if (!bb) {\n      bb = math.makeBoundingBox();\n\n      for (var i = 0; i < eles.length; i++) {\n        math.updateBoundingBox(bb, eles[i].boundingBox());\n      }\n    }\n\n    return bb;\n  };\n\n  var makeLayer = function makeLayer(opts) {\n    opts = opts || {};\n\n    var after = opts.after;\n\n    getBb();\n\n    var area = bb.w * scale * (bb.h * scale);\n\n    if (area > maxLayerArea) {\n      return null;\n    }\n\n    var layer = self.makeLayer(bb, lvl);\n\n    if (after != null) {\n      var index = layers.indexOf(after) + 1;\n\n      layers.splice(index, 0, layer);\n    } else if (opts.insert === undefined || opts.insert) {\n      // no after specified => first layer made so put at start\n      layers.unshift(layer);\n    }\n\n    // if( tmpLayers ){\n    //self.queueLayer( layer );\n    // }\n\n    return layer;\n  };\n\n  if (self.skipping && !firstGet) {\n    // log('skip layers');\n    return null;\n  }\n\n  // log('do layers');\n\n  var layer = null;\n  var maxElesPerLayer = eles.length / defNumLayers;\n  var allowLazyQueueing = alwaysQueue && !firstGet;\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    var rs = ele._private.rscratch;\n    var caches = rs.imgLayerCaches = rs.imgLayerCaches || {};\n\n    // log('look at ele', ele.id());\n\n    var existingLayer = caches[lvl];\n\n    if (existingLayer) {\n      // reuse layer for later eles\n      // log('reuse layer for', ele.id());\n      layer = existingLayer;\n      continue;\n    }\n\n    if (!layer || layer.eles.length >= maxElesPerLayer || !math.boundingBoxInBoundingBox(layer.bb, ele.boundingBox())) {\n      // log('make new layer for ele %s', ele.id());\n\n      layer = makeLayer({ insert: true, after: layer });\n\n      // if now layer can be built then we can't use layers at this level\n      if (!layer) {\n        return null;\n      }\n\n      // log('new layer with id %s', layer.id);\n    }\n\n    if (tmpLayers || allowLazyQueueing) {\n      // log('queue ele %s in layer %s', ele.id(), layer.id);\n      self.queueLayer(layer, ele);\n    } else {\n      // log('draw ele %s in layer %s', ele.id(), layer.id);\n      self.drawEleInLayer(layer, ele, lvl, pxRatio);\n    }\n\n    layer.eles.push(ele);\n\n    caches[lvl] = layer;\n  }\n\n  // log('--');\n\n  if (tmpLayers) {\n    // then we only queued the current layerset and can't draw it yet\n    return tmpLayers;\n  }\n\n  if (allowLazyQueueing) {\n    // log('lazy queue level', lvl);\n    return null;\n  }\n\n  return layers;\n};\n\n// a layer may want to use an ele cache of a higher level to avoid blurriness\n// so the layer level might not equal the ele level\nLTCp.getEleLevelForLayerLevel = function (lvl, pxRatio) {\n  return lvl;\n};\n\nfunction imgSmoothing(context, bool) {\n  if (context.imageSmoothingEnabled != null) {\n    context.imageSmoothingEnabled = bool;\n  } else {\n    context.webkitImageSmoothingEnabled = bool;\n    context.mozImageSmoothingEnabled = bool;\n    context.msImageSmoothingEnabled = bool;\n  }\n}\n\nLTCp.drawEleInLayer = function (layer, ele, lvl, pxRatio) {\n  var self = this;\n  var r = this.renderer;\n  var context = layer.context;\n  var bb = ele.boundingBox();\n\n  if (bb.w === 0 || bb.h === 0 || !ele.visible()) {\n    return;\n  }\n\n  var eleCache = self.eleTxrCache;\n  var reason = useHighQualityEleTxrReqs ? eleCache.reasons.highQuality : undefined;\n\n  lvl = self.getEleLevelForLayerLevel(lvl, pxRatio);\n\n  var cache = useEleTxrCaching ? eleCache.getElement(ele, bb, null, lvl, reason) : null;\n\n  if (cache) {\n    if (disableEleImgSmoothing) {\n      imgSmoothing(context, false);\n    }\n\n    context.drawImage(cache.texture.canvas, cache.x, 0, cache.width, cache.height, bb.x1, bb.y1, bb.w, bb.h);\n\n    if (disableEleImgSmoothing) {\n      imgSmoothing(context, true);\n    }\n  } else {\n    // if the element is not cacheable, then draw directly\n    r.drawElement(context, ele);\n  }\n};\n\nLTCp.levelIsComplete = function (lvl, eles) {\n  var self = this;\n  var layers = self.layersByLevel[lvl];\n\n  if (!layers || layers.length === 0) {\n    return false;\n  }\n\n  var numElesInLayers = 0;\n\n  for (var i = 0; i < layers.length; i++) {\n    var layer = layers[i];\n\n    // if there are any eles needed to be drawn yet, the level is not complete\n    if (layer.reqs > 0) {\n      return false;\n    }\n\n    // if the layer is invalid, the level is not complete\n    if (layer.invalid) {\n      return false;\n    }\n\n    numElesInLayers += layer.eles.length;\n  }\n\n  // we should have exactly the number of eles passed in to be complete\n  if (numElesInLayers !== eles.length) {\n    return false;\n  }\n\n  return true;\n};\n\nLTCp.validateLayersElesOrdering = function (lvl, eles) {\n  var layers = this.layersByLevel[lvl];\n\n  if (!layers) {\n    return;\n  }\n\n  // if in a layer the eles are not in the same order, then the layer is invalid\n  // (i.e. there is an ele in between the eles in the layer)\n\n  for (var i = 0; i < layers.length; i++) {\n    var layer = layers[i];\n    var offset = -1;\n\n    // find the offset\n    for (var j = 0; j < eles.length; j++) {\n      if (layer.eles[0] === eles[j]) {\n        offset = j;\n        break;\n      }\n    }\n\n    if (offset < 0) {\n      // then the layer has nonexistant elements and is invalid\n      this.invalidateLayer(layer);\n      continue;\n    }\n\n    // the eles in the layer must be in the same continuous order, else the layer is invalid\n\n    var o = offset;\n\n    for (var j = 0; j < layer.eles.length; j++) {\n      if (layer.eles[j] !== eles[o + j]) {\n        // log('invalidate based on ordering', layer.id);\n\n        this.invalidateLayer(layer);\n        break;\n      }\n    }\n  }\n};\n\nLTCp.updateElementsInLayers = function (eles, update) {\n  var self = this;\n  var isEles = is.element(eles[0]);\n\n  // collect udpated elements (cascaded from the layers) and update each\n  // layer itself along the way\n  for (var i = 0; i < eles.length; i++) {\n    var req = isEles ? null : eles[i];\n    var ele = isEles ? eles[i] : eles[i].ele;\n    var rs = ele._private.rscratch;\n    var caches = rs.imgLayerCaches = rs.imgLayerCaches || {};\n\n    for (var l = minLvl; l <= maxLvl; l++) {\n      var layer = caches[l];\n\n      if (!layer) {\n        continue;\n      }\n\n      // if update is a request from the ele cache, then it affects only\n      // the matching level\n      if (req && self.getEleLevelForLayerLevel(layer.level) !== req.level) {\n        continue;\n      }\n\n      update(layer, ele, req);\n    }\n  }\n};\n\nLTCp.haveLayers = function () {\n  var self = this;\n  var haveLayers = false;\n\n  for (var l = minLvl; l <= maxLvl; l++) {\n    var layers = self.layersByLevel[l];\n\n    if (layers && layers.length > 0) {\n      haveLayers = true;\n      break;\n    }\n  }\n\n  return haveLayers;\n};\n\nLTCp.invalidateElements = function (eles) {\n  var self = this;\n\n  self.lastInvalidationTime = util.performanceNow();\n\n  // log('update invalidate layer time from eles');\n\n  if (eles.length === 0 || !self.haveLayers()) {\n    return;\n  }\n\n  self.updateElementsInLayers(eles, function invalAssocLayers(layer, ele, req) {\n    self.invalidateLayer(layer);\n  });\n};\n\nLTCp.invalidateLayer = function (layer) {\n  // log('update invalidate layer time');\n\n  this.lastInvalidationTime = util.performanceNow();\n\n  if (layer.invalid) {\n    return;\n  } // save cycles\n\n  var lvl = layer.level;\n  var eles = layer.eles;\n  var layers = this.layersByLevel[lvl];\n\n  // log('invalidate layer', layer.id );\n\n  util.removeFromArray(layers, layer);\n  // layer.eles = [];\n\n  layer.elesQueue = [];\n\n  layer.invalid = true;\n\n  if (layer.replacement) {\n    layer.replacement.invalid = true;\n  }\n\n  for (var i = 0; i < eles.length; i++) {\n    var caches = eles[i]._private.rscratch.imgLayerCaches;\n\n    if (caches) {\n      caches[lvl] = null;\n    }\n  }\n};\n\nLTCp.refineElementTextures = function (eles) {\n  var self = this;\n\n  // log('refine', eles.length);\n\n  self.updateElementsInLayers(eles, function refineEachEle(layer, ele, req) {\n    var rLyr = layer.replacement;\n\n    if (!rLyr) {\n      rLyr = layer.replacement = self.makeLayer(layer.bb, layer.level);\n      rLyr.replaces = layer;\n      rLyr.eles = layer.eles;\n\n      // log('make replacement layer %s for %s with level %s', rLyr.id, layer.id, rLyr.level);\n    }\n\n    if (!rLyr.reqs) {\n      for (var i = 0; i < rLyr.eles.length; i++) {\n        self.queueLayer(rLyr, rLyr.eles[i]);\n      }\n\n      // log('queue replacement layer refinement', rLyr.id);\n    }\n  });\n};\n\nLTCp.setupEleCacheInvalidation = function () {\n  var self = this;\n  var eleDeqs = [];\n\n  if (!useEleTxrCaching) {\n    return;\n  }\n\n  var updatedElesInLayers = util.debounce(function () {\n    self.refineElementTextures(eleDeqs);\n\n    eleDeqs = [];\n  }, refineEleDebounceTime);\n\n  self.eleTxrCache.onDequeue(function (reqs) {\n    for (var i = 0; i < reqs.length; i++) {\n      eleDeqs.push(reqs[i]);\n    }\n\n    updatedElesInLayers();\n  });\n};\n\nLTCp.queueLayer = function (layer, ele) {\n  var self = this;\n  var q = self.layersQueue;\n  var elesQ = layer.elesQueue;\n  var hasId = elesQ.hasId = elesQ.hasId || {};\n\n  // if a layer is going to be replaced, queuing is a waste of time\n  if (layer.replacement) {\n    return;\n  }\n\n  if (ele) {\n    if (hasId[ele.id()]) {\n      return;\n    }\n\n    elesQ.push(ele);\n    hasId[ele.id()] = true;\n  }\n\n  if (layer.reqs) {\n    layer.reqs++;\n\n    q.updateItem(layer);\n  } else {\n    layer.reqs = 1;\n\n    q.push(layer);\n  }\n};\n\nLTCp.dequeue = function (pxRatio) {\n  var self = this;\n  var q = self.layersQueue;\n  var deqd = [];\n  var eleDeqs = 0;\n\n  while (eleDeqs < maxDeqSize) {\n    if (q.size() === 0) {\n      break;\n    }\n\n    var layer = q.peek();\n\n    // if a layer has been or will be replaced, then don't waste time with it\n    if (layer.replacement) {\n      // log('layer %s in queue skipped b/c it already has a replacement', layer.id);\n      q.pop();\n      continue;\n    }\n\n    // if this is a replacement layer that has been superceded, then forget it\n    if (layer.replaces && layer !== layer.replaces.replacement) {\n      // log('layer is no longer the most uptodate replacement; dequeued', layer.id)\n      q.pop();\n      continue;\n    }\n\n    if (layer.invalid) {\n      // log('replacement layer %s is invalid; dequeued', layer.id);\n      q.pop();\n      continue;\n    }\n\n    var ele = layer.elesQueue.shift();\n\n    if (ele) {\n      // log('dequeue layer %s', layer.id);\n\n      self.drawEleInLayer(layer, ele, layer.level, pxRatio);\n\n      eleDeqs++;\n    }\n\n    if (deqd.length === 0) {\n      // we need only one entry in deqd to queue redrawing etc\n      deqd.push(true);\n    }\n\n    // if the layer has all its eles done, then remove from the queue\n    if (layer.elesQueue.length === 0) {\n      q.pop();\n\n      layer.reqs = 0;\n\n      // log('dequeue of layer %s complete', layer.id);\n\n      // when a replacement layer is dequeued, it replaces the old layer in the level\n      if (layer.replaces) {\n        self.applyLayerReplacement(layer);\n      }\n\n      self.requestRedraw();\n    }\n  }\n\n  return deqd;\n};\n\nLTCp.applyLayerReplacement = function (layer) {\n  var self = this;\n  var layersInLevel = self.layersByLevel[layer.level];\n  var replaced = layer.replaces;\n  var index = layersInLevel.indexOf(replaced);\n\n  // if the replaced layer is not in the active list for the level, then replacing\n  // refs would be a mistake (i.e. overwriting the true active layer)\n  if (index < 0 || replaced.invalid) {\n    // log('replacement layer would have no effect', layer.id);\n    return;\n  }\n\n  layersInLevel[index] = layer; // replace level ref\n\n  // replace refs in eles\n  for (var i = 0; i < layer.eles.length; i++) {\n    var _p = layer.eles[i]._private;\n    var cache = _p.imgLayerCaches = _p.imgLayerCaches || {};\n\n    if (cache) {\n      cache[layer.level] = layer;\n    }\n  }\n\n  // log('apply replacement layer %s over %s', layer.id, replaced.id);\n\n  self.requestRedraw();\n};\n\nLTCp.requestRedraw = util.debounce(function () {\n  var r = this.renderer;\n\n  r.redrawHint('eles', true);\n  r.redrawHint('drag', true);\n  r.redraw();\n}, 100);\n\nLTCp.setupDequeueing = defs.setupDequeueing({\n  deqRedrawThreshold: deqRedrawThreshold,\n  deqCost: deqCost,\n  deqAvgCost: deqAvgCost,\n  deqNoDrawCost: deqNoDrawCost,\n  deqFastCost: deqFastCost,\n  deq: function deq(self, pxRatio) {\n    return self.dequeue(pxRatio);\n  },\n  onDeqd: util.noop,\n  shouldRedraw: util.trueify,\n  priority: function priority(self) {\n    return self.renderer.beforeRenderPriorities.lyrTxrDeq;\n  }\n});\n\nmodule.exports = LayeredTextureCache;\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar CRp = {};\n\nCRp.nodeShapeImpl = function (name, context, centerX, centerY, width, height, points) {\n  switch (name) {\n    case 'ellipse':\n      return this.drawEllipsePath(context, centerX, centerY, width, height);\n    case 'polygon':\n      return this.drawPolygonPath(context, centerX, centerY, width, height, points);\n    case 'roundrectangle':\n      return this.drawRoundRectanglePath(context, centerX, centerY, width, height);\n    case 'cutrectangle':\n      return this.drawCutRectanglePath(context, centerX, centerY, width, height);\n    case 'bottomroundrectangle':\n      return this.drawBottomRoundRectanglePath(context, centerX, centerY, width, height);\n    case 'barrel':\n      return this.drawBarrelPath(context, centerX, centerY, width, height);\n  }\n};\n\nmodule.exports = CRp;\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = [{ name: 'null', impl: __webpack_require__(115) }, { name: 'base', impl: __webpack_require__(97) }, { name: 'canvas', impl: __webpack_require__(111) }];\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction NullRenderer(options) {\n  this.options = options;\n  this.notifications = 0; // for testing\n}\n\nvar noop = function noop() {};\n\nNullRenderer.prototype = {\n  recalculateRenderedStyle: noop,\n  notify: function notify() {\n    this.notifications++;\n  },\n  init: noop\n};\n\nmodule.exports = NullRenderer;\n\n/***/ }),\n/* 116 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar Core = __webpack_require__(12);\nvar extension = __webpack_require__(20);\nvar Stylesheet = __webpack_require__(21);\n\nvar cytoscape = function cytoscape(options) {\n  // jshint ignore:line\n  // if no options specified, use default\n  if (options === undefined) {\n    options = {};\n  }\n\n  // create instance\n  if (is.plainObject(options)) {\n    return new Core(options);\n  }\n\n  // allow for registration of extensions\n  else if (is.string(options)) {\n      return extension.apply(extension, arguments);\n    }\n};\n\n// e.g. cytoscape.use( require('cytoscape-foo'), bar )\ncytoscape.use = function (ext) {\n  var args = Array.prototype.slice.call(arguments, 1); // args to pass to ext\n\n  args.unshift(cytoscape); // cytoscape is first arg to ext\n\n  ext.apply(null, args);\n\n  return this;\n};\n\n// replaced by build system\ncytoscape.version = __webpack_require__(22);\n\n// expose public apis (mostly for extensions)\ncytoscape.stylesheet = cytoscape.Stylesheet = Stylesheet;\n\nmodule.exports = cytoscape;\n\n/***/ }),\n/* 117 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction ObjectMap() {\n  this._obj = {};\n}\n\nvar p = ObjectMap.prototype;\n\np.set = function (key, val) {\n  this._obj[key] = val;\n};\n\np.delete = function (key) {\n  this._obj[key] = null;\n};\n\np.has = function (key) {\n  return this._obj[key] != null;\n};\n\np.get = function (key) {\n  return this._obj[key];\n};\n\n// TODO use the stdlib Map in future...\n// module.exports = typeof Map !== 'undefined' ? Map : ObjectMap;\nmodule.exports = ObjectMap;\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = __webpack_require__(17),\n    stateSelectorRegex = _require.stateSelectorRegex;\n\nvar tokens = __webpack_require__(121);\nvar util = __webpack_require__(1);\nvar newQuery = __webpack_require__(11);\n\n// when a token like a variable has escaped meta characters, we need to clean the backslashes out\n// so that values get compared properly in Selector.filter()\nvar cleanMetaChars = function cleanMetaChars(str) {\n  return str.replace(new RegExp('\\\\\\\\(' + tokens.metaChar + ')', 'g'), function (match, $1) {\n    return $1;\n  });\n};\n\nvar replaceLastQuery = function replaceLastQuery(selector, examiningQuery, replacementQuery) {\n  if (examiningQuery === selector[selector.length - 1]) {\n    selector[selector.length - 1] = replacementQuery;\n  }\n};\n\n// NOTE: add new expression syntax here to have it recognised by the parser;\n// - a query contains all adjacent (i.e. no separator in between) expressions;\n// - the current query is stored in selector[i] --- you can use the reference to `this` in the populate function;\n// - you need to check the query objects in Selector.filter() for it actually filter properly, but that's pretty straight forward\n// - when you add something here, also add to Selector.toString()\nvar exprs = [{\n  name: 'group',\n  query: true,\n  regex: '(' + tokens.group + ')',\n  populate: function populate(selector, query, _ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        group = _ref2[0];\n\n    query.group = group === '*' ? group : group + 's';\n  }\n}, {\n  name: 'state',\n  query: true,\n  regex: stateSelectorRegex,\n  populate: function populate(selector, query, _ref3) {\n    var _ref4 = _slicedToArray(_ref3, 1),\n        state = _ref4[0];\n\n    query.colonSelectors.push(state);\n  }\n}, {\n  name: 'id',\n  query: true,\n  regex: '\\\\#(' + tokens.id + ')',\n  populate: function populate(selector, query, _ref5) {\n    var _ref6 = _slicedToArray(_ref5, 1),\n        id = _ref6[0];\n\n    query.ids.push(cleanMetaChars(id));\n  }\n}, {\n  name: 'className',\n  query: true,\n  regex: '\\\\.(' + tokens.className + ')',\n  populate: function populate(selector, query, _ref7) {\n    var _ref8 = _slicedToArray(_ref7, 1),\n        className = _ref8[0];\n\n    query.classes.push(cleanMetaChars(className));\n  }\n}, {\n  name: 'dataExists',\n  query: true,\n  regex: '\\\\[\\\\s*(' + tokens.variable + ')\\\\s*\\\\]',\n  populate: function populate(selector, query, _ref9) {\n    var _ref10 = _slicedToArray(_ref9, 1),\n        variable = _ref10[0];\n\n    query.data.push({\n      field: cleanMetaChars(variable)\n    });\n  }\n}, {\n  name: 'dataCompare',\n  query: true,\n  regex: '\\\\[\\\\s*(' + tokens.variable + ')\\\\s*(' + tokens.comparatorOp + ')\\\\s*(' + tokens.value + ')\\\\s*\\\\]',\n  populate: function populate(selector, query, _ref11) {\n    var _ref12 = _slicedToArray(_ref11, 3),\n        variable = _ref12[0],\n        comparatorOp = _ref12[1],\n        value = _ref12[2];\n\n    var valueIsString = new RegExp('^' + tokens.string + '$').exec(value) != null;\n\n    if (valueIsString) {\n      value = value.substring(1, value.length - 1);\n    } else {\n      value = parseFloat(value);\n    }\n\n    query.data.push({\n      field: cleanMetaChars(variable),\n      operator: comparatorOp,\n      value: value\n    });\n  }\n}, {\n  name: 'dataBool',\n  query: true,\n  regex: '\\\\[\\\\s*(' + tokens.boolOp + ')\\\\s*(' + tokens.variable + ')\\\\s*\\\\]',\n  populate: function populate(selector, query, _ref13) {\n    var _ref14 = _slicedToArray(_ref13, 2),\n        boolOp = _ref14[0],\n        variable = _ref14[1];\n\n    query.data.push({\n      field: cleanMetaChars(variable),\n      operator: boolOp\n    });\n  }\n}, {\n  name: 'metaCompare',\n  query: true,\n  regex: '\\\\[\\\\[\\\\s*(' + tokens.meta + ')\\\\s*(' + tokens.comparatorOp + ')\\\\s*(' + tokens.number + ')\\\\s*\\\\]\\\\]',\n  populate: function populate(selector, query, _ref15) {\n    var _ref16 = _slicedToArray(_ref15, 3),\n        meta = _ref16[0],\n        comparatorOp = _ref16[1],\n        number = _ref16[2];\n\n    query.meta.push({\n      field: cleanMetaChars(meta),\n      operator: comparatorOp,\n      value: parseFloat(number)\n    });\n  }\n}, {\n  name: 'nextQuery',\n  separator: true,\n  regex: tokens.separator,\n  populate: function populate(selector) {\n    // go on to next query\n    var nextQuery = selector[selector.length++] = newQuery();\n    selector.currentSubject = null;\n\n    return nextQuery;\n  }\n}, {\n  name: 'directedEdge',\n  separator: true,\n  regex: tokens.directedEdge,\n  populate: function populate(selector, query) {\n    var edgeQuery = newQuery();\n    var source = query;\n    var target = newQuery();\n\n    edgeQuery.group = 'edges';\n    edgeQuery.target = target;\n    edgeQuery.source = source;\n    edgeQuery.subject = selector.currentSubject;\n\n    // the query in the selector should be the edge rather than the source\n    replaceLastQuery(selector, query, edgeQuery);\n\n    // we're now populating the target query with expressions that follow\n    return target;\n  }\n}, {\n  name: 'undirectedEdge',\n  separator: true,\n  regex: tokens.undirectedEdge,\n  populate: function populate(selector, query) {\n    var edgeQuery = newQuery();\n    var source = query;\n    var target = newQuery();\n\n    edgeQuery.group = 'edges';\n    edgeQuery.connectedNodes = [source, target];\n    edgeQuery.subject = selector.currentSubject;\n\n    // the query in the selector should be the edge rather than the source\n    replaceLastQuery(selector, query, edgeQuery);\n\n    // we're now populating the target query with expressions that follow\n    return target;\n  }\n}, {\n  name: 'child',\n  separator: true,\n  regex: tokens.child,\n  populate: function populate(selector, query) {\n    // this query is the parent of the following query\n    var childQuery = newQuery();\n    childQuery.parent = query;\n    childQuery.subject = selector.currentSubject;\n\n    // it's cheaper to compare children first and go up so replace the parent\n    replaceLastQuery(selector, query, childQuery);\n\n    // we're now populating the child query with expressions that follow\n    return childQuery;\n  }\n}, {\n  name: 'descendant',\n  separator: true,\n  regex: tokens.descendant,\n  populate: function populate(selector, query) {\n    // this query is the ancestor of the following query\n    var descendantQuery = newQuery();\n    descendantQuery.ancestor = query;\n    descendantQuery.subject = selector.currentSubject;\n\n    // it's cheaper to compare descendants first and go up so replace the ancestor\n    replaceLastQuery(selector, query, descendantQuery);\n\n    // we're now populating the descendant query with expressions that follow\n    return descendantQuery;\n  }\n}, {\n  name: 'subject',\n  modifier: true,\n  regex: tokens.subject,\n  populate: function populate(selector, query) {\n    if (selector.currentSubject != null && query.subject != query) {\n      util.error('Redefinition of subject in selector `' + selector.toString() + '`');\n      return false;\n    }\n\n    selector.currentSubject = query;\n    query.subject = query;\n    selector[selector.length - 1].subject = query;\n  }\n}];\n\nexprs.forEach(function (e) {\n  return e.regexObj = new RegExp('^' + e.regex);\n});\n\nmodule.exports = exprs;\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _require = __webpack_require__(17),\n    stateSelectorMatches = _require.stateSelectorMatches;\n\nvar is = __webpack_require__(0);\n\n// generic checking for data/metadata\nvar operandsMatch = function operandsMatch(query, params) {\n  var allDataMatches = true;\n  for (var k = 0; k < query[params.name].length; k++) {\n    var data = query[params.name][k];\n    var operator = data.operator;\n    var value = data.value;\n    var field = data.field;\n    var _matches = void 0;\n    var fieldVal = params.fieldValue(field);\n\n    if (operator != null && value != null) {\n      var fieldStr = !is.string(fieldVal) && !is.number(fieldVal) ? '' : '' + fieldVal;\n      var valStr = '' + value;\n\n      var caseInsensitive = false;\n      if (operator.indexOf('@') >= 0) {\n        fieldStr = fieldStr.toLowerCase();\n        valStr = valStr.toLowerCase();\n\n        operator = operator.replace('@', '');\n        caseInsensitive = true;\n      }\n\n      var notExpr = false;\n      if (operator.indexOf('!') >= 0) {\n        operator = operator.replace('!', '');\n        notExpr = true;\n      }\n\n      // if we're doing a case insensitive comparison, then we're using a STRING comparison\n      // even if we're comparing numbers\n      if (caseInsensitive) {\n        value = valStr.toLowerCase();\n        fieldVal = fieldStr.toLowerCase();\n      }\n\n      var isIneqCmp = false;\n\n      switch (operator) {\n        case '*=':\n          _matches = fieldStr.indexOf(valStr) >= 0;\n          break;\n        case '$=':\n          _matches = fieldStr.indexOf(valStr, fieldStr.length - valStr.length) >= 0;\n          break;\n        case '^=':\n          _matches = fieldStr.indexOf(valStr) === 0;\n          break;\n        case '=':\n          _matches = fieldVal === value;\n          break;\n        case '>':\n          isIneqCmp = true;\n          _matches = fieldVal > value;\n          break;\n        case '>=':\n          isIneqCmp = true;\n          _matches = fieldVal >= value;\n          break;\n        case '<':\n          isIneqCmp = true;\n          _matches = fieldVal < value;\n          break;\n        case '<=':\n          isIneqCmp = true;\n          _matches = fieldVal <= value;\n          break;\n        default:\n          _matches = false;\n          break;\n      }\n\n      // apply the not op, but null vals for inequalities should always stay non-matching\n      if (notExpr && (fieldVal != null || !isIneqCmp)) {\n        _matches = !_matches;\n      }\n    } else if (operator != null) {\n      switch (operator) {\n        case '?':\n          _matches = fieldVal ? true : false;\n          break;\n        case '!':\n          _matches = fieldVal ? false : true;\n          break;\n        case '^':\n          _matches = fieldVal === undefined;\n          break;\n      }\n    } else {\n      _matches = fieldVal !== undefined;\n    }\n\n    if (!_matches) {\n      allDataMatches = false;\n      break;\n    }\n  } // for\n\n  return allDataMatches;\n}; // operandsMatch\n\n// check parent/child relations\nvar confirmRelations = function confirmRelations(query, isNecessary, eles) {\n  if (query != null) {\n    var _matches2 = false;\n\n    if (!isNecessary) {\n      return false;\n    }\n\n    eles = eles(); // save cycles if query == null\n\n    // query must match for at least one element (may be recursive)\n    for (var i = 0; i < eles.length; i++) {\n      if (queryMatches(query, eles[i])) {\n        _matches2 = true;\n        break;\n      }\n    }\n\n    return _matches2;\n  } else {\n    return true;\n  }\n};\n\nvar queryMatches = function queryMatches(query, ele) {\n  // make single group-only selectors really cheap to check since they're the most common ones\n  if (query.groupOnly) {\n    return query.group === '*' || query.group === ele.group();\n  }\n\n  // check group\n  if (query.group != null && query.group != '*' && query.group != ele.group()) {\n    return false;\n  }\n\n  var cy = ele.cy();\n  var k = void 0;\n\n  // check colon selectors\n  var allColonSelectorsMatch = true;\n  for (k = 0; k < query.colonSelectors.length; k++) {\n    var sel = query.colonSelectors[k];\n\n    allColonSelectorsMatch = stateSelectorMatches(sel, ele);\n\n    if (!allColonSelectorsMatch) break;\n  }\n  if (!allColonSelectorsMatch) return false;\n\n  // check id\n  var allIdsMatch = true;\n  for (k = 0; k < query.ids.length; k++) {\n    var id = query.ids[k];\n    var actualId = ele.id();\n\n    allIdsMatch = allIdsMatch && id == actualId;\n\n    if (!allIdsMatch) break;\n  }\n  if (!allIdsMatch) return false;\n\n  // check classes\n  var allClassesMatch = true;\n  for (k = 0; k < query.classes.length; k++) {\n    var cls = query.classes[k];\n\n    allClassesMatch = allClassesMatch && ele.hasClass(cls);\n\n    if (!allClassesMatch) break;\n  }\n  if (!allClassesMatch) return false;\n\n  // check data matches\n  var allDataMatches = operandsMatch(query, {\n    name: 'data',\n    fieldValue: function fieldValue(field) {\n      return ele.data(field);\n    }\n  });\n\n  if (!allDataMatches) {\n    return false;\n  }\n\n  // check metadata matches\n  var allMetaMatches = operandsMatch(query, {\n    name: 'meta',\n    fieldValue: function fieldValue(field) {\n      return ele[field]();\n    }\n  });\n\n  if (!allMetaMatches) {\n    return false;\n  }\n\n  // check collection\n  if (query.collection != null) {\n    var matchesAny = query.collection.hasElementWithId(ele.id());\n\n    if (!matchesAny) {\n      return false;\n    }\n  }\n\n  // check filter function\n  if (query.filter != null && ele.collection().some(query.filter)) {\n    return false;\n  }\n\n  var isCompound = cy.hasCompoundNodes();\n  var getSource = function getSource() {\n    return ele.source();\n  };\n  var getTarget = function getTarget() {\n    return ele.target();\n  };\n\n  if (!confirmRelations(query.parent, isCompound, function () {\n    return ele.parent();\n  })) {\n    return false;\n  }\n\n  if (!confirmRelations(query.ancestor, isCompound, function () {\n    return ele.parents();\n  })) {\n    return false;\n  }\n\n  if (!confirmRelations(query.child, isCompound, function () {\n    return ele.children();\n  })) {\n    return false;\n  }\n\n  if (!confirmRelations(query.descendant, isCompound, function () {\n    return ele.descendants();\n  })) {\n    return false;\n  }\n\n  if (!confirmRelations(query.source, true, getSource)) {\n    return false;\n  }\n\n  if (!confirmRelations(query.target, true, getTarget)) {\n    return false;\n  }\n\n  if (query.connectedNodes) {\n    var q0 = query.connectedNodes[0];\n    var q1 = query.connectedNodes[1];\n\n    if (confirmRelations(q0, true, getSource) && confirmRelations(q1, true, getTarget)) {\n      // match\n    } else if (confirmRelations(q0, true, getTarget) && confirmRelations(q1, true, getSource)) {\n      // match\n    } else {\n      return false;\n    }\n  }\n\n  // we've reached the end, so we've matched everything for this query\n  return true;\n}; // queryMatches\n\n// filter an existing collection\nvar filter = function filter(collection) {\n  var self = this;\n  var cy = collection.cy();\n\n  // don't bother trying if it's invalid\n  if (self.invalid()) {\n    return cy.collection();\n  }\n\n  // for 1 id #foo queries, just get the element\n  if (self.length === 1 && self[0].length === 1 && self[0].ids.length === 1) {\n    return collection.getElementById(self[0].ids[0]).collection();\n  }\n\n  var selectorFunction = function selectorFunction(element) {\n    for (var j = 0; j < self.length; j++) {\n      var query = self[j];\n\n      if (queryMatches(query, element)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  if (self.text() == null) {\n    selectorFunction = function selectorFunction() {\n      return true;\n    };\n  }\n\n  var filteredCollection = collection.filter(selectorFunction);\n\n  return filteredCollection;\n}; // filter\n\n// does selector match a single element?\nvar matches = function matches(ele) {\n  var self = this;\n\n  // don't bother trying if it's invalid\n  if (self.invalid()) {\n    return false;\n  }\n\n  for (var j = 0; j < self.length; j++) {\n    var query = self[j];\n\n    if (queryMatches(query, ele)) {\n      return true;\n    }\n  }\n\n  return false;\n}; // filter\n\nmodule.exports = { matches: matches, filter: filter };\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar exprs = __webpack_require__(118);\nvar newQuery = __webpack_require__(11);\n\n// of all the expressions, find the first match in the remaining text\nvar consumeExpr = function consumeExpr(remaining) {\n  var expr = void 0;\n  var match = void 0;\n  var name = void 0;\n\n  for (var j = 0; j < exprs.length; j++) {\n    var e = exprs[j];\n    var n = e.name;\n\n    var m = remaining.match(e.regexObj);\n\n    if (m != null) {\n      match = m;\n      expr = e;\n      name = n;\n\n      var consumed = m[0];\n      remaining = remaining.substring(consumed.length);\n\n      break; // we've consumed one expr, so we can return now\n    }\n  }\n\n  return {\n    expr: expr,\n    match: match,\n    name: name,\n    remaining: remaining\n  };\n};\n\n// consume all leading whitespace\nvar consumeWhitespace = function consumeWhitespace(remaining) {\n  var match = remaining.match(/^\\s+/);\n\n  if (match) {\n    var consumed = match[0];\n    remaining = remaining.substring(consumed.length);\n  }\n\n  return remaining;\n};\n\nvar parse = function parse(selector) {\n  var self = this;\n\n  var remaining = self._private.selectorText = selector;\n\n  var currentQuery = self[0] = newQuery();\n  self.length = 1;\n\n  remaining = consumeWhitespace(remaining); // get rid of leading whitespace\n\n  for (;;) {\n    var check = consumeExpr(remaining);\n\n    if (check.expr == null) {\n      util.error('The selector `' + selector + '`is invalid');\n      return false;\n    } else {\n      var args = check.match.slice(1);\n\n      // let the token populate the selector object in currentQuery\n      var ret = check.expr.populate(self, currentQuery, args);\n\n      if (ret === false) {\n        return false; // exit if population failed\n      } else if (ret != null) {\n        currentQuery = ret; // change the current query to be filled if the expr specifies\n      }\n    }\n\n    remaining = check.remaining;\n\n    // we're done when there's nothing left to parse\n    if (remaining.match(/^\\s*$/)) {\n      break;\n    }\n  }\n\n  // adjust references for subject\n  for (var j = 0; j < self.length; j++) {\n    var query = self[j];\n\n    if (query.subject != null) {\n      // go up the tree until we reach the subject\n      for (;;) {\n        if (query.subject === query) {\n          break;\n        } // done if subject is self\n\n        if (query.parent != null) {\n          // swap parent/child reference\n          var parent = query.parent;\n          var child = query;\n\n          child.parent = null;\n          parent.child = child;\n\n          query = parent; // go up the tree\n        } else if (query.ancestor != null) {\n          // swap ancestor/descendant\n          var ancestor = query.ancestor;\n          var descendant = query;\n\n          descendant.ancestor = null;\n          ancestor.descendant = descendant;\n\n          query = ancestor; // go up the tree\n        } else if (query.source || query.target || query.connectedNodes) {\n          util.error('The selector `' + self.text() + '` can not contain a subject selector that applies to the source or target of an edge selector');\n          return false;\n        } else {\n          util.error('When adjusting references for the selector `' + self.text() + '`, neither parent nor ancestor was found');\n          return false;\n        }\n      } // for\n\n      self[j] = query.subject; // subject should be the root query\n    } // if\n  } // for\n\n  return true; // success\n};\n\nmodule.exports = { parse: parse };\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\n\n// tokens in the query language\nvar tokens = {\n  metaChar: '[\\\\!\\\\\"\\\\#\\\\$\\\\%\\\\&\\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\.\\\\/\\\\:\\\\;\\\\<\\\\=\\\\>\\\\?\\\\@\\\\[\\\\]\\\\^\\\\`\\\\{\\\\|\\\\}\\\\~]', // chars we need to escape in let names, etc\n  comparatorOp: '=|\\\\!=|>|>=|<|<=|\\\\$=|\\\\^=|\\\\*=', // binary comparison op (used in data selectors)\n  boolOp: '\\\\?|\\\\!|\\\\^', // boolean (unary) operators (used in data selectors)\n  string: '\"(?:\\\\\\\\\"|[^\"])*\"' + '|' + \"'(?:\\\\\\\\'|[^'])*'\", // string literals (used in data selectors) -- doublequotes | singlequotes\n  number: util.regex.number, // number literal (used in data selectors) --- e.g. 0.1234, 1234, 12e123\n  meta: 'degree|indegree|outdegree', // allowed metadata fields (i.e. allowed functions to use from Collection)\n  separator: '\\\\s*,\\\\s*', // queries are separated by commas, e.g. edge[foo = 'bar'], node.someClass\n  descendant: '\\\\s+',\n  child: '\\\\s+>\\\\s+',\n  subject: '\\\\$',\n  group: 'node|edge|\\\\*',\n  directedEdge: '\\\\s+->\\\\s+',\n  undirectedEdge: '\\\\s+<->\\\\s+'\n};\ntokens.variable = '(?:[\\\\w-]|(?:\\\\\\\\' + tokens.metaChar + '))+'; // a variable name\ntokens.value = tokens.string + '|' + tokens.number; // a value literal, either a string or number\ntokens.className = tokens.variable; // a class name (follows variable conventions)\ntokens.id = tokens.variable; // an element id (follows variable conventions)\n\n(function () {\n  var ops = void 0,\n      op = void 0,\n      i = void 0;\n\n  // add @ variants to comparatorOp\n  ops = tokens.comparatorOp.split('|');\n  for (i = 0; i < ops.length; i++) {\n    op = ops[i];\n    tokens.comparatorOp += '|@' + op;\n  }\n\n  // add ! variants to comparatorOp\n  ops = tokens.comparatorOp.split('|');\n  for (i = 0; i < ops.length; i++) {\n    op = ops[i];\n\n    if (op.indexOf('!') >= 0) {\n      continue;\n    } // skip ops that explicitly contain !\n    if (op === '=') {\n      continue;\n    } // skip = b/c != is explicitly defined\n\n    tokens.comparatorOp += '|\\\\!' + op;\n  }\n})();\n\nmodule.exports = tokens;\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar is = __webpack_require__(0);\nvar Promise = __webpack_require__(5);\n\nvar styfn = {};\n\n// (potentially expensive calculation)\n// apply the style to the element based on\n// - its bypass\n// - what selectors match it\nstyfn.apply = function (eles) {\n  var self = this;\n  var _p = self._private;\n  var cy = _p.cy;\n  var updatedEles = cy.collection();\n\n  if (_p.newStyle) {\n    // clear style caches\n    _p.contextStyles = {};\n    _p.propDiffs = {};\n\n    self.cleanElements(eles, true);\n  }\n\n  for (var ie = 0; ie < eles.length; ie++) {\n    var ele = eles[ie];\n\n    var cxtMeta = self.getContextMeta(ele);\n\n    if (cxtMeta.empty) {\n      continue;\n    } else {\n      updatedEles.merge(ele);\n    }\n\n    var cxtStyle = self.getContextStyle(cxtMeta);\n    var app = self.applyContextStyle(cxtMeta, cxtStyle, ele);\n\n    if (!_p.newStyle) {\n      self.updateTransitions(ele, app.diffProps);\n    }\n\n    self.updateStyleHints(ele);\n  } // for elements\n\n  _p.newStyle = false;\n\n  return updatedEles;\n};\n\nstyfn.getPropertiesDiff = function (oldCxtKey, newCxtKey) {\n  var self = this;\n  var cache = self._private.propDiffs = self._private.propDiffs || {};\n  var dualCxtKey = oldCxtKey + '-' + newCxtKey;\n  var cachedVal = cache[dualCxtKey];\n\n  if (cachedVal) {\n    return cachedVal;\n  }\n\n  var diffProps = [];\n  var addedProp = {};\n\n  for (var i = 0; i < self.length; i++) {\n    var cxt = self[i];\n    var oldHasCxt = oldCxtKey[i] === 't';\n    var newHasCxt = newCxtKey[i] === 't';\n    var cxtHasDiffed = oldHasCxt !== newHasCxt;\n    var cxtHasMappedProps = cxt.mappedProperties.length > 0;\n\n    if (cxtHasDiffed || cxtHasMappedProps) {\n      var props = void 0;\n\n      if (cxtHasDiffed && cxtHasMappedProps) {\n        props = cxt.properties; // suffices b/c mappedProperties is a subset of properties\n      } else if (cxtHasDiffed) {\n        props = cxt.properties; // need to check them all\n      } else if (cxtHasMappedProps) {\n        props = cxt.mappedProperties; // only need to check mapped\n      }\n\n      for (var j = 0; j < props.length; j++) {\n        var prop = props[j];\n        var name = prop.name;\n\n        // if a later context overrides this property, then the fact that this context has switched/diffed doesn't matter\n        // (semi expensive check since it makes this function O(n^2) on context length, but worth it since overall result\n        // is cached)\n        var laterCxtOverrides = false;\n        for (var k = i + 1; k < self.length; k++) {\n          var laterCxt = self[k];\n          var hasLaterCxt = newCxtKey[k] === 't';\n\n          if (!hasLaterCxt) {\n            continue;\n          } // can't override unless the context is active\n\n          laterCxtOverrides = laterCxt.properties[prop.name] != null;\n\n          if (laterCxtOverrides) {\n            break;\n          } // exit early as long as one later context overrides\n        }\n\n        if (!addedProp[name] && !laterCxtOverrides) {\n          addedProp[name] = true;\n          diffProps.push(name);\n        }\n      } // for props\n    } // if\n  } // for contexts\n\n  cache[dualCxtKey] = diffProps;\n  return diffProps;\n};\n\nstyfn.getContextMeta = function (ele) {\n  var self = this;\n  var cxtKey = '';\n  var diffProps = void 0;\n  var prevKey = ele._private.styleCxtKey || '';\n\n  if (self._private.newStyle) {\n    prevKey = ''; // since we need to apply all style if a fresh stylesheet\n  }\n\n  // get the cxt key\n  for (var i = 0; i < self.length; i++) {\n    var context = self[i];\n    var contextSelectorMatches = context.selector && context.selector.matches(ele); // NB: context.selector may be null for 'core'\n\n    if (contextSelectorMatches) {\n      cxtKey += 't';\n    } else {\n      cxtKey += 'f';\n    }\n  } // for context\n\n  diffProps = self.getPropertiesDiff(prevKey, cxtKey);\n\n  ele._private.styleCxtKey = cxtKey;\n\n  return {\n    key: cxtKey,\n    diffPropNames: diffProps,\n    empty: diffProps.length === 0\n  };\n};\n\n// gets a computed ele style object based on matched contexts\nstyfn.getContextStyle = function (cxtMeta) {\n  var cxtKey = cxtMeta.key;\n  var self = this;\n  var cxtStyles = this._private.contextStyles = this._private.contextStyles || {};\n\n  // if already computed style, returned cached copy\n  if (cxtStyles[cxtKey]) {\n    return cxtStyles[cxtKey];\n  }\n\n  var style = {\n    _private: {\n      key: cxtKey\n    }\n  };\n\n  for (var i = 0; i < self.length; i++) {\n    var cxt = self[i];\n    var hasCxt = cxtKey[i] === 't';\n\n    if (!hasCxt) {\n      continue;\n    }\n\n    for (var j = 0; j < cxt.properties.length; j++) {\n      var prop = cxt.properties[j];\n\n      style[prop.name] = prop;\n    }\n  }\n\n  cxtStyles[cxtKey] = style;\n  return style;\n};\n\nstyfn.applyContextStyle = function (cxtMeta, cxtStyle, ele) {\n  var self = this;\n  var diffProps = cxtMeta.diffPropNames;\n  var retDiffProps = {};\n\n  for (var i = 0; i < diffProps.length; i++) {\n    var diffPropName = diffProps[i];\n    var cxtProp = cxtStyle[diffPropName];\n    var eleProp = ele.pstyle(diffPropName);\n\n    if (!cxtProp) {\n      // no context prop means delete\n      if (!eleProp) {\n        continue; // no existing prop means nothing needs to be removed\n        // nb affects initial application on mapped values like control-point-distances\n      } else if (eleProp.bypass) {\n        cxtProp = { name: diffPropName, deleteBypassed: true };\n      } else {\n        cxtProp = { name: diffPropName, delete: true };\n      }\n    }\n\n    // save cycles when the context prop doesn't need to be applied\n    if (eleProp === cxtProp) {\n      continue;\n    }\n\n    var retDiffProp = retDiffProps[diffPropName] = {\n      prev: eleProp\n    };\n\n    self.applyParsedProperty(ele, cxtProp);\n\n    retDiffProp.next = ele.pstyle(diffPropName);\n\n    if (retDiffProp.next && retDiffProp.next.bypass) {\n      retDiffProp.next = retDiffProp.next.bypassed;\n    }\n  }\n\n  return {\n    diffProps: retDiffProps\n  };\n};\n\nstyfn.updateStyleHints = function (ele) {\n  var _p = ele._private;\n  var self = this;\n\n  if (ele.removed()) {\n    return;\n  }\n\n  // set whether has pie or not; for greater efficiency\n  var hasPie = false;\n  if (_p.group === 'nodes') {\n    for (var i = 1; i <= self.pieBackgroundN; i++) {\n      // 1..N\n      var _size = ele.pstyle('pie-' + i + '-background-size').value;\n\n      if (_size > 0) {\n        hasPie = true;\n        break;\n      }\n    }\n  }\n\n  _p.hasPie = hasPie;\n\n  var transform = ele.pstyle('text-transform').strValue;\n  var content = ele.pstyle('label').strValue;\n  var srcContent = ele.pstyle('source-label').strValue;\n  var tgtContent = ele.pstyle('target-label').strValue;\n  var fStyle = ele.pstyle('font-style').strValue;\n  var size = ele.pstyle('font-size').pfValue + 'px';\n  var family = ele.pstyle('font-family').strValue;\n  // let letiant = style['font-letiant'].strValue;\n  var weight = ele.pstyle('font-weight').strValue;\n  var valign = ele.pstyle('text-valign').strValue;\n  var halign = ele.pstyle('text-valign').strValue;\n  var oWidth = ele.pstyle('text-outline-width').pfValue;\n  var wrap = ele.pstyle('text-wrap').strValue;\n  var wrapW = ele.pstyle('text-max-width').pfValue;\n  var labelStyleKey = fStyle + '$' + size + '$' + family + '$' + weight + '$' + transform + '$' + valign + '$' + halign + '$' + oWidth + '$' + wrap + '$' + wrapW;\n  _p.labelStyleKey = labelStyleKey;\n  _p.sourceLabelKey = labelStyleKey + '$' + srcContent;\n  _p.targetLabelKey = labelStyleKey + '$' + tgtContent;\n  _p.labelKey = labelStyleKey + '$' + content;\n  _p.fontKey = fStyle + '$' + weight + '$' + size + '$' + family;\n\n  _p.styleKey = Date.now();\n};\n\n// apply a property to the style (for internal use)\n// returns whether application was successful\n//\n// now, this function flattens the property, and here's how:\n//\n// for parsedProp:{ bypass: true, deleteBypass: true }\n// no property is generated, instead the bypass property in the\n// element's style is replaced by what's pointed to by the `bypassed`\n// field in the bypass property (i.e. restoring the property the\n// bypass was overriding)\n//\n// for parsedProp:{ mapped: truthy }\n// the generated flattenedProp:{ mapping: prop }\n//\n// for parsedProp:{ bypass: true }\n// the generated flattenedProp:{ bypassed: parsedProp }\nstyfn.applyParsedProperty = function (ele, parsedProp) {\n  var self = this;\n  var prop = parsedProp;\n  var style = ele._private.style;\n  var fieldVal = void 0,\n      flatProp = void 0;\n  var types = self.types;\n  var type = self.properties[prop.name].type;\n  var propIsBypass = prop.bypass;\n  var origProp = style[prop.name];\n  var origPropIsBypass = origProp && origProp.bypass;\n  var _p = ele._private;\n  var flatPropMapping = 'mapping';\n\n  var checkZOrder = function checkZOrder() {\n    self.checkZOrderTrigger(ele, prop.name, origProp ? origProp.value : null, prop.value);\n  };\n\n  // edges connected to compound nodes can not be haystacks\n  if (parsedProp.name === 'curve-style' && parsedProp.value === 'haystack' && ele.isEdge() && (ele.isLoop() || ele.source().isParent() || ele.target().isParent())) {\n    prop = parsedProp = this.parse(parsedProp.name, 'bezier', propIsBypass);\n  }\n\n  if (prop.delete) {\n    // delete the property and use the default value on falsey value\n    style[prop.name] = undefined;\n\n    checkZOrder();\n\n    return true;\n  }\n\n  if (prop.deleteBypassed) {\n    // delete the property that the\n    if (!origProp) {\n      checkZOrder();\n\n      return true; // can't delete if no prop\n    } else if (origProp.bypass) {\n      // delete bypassed\n      origProp.bypassed = undefined;\n\n      checkZOrder();\n\n      return true;\n    } else {\n      return false; // we're unsuccessful deleting the bypassed\n    }\n  }\n\n  // check if we need to delete the current bypass\n  if (prop.deleteBypass) {\n    // then this property is just here to indicate we need to delete\n    if (!origProp) {\n      checkZOrder();\n\n      return true; // property is already not defined\n    } else if (origProp.bypass) {\n      // then replace the bypass property with the original\n      // because the bypassed property was already applied (and therefore parsed), we can just replace it (no reapplying necessary)\n      style[prop.name] = origProp.bypassed;\n\n      checkZOrder();\n\n      return true;\n    } else {\n      return false; // we're unsuccessful deleting the bypass\n    }\n  }\n\n  var printMappingErr = function printMappingErr() {\n    util.error('Do not assign mappings to elements without corresponding data (e.g. ele `' + ele.id() + '` for property `' + prop.name + '` with data field `' + prop.field + '`); try a `[' + prop.field + ']` selector to limit scope to elements with `' + prop.field + '` defined');\n  };\n\n  // put the property in the style objects\n  switch (prop.mapped) {// flatten the property if mapped\n    case types.mapData:\n      {\n        // flatten the field (e.g. data.foo.bar)\n        var fields = prop.field.split('.');\n        var _fieldVal = _p.data;\n\n        for (var i = 0; i < fields.length && _fieldVal; i++) {\n          var field = fields[i];\n          _fieldVal = _fieldVal[field];\n        }\n\n        var percent = void 0;\n        if (!is.number(_fieldVal)) {\n          // then keep the mapping but assume 0% for now\n          percent = 0;\n        } else {\n          percent = (_fieldVal - prop.fieldMin) / (prop.fieldMax - prop.fieldMin);\n        }\n\n        // make sure to bound percent value\n        if (percent < 0) {\n          percent = 0;\n        } else if (percent > 1) {\n          percent = 1;\n        }\n\n        if (type.color) {\n          var r1 = prop.valueMin[0];\n          var r2 = prop.valueMax[0];\n          var g1 = prop.valueMin[1];\n          var g2 = prop.valueMax[1];\n          var b1 = prop.valueMin[2];\n          var b2 = prop.valueMax[2];\n          var a1 = prop.valueMin[3] == null ? 1 : prop.valueMin[3];\n          var a2 = prop.valueMax[3] == null ? 1 : prop.valueMax[3];\n\n          var clr = [Math.round(r1 + (r2 - r1) * percent), Math.round(g1 + (g2 - g1) * percent), Math.round(b1 + (b2 - b1) * percent), Math.round(a1 + (a2 - a1) * percent)];\n\n          flatProp = { // colours are simple, so just create the flat property instead of expensive string parsing\n            bypass: prop.bypass, // we're a bypass if the mapping property is a bypass\n            name: prop.name,\n            value: clr,\n            strValue: 'rgb(' + clr[0] + ', ' + clr[1] + ', ' + clr[2] + ')'\n          };\n        } else if (type.number) {\n          var calcValue = prop.valueMin + (prop.valueMax - prop.valueMin) * percent;\n          flatProp = this.parse(prop.name, calcValue, prop.bypass, flatPropMapping);\n        } else {\n          return false; // can only map to colours and numbers\n        }\n\n        if (!flatProp) {\n          // if we can't flatten the property, then use the origProp so we still keep the mapping itself\n          flatProp = this.parse(prop.name, origProp.strValue, prop.bypass, flatPropMapping);\n        }\n\n        if (!flatProp) {\n          printMappingErr();\n        }\n        flatProp.mapping = prop; // keep a reference to the mapping\n        prop = flatProp; // the flattened (mapped) property is the one we want\n\n        break;\n      }\n\n    // direct mapping\n    case types.data:\n      {\n        // flatten the field (e.g. data.foo.bar)\n        var _fields = prop.field.split('.');\n        var _fieldVal2 = _p.data;\n\n        if (_fieldVal2) {\n          for (var _i = 0; _i < _fields.length; _i++) {\n            var _field = _fields[_i];\n            _fieldVal2 = _fieldVal2[_field];\n          }\n        }\n\n        flatProp = this.parse(prop.name, _fieldVal2, prop.bypass, flatPropMapping);\n\n        if (!flatProp) {\n          // if we can't flatten the property, then use the origProp so we still keep the mapping itself\n          var flatPropVal = origProp ? origProp.strValue : '';\n\n          flatProp = this.parse(prop.name, flatPropVal, prop.bypass, flatPropMapping);\n        }\n\n        if (!flatProp) {\n          printMappingErr();\n        }\n        flatProp.mapping = prop; // keep a reference to the mapping\n        prop = flatProp; // the flattened (mapped) property is the one we want\n\n        break;\n      }\n\n    case types.fn:\n      {\n        var fn = prop.value;\n        var fnRetVal = fn(ele);\n\n        flatProp = this.parse(prop.name, fnRetVal, prop.bypass, flatPropMapping);\n        flatProp.mapping = prop; // keep a reference to the mapping\n        prop = flatProp; // the flattened (mapped) property is the one we want\n\n        break;\n      }\n\n    case undefined:\n      break; // just set the property\n\n    default:\n      return false; // not a valid mapping\n  }\n\n  // if the property is a bypass property, then link the resultant property to the original one\n  if (propIsBypass) {\n    if (origPropIsBypass) {\n      // then this bypass overrides the existing one\n      prop.bypassed = origProp.bypassed; // steal bypassed prop from old bypass\n    } else {\n      // then link the orig prop to the new bypass\n      prop.bypassed = origProp;\n    }\n\n    style[prop.name] = prop; // and set\n  } else {\n    // prop is not bypass\n    if (origPropIsBypass) {\n      // then keep the orig prop (since it's a bypass) and link to the new prop\n      origProp.bypassed = prop;\n    } else {\n      // then just replace the old prop with the new one\n      style[prop.name] = prop;\n    }\n  }\n\n  checkZOrder();\n\n  return true;\n};\n\nstyfn.cleanElements = function (eles, keepBypasses) {\n  var self = this;\n  var props = self.properties;\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n\n    if (!keepBypasses) {\n      ele._private.style = {};\n    } else {\n      var style = ele._private.style;\n\n      for (var j = 0; j < props.length; j++) {\n        var prop = props[j];\n        var eleProp = style[prop.name];\n\n        if (eleProp) {\n          if (eleProp.bypass) {\n            eleProp.bypassed = null;\n          } else {\n            style[prop.name] = null;\n          }\n        }\n      }\n    }\n  }\n};\n\n// updates the visual style for all elements (useful for manual style modification after init)\nstyfn.update = function () {\n  var cy = this._private.cy;\n  var eles = cy.mutableElements();\n\n  eles.updateStyle();\n};\n\n// just update the functional properties (i.e. mappings) in the elements'\n// styles (less expensive than recalculation)\nstyfn.updateMappers = function (eles) {\n  var self = this;\n  var cy = this._private.cy;\n  var updatedEles = cy.collection();\n\n  for (var i = 0; i < eles.length; i++) {\n    // for each ele\n    var ele = eles[i];\n    var style = ele._private.style;\n    var updatedEle = false;\n\n    for (var j = 0; j < self.properties.length; j++) {\n      // for each prop\n      var prop = self.properties[j];\n      var propInStyle = style[prop.name];\n\n      if (propInStyle && propInStyle.mapping) {\n        var mapping = propInStyle.mapping;\n\n        this.applyParsedProperty(ele, mapping); // reapply the mapping property\n\n        updatedEle = true;\n      }\n    }\n\n    if (updatedEle) {\n      this.updateStyleHints(ele);\n\n      updatedEles.merge(ele);\n    }\n  }\n\n  return updatedEles;\n};\n\n// diffProps : { name => { prev, next } }\nstyfn.updateTransitions = function (ele, diffProps, isBypass) {\n  var self = this;\n  var _p = ele._private;\n  var props = ele.pstyle('transition-property').value;\n  var duration = ele.pstyle('transition-duration').pfValue;\n  var delay = ele.pstyle('transition-delay').pfValue;\n\n  if (props.length > 0 && duration > 0) {\n\n    var style = {};\n\n    // build up the style to animate towards\n    var anyPrev = false;\n    for (var i = 0; i < props.length; i++) {\n      var prop = props[i];\n      var styProp = ele.pstyle(prop);\n      var diffProp = diffProps[prop];\n\n      if (!diffProp) {\n        continue;\n      }\n\n      var prevProp = diffProp.prev;\n      var fromProp = prevProp;\n      var toProp = diffProp.next != null ? diffProp.next : styProp;\n      var diff = false;\n      var initVal = void 0;\n      var initDt = 0.000001; // delta time % value for initVal (allows animating out of init zero opacity)\n\n      if (!fromProp) {\n        continue;\n      }\n\n      // consider px values\n      if (is.number(fromProp.pfValue) && is.number(toProp.pfValue)) {\n        diff = toProp.pfValue - fromProp.pfValue; // nonzero is truthy\n        initVal = fromProp.pfValue + initDt * diff;\n\n        // consider numerical values\n      } else if (is.number(fromProp.value) && is.number(toProp.value)) {\n        diff = toProp.value - fromProp.value; // nonzero is truthy\n        initVal = fromProp.value + initDt * diff;\n\n        // consider colour values\n      } else if (is.array(fromProp.value) && is.array(toProp.value)) {\n        diff = fromProp.value[0] !== toProp.value[0] || fromProp.value[1] !== toProp.value[1] || fromProp.value[2] !== toProp.value[2];\n\n        initVal = fromProp.strValue;\n      }\n\n      // the previous value is good for an animation only if it's different\n      if (diff) {\n        style[prop] = toProp.strValue; // to val\n        this.applyBypass(ele, prop, initVal); // from val\n        anyPrev = true;\n      }\n    } // end if props allow ani\n\n    // can't transition if there's nothing previous to transition from\n    if (!anyPrev) {\n      return;\n    }\n\n    _p.transitioning = true;\n\n    new Promise(function (resolve) {\n      if (delay > 0) {\n        ele.delayAnimation(delay).play().promise().then(resolve);\n      } else {\n        resolve();\n      }\n    }).then(function () {\n      return ele.animation({\n        style: style,\n        duration: duration,\n        easing: ele.pstyle('transition-timing-function').value,\n        queue: false\n      }).play().promise();\n    }).then(function () {\n      // if( !isBypass ){\n      self.removeBypasses(ele, props);\n      ele.emitAndNotify('style');\n      // }\n\n      _p.transitioning = false;\n    });\n  } else if (_p.transitioning) {\n    this.removeBypasses(ele, props);\n    ele.emitAndNotify('style');\n\n    _p.transitioning = false;\n  }\n};\n\nstyfn.checkZOrderTrigger = function (ele, name, fromValue, toValue) {\n  var prop = this.properties[name];\n\n  if (prop.triggersZOrder != null && (fromValue == null || prop.triggersZOrder(fromValue, toValue))) {\n    this._private.cy.notify({\n      type: 'zorder',\n      eles: ele\n    });\n  }\n};\n\nmodule.exports = styfn;\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\nvar util = __webpack_require__(1);\n\nvar styfn = {};\n\n// bypasses are applied to an existing style on an element, and just tacked on temporarily\n// returns true iff application was successful for at least 1 specified property\nstyfn.applyBypass = function (eles, name, value, updateTransitions) {\n  var self = this;\n  var props = [];\n  var isBypass = true;\n\n  // put all the properties (can specify one or many) in an array after parsing them\n  if (name === '*' || name === '**') {\n    // apply to all property names\n\n    if (value !== undefined) {\n      for (var i = 0; i < self.properties.length; i++) {\n        var prop = self.properties[i];\n        var _name = prop.name;\n\n        var parsedProp = this.parse(_name, value, true);\n\n        if (parsedProp) {\n          props.push(parsedProp);\n        }\n      }\n    }\n  } else if (is.string(name)) {\n    // then parse the single property\n    var _parsedProp = this.parse(name, value, true);\n\n    if (_parsedProp) {\n      props.push(_parsedProp);\n    }\n  } else if (is.plainObject(name)) {\n    // then parse each property\n    var specifiedProps = name;\n    updateTransitions = value;\n\n    var names = Object.keys(specifiedProps);\n\n    for (var _i = 0; _i < names.length; _i++) {\n      var _name2 = names[_i];\n      var _prop = self.properties[_name2];\n      var _value = specifiedProps[_name2];\n\n      if (_value === undefined) {\n        // try camel case name too\n        _value = specifiedProps[util.dash2camel(_name2)];\n      }\n\n      if (_value !== undefined) {\n        var _parsedProp2 = this.parse(_name2, _value, true);\n\n        if (_parsedProp2) {\n          props.push(_parsedProp2);\n        }\n      }\n    }\n  } else {\n    // can't do anything without well defined properties\n    return false;\n  }\n\n  // we've failed if there are no valid properties\n  if (props.length === 0) {\n    return false;\n  }\n\n  // now, apply the bypass properties on the elements\n  var ret = false; // return true if at least one succesful bypass applied\n  for (var _i2 = 0; _i2 < eles.length; _i2++) {\n    // for each ele\n    var ele = eles[_i2];\n    var diffProps = {};\n    var diffProp = void 0;\n\n    for (var j = 0; j < props.length; j++) {\n      // for each prop\n      var _prop2 = props[j];\n\n      if (updateTransitions) {\n        var prevProp = ele.pstyle(_prop2.name);\n        diffProp = diffProps[_prop2.name] = { prev: prevProp };\n      }\n\n      ret = this.applyParsedProperty(ele, _prop2) || ret;\n\n      if (updateTransitions) {\n        diffProp.next = ele.pstyle(_prop2.name);\n      }\n    } // for props\n\n    if (ret) {\n      this.updateStyleHints(ele);\n    }\n\n    if (updateTransitions) {\n      this.updateTransitions(ele, diffProps, isBypass);\n    }\n  } // for eles\n\n  return ret;\n};\n\n// only useful in specific cases like animation\nstyfn.overrideBypass = function (eles, name, value) {\n  name = util.camel2dash(name);\n\n  for (var i = 0; i < eles.length; i++) {\n    var ele = eles[i];\n    var prop = ele._private.style[name];\n    var type = this.properties[name].type;\n    var isColor = type.color;\n    var isMulti = type.mutiple;\n\n    if (!prop || !prop.bypass) {\n      // need a bypass if one doesn't exist\n      this.applyBypass(ele, name, value);\n      continue;\n    }\n\n    var oldValue = prop.pfValue != null ? prop.pfValue : prop.value;\n\n    prop.value = value;\n\n    if (prop.pfValue != null) {\n      prop.pfValue = value;\n    }\n\n    if (isColor) {\n      prop.strValue = 'rgb(' + value.join(',') + ')';\n    } else if (isMulti) {\n      prop.strValue = value.join(' ');\n    } else {\n      prop.strValue = '' + value;\n    }\n\n    this.checkZOrderTrigger(ele, name, oldValue, value);\n  }\n};\n\nstyfn.removeAllBypasses = function (eles, updateTransitions) {\n  return this.removeBypasses(eles, this.propertyNames, updateTransitions);\n};\n\nstyfn.removeBypasses = function (eles, props, updateTransitions) {\n  var isBypass = true;\n\n  for (var j = 0; j < eles.length; j++) {\n    var ele = eles[j];\n    var diffProps = {};\n\n    for (var i = 0; i < props.length; i++) {\n      var name = props[i];\n      var prop = this.properties[name];\n      var prevProp = ele.pstyle(prop.name);\n\n      if (!prevProp || !prevProp.bypass) {\n        // if a bypass doesn't exist for the prop, nothing needs to be removed\n        continue;\n      }\n\n      var value = ''; // empty => remove bypass\n      var parsedProp = this.parse(name, value, true);\n      var diffProp = diffProps[prop.name] = { prev: prevProp };\n\n      this.applyParsedProperty(ele, parsedProp);\n\n      diffProp.next = ele.pstyle(prop.name);\n    } // for props\n\n    this.updateStyleHints(ele);\n\n    if (updateTransitions) {\n      this.updateTransitions(ele, diffProps, isBypass);\n    }\n  } // for eles\n};\n\nmodule.exports = styfn;\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar window = __webpack_require__(4);\n\nvar styfn = {};\n\n// gets what an em size corresponds to in pixels relative to a dom element\nstyfn.getEmSizeInPixels = function () {\n  var px = this.containerCss('font-size');\n\n  if (px != null) {\n    return parseFloat(px);\n  } else {\n    return 1; // for headless\n  }\n};\n\n// gets css property from the core container\nstyfn.containerCss = function (propName) {\n  var cy = this._private.cy;\n  var domElement = cy.container();\n\n  if (window && domElement && window.getComputedStyle) {\n    return window.getComputedStyle(domElement).getPropertyValue(propName);\n  }\n};\n\nmodule.exports = styfn;\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar is = __webpack_require__(0);\n\nvar styfn = {};\n\n// gets the rendered style for an element\nstyfn.getRenderedStyle = function (ele, prop) {\n  if (prop) {\n    return this.getStylePropertyValue(ele, prop, true);\n  } else {\n    return this.getRawStyle(ele, true);\n  }\n};\n\n// gets the raw style for an element\nstyfn.getRawStyle = function (ele, isRenderedVal) {\n  var self = this;\n\n  ele = ele[0]; // insure it's an element\n\n  if (ele) {\n    var rstyle = {};\n\n    for (var i = 0; i < self.properties.length; i++) {\n      var prop = self.properties[i];\n      var val = self.getStylePropertyValue(ele, prop.name, isRenderedVal);\n\n      if (val != null) {\n        rstyle[prop.name] = val;\n        rstyle[util.dash2camel(prop.name)] = val;\n      }\n    }\n\n    return rstyle;\n  }\n};\n\nstyfn.getIndexedStyle = function (ele, property, subproperty, index) {\n  var pstyle = ele.pstyle(property)[subproperty][index];\n  return pstyle != null ? pstyle : ele.cy().style().getDefaultProperty(property)[subproperty][0];\n};\n\nstyfn.getStylePropertyValue = function (ele, propName, isRenderedVal) {\n  var self = this;\n\n  ele = ele[0]; // insure it's an element\n\n  if (ele) {\n    var prop = self.properties[propName];\n\n    if (prop.alias) {\n      prop = prop.pointsTo;\n    }\n\n    var type = prop.type;\n    var styleProp = ele.pstyle(prop.name);\n    var zoom = ele.cy().zoom();\n\n    if (styleProp) {\n      var units = styleProp.units ? type.implicitUnits || 'px' : null;\n      var val = units ? [].concat(styleProp.pfValue).map(function (pfValue) {\n        return pfValue * (isRenderedVal ? zoom : 1) + units;\n      }).join(' ') : styleProp.strValue;\n\n      return val;\n    }\n  }\n};\n\nstyfn.getAnimationStartStyle = function (ele, aniProps) {\n  var rstyle = {};\n\n  for (var i = 0; i < aniProps.length; i++) {\n    var aniProp = aniProps[i];\n    var name = aniProp.name;\n\n    var styleProp = ele.pstyle(name);\n\n    if (styleProp !== undefined) {\n      // then make a prop of it\n      if (is.plainObject(styleProp)) {\n        styleProp = this.parse(name, styleProp.strValue);\n      } else {\n        styleProp = this.parse(name, styleProp);\n      }\n    }\n\n    if (styleProp) {\n      rstyle[name] = styleProp;\n    }\n  }\n\n  return rstyle;\n};\n\nstyfn.getPropsList = function (propsObj) {\n  var self = this;\n  var rstyle = [];\n  var style = propsObj;\n  var props = self.properties;\n\n  if (style) {\n    var names = Object.keys(style);\n\n    for (var i = 0; i < names.length; i++) {\n      var name = names[i];\n      var val = style[name];\n      var prop = props[name] || props[util.camel2dash(name)];\n      var styleProp = this.parse(prop.name, val);\n\n      if (styleProp) {\n        rstyle.push(styleProp);\n      }\n    }\n  }\n\n  return rstyle;\n};\n\nmodule.exports = styfn;\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar styfn = {};\n\nstyfn.appendFromJson = function (json) {\n  var style = this;\n\n  for (var i = 0; i < json.length; i++) {\n    var context = json[i];\n    var selector = context.selector;\n    var props = context.style || context.css;\n    var names = Object.keys(props);\n\n    style.selector(selector); // apply selector\n\n    for (var j = 0; j < names.length; j++) {\n      var name = names[j];\n      var value = props[name];\n\n      style.css(name, value); // apply property\n    }\n  }\n\n  return style;\n};\n\n// accessible cy.style() function\nstyfn.fromJson = function (json) {\n  var style = this;\n\n  style.resetToDefault();\n  style.appendFromJson(json);\n\n  return style;\n};\n\n// get json from cy.style() api\nstyfn.json = function () {\n  var json = [];\n\n  for (var i = this.defaultLength; i < this.length; i++) {\n    var cxt = this[i];\n    var selector = cxt.selector;\n    var props = cxt.properties;\n    var css = {};\n\n    for (var j = 0; j < props.length; j++) {\n      var prop = props[j];\n      css[prop.name] = prop.strValue;\n    }\n\n    json.push({\n      selector: !selector ? 'core' : selector.toString(),\n      style: css\n    });\n  }\n\n  return json;\n};\n\nmodule.exports = styfn;\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar is = __webpack_require__(0);\nvar math = __webpack_require__(2);\n\nvar styfn = {};\n\n// a caching layer for property parsing\nstyfn.parse = function (name, value, propIsBypass, propIsFlat) {\n  var self = this;\n\n  // function values can't be cached in all cases, and there isn't much benefit of caching them anyway\n  if (is.fn(value)) {\n    return self.parseImplWarn(name, value, propIsBypass, propIsFlat);\n  }\n\n  var flatKey = propIsFlat === 'mapping' || propIsFlat === true || propIsFlat === false || propIsFlat == null ? 'dontcare' : propIsFlat;\n  var argHash = [name, value, propIsBypass, flatKey].join('$');\n  var propCache = self.propCache = self.propCache || {};\n  var ret = void 0;\n\n  if (!(ret = propCache[argHash])) {\n    ret = propCache[argHash] = self.parseImplWarn(name, value, propIsBypass, propIsFlat);\n  }\n\n  // - bypasses can't be shared b/c the value can be changed by animations or otherwise overridden\n  // - mappings can't be shared b/c mappings are per-element\n  if (propIsBypass || propIsFlat === 'mapping') {\n    // need a copy since props are mutated later in their lifecycles\n    ret = util.copy(ret);\n\n    if (ret) {\n      ret.value = util.copy(ret.value); // because it could be an array, e.g. colour\n    }\n  }\n\n  return ret;\n};\n\nstyfn.parseImplWarn = function (name, value, propIsBypass, propIsFlat) {\n  var prop = this.parseImpl(name, value, propIsBypass, propIsFlat);\n\n  if (!prop && value != null) {\n    util.error('The style property `%s: %s` is invalid', name, value);\n  }\n\n  return prop;\n};\n\n// parse a property; return null on invalid; return parsed property otherwise\n// fields :\n// - name : the name of the property\n// - value : the parsed, native-typed value of the property\n// - strValue : a string value that represents the property value in valid css\n// - bypass : true iff the property is a bypass property\nstyfn.parseImpl = function (name, value, propIsBypass, propIsFlat) {\n  var self = this;\n\n  name = util.camel2dash(name); // make sure the property name is in dash form (e.g. 'property-name' not 'propertyName')\n\n  var property = self.properties[name];\n  var passedValue = value;\n  var types = self.types;\n\n  if (!property) {\n    return null;\n  } // return null on property of unknown name\n  if (value === undefined || value === null) {\n    return null;\n  } // can't assign null\n\n  // the property may be an alias\n  if (property.alias) {\n    property = property.pointsTo;\n    name = property.name;\n  }\n\n  var valueIsString = is.string(value);\n  if (valueIsString) {\n    // trim the value to make parsing easier\n    value = value.trim();\n  }\n\n  var type = property.type;\n  if (!type) {\n    return null;\n  } // no type, no luck\n\n  // check if bypass is null or empty string (i.e. indication to delete bypass property)\n  if (propIsBypass && (value === '' || value === null)) {\n    return {\n      name: name,\n      value: value,\n      bypass: true,\n      deleteBypass: true\n    };\n  }\n\n  // check if value is a function used as a mapper\n  if (is.fn(value)) {\n    return {\n      name: name,\n      value: value,\n      strValue: 'fn',\n      mapped: types.fn,\n      bypass: propIsBypass\n    };\n  }\n\n  // check if value is mapped\n  var data = void 0,\n      mapData = void 0;\n  if (!valueIsString || propIsFlat) {\n    // then don't bother to do the expensive regex checks\n\n  } else if (data = new RegExp(types.data.regex).exec(value)) {\n    if (propIsBypass) {\n      return false;\n    } // mappers not allowed in bypass\n\n    var mapped = types.data;\n\n    return {\n      name: name,\n      value: data,\n      strValue: '' + value,\n      mapped: mapped,\n      field: data[1],\n      bypass: propIsBypass\n    };\n  } else if (mapData = new RegExp(types.mapData.regex).exec(value)) {\n    if (propIsBypass) {\n      return false;\n    } // mappers not allowed in bypass\n    if (type.multiple) {\n      return false;\n    } // impossible to map to num\n\n    var _mapped = types.mapData;\n\n    // we can map only if the type is a colour or a number\n    if (!(type.color || type.number)) {\n      return false;\n    }\n\n    var valueMin = this.parse(name, mapData[4]); // parse to validate\n    if (!valueMin || valueMin.mapped) {\n      return false;\n    } // can't be invalid or mapped\n\n    var valueMax = this.parse(name, mapData[5]); // parse to validate\n    if (!valueMax || valueMax.mapped) {\n      return false;\n    } // can't be invalid or mapped\n\n    // check if valueMin and valueMax are the same\n    if (valueMin.value === valueMax.value) {\n      return false; // can't make much of a mapper without a range\n    } else if (type.color) {\n      var c1 = valueMin.value;\n      var c2 = valueMax.value;\n\n      var same = c1[0] === c2[0] // red\n      && c1[1] === c2[1] // green\n      && c1[2] === c2[2] // blue\n      && ( // optional alpha\n      c1[3] === c2[3] // same alpha outright\n      || (c1[3] == null || c1[3] === 1) && ( // full opacity for colour 1?\n      c2[3] == null || c2[3] === 1) // full opacity for colour 2?\n      );\n\n      if (same) {\n        return false;\n      } // can't make a mapper without a range\n    }\n\n    return {\n      name: name,\n      value: mapData,\n      strValue: '' + value,\n      mapped: _mapped,\n      field: mapData[1],\n      fieldMin: parseFloat(mapData[2]), // min & max are numeric\n      fieldMax: parseFloat(mapData[3]),\n      valueMin: valueMin.value,\n      valueMax: valueMax.value,\n      bypass: propIsBypass\n    };\n  }\n\n  if (type.multiple && propIsFlat !== 'multiple') {\n    var vals = void 0;\n\n    if (valueIsString) {\n      vals = value.split(/\\s+/);\n    } else if (is.array(value)) {\n      vals = value;\n    } else {\n      vals = [value];\n    }\n\n    if (type.evenMultiple && vals.length % 2 !== 0) {\n      return null;\n    }\n\n    var valArr = [];\n    var unitsArr = [];\n    var pfValArr = [];\n    var hasEnum = false;\n\n    for (var i = 0; i < vals.length; i++) {\n      var p = self.parse(name, vals[i], propIsBypass, 'multiple');\n\n      hasEnum = hasEnum || is.string(p.value);\n\n      valArr.push(p.value);\n      pfValArr.push(p.pfValue != null ? p.pfValue : p.value);\n      unitsArr.push(p.units);\n    }\n\n    if (type.validate && !type.validate(valArr, unitsArr)) {\n      return null;\n    }\n\n    if (type.singleEnum && hasEnum) {\n      if (valArr.length === 1 && is.string(valArr[0])) {\n        return {\n          name: name,\n          value: valArr[0],\n          strValue: valArr[0],\n          bypass: propIsBypass\n        };\n      } else {\n        return null;\n      }\n    }\n\n    return {\n      name: name,\n      value: valArr,\n      pfValue: pfValArr,\n      strValue: valArr.join(' '),\n      bypass: propIsBypass,\n      units: unitsArr\n    };\n  }\n\n  // several types also allow enums\n  var checkEnums = function checkEnums() {\n    for (var _i = 0; _i < type.enums.length; _i++) {\n      var en = type.enums[_i];\n\n      if (en === value) {\n        return {\n          name: name,\n          value: value,\n          strValue: '' + value,\n          bypass: propIsBypass\n        };\n      }\n    }\n\n    return null;\n  };\n\n  // check the type and return the appropriate object\n  if (type.number) {\n    var units = void 0;\n    var implicitUnits = 'px'; // not set => px\n\n    if (type.units) {\n      // use specified units if set\n      units = type.units;\n    }\n\n    if (type.implicitUnits) {\n      implicitUnits = type.implicitUnits;\n    }\n\n    if (!type.unitless) {\n      if (valueIsString) {\n        var unitsRegex = 'px|em' + (type.allowPercent ? '|\\\\%' : '');\n        if (units) {\n          unitsRegex = units;\n        } // only allow explicit units if so set\n        var match = value.match('^(' + util.regex.number + ')(' + unitsRegex + ')?' + '$');\n\n        if (match) {\n          value = match[1];\n          units = match[2] || implicitUnits;\n        }\n      } else if (!units || type.implicitUnits) {\n        units = implicitUnits; // implicitly px if unspecified\n      }\n    }\n\n    value = parseFloat(value);\n\n    // if not a number and enums not allowed, then the value is invalid\n    if (isNaN(value) && type.enums === undefined) {\n      return null;\n    }\n\n    // check if this number type also accepts special keywords in place of numbers\n    // (i.e. `left`, `auto`, etc)\n    if (isNaN(value) && type.enums !== undefined) {\n      value = passedValue;\n\n      return checkEnums();\n    }\n\n    // check if value must be an integer\n    if (type.integer && !is.integer(value)) {\n      return null;\n    }\n\n    // check value is within range\n    if (type.min !== undefined && (value < type.min || type.strictMin && value === type.min) || type.max !== undefined && (value > type.max || type.strictMax && value === type.max)) {\n      return null;\n    }\n\n    var ret = {\n      name: name,\n      value: value,\n      strValue: '' + value + (units ? units : ''),\n      units: units,\n      bypass: propIsBypass\n    };\n\n    // normalise value in pixels\n    if (type.unitless || units !== 'px' && units !== 'em') {\n      ret.pfValue = value;\n    } else {\n      ret.pfValue = units === 'px' || !units ? value : this.getEmSizeInPixels() * value;\n    }\n\n    // normalise value in ms\n    if (units === 'ms' || units === 's') {\n      ret.pfValue = units === 'ms' ? value : 1000 * value;\n    }\n\n    // normalise value in rad\n    if (units === 'deg' || units === 'rad') {\n      ret.pfValue = units === 'rad' ? value : math.deg2rad(value);\n    }\n\n    // normalize value in %\n    if (units === '%') {\n      ret.pfValue = value / 100;\n    }\n\n    return ret;\n  } else if (type.propList) {\n\n    var props = [];\n    var propsStr = '' + value;\n\n    if (propsStr === 'none') {\n      // leave empty\n\n    } else {\n      // go over each prop\n\n      var propsSplit = propsStr.split(',');\n      for (var _i2 = 0; _i2 < propsSplit.length; _i2++) {\n        var propName = propsSplit[_i2].trim();\n\n        if (self.properties[propName]) {\n          props.push(propName);\n        }\n      }\n\n      if (props.length === 0) {\n        return null;\n      }\n    }\n\n    return {\n      name: name,\n      value: props,\n      strValue: props.length === 0 ? 'none' : props.join(', '),\n      bypass: propIsBypass\n    };\n  } else if (type.color) {\n    var tuple = util.color2tuple(value);\n\n    if (!tuple) {\n      return null;\n    }\n\n    return {\n      name: name,\n      value: tuple,\n      pfValue: tuple,\n      strValue: '' + value,\n      bypass: propIsBypass\n    };\n  } else if (type.regex || type.regexes) {\n\n    // first check enums\n    if (type.enums) {\n      var enumProp = checkEnums();\n\n      if (enumProp) {\n        return enumProp;\n      }\n    }\n\n    var regexes = type.regexes ? type.regexes : [type.regex];\n\n    for (var _i3 = 0; _i3 < regexes.length; _i3++) {\n      var regex = new RegExp(regexes[_i3]); // make a regex from the type string\n      var m = regex.exec(value);\n\n      if (m) {\n        // regex matches\n        return {\n          name: name,\n          value: type.singleRegexMatchValue ? m[1] : m,\n          strValue: '' + value,\n          bypass: propIsBypass\n        };\n      }\n    }\n\n    return null; // didn't match any\n  } else if (type.string) {\n    // just return\n    return {\n      name: name,\n      value: '' + value,\n      strValue: '' + value,\n      bypass: propIsBypass\n    };\n  } else if (type.enums) {\n    // check enums last because it's a combo type in others\n    return checkEnums();\n  } else {\n    return null; // not a type we can handle\n  }\n};\n\nmodule.exports = styfn;\n\n/***/ }),\n/* 128 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar is = __webpack_require__(0);\n\nvar styfn = {};\n\n(function () {\n  var number = util.regex.number;\n  var rgba = util.regex.rgbaNoBackRefs;\n  var hsla = util.regex.hslaNoBackRefs;\n  var hex3 = util.regex.hex3;\n  var hex6 = util.regex.hex6;\n  var data = function data(prefix) {\n    return '^' + prefix + '\\\\s*\\\\(\\\\s*([\\\\w\\\\.]+)\\\\s*\\\\)$';\n  };\n  var mapData = function mapData(prefix) {\n    var mapArg = number + '|\\\\w+|' + rgba + '|' + hsla + '|' + hex3 + '|' + hex6;\n    return '^' + prefix + '\\\\s*\\\\(([\\\\w\\\\.]+)\\\\s*\\\\,\\\\s*(' + number + ')\\\\s*\\\\,\\\\s*(' + number + ')\\\\s*,\\\\s*(' + mapArg + ')\\\\s*\\\\,\\\\s*(' + mapArg + ')\\\\)$';\n  };\n  var urlRegexes = ['^url\\\\s*\\\\(\\\\s*[\\'\"]?(.+?)[\\'\"]?\\\\s*\\\\)$', '^(none)$', '^(.+)$'];\n\n  // each visual style property has a type and needs to be validated according to it\n  styfn.types = {\n    time: { number: true, min: 0, units: 's|ms', implicitUnits: 'ms' },\n    percent: { number: true, min: 0, max: 100, units: '%', implicitUnits: '%' },\n    zeroOneNumber: { number: true, min: 0, max: 1, unitless: true },\n    zeroOneNumbers: { number: true, min: 0, max: 1, unitless: true, multiple: true },\n    nOneOneNumber: { number: true, min: -1, max: 1, unitless: true },\n    nonNegativeInt: { number: true, min: 0, integer: true, unitless: true },\n    position: { enums: ['parent', 'origin'] },\n    nodeSize: { number: true, min: 0, enums: ['label'] },\n    number: { number: true, unitless: true },\n    numbers: { number: true, unitless: true, multiple: true },\n    positiveNumber: { number: true, unitless: true, min: 0, strictMin: true },\n    size: { number: true, min: 0 },\n    bidirectionalSize: { number: true }, // allows negative\n    bidirectionalSizes: { number: true, multiple: true }, // allows negative\n    sizeMaybePercent: { number: true, min: 0, allowPercent: true },\n    paddingRelativeTo: { enums: ['width', 'height', 'average', 'min', 'max'] },\n    bgWH: { number: true, min: 0, allowPercent: true, enums: ['auto'], multiple: true },\n    bgPos: { number: true, allowPercent: true, multiple: true },\n    bgRelativeTo: { enums: ['inner', 'include-padding'], multiple: true },\n    bgRepeat: { enums: ['repeat', 'repeat-x', 'repeat-y', 'no-repeat'], multiple: true },\n    bgFit: { enums: ['none', 'contain', 'cover'], multiple: true },\n    bgCrossOrigin: { enums: ['anonymous', 'use-credentials'], multiple: true },\n    bgClip: { enums: ['none', 'node'] },\n    color: { color: true },\n    bool: { enums: ['yes', 'no'] },\n    lineStyle: { enums: ['solid', 'dotted', 'dashed'] },\n    borderStyle: { enums: ['solid', 'dotted', 'dashed', 'double'] },\n    curveStyle: { enums: ['bezier', 'unbundled-bezier', 'haystack', 'segments'] },\n    fontFamily: { regex: '^([\\\\w- \\\\\"]+(?:\\\\s*,\\\\s*[\\\\w- \\\\\"]+)*)$' },\n    fontletiant: { enums: ['small-caps', 'normal'] },\n    fontStyle: { enums: ['italic', 'normal', 'oblique'] },\n    fontWeight: { enums: ['normal', 'bold', 'bolder', 'lighter', '100', '200', '300', '400', '500', '600', '800', '900', 100, 200, 300, 400, 500, 600, 700, 800, 900] },\n    textDecoration: { enums: ['none', 'underline', 'overline', 'line-through'] },\n    textTransform: { enums: ['none', 'uppercase', 'lowercase'] },\n    textWrap: { enums: ['none', 'wrap', 'ellipsis'] },\n    textBackgroundShape: { enums: ['rectangle', 'roundrectangle'] },\n    nodeShape: { enums: ['rectangle', 'roundrectangle', 'cutrectangle', 'bottomroundrectangle', 'barrel', 'ellipse', 'triangle', 'square', 'pentagon', 'hexagon', 'concavehexagon', 'heptagon', 'octagon', 'tag', 'star', 'diamond', 'vee', 'rhomboid', 'polygon'] },\n    compoundIncludeLabels: { enums: ['include', 'exclude'] },\n    arrowShape: { enums: ['tee', 'triangle', 'triangle-tee', 'triangle-cross', 'triangle-backcurve', 'half-triangle-overshot', 'vee', 'square', 'circle', 'diamond', 'none'] },\n    arrowFill: { enums: ['filled', 'hollow'] },\n    display: { enums: ['element', 'none'] },\n    visibility: { enums: ['hidden', 'visible'] },\n    zCompoundDepth: { enums: ['bottom', 'orphan', 'auto', 'top'] },\n    zIndexCompare: { enums: ['auto', 'manual'] },\n    valign: { enums: ['top', 'center', 'bottom'] },\n    halign: { enums: ['left', 'center', 'right'] },\n    text: { string: true },\n    data: { mapping: true, regex: data('data') },\n    layoutData: { mapping: true, regex: data('layoutData') },\n    scratch: { mapping: true, regex: data('scratch') },\n    mapData: { mapping: true, regex: mapData('mapData') },\n    mapLayoutData: { mapping: true, regex: mapData('mapLayoutData') },\n    mapScratch: { mapping: true, regex: mapData('mapScratch') },\n    fn: { mapping: true, fn: true },\n    url: { regexes: urlRegexes, singleRegexMatchValue: true },\n    urls: { regexes: urlRegexes, singleRegexMatchValue: true, multiple: true },\n    propList: { propList: true },\n    angle: { number: true, units: 'deg|rad', implicitUnits: 'rad' },\n    textRotation: { number: true, units: 'deg|rad', implicitUnits: 'rad', enums: ['none', 'autorotate'] },\n    polygonPointList: { number: true, multiple: true, evenMultiple: true, min: -1, max: 1, unitless: true },\n    edgeDistances: { enums: ['intersection', 'node-position'] },\n    edgeEndpoint: {\n      number: true, multiple: true, units: '%|px|em|deg|rad', implicitUnits: 'px',\n      enums: ['inside-to-node', 'outside-to-node', 'outside-to-line'], singleEnum: true,\n      validate: function validate(valArr, unitsArr) {\n        switch (valArr.length) {\n          case 2:\n            // can be % or px only\n            return unitsArr[0] !== 'deg' && unitsArr[0] !== 'rad' && unitsArr[1] !== 'deg' && unitsArr[1] !== 'rad';\n          case 1:\n            // can be enum, deg, or rad only\n            return is.string(valArr[0]) || unitsArr[0] === 'deg' || unitsArr[0] === 'rad';\n          default:\n            return false;\n        }\n      }\n    },\n    easing: {\n      regexes: ['^(spring)\\\\s*\\\\(\\\\s*(' + number + ')\\\\s*,\\\\s*(' + number + ')\\\\s*\\\\)$', '^(cubic-bezier)\\\\s*\\\\(\\\\s*(' + number + ')\\\\s*,\\\\s*(' + number + ')\\\\s*,\\\\s*(' + number + ')\\\\s*,\\\\s*(' + number + ')\\\\s*\\\\)$'],\n      enums: ['linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out', 'ease-in-sine', 'ease-out-sine', 'ease-in-out-sine', 'ease-in-quad', 'ease-out-quad', 'ease-in-out-quad', 'ease-in-cubic', 'ease-out-cubic', 'ease-in-out-cubic', 'ease-in-quart', 'ease-out-quart', 'ease-in-out-quart', 'ease-in-quint', 'ease-out-quint', 'ease-in-out-quint', 'ease-in-expo', 'ease-out-expo', 'ease-in-out-expo', 'ease-in-circ', 'ease-out-circ', 'ease-in-out-circ']\n    }\n  };\n\n  var zOrderDiff = {\n    zeroNonZero: function zeroNonZero(val1, val2) {\n      if (val1 === 0 && val2 !== 0) {\n        return true;\n      } else if (val1 !== 0 && val2 === 0) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    anyDiff: function anyDiff(val1, val2) {\n      return val1 !== val2;\n    }\n  };\n\n  var zd = zOrderDiff;\n\n  // define visual style properties\n  var t = styfn.types;\n  var props = styfn.properties = [\n  // main label\n  { name: 'label', type: t.text }, { name: 'text-rotation', type: t.textRotation }, { name: 'text-margin-x', type: t.bidirectionalSize }, { name: 'text-margin-y', type: t.bidirectionalSize },\n\n  // source label\n  { name: 'source-label', type: t.text }, { name: 'source-text-rotation', type: t.textRotation }, { name: 'source-text-margin-x', type: t.bidirectionalSize }, { name: 'source-text-margin-y', type: t.bidirectionalSize }, { name: 'source-text-offset', type: t.size },\n\n  // target label\n  { name: 'target-label', type: t.text }, { name: 'target-text-rotation', type: t.textRotation }, { name: 'target-text-margin-x', type: t.bidirectionalSize }, { name: 'target-text-margin-y', type: t.bidirectionalSize }, { name: 'target-text-offset', type: t.size },\n\n  // common label style\n  { name: 'text-valign', type: t.valign }, { name: 'text-halign', type: t.halign }, { name: 'color', type: t.color }, { name: 'text-outline-color', type: t.color }, { name: 'text-outline-width', type: t.size }, { name: 'text-outline-opacity', type: t.zeroOneNumber }, { name: 'text-opacity', type: t.zeroOneNumber }, { name: 'text-background-color', type: t.color }, { name: 'text-background-opacity', type: t.zeroOneNumber }, { name: 'text-background-padding', type: t.size }, { name: 'text-border-opacity', type: t.zeroOneNumber }, { name: 'text-border-color', type: t.color }, { name: 'text-border-width', type: t.size }, { name: 'text-border-style', type: t.borderStyle }, { name: 'text-background-shape', type: t.textBackgroundShape },\n  // { name: 'text-decoration', type: t.textDecoration }, // not supported in canvas\n  { name: 'text-transform', type: t.textTransform }, { name: 'text-wrap', type: t.textWrap }, { name: 'text-max-width', type: t.size }, { name: 'text-events', type: t.bool }, { name: 'font-family', type: t.fontFamily }, { name: 'font-style', type: t.fontStyle },\n  // { name: 'font-letiant', type: t.fontletiant }, // not useful\n  { name: 'font-weight', type: t.fontWeight }, { name: 'font-size', type: t.size }, { name: 'min-zoomed-font-size', type: t.size },\n\n  // behaviour\n  { name: 'events', type: t.bool },\n\n  // visibility\n  { name: 'display', type: t.display, triggersZOrder: zd.anyDiff }, { name: 'visibility', type: t.visibility, triggersZOrder: zd.anyDiff }, { name: 'opacity', type: t.zeroOneNumber, triggersZOrder: zd.zeroNonZero }, { name: 'z-compound-depth', type: t.zCompoundDepth, triggersZOrder: zd.anyDiff }, { name: 'z-index-compare', type: t.zIndexCompare, triggersZOrder: zd.anyDiff }, { name: 'z-index', type: t.nonNegativeInt, triggersZOrder: zd.anyDiff },\n\n  // overlays\n  { name: 'overlay-padding', type: t.size }, { name: 'overlay-color', type: t.color }, { name: 'overlay-opacity', type: t.zeroOneNumber },\n\n  // transition anis\n  { name: 'transition-property', type: t.propList }, { name: 'transition-duration', type: t.time }, { name: 'transition-delay', type: t.time }, { name: 'transition-timing-function', type: t.easing },\n\n  // node body\n  { name: 'height', type: t.nodeSize }, { name: 'width', type: t.nodeSize }, { name: 'shape', type: t.nodeShape }, { name: 'shape-polygon-points', type: t.polygonPointList }, { name: 'background-color', type: t.color }, { name: 'background-opacity', type: t.zeroOneNumber }, { name: 'background-blacken', type: t.nOneOneNumber }, { name: 'padding', type: t.sizeMaybePercent }, { name: 'padding-relative-to', type: t.paddingRelativeTo },\n\n  // node border\n  { name: 'border-color', type: t.color }, { name: 'border-opacity', type: t.zeroOneNumber }, { name: 'border-width', type: t.size }, { name: 'border-style', type: t.borderStyle },\n\n  // node background images\n  { name: 'background-image', type: t.urls }, { name: 'background-image-crossorigin', type: t.bgCrossOrigin }, { name: 'background-image-opacity', type: t.zeroOneNumbers }, { name: 'background-position-x', type: t.bgPos }, { name: 'background-position-y', type: t.bgPos }, { name: 'background-width-relative-to', type: t.bgRelativeTo }, { name: 'background-height-relative-to', type: t.bgRelativeTo }, { name: 'background-repeat', type: t.bgRepeat }, { name: 'background-fit', type: t.bgFit }, { name: 'background-clip', type: t.bgClip }, { name: 'background-width', type: t.bgWH }, { name: 'background-height', type: t.bgWH },\n\n  // compound props\n  { name: 'position', type: t.position }, { name: 'compound-sizing-wrt-labels', type: t.compoundIncludeLabels }, { name: 'min-width', type: t.size }, { name: 'min-width-bias-left', type: t.sizeMaybePercent }, { name: 'min-width-bias-right', type: t.sizeMaybePercent }, { name: 'min-height', type: t.size }, { name: 'min-height-bias-top', type: t.sizeMaybePercent }, { name: 'min-height-bias-bottom', type: t.sizeMaybePercent },\n\n  // edge line\n  { name: 'line-style', type: t.lineStyle }, { name: 'line-color', type: t.color }, { name: 'curve-style', type: t.curveStyle }, { name: 'haystack-radius', type: t.zeroOneNumber }, { name: 'source-endpoint', type: t.edgeEndpoint }, { name: 'target-endpoint', type: t.edgeEndpoint }, { name: 'control-point-step-size', type: t.size }, { name: 'control-point-distances', type: t.bidirectionalSizes }, { name: 'control-point-weights', type: t.numbers }, { name: 'segment-distances', type: t.bidirectionalSizes }, { name: 'segment-weights', type: t.numbers }, { name: 'edge-distances', type: t.edgeDistances }, { name: 'arrow-scale', type: t.positiveNumber }, { name: 'loop-direction', type: t.angle }, { name: 'loop-sweep', type: t.angle }, { name: 'source-distance-from-node', type: t.size }, { name: 'target-distance-from-node', type: t.size },\n\n  // ghost properties\n  { name: 'ghost', type: t.bool }, { name: 'ghost-offset-x', type: t.bidirectionalSize }, { name: 'ghost-offset-y', type: t.bidirectionalSize }, { name: 'ghost-opacity', type: t.zeroOneNumber },\n\n  // these are just for the core\n  { name: 'selection-box-color', type: t.color }, { name: 'selection-box-opacity', type: t.zeroOneNumber }, { name: 'selection-box-border-color', type: t.color }, { name: 'selection-box-border-width', type: t.size }, { name: 'active-bg-color', type: t.color }, { name: 'active-bg-opacity', type: t.zeroOneNumber }, { name: 'active-bg-size', type: t.size }, { name: 'outside-texture-bg-color', type: t.color }, { name: 'outside-texture-bg-opacity', type: t.zeroOneNumber }];\n\n  // define aliases\n  var aliases = styfn.aliases = [{ name: 'content', pointsTo: 'label' }, { name: 'control-point-distance', pointsTo: 'control-point-distances' }, { name: 'control-point-weight', pointsTo: 'control-point-weights' }, { name: 'edge-text-rotation', pointsTo: 'text-rotation' }, { name: 'padding-left', pointsTo: 'padding' }, { name: 'padding-right', pointsTo: 'padding' }, { name: 'padding-top', pointsTo: 'padding' }, { name: 'padding-bottom', pointsTo: 'padding' }];\n\n  // pie backgrounds for nodes\n  styfn.pieBackgroundN = 16; // because the pie properties are numbered, give access to a constant N (for renderer use)\n  props.push({ name: 'pie-size', type: t.sizeMaybePercent });\n  for (var i = 1; i <= styfn.pieBackgroundN; i++) {\n    props.push({ name: 'pie-' + i + '-background-color', type: t.color });\n    props.push({ name: 'pie-' + i + '-background-size', type: t.percent });\n    props.push({ name: 'pie-' + i + '-background-opacity', type: t.zeroOneNumber });\n  }\n\n  // edge arrows\n  var arrowPrefixes = styfn.arrowPrefixes = ['source', 'mid-source', 'target', 'mid-target'];\n  [{ name: 'arrow-shape', type: t.arrowShape }, { name: 'arrow-color', type: t.color }, { name: 'arrow-fill', type: t.arrowFill }].forEach(function (prop) {\n    arrowPrefixes.forEach(function (prefix) {\n      var name = prefix + '-' + prop.name;\n      var type = prop.type;\n\n      props.push({ name: name, type: type });\n    });\n  }, {});\n\n  // list of property names\n  styfn.propertyNames = props.map(function (p) {\n    return p.name;\n  });\n\n  // allow access of properties by name ( e.g. style.properties.height )\n  for (var _i = 0; _i < props.length; _i++) {\n    var prop = props[_i];\n\n    props[prop.name] = prop; // allow lookup by name\n  }\n\n  // map aliases\n  for (var _i2 = 0; _i2 < aliases.length; _i2++) {\n    var alias = aliases[_i2];\n    var pointsToProp = props[alias.pointsTo];\n    var aliasProp = {\n      name: alias.name,\n      alias: true,\n      pointsTo: pointsToProp\n    };\n\n    // add alias prop for parsing\n    props.push(aliasProp);\n\n    props[alias.name] = aliasProp; // allow lookup by name\n  }\n})();\n\nstyfn.getDefaultProperty = function (name) {\n  return this.getDefaultProperties()[name];\n};\n\nstyfn.getDefaultProperties = util.memoize(function () {\n  var rawProps = util.extend({\n    // common node/edge props\n    'events': 'yes',\n    'text-events': 'no',\n    'text-valign': 'top',\n    'text-halign': 'center',\n    'color': '#000',\n    'text-outline-color': '#000',\n    'text-outline-width': 0,\n    'text-outline-opacity': 1,\n    'text-opacity': 1,\n    'text-decoration': 'none',\n    'text-transform': 'none',\n    'text-wrap': 'none',\n    'text-max-width': 9999,\n    'text-background-color': '#000',\n    'text-background-opacity': 0,\n    'text-background-shape': 'rectangle',\n    'text-background-padding': 0,\n    'text-border-opacity': 0,\n    'text-border-width': 0,\n    'text-border-style': 'solid',\n    'text-border-color': '#000',\n    'font-family': 'Helvetica Neue, Helvetica, sans-serif',\n    'font-style': 'normal',\n    // 'font-letiant': fontletiant,\n    'font-weight': 'normal',\n    'font-size': 16,\n    'min-zoomed-font-size': 0,\n    'text-rotation': 'none',\n    'source-text-rotation': 'none',\n    'target-text-rotation': 'none',\n    'visibility': 'visible',\n    'display': 'element',\n    'opacity': 1,\n    'z-compound-depth': 'auto',\n    'z-index-compare': 'auto',\n    'z-index': 0,\n    'label': '',\n    'text-margin-x': 0,\n    'text-margin-y': 0,\n    'source-label': '',\n    'source-text-offset': 0,\n    'source-text-margin-x': 0,\n    'source-text-margin-y': 0,\n    'target-label': '',\n    'target-text-offset': 0,\n    'target-text-margin-x': 0,\n    'target-text-margin-y': 0,\n    'overlay-opacity': 0,\n    'overlay-color': '#000',\n    'overlay-padding': 10,\n    'transition-property': 'none',\n    'transition-duration': 0,\n    'transition-delay': 0,\n    'transition-timing-function': 'linear',\n\n    // node props\n    'background-blacken': 0,\n    'background-color': '#999',\n    'background-opacity': 1,\n    'background-image': 'none',\n    'background-image-crossorigin': 'anonymous',\n    'background-image-opacity': 1,\n    'background-position-x': '50%',\n    'background-position-y': '50%',\n    'background-width-relative-to': 'include-padding',\n    'background-height-relative-to': 'include-padding',\n    'background-repeat': 'no-repeat',\n    'background-fit': 'none',\n    'background-clip': 'node',\n    'background-width': 'auto',\n    'background-height': 'auto',\n    'border-color': '#000',\n    'border-opacity': 1,\n    'border-width': 0,\n    'border-style': 'solid',\n    'height': 30,\n    'width': 30,\n    'shape': 'ellipse',\n    'shape-polygon-points': '-1, -1,   1, -1,   1, 1,   -1, 1',\n\n    // ghost props\n    'ghost': 'no',\n    'ghost-offset-y': 0,\n    'ghost-offset-x': 0,\n    'ghost-opacity': 0,\n\n    // compound props\n    'padding': 0,\n    'padding-relative-to': 'width',\n    'position': 'origin',\n    'compound-sizing-wrt-labels': 'include',\n    'min-width': 0,\n    'min-width-bias-left': 0,\n    'min-width-bias-right': 0,\n    'min-height': 0,\n    'min-height-bias-top': 0,\n    'min-height-bias-bottom': 0\n  }, {\n    // node pie bg\n    'pie-size': '100%'\n  }, [{ name: 'pie-{{i}}-background-color', value: 'black' }, { name: 'pie-{{i}}-background-size', value: '0%' }, { name: 'pie-{{i}}-background-opacity', value: 1 }].reduce(function (css, prop) {\n    for (var i = 1; i <= styfn.pieBackgroundN; i++) {\n      var name = prop.name.replace('{{i}}', i);\n      var val = prop.value;\n\n      css[name] = val;\n    }\n\n    return css;\n  }, {}), {\n    // edge props\n    'line-style': 'solid',\n    'line-color': '#999',\n    'control-point-step-size': 40,\n    'control-point-weights': 0.5,\n    'segment-weights': 0.5,\n    'segment-distances': 20,\n    'edge-distances': 'intersection',\n    'curve-style': 'bezier',\n    'haystack-radius': 0,\n    'arrow-scale': 1,\n    'loop-direction': '-45deg',\n    'loop-sweep': '-90deg',\n    'source-distance-from-node': 0,\n    'target-distance-from-node': 0,\n    'source-endpoint': 'outside-to-node',\n    'target-endpoint': 'outside-to-node'\n  }, [{ name: 'arrow-shape', value: 'none' }, { name: 'arrow-color', value: '#999' }, { name: 'arrow-fill', value: 'filled' }].reduce(function (css, prop) {\n    styfn.arrowPrefixes.forEach(function (prefix) {\n      var name = prefix + '-' + prop.name;\n      var val = prop.value;\n\n      css[name] = val;\n    });\n\n    return css;\n  }, {}));\n\n  var parsedProps = {};\n\n  for (var i = 0; i < this.properties.length; i++) {\n    var prop = this.properties[i];\n\n    if (prop.pointsTo) {\n      continue;\n    }\n\n    var name = prop.name;\n    var val = rawProps[name];\n    var parsedProp = this.parse(name, val);\n\n    parsedProps[name] = parsedProp;\n  }\n\n  return parsedProps;\n});\n\nstyfn.addDefaultStylesheet = function () {\n  this.selector('$node > node') // compound (parent) node properties\n  .css({\n    'shape': 'rectangle',\n    'padding': 10,\n    'background-color': '#eee',\n    'border-color': '#ccc',\n    'border-width': 1\n  }).selector('edge') // just edge properties\n  .css({\n    'width': 3,\n    'curve-style': 'haystack'\n  }).selector(':parent <-> node').css({\n    'curve-style': 'bezier',\n    'source-endpoint': 'outside-to-line',\n    'target-endpoint': 'outside-to-line'\n  }).selector(':selected').css({\n    'background-color': '#0169D9',\n    'line-color': '#0169D9',\n    'source-arrow-color': '#0169D9',\n    'target-arrow-color': '#0169D9',\n    'mid-source-arrow-color': '#0169D9',\n    'mid-target-arrow-color': '#0169D9'\n  }).selector('node:parent:selected').css({\n    'background-color': '#CCE1F9',\n    'border-color': '#aec8e5'\n  }).selector(':active').css({\n    'overlay-color': 'black',\n    'overlay-padding': 10,\n    'overlay-opacity': 0.25\n  }).selector('core') // just core properties\n  .css({\n    'selection-box-color': '#ddd',\n    'selection-box-opacity': 0.65,\n    'selection-box-border-color': '#aaa',\n    'selection-box-border-width': 1,\n    'active-bg-color': 'black',\n    'active-bg-opacity': 0.15,\n    'active-bg-size': 30,\n    'outside-texture-bg-color': '#000',\n    'outside-texture-bg-opacity': 0.125\n  });\n\n  this.defaultLength = this.length;\n};\n\nmodule.exports = styfn;\n\n/***/ }),\n/* 129 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(1);\nvar Selector = __webpack_require__(6);\n\nvar styfn = {};\n\nstyfn.appendFromString = function (string) {\n  var self = this;\n  var style = this;\n  var remaining = '' + string;\n  var selAndBlockStr = void 0;\n  var blockRem = void 0;\n  var propAndValStr = void 0;\n\n  // remove comments from the style string\n  remaining = remaining.replace(/[/][*](\\s|.)+?[*][/]/g, '');\n\n  function removeSelAndBlockFromRemaining() {\n    // remove the parsed selector and block from the remaining text to parse\n    if (remaining.length > selAndBlockStr.length) {\n      remaining = remaining.substr(selAndBlockStr.length);\n    } else {\n      remaining = '';\n    }\n  }\n\n  function removePropAndValFromRem() {\n    // remove the parsed property and value from the remaining block text to parse\n    if (blockRem.length > propAndValStr.length) {\n      blockRem = blockRem.substr(propAndValStr.length);\n    } else {\n      blockRem = '';\n    }\n  }\n\n  while (true) {\n    var nothingLeftToParse = remaining.match(/^\\s*$/);\n    if (nothingLeftToParse) {\n      break;\n    }\n\n    var selAndBlock = remaining.match(/^\\s*((?:.|\\s)+?)\\s*\\{((?:.|\\s)+?)\\}/);\n\n    if (!selAndBlock) {\n      util.error('Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: ' + remaining);\n      break;\n    }\n\n    selAndBlockStr = selAndBlock[0];\n\n    // parse the selector\n    var selectorStr = selAndBlock[1];\n    if (selectorStr !== 'core') {\n      var selector = new Selector(selectorStr);\n      if (selector._private.invalid) {\n        util.error('Skipping parsing of block: Invalid selector found in string stylesheet: ' + selectorStr);\n\n        // skip this selector and block\n        removeSelAndBlockFromRemaining();\n        continue;\n      }\n    }\n\n    // parse the block of properties and values\n    var blockStr = selAndBlock[2];\n    var invalidBlock = false;\n    blockRem = blockStr;\n    var props = [];\n\n    while (true) {\n      var _nothingLeftToParse = blockRem.match(/^\\s*$/);\n      if (_nothingLeftToParse) {\n        break;\n      }\n\n      var propAndVal = blockRem.match(/^\\s*(.+?)\\s*:\\s*(.+?)\\s*;/);\n\n      if (!propAndVal) {\n        util.error('Skipping parsing of block: Invalid formatting of style property and value definitions found in:' + blockStr);\n        invalidBlock = true;\n        break;\n      }\n\n      propAndValStr = propAndVal[0];\n      var propStr = propAndVal[1];\n      var valStr = propAndVal[2];\n\n      var prop = self.properties[propStr];\n      if (!prop) {\n        util.error('Skipping property: Invalid property name in: ' + propAndValStr);\n\n        // skip this property in the block\n        removePropAndValFromRem();\n        continue;\n      }\n\n      var parsedProp = style.parse(propStr, valStr);\n\n      if (!parsedProp) {\n        util.error('Skipping property: Invalid property definition in: ' + propAndValStr);\n\n        // skip this property in the block\n        removePropAndValFromRem();\n        continue;\n      }\n\n      props.push({\n        name: propStr,\n        val: valStr\n      });\n      removePropAndValFromRem();\n    }\n\n    if (invalidBlock) {\n      removeSelAndBlockFromRemaining();\n      break;\n    }\n\n    // put the parsed block in the style\n    style.selector(selectorStr);\n    for (var i = 0; i < props.length; i++) {\n      var _prop = props[i];\n      style.css(_prop.name, _prop.val);\n    }\n\n    removeSelAndBlockFromRemaining();\n  }\n\n  return style;\n};\n\nstyfn.fromString = function (string) {\n  var style = this;\n\n  style.resetToDefault();\n  style.appendFromString(string);\n\n  return style;\n};\n\nmodule.exports = styfn;\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\n\nmodule.exports = {\n  // get [r, g, b] from #abc or #aabbcc\n  hex2tuple: function hex2tuple(hex) {\n    if (!(hex.length === 4 || hex.length === 7) || hex[0] !== '#') {\n      return;\n    }\n\n    var shortHex = hex.length === 4;\n    var r = void 0,\n        g = void 0,\n        b = void 0;\n    var base = 16;\n\n    if (shortHex) {\n      r = parseInt(hex[1] + hex[1], base);\n      g = parseInt(hex[2] + hex[2], base);\n      b = parseInt(hex[3] + hex[3], base);\n    } else {\n      r = parseInt(hex[1] + hex[2], base);\n      g = parseInt(hex[3] + hex[4], base);\n      b = parseInt(hex[5] + hex[6], base);\n    }\n\n    return [r, g, b];\n  },\n\n  // get [r, g, b, a] from hsl(0, 0, 0) or hsla(0, 0, 0, 0)\n  hsl2tuple: function hsl2tuple(hsl) {\n    var ret = void 0;\n    var h = void 0,\n        s = void 0,\n        l = void 0,\n        a = void 0,\n        r = void 0,\n        g = void 0,\n        b = void 0;\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n\n    var m = new RegExp('^' + this.regex.hsla + '$').exec(hsl);\n    if (m) {\n\n      // get hue\n      h = parseInt(m[1]);\n      if (h < 0) {\n        h = (360 - -1 * h % 360) % 360;\n      } else if (h > 360) {\n        h = h % 360;\n      }\n      h /= 360; // normalise on [0, 1]\n\n      s = parseFloat(m[2]);\n      if (s < 0 || s > 100) {\n        return;\n      } // saturation is [0, 100]\n      s = s / 100; // normalise on [0, 1]\n\n      l = parseFloat(m[3]);\n      if (l < 0 || l > 100) {\n        return;\n      } // lightness is [0, 100]\n      l = l / 100; // normalise on [0, 1]\n\n      a = m[4];\n      if (a !== undefined) {\n        a = parseFloat(a);\n\n        if (a < 0 || a > 1) {\n          return;\n        } // alpha is [0, 1]\n      }\n\n      // now, convert to rgb\n      // code from http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript\n      if (s === 0) {\n        r = g = b = Math.round(l * 255); // achromatic\n      } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = Math.round(255 * hue2rgb(p, q, h + 1 / 3));\n        g = Math.round(255 * hue2rgb(p, q, h));\n        b = Math.round(255 * hue2rgb(p, q, h - 1 / 3));\n      }\n\n      ret = [r, g, b, a];\n    }\n\n    return ret;\n  },\n\n  // get [r, g, b, a] from rgb(0, 0, 0) or rgba(0, 0, 0, 0)\n  rgb2tuple: function rgb2tuple(rgb) {\n    var ret = void 0;\n\n    var m = new RegExp('^' + this.regex.rgba + '$').exec(rgb);\n    if (m) {\n      ret = [];\n\n      var isPct = [];\n      for (var i = 1; i <= 3; i++) {\n        var channel = m[i];\n\n        if (channel[channel.length - 1] === '%') {\n          isPct[i] = true;\n        }\n        channel = parseFloat(channel);\n\n        if (isPct[i]) {\n          channel = channel / 100 * 255; // normalise to [0, 255]\n        }\n\n        if (channel < 0 || channel > 255) {\n          return;\n        } // invalid channel value\n\n        ret.push(Math.floor(channel));\n      }\n\n      var atLeastOneIsPct = isPct[1] || isPct[2] || isPct[3];\n      var allArePct = isPct[1] && isPct[2] && isPct[3];\n      if (atLeastOneIsPct && !allArePct) {\n        return;\n      } // must all be percent values if one is\n\n      var alpha = m[4];\n      if (alpha !== undefined) {\n        alpha = parseFloat(alpha);\n\n        if (alpha < 0 || alpha > 1) {\n          return;\n        } // invalid alpha value\n\n        ret.push(alpha);\n      }\n    }\n\n    return ret;\n  },\n\n  colorname2tuple: function colorname2tuple(color) {\n    return this.colors[color.toLowerCase()];\n  },\n\n  color2tuple: function color2tuple(color) {\n    return (is.array(color) ? color : null) || this.colorname2tuple(color) || this.hex2tuple(color) || this.rgb2tuple(color) || this.hsl2tuple(color);\n  },\n\n  colors: {\n    // special colour names\n    transparent: [0, 0, 0, 0], // NB alpha === 0\n\n    // regular colours\n    aliceblue: [240, 248, 255],\n    antiquewhite: [250, 235, 215],\n    aqua: [0, 255, 255],\n    aquamarine: [127, 255, 212],\n    azure: [240, 255, 255],\n    beige: [245, 245, 220],\n    bisque: [255, 228, 196],\n    black: [0, 0, 0],\n    blanchedalmond: [255, 235, 205],\n    blue: [0, 0, 255],\n    blueviolet: [138, 43, 226],\n    brown: [165, 42, 42],\n    burlywood: [222, 184, 135],\n    cadetblue: [95, 158, 160],\n    chartreuse: [127, 255, 0],\n    chocolate: [210, 105, 30],\n    coral: [255, 127, 80],\n    cornflowerblue: [100, 149, 237],\n    cornsilk: [255, 248, 220],\n    crimson: [220, 20, 60],\n    cyan: [0, 255, 255],\n    darkblue: [0, 0, 139],\n    darkcyan: [0, 139, 139],\n    darkgoldenrod: [184, 134, 11],\n    darkgray: [169, 169, 169],\n    darkgreen: [0, 100, 0],\n    darkgrey: [169, 169, 169],\n    darkkhaki: [189, 183, 107],\n    darkmagenta: [139, 0, 139],\n    darkolivegreen: [85, 107, 47],\n    darkorange: [255, 140, 0],\n    darkorchid: [153, 50, 204],\n    darkred: [139, 0, 0],\n    darksalmon: [233, 150, 122],\n    darkseagreen: [143, 188, 143],\n    darkslateblue: [72, 61, 139],\n    darkslategray: [47, 79, 79],\n    darkslategrey: [47, 79, 79],\n    darkturquoise: [0, 206, 209],\n    darkviolet: [148, 0, 211],\n    deeppink: [255, 20, 147],\n    deepskyblue: [0, 191, 255],\n    dimgray: [105, 105, 105],\n    dimgrey: [105, 105, 105],\n    dodgerblue: [30, 144, 255],\n    firebrick: [178, 34, 34],\n    floralwhite: [255, 250, 240],\n    forestgreen: [34, 139, 34],\n    fuchsia: [255, 0, 255],\n    gainsboro: [220, 220, 220],\n    ghostwhite: [248, 248, 255],\n    gold: [255, 215, 0],\n    goldenrod: [218, 165, 32],\n    gray: [128, 128, 128],\n    grey: [128, 128, 128],\n    green: [0, 128, 0],\n    greenyellow: [173, 255, 47],\n    honeydew: [240, 255, 240],\n    hotpink: [255, 105, 180],\n    indianred: [205, 92, 92],\n    indigo: [75, 0, 130],\n    ivory: [255, 255, 240],\n    khaki: [240, 230, 140],\n    lavender: [230, 230, 250],\n    lavenderblush: [255, 240, 245],\n    lawngreen: [124, 252, 0],\n    lemonchiffon: [255, 250, 205],\n    lightblue: [173, 216, 230],\n    lightcoral: [240, 128, 128],\n    lightcyan: [224, 255, 255],\n    lightgoldenrodyellow: [250, 250, 210],\n    lightgray: [211, 211, 211],\n    lightgreen: [144, 238, 144],\n    lightgrey: [211, 211, 211],\n    lightpink: [255, 182, 193],\n    lightsalmon: [255, 160, 122],\n    lightseagreen: [32, 178, 170],\n    lightskyblue: [135, 206, 250],\n    lightslategray: [119, 136, 153],\n    lightslategrey: [119, 136, 153],\n    lightsteelblue: [176, 196, 222],\n    lightyellow: [255, 255, 224],\n    lime: [0, 255, 0],\n    limegreen: [50, 205, 50],\n    linen: [250, 240, 230],\n    magenta: [255, 0, 255],\n    maroon: [128, 0, 0],\n    mediumaquamarine: [102, 205, 170],\n    mediumblue: [0, 0, 205],\n    mediumorchid: [186, 85, 211],\n    mediumpurple: [147, 112, 219],\n    mediumseagreen: [60, 179, 113],\n    mediumslateblue: [123, 104, 238],\n    mediumspringgreen: [0, 250, 154],\n    mediumturquoise: [72, 209, 204],\n    mediumvioletred: [199, 21, 133],\n    midnightblue: [25, 25, 112],\n    mintcream: [245, 255, 250],\n    mistyrose: [255, 228, 225],\n    moccasin: [255, 228, 181],\n    navajowhite: [255, 222, 173],\n    navy: [0, 0, 128],\n    oldlace: [253, 245, 230],\n    olive: [128, 128, 0],\n    olivedrab: [107, 142, 35],\n    orange: [255, 165, 0],\n    orangered: [255, 69, 0],\n    orchid: [218, 112, 214],\n    palegoldenrod: [238, 232, 170],\n    palegreen: [152, 251, 152],\n    paleturquoise: [175, 238, 238],\n    palevioletred: [219, 112, 147],\n    papayawhip: [255, 239, 213],\n    peachpuff: [255, 218, 185],\n    peru: [205, 133, 63],\n    pink: [255, 192, 203],\n    plum: [221, 160, 221],\n    powderblue: [176, 224, 230],\n    purple: [128, 0, 128],\n    red: [255, 0, 0],\n    rosybrown: [188, 143, 143],\n    royalblue: [65, 105, 225],\n    saddlebrown: [139, 69, 19],\n    salmon: [250, 128, 114],\n    sandybrown: [244, 164, 96],\n    seagreen: [46, 139, 87],\n    seashell: [255, 245, 238],\n    sienna: [160, 82, 45],\n    silver: [192, 192, 192],\n    skyblue: [135, 206, 235],\n    slateblue: [106, 90, 205],\n    slategray: [112, 128, 144],\n    slategrey: [112, 128, 144],\n    snow: [255, 250, 250],\n    springgreen: [0, 255, 127],\n    steelblue: [70, 130, 180],\n    tan: [210, 180, 140],\n    teal: [0, 128, 128],\n    thistle: [216, 191, 216],\n    tomato: [255, 99, 71],\n    turquoise: [64, 224, 208],\n    violet: [238, 130, 238],\n    wheat: [245, 222, 179],\n    white: [255, 255, 255],\n    whitesmoke: [245, 245, 245],\n    yellow: [255, 255, 0],\n    yellowgreen: [154, 205, 50]\n  }\n};\n\n/***/ }),\n/* 131 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar is = __webpack_require__(0);\n\nmodule.exports = {\n  // has anything been set in the map\n  mapEmpty: function mapEmpty(map) {\n    var empty = true;\n\n    if (map != null) {\n      return Object.keys(map).length === 0;\n    }\n\n    return empty;\n  },\n\n  // pushes to the array at the end of a map (map may not be built)\n  pushMap: function pushMap(options) {\n    var array = this.getMap(options);\n\n    if (array == null) {\n      // if empty, put initial array\n      this.setMap(this.extend({}, options, {\n        value: [options.value]\n      }));\n    } else {\n      array.push(options.value);\n    }\n  },\n\n  // sets the value in a map (map may not be built)\n  setMap: function setMap(options) {\n    var obj = options.map;\n    var key = void 0;\n    var keys = options.keys;\n    var l = keys.length;\n\n    for (var i = 0; i < l; i++) {\n      var _key = keys[i];\n\n      if (is.plainObject(_key)) {\n        this.error('Tried to set map with object key');\n      }\n\n      if (i < keys.length - 1) {\n\n        // extend the map if necessary\n        if (obj[_key] == null) {\n          obj[_key] = {};\n        }\n\n        obj = obj[_key];\n      } else {\n        // set the value\n        obj[_key] = options.value;\n      }\n    }\n  },\n\n  // gets the value in a map even if it's not built in places\n  getMap: function getMap(options) {\n    var obj = options.map;\n    var keys = options.keys;\n    var l = keys.length;\n\n    for (var i = 0; i < l; i++) {\n      var key = keys[i];\n\n      if (is.plainObject(key)) {\n        this.error('Tried to get map with object key');\n      }\n\n      obj = obj[key];\n\n      if (obj == null) {\n        return obj;\n      }\n    }\n\n    return obj;\n  },\n\n  // deletes the entry in the map\n  deleteMap: function deleteMap(options) {\n    var obj = options.map;\n    var keys = options.keys;\n    var l = keys.length;\n    var keepChildren = options.keepChildren;\n\n    for (var i = 0; i < l; i++) {\n      var key = keys[i];\n\n      if (is.plainObject(key)) {\n        this.error('Tried to delete map with object key');\n      }\n\n      var lastKey = i === options.keys.length - 1;\n      if (lastKey) {\n\n        if (keepChildren) {\n          // then only delete child fields not in keepChildren\n          var children = Object.keys(obj);\n\n          for (var j = 0; j < children.length; j++) {\n            var child = children[j];\n\n            if (!keepChildren[child]) {\n              obj[child] = undefined;\n            }\n          }\n        } else {\n          obj[key] = undefined;\n        }\n      } else {\n        obj = obj[key];\n      }\n    }\n  }\n};\n\n/***/ }),\n/* 132 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar number = '(?:[-+]?(?:(?:\\\\d+|\\\\d*\\\\.\\\\d+)(?:[Ee][+-]?\\\\d+)?))';\n\nvar rgba = 'rgb[a]?\\\\((' + number + '[%]?)\\\\s*,\\\\s*(' + number + '[%]?)\\\\s*,\\\\s*(' + number + '[%]?)(?:\\\\s*,\\\\s*(' + number + '))?\\\\)';\nvar rgbaNoBackRefs = 'rgb[a]?\\\\((?:' + number + '[%]?)\\\\s*,\\\\s*(?:' + number + '[%]?)\\\\s*,\\\\s*(?:' + number + '[%]?)(?:\\\\s*,\\\\s*(?:' + number + '))?\\\\)';\n\nvar hsla = 'hsl[a]?\\\\((' + number + ')\\\\s*,\\\\s*(' + number + '[%])\\\\s*,\\\\s*(' + number + '[%])(?:\\\\s*,\\\\s*(' + number + '))?\\\\)';\nvar hslaNoBackRefs = 'hsl[a]?\\\\((?:' + number + ')\\\\s*,\\\\s*(?:' + number + '[%])\\\\s*,\\\\s*(?:' + number + '[%])(?:\\\\s*,\\\\s*(?:' + number + '))?\\\\)';\n\nvar hex3 = '\\\\#[0-9a-fA-F]{3}';\nvar hex6 = '\\\\#[0-9a-fA-F]{6}';\n\nmodule.exports = {\n  regex: {\n    number: number,\n    rgba: rgba,\n    rgbaNoBackRefs: rgbaNoBackRefs,\n    hsla: hsla,\n    hslaNoBackRefs: hslaNoBackRefs,\n    hex3: hex3,\n    hex6: hex6\n  }\n};\n\n/***/ }),\n/* 133 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction ascending(a, b) {\n  if (a < b) {\n    return -1;\n  } else if (a > b) {\n    return 1;\n  } else {\n    return 0;\n  }\n}\n\nfunction descending(a, b) {\n  return -1 * ascending(a, b);\n}\n\nmodule.exports = {\n  sort: {\n    ascending: ascending,\n    descending: descending\n  }\n};\n\n/***/ }),\n/* 134 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar memoize = __webpack_require__(19);\nvar is = __webpack_require__(0);\n\nmodule.exports = {\n\n  camel2dash: memoize(function (str) {\n    return str.replace(/([A-Z])/g, function (v) {\n      return '-' + v.toLowerCase();\n    });\n  }),\n\n  dash2camel: memoize(function (str) {\n    return str.replace(/(-\\w)/g, function (v) {\n      return v[1].toUpperCase();\n    });\n  }),\n\n  prependCamel: memoize(function (prefix, str) {\n    return prefix + str[0].toUpperCase() + str.substring(1);\n  }, function (prefix, str) {\n    return prefix + '$' + str;\n  }),\n\n  capitalize: function capitalize(str) {\n    if (is.emptyString(str)) {\n      return str;\n    }\n\n    return str.charAt(0).toUpperCase() + str.substring(1);\n  }\n\n};\n\n/***/ }),\n/* 135 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar window = __webpack_require__(4);\nvar performance = window ? window.performance : null;\n\nvar util = {};\n\nvar pnow = performance && performance.now ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\n\nvar raf = function () {\n  if (window) {\n    if (window.requestAnimationFrame) {\n      return function (fn) {\n        window.requestAnimationFrame(fn);\n      };\n    } else if (window.mozRequestAnimationFrame) {\n      return function (fn) {\n        window.mozRequestAnimationFrame(fn);\n      };\n    } else if (window.webkitRequestAnimationFrame) {\n      return function (fn) {\n        window.webkitRequestAnimationFrame(fn);\n      };\n    } else if (window.msRequestAnimationFrame) {\n      return function (fn) {\n        window.msRequestAnimationFrame(fn);\n      };\n    }\n  }\n\n  return function (fn) {\n    if (fn) {\n      setTimeout(function () {\n        fn(pnow());\n      }, 1000 / 60);\n    }\n  };\n}();\n\nutil.requestAnimationFrame = function (fn) {\n  raf(fn);\n};\n\nutil.performanceNow = pnow;\n\nutil.debounce = __webpack_require__(141);\n\nutil.now = function () {\n  return Date.now();\n};\n\nmodule.exports = util;\n\n/***/ }),\n/* 136 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 137 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(139), __webpack_require__(136)))\n\n/***/ }),\n/* 138 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\n__webpack_require__(137);\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n\n\n/***/ }),\n/* 139 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 140 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_140__;\n\n/***/ }),\n/* 141 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_141__;\n\n/***/ })\n/******/ ]);\n});","import cytoscape from 'cytoscape';\nimport data from './data.json';\n\nconst nodes = data.map(item => {\n  const prop = Object.keys(item)[0];\n  return {\n    data: {\n      id: prop,\n      type: 'node',\n    }\n  };\n}).filter(el => !el.data.id.includes('::'));\n\nconst connections = data.reduce((ar, item) => {\n  const prop = Object.keys(item)[0];\n  if (!!item[prop] && !prop.includes('::')) {\n    ar.push(\n      ...item[prop].map(assoc => ({\n        data: {\n          id: `${prop}${assoc.to}`,\n          type: 'edge',\n          assoc: assoc.assoc,\n          source: prop,\n          target: assoc.to\n        },\n      }))\n    );\n  }\n  return ar;\n}, []);\n\nif (process.env.NODE_ENV !== 'production') {\n  window.nodes = nodes;\n  window.connections = connections;\n}\n\nconst cy = cytoscape({\n  container: document.getElementById('cy'),\n  elements: [\n    ...nodes.filter(el => {\n      return !!connections.find(con => (con.data.source === el.data.id) || (con.data.target === el.data.id));\n    }),\n    ...connections.filter(con => con.data.assoc !== 'HasMany'),\n  ],\n  style: cytoscape.stylesheet()\n    .selector('node').css({\n      'shape': 'roundrectangle',\n      'width': 'label',\n      'height': 'label',\n      'padding': 10,\n      'background-color': '#eee',\n      'border-width': 1,\n      'border-color': '#333',\n      'label': 'data(id)',\n      'text-margin-y': '1.5em',\n    })\n    .selector('edge').css({\n      'width': 1,\n      'line-color': '#aaa',\n    })\n    .selector('edge[assoc=\"HasMany\"]').css({\n      'source-arrow-color': '#f00',\n      'source-arrow-shape': 'triangle',\n    })\n    .selector('edge[assoc=\"BelongsTo\"]').css({\n      'source-arrow-color': '#0f0',\n      'source-arrow-shape': 'triangle',\n    }),\n  layout: {\n    name: 'breadthfirst',\n    circle: true,\n  },\n});\n\n"]}